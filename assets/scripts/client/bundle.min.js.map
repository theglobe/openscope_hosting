{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/handlebars/lib/handlebars.js","node_modules/handlebars/lib/handlebars.runtime.js","node_modules/handlebars/lib/handlebars/base.js","node_modules/handlebars/lib/handlebars/compiler/ast.js","node_modules/handlebars/lib/handlebars/compiler/base.js","node_modules/handlebars/lib/handlebars/compiler/code-gen.js","node_modules/handlebars/lib/handlebars/compiler/compiler.js","node_modules/handlebars/lib/handlebars/compiler/helpers.js","node_modules/handlebars/lib/handlebars/compiler/javascript-compiler.js","node_modules/handlebars/lib/handlebars/compiler/parser.js","node_modules/handlebars/lib/handlebars/compiler/printer.js","node_modules/handlebars/lib/handlebars/compiler/visitor.js","node_modules/handlebars/lib/handlebars/compiler/whitespace-control.js","node_modules/handlebars/lib/handlebars/decorators.js","node_modules/handlebars/lib/handlebars/decorators/inline.js","node_modules/handlebars/lib/handlebars/exception.js","node_modules/handlebars/lib/handlebars/helpers.js","node_modules/handlebars/lib/handlebars/helpers/block-helper-missing.js","node_modules/handlebars/lib/handlebars/helpers/each.js","node_modules/handlebars/lib/handlebars/helpers/helper-missing.js","node_modules/handlebars/lib/handlebars/helpers/if.js","node_modules/handlebars/lib/handlebars/helpers/log.js","node_modules/handlebars/lib/handlebars/helpers/lookup.js","node_modules/handlebars/lib/handlebars/helpers/with.js","node_modules/handlebars/lib/handlebars/logger.js","node_modules/handlebars/dist/cjs/handlebars/node_modules/handlebars/lib/handlebars/no-conflict.js","node_modules/handlebars/lib/handlebars/runtime.js","node_modules/handlebars/lib/handlebars/safe-string.js","node_modules/handlebars/lib/handlebars/utils.js","node_modules/handlebars/lib/index.js","node_modules/handlebars/node_modules/source-map/lib/array-set.js","node_modules/handlebars/node_modules/source-map/lib/base64-vlq.js","node_modules/handlebars/node_modules/source-map/lib/base64.js","node_modules/handlebars/node_modules/source-map/lib/binary-search.js","node_modules/handlebars/node_modules/source-map/lib/mapping-list.js","node_modules/handlebars/node_modules/source-map/lib/quick-sort.js","node_modules/handlebars/node_modules/source-map/lib/source-map-consumer.js","node_modules/handlebars/node_modules/source-map/lib/source-map-generator.js","node_modules/handlebars/node_modules/source-map/lib/source-node.js","node_modules/handlebars/node_modules/source-map/lib/util.js","node_modules/handlebars/node_modules/source-map/source-map.js","node_modules/jquery/dist/jquery.js","node_modules/lodash/_DataView.js","node_modules/lodash/_Hash.js","node_modules/lodash/_LazyWrapper.js","node_modules/lodash/_ListCache.js","node_modules/lodash/_LodashWrapper.js","node_modules/lodash/_Map.js","node_modules/lodash/_MapCache.js","node_modules/lodash/_Promise.js","node_modules/lodash/_Set.js","node_modules/lodash/_SetCache.js","node_modules/lodash/_Stack.js","node_modules/lodash/_Symbol.js","node_modules/lodash/_Uint8Array.js","node_modules/lodash/_WeakMap.js","node_modules/lodash/_apply.js","node_modules/lodash/_arrayEach.js","node_modules/lodash/_arrayFilter.js","node_modules/lodash/_arrayIncludes.js","node_modules/lodash/_arrayIncludesWith.js","node_modules/lodash/_arrayLikeKeys.js","node_modules/lodash/_arrayMap.js","node_modules/lodash/_arrayPush.js","node_modules/lodash/_arrayReduce.js","node_modules/lodash/_arraySome.js","node_modules/lodash/_asciiSize.js","node_modules/lodash/_asciiToArray.js","node_modules/lodash/_asciiWords.js","node_modules/lodash/_assignValue.js","node_modules/lodash/_assocIndexOf.js","node_modules/lodash/_baseAssign.js","node_modules/lodash/_baseAssignIn.js","node_modules/lodash/_baseAssignValue.js","node_modules/lodash/_baseClamp.js","node_modules/lodash/_baseClone.js","node_modules/lodash/_baseCreate.js","node_modules/lodash/_baseDifference.js","node_modules/lodash/_baseEach.js","node_modules/lodash/_baseFilter.js","node_modules/lodash/_baseFindIndex.js","node_modules/lodash/_baseFindKey.js","node_modules/lodash/_baseFlatten.js","node_modules/lodash/_baseFor.js","node_modules/lodash/_baseForOwn.js","node_modules/lodash/_baseGet.js","node_modules/lodash/_baseGetAllKeys.js","node_modules/lodash/_baseGetTag.js","node_modules/lodash/_baseHas.js","node_modules/lodash/_baseHasIn.js","node_modules/lodash/_baseInRange.js","node_modules/lodash/_baseIndexOf.js","node_modules/lodash/_baseIntersection.js","node_modules/lodash/_baseIsArguments.js","node_modules/lodash/_baseIsEqual.js","node_modules/lodash/_baseIsEqualDeep.js","node_modules/lodash/_baseIsMap.js","node_modules/lodash/_baseIsMatch.js","node_modules/lodash/_baseIsNaN.js","node_modules/lodash/_baseIsNative.js","node_modules/lodash/_baseIsSet.js","node_modules/lodash/_baseIsTypedArray.js","node_modules/lodash/_baseIteratee.js","node_modules/lodash/_baseKeys.js","node_modules/lodash/_baseKeysIn.js","node_modules/lodash/_baseLodash.js","node_modules/lodash/_baseMap.js","node_modules/lodash/_baseMatches.js","node_modules/lodash/_baseMatchesProperty.js","node_modules/lodash/_baseProperty.js","node_modules/lodash/_basePropertyDeep.js","node_modules/lodash/_basePropertyOf.js","node_modules/lodash/_baseRandom.js","node_modules/lodash/_baseReduce.js","node_modules/lodash/_baseRepeat.js","node_modules/lodash/_baseRest.js","node_modules/lodash/_baseSetToString.js","node_modules/lodash/_baseSlice.js","node_modules/lodash/_baseTimes.js","node_modules/lodash/_baseToString.js","node_modules/lodash/_baseTrim.js","node_modules/lodash/_baseUnary.js","node_modules/lodash/_baseUniq.js","node_modules/lodash/_baseValues.js","node_modules/lodash/_cacheHas.js","node_modules/lodash/_castArrayLikeObject.js","node_modules/lodash/_castFunction.js","node_modules/lodash/_castPath.js","node_modules/lodash/_castSlice.js","node_modules/lodash/_cloneArrayBuffer.js","node_modules/lodash/_cloneBuffer.js","node_modules/lodash/_cloneDataView.js","node_modules/lodash/_cloneRegExp.js","node_modules/lodash/_cloneSymbol.js","node_modules/lodash/_cloneTypedArray.js","node_modules/lodash/_copyArray.js","node_modules/lodash/_copyObject.js","node_modules/lodash/_copySymbols.js","node_modules/lodash/_copySymbolsIn.js","node_modules/lodash/_coreJsData.js","node_modules/lodash/_createBaseEach.js","node_modules/lodash/_createBaseFor.js","node_modules/lodash/_createCompounder.js","node_modules/lodash/_createFind.js","node_modules/lodash/_createFlow.js","node_modules/lodash/_createPadding.js","node_modules/lodash/_createRound.js","node_modules/lodash/_createSet.js","node_modules/lodash/_deburrLetter.js","node_modules/lodash/_defineProperty.js","node_modules/lodash/_equalArrays.js","node_modules/lodash/_equalByTag.js","node_modules/lodash/_equalObjects.js","node_modules/lodash/_flatRest.js","node_modules/lodash/_freeGlobal.js","node_modules/lodash/_getAllKeys.js","node_modules/lodash/_getAllKeysIn.js","node_modules/lodash/_getData.js","node_modules/lodash/_getFuncName.js","node_modules/lodash/_getMapData.js","node_modules/lodash/_getMatchData.js","node_modules/lodash/_getNative.js","node_modules/lodash/_getPrototype.js","node_modules/lodash/_getRawTag.js","node_modules/lodash/_getSymbols.js","node_modules/lodash/_getSymbolsIn.js","node_modules/lodash/_getTag.js","node_modules/lodash/_getValue.js","node_modules/lodash/_hasPath.js","node_modules/lodash/_hasUnicode.js","node_modules/lodash/_hasUnicodeWord.js","node_modules/lodash/_hashClear.js","node_modules/lodash/_hashDelete.js","node_modules/lodash/_hashGet.js","node_modules/lodash/_hashHas.js","node_modules/lodash/_hashSet.js","node_modules/lodash/_initCloneArray.js","node_modules/lodash/_initCloneByTag.js","node_modules/lodash/_initCloneObject.js","node_modules/lodash/_isFlattenable.js","node_modules/lodash/_isIndex.js","node_modules/lodash/_isIterateeCall.js","node_modules/lodash/_isKey.js","node_modules/lodash/_isKeyable.js","node_modules/lodash/_isLaziable.js","node_modules/lodash/_isMasked.js","node_modules/lodash/_isPrototype.js","node_modules/lodash/_isStrictComparable.js","node_modules/lodash/_listCacheClear.js","node_modules/lodash/_listCacheDelete.js","node_modules/lodash/_listCacheGet.js","node_modules/lodash/_listCacheHas.js","node_modules/lodash/_listCacheSet.js","node_modules/lodash/_mapCacheClear.js","node_modules/lodash/_mapCacheDelete.js","node_modules/lodash/_mapCacheGet.js","node_modules/lodash/_mapCacheHas.js","node_modules/lodash/_mapCacheSet.js","node_modules/lodash/_mapToArray.js","node_modules/lodash/_matchesStrictComparable.js","node_modules/lodash/_memoizeCapped.js","node_modules/lodash/_metaMap.js","node_modules/lodash/_nativeCreate.js","node_modules/lodash/_nativeKeys.js","node_modules/lodash/_nativeKeysIn.js","node_modules/lodash/_nodeUtil.js","node_modules/lodash/_objectToString.js","node_modules/lodash/_overArg.js","node_modules/lodash/_overRest.js","node_modules/lodash/_realNames.js","node_modules/lodash/_root.js","node_modules/lodash/_setCacheAdd.js","node_modules/lodash/_setCacheHas.js","node_modules/lodash/_setToArray.js","node_modules/lodash/_setToString.js","node_modules/lodash/_shortOut.js","node_modules/lodash/_stackClear.js","node_modules/lodash/_stackDelete.js","node_modules/lodash/_stackGet.js","node_modules/lodash/_stackHas.js","node_modules/lodash/_stackSet.js","node_modules/lodash/_strictIndexOf.js","node_modules/lodash/_stringSize.js","node_modules/lodash/_stringToArray.js","node_modules/lodash/_stringToPath.js","node_modules/lodash/_toKey.js","node_modules/lodash/_toSource.js","node_modules/lodash/_trimmedEndIndex.js","node_modules/lodash/_unicodeSize.js","node_modules/lodash/_unicodeToArray.js","node_modules/lodash/_unicodeWords.js","node_modules/lodash/_wrapperClone.js","node_modules/lodash/ceil.js","node_modules/lodash/chunk.js","node_modules/lodash/clamp.js","node_modules/lodash/clone.js","node_modules/lodash/cloneDeep.js","node_modules/lodash/compact.js","node_modules/lodash/constant.js","node_modules/lodash/deburr.js","node_modules/lodash/defaultTo.js","node_modules/lodash/difference.js","node_modules/lodash/eq.js","node_modules/lodash/filter.js","node_modules/lodash/find.js","node_modules/lodash/findIndex.js","node_modules/lodash/findKey.js","node_modules/lodash/findLast.js","node_modules/lodash/findLastIndex.js","node_modules/lodash/first.js","node_modules/lodash/flatten.js","node_modules/lodash/floor.js","node_modules/lodash/flow.js","node_modules/lodash/forEach.js","node_modules/lodash/get.js","node_modules/lodash/has.js","node_modules/lodash/hasIn.js","node_modules/lodash/head.js","node_modules/lodash/identity.js","node_modules/lodash/inRange.js","node_modules/lodash/includes.js","node_modules/lodash/intersection.js","node_modules/lodash/isArguments.js","node_modules/lodash/isArray.js","node_modules/lodash/isArrayLike.js","node_modules/lodash/isArrayLikeObject.js","node_modules/lodash/isBuffer.js","node_modules/lodash/isEmpty.js","node_modules/lodash/isEqual.js","node_modules/lodash/isFunction.js","node_modules/lodash/isLength.js","node_modules/lodash/isMap.js","node_modules/lodash/isNaN.js","node_modules/lodash/isNil.js","node_modules/lodash/isNumber.js","node_modules/lodash/isObject.js","node_modules/lodash/isObjectLike.js","node_modules/lodash/isSet.js","node_modules/lodash/isString.js","node_modules/lodash/isSymbol.js","node_modules/lodash/isTypedArray.js","node_modules/lodash/keys.js","node_modules/lodash/keysIn.js","node_modules/lodash/last.js","node_modules/lodash/lowerCase.js","node_modules/lodash/map.js","node_modules/lodash/mapValues.js","node_modules/lodash/memoize.js","node_modules/lodash/noop.js","node_modules/lodash/padEnd.js","node_modules/lodash/property.js","node_modules/lodash/random.js","node_modules/lodash/reduce.js","node_modules/lodash/round.js","node_modules/lodash/startsWith.js","node_modules/lodash/stubArray.js","node_modules/lodash/stubFalse.js","node_modules/lodash/tail.js","node_modules/lodash/toFinite.js","node_modules/lodash/toInteger.js","node_modules/lodash/toLower.js","node_modules/lodash/toNumber.js","node_modules/lodash/toString.js","node_modules/lodash/uniq.js","node_modules/lodash/uniqueId.js","node_modules/lodash/values.js","node_modules/lodash/without.js","node_modules/lodash/words.js","node_modules/lodash/wrapperLodash.js","node_modules/performance-now/lib/performance-now.js","node_modules/process/browser.js","node_modules/raf/index.js","src/assets/scripts/client/App.js","src/assets/scripts/client/AppController.js","src/assets/scripts/client/EventTracker.js","src/assets/scripts/client/InputController.js","src/assets/scripts/client/LoadingView.js","src/assets/scripts/client/aircraft/AircraftCommander.js","src/assets/scripts/client/aircraft/AircraftConflict.js","src/assets/scripts/client/aircraft/AircraftController.js","src/assets/scripts/client/aircraft/AircraftModel.js","src/assets/scripts/client/aircraft/AircraftTypeDefinitionCollection.js","src/assets/scripts/client/aircraft/AircraftTypeDefinitionModel.js","src/assets/scripts/client/aircraft/FlightManagementSystem/Fms.js","src/assets/scripts/client/aircraft/FlightManagementSystem/LegModel.js","src/assets/scripts/client/aircraft/FlightManagementSystem/RouteModel.js","src/assets/scripts/client/aircraft/FlightManagementSystem/WaypointModel.js","src/assets/scripts/client/aircraft/ModeControl/ModeController.js","src/assets/scripts/client/aircraft/ModeControl/modeControlConstants.js","src/assets/scripts/client/aircraft/Pilot/Pilot.js","src/assets/scripts/client/aircraft/StripView/StripViewCollection.js","src/assets/scripts/client/aircraft/StripView/StripViewController.js","src/assets/scripts/client/aircraft/StripView/StripViewModel.js","src/assets/scripts/client/aircraft/StripView/stripViewTemplate.js","src/assets/scripts/client/airline/AirlineCollection.js","src/assets/scripts/client/airline/AirlineController.js","src/assets/scripts/client/airline/AirlineModel.js","src/assets/scripts/client/airline/airlineHelpers.js","src/assets/scripts/client/airline/buildFlightNumber.js","src/assets/scripts/client/airportGuide/AirportGuideView.js","src/assets/scripts/client/airportGuide/AirportGuideViewController.js","src/assets/scripts/client/airport/AirportController.js","src/assets/scripts/client/airport/AirportModel.js","src/assets/scripts/client/airport/AirspaceModel.js","src/assets/scripts/client/airport/MapCollection.js","src/assets/scripts/client/airport/MapModel.js","src/assets/scripts/client/airport/runway/RunwayCollection.js","src/assets/scripts/client/airport/runway/RunwayModel.js","src/assets/scripts/client/airport/runway/RunwayRelationshipModel.js","src/assets/scripts/client/base/BaseCollection.js","src/assets/scripts/client/base/BaseModel.js","src/assets/scripts/client/base/DynamicPositionModel.js","src/assets/scripts/client/base/StaticPositionModel.js","src/assets/scripts/client/base/positionModelHelpers.js","src/assets/scripts/client/base/staticPositionToDynamicPositionHelper.js","src/assets/scripts/client/canvas/CanvasController.js","src/assets/scripts/client/canvas/CanvasStageModel.js","src/assets/scripts/client/changelog/ChangelogController.js","src/assets/scripts/client/commands/ParsedCommand.js","src/assets/scripts/client/commands/aircraftCommand/AircraftCommandModel.js","src/assets/scripts/client/commands/aircraftCommand/aircraftCommandDefinitions.js","src/assets/scripts/client/commands/aircraftCommand/aircraftCommandMap.js","src/assets/scripts/client/commands/parsers/CommandParser.js","src/assets/scripts/client/commands/parsers/argumentParsers.js","src/assets/scripts/client/commands/parsers/argumentValidators.js","src/assets/scripts/client/commands/parsers/parserMessages.js","src/assets/scripts/client/commands/scopeCommand/ScopeCommandModel.js","src/assets/scripts/client/commands/scopeCommand/scopeCommandMap.js","src/assets/scripts/client/constants/aircraftConstants.js","src/assets/scripts/client/constants/airlineConstants.js","src/assets/scripts/client/constants/airportConstants.js","src/assets/scripts/client/constants/autocompleteConstants.js","src/assets/scripts/client/constants/canvasConstants.js","src/assets/scripts/client/constants/environmentConstants.js","src/assets/scripts/client/constants/eventNames.js","src/assets/scripts/client/constants/gameOptionConstants.js","src/assets/scripts/client/constants/globalConstants.js","src/assets/scripts/client/constants/inputConstants.js","src/assets/scripts/client/constants/logLevel.js","src/assets/scripts/client/constants/positionConstants.js","src/assets/scripts/client/constants/routeConstants.js","src/assets/scripts/client/constants/scopeConstants.js","src/assets/scripts/client/constants/selectors.js","src/assets/scripts/client/constants/speechConstants.js","src/assets/scripts/client/constants/storageKeys.js","src/assets/scripts/client/constants/themes.js","src/assets/scripts/client/constants/themes/celestial/color.js","src/assets/scripts/client/constants/themes/celestial/modules/dataBlock.js","src/assets/scripts/client/constants/themes/celestial/modules/radarTarget.js","src/assets/scripts/client/constants/themes/celestial/modules/scope.js","src/assets/scripts/client/constants/themes/celestial/modules/terrain.js","src/assets/scripts/client/constants/themes/celestial/modules/windVane.js","src/assets/scripts/client/constants/themes/celestial/theme.js","src/assets/scripts/client/constants/themes/classic/color.js","src/assets/scripts/client/constants/themes/classic/modules/dataBlock.js","src/assets/scripts/client/constants/themes/classic/modules/radarTarget.js","src/assets/scripts/client/constants/themes/classic/modules/scope.js","src/assets/scripts/client/constants/themes/classic/modules/terrain.js","src/assets/scripts/client/constants/themes/classic/modules/windVane.js","src/assets/scripts/client/constants/themes/classic/theme.js","src/assets/scripts/client/constants/themes/default/color.js","src/assets/scripts/client/constants/themes/default/modules/dataBlock.js","src/assets/scripts/client/constants/themes/default/modules/radarTarget.js","src/assets/scripts/client/constants/themes/default/modules/scope.js","src/assets/scripts/client/constants/themes/default/modules/terrain.js","src/assets/scripts/client/constants/themes/default/modules/windVane.js","src/assets/scripts/client/constants/themes/default/theme.js","src/assets/scripts/client/constants/trackableEvents.js","src/assets/scripts/client/constants/waypointConstants.js","src/assets/scripts/client/contentQueue/ContentQueue.js","src/assets/scripts/client/contentQueue/LoadableContentModel.js","src/assets/scripts/client/engine/TimeKeeper.js","src/assets/scripts/client/game/GameController.js","src/assets/scripts/client/game/GameOptions.js","src/assets/scripts/client/game/ScoreController.js","src/assets/scripts/client/index.js","src/assets/scripts/client/info/AirportInfoController.js","src/assets/scripts/client/info/SimClockController.js","src/assets/scripts/client/info/airportInfoTemplate.js","src/assets/scripts/client/lib/EventBus.js","src/assets/scripts/client/lib/EventModel.js","src/assets/scripts/client/math/circle.js","src/assets/scripts/client/math/core.js","src/assets/scripts/client/math/distance.js","src/assets/scripts/client/math/flightMath.js","src/assets/scripts/client/math/vector.js","src/assets/scripts/client/measurement/MeasureLegModel.js","src/assets/scripts/client/measurement/MeasurePath.js","src/assets/scripts/client/measurement/MeasureTool.js","src/assets/scripts/client/navigationLibrary/AirwayModel.js","src/assets/scripts/client/navigationLibrary/FixCollection.js","src/assets/scripts/client/navigationLibrary/FixModel.js","src/assets/scripts/client/navigationLibrary/HoldCollection.js","src/assets/scripts/client/navigationLibrary/HoldModel.js","src/assets/scripts/client/navigationLibrary/NavigationLibrary.js","src/assets/scripts/client/navigationLibrary/ProcedureModel.js","src/assets/scripts/client/scope/RadarTargetCollection.js","src/assets/scripts/client/scope/RadarTargetModel.js","src/assets/scripts/client/scope/ScopeModel.js","src/assets/scripts/client/speech.js","src/assets/scripts/client/trafficGenerator/SpawnPatternCollection.js","src/assets/scripts/client/trafficGenerator/SpawnPatternModel.js","src/assets/scripts/client/trafficGenerator/SpawnScheduler.js","src/assets/scripts/client/trafficGenerator/buildPreSpawnAircraft.js","src/assets/scripts/client/trafficGenerator/spawnPatternModelJsonValidator.js","src/assets/scripts/client/ui/SettingsController.js","src/assets/scripts/client/ui/TrafficRateController.js","src/assets/scripts/client/ui/TutorialStep.js","src/assets/scripts/client/ui/TutorialView.js","src/assets/scripts/client/ui/UiController.js","src/assets/scripts/client/ui/VideoMapController.js","src/assets/scripts/client/ui/autocomplete/AutocompleteArgumentTemplate.js","src/assets/scripts/client/ui/autocomplete/AutocompleteCommandTemplate.js","src/assets/scripts/client/ui/autocomplete/AutocompleteController.js","src/assets/scripts/client/ui/autocomplete/RegexGroup.js","src/assets/scripts/client/util.js","src/assets/scripts/client/utilities/generalUtilities.js","src/assets/scripts/client/utilities/navigationUtilities.js","src/assets/scripts/client/utilities/radioUtilities.js","src/assets/scripts/client/utilities/transponderUtilities.js","src/assets/scripts/client/utilities/unitConverters.js","src/assets/scripts/client/utilities/validatorUtilities.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_create","_handlebarsRuntime2","create","hb","compile","input","options","_handlebarsCompilerCompiler","precompile","AST","_handlebarsCompilerAst2","Compiler","JavaScriptCompiler","_handlebarsCompilerJavascriptCompiler2","Parser","_handlebarsCompilerBase","parser","parse","inst","_handlebarsNoConflict2","Visitor","_handlebarsCompilerVisitor2","base","_interopRequireWildcard","Utils","runtime","HandlebarsEnvironment","extend","SafeString","_handlebarsSafeString2","Exception","_handlebarsException2","escapeExpression","VM","template","spec","2","3","4","5","6","7","helpers","partials","decorators","this","_helpers","registerDefaultHelpers","_decorators","registerDefaultDecorators","prototype","constructor","logger","_logger2","log","registerHelper","name","fn","_utils","toString","_exception2","unregisterHelper","registerPartial","partial","unregisterPartial","registerDecorator","unregisterDecorator","createFrame","helperExpression","node","type","params","hash","scopedId","path","test","original","simpleId","parts","depth","_parser2","yy","locInfo","SourceLocation","srcName","_whitespaceControl2","accept","Helpers","SourceNode","undefined","define","amd","SourceMap","err","castChunk","chunk","codeGen","loc","isArray","ret","len","push","wrap","CodeGen","srcFile","source","line","column","chunks","src","add","join","prepend","toStringWithSourceMap","isEmpty","unshift","merge","empty","each","iter","currentLocation","start","arguments","functionCall","generateList","quotedString","str","replace","objectLiteral","obj","pairs","key","hasOwnProperty","value","entries","generateArray","env","data","compat","useDepths","ast","environment","compiled","compileInput","templateSpec","context","execOptions","_setup","setupOptions","_child","blockParams","depths","slice","argEquals","b","transformLiteralToPath","sexpr","literal","compiler","equals","other","opcodes","opcode","otherOpcode","args","children","guid","program","sourceNode","stringParams","trackIds","knownHelpers","helperMissing","blockHelperMissing","if","unless","with","lookup","_name","compileProgram","result","usePartial","shift","Program","body","bodyLength","isSimple","BlockStatement","block","inverse","classifySexpr","helperSexpr","simpleSexpr","ambiguousSexpr","DecoratorBlock","decorator","setupFullMustacheParams","useDecorators","PartialStatement","explicitPartialContext","partialName","isDynamic","indent","preventIndent","PartialBlockStatement","partialBlock","MustacheStatement","mustache","SubExpression","escaped","noEscape","Decorator","ContentStatement","content","CommentStatement","isBlock","strict","knownHelpersOnly","falsy","_ast2","PathExpression","addDepth","scoped","blockParamId","blockParamIndex","StringLiteral","string","NumberLiteral","number","BooleanLiteral","bool","UndefinedLiteral","NullLiteral","Hash","l","pushParam","isBlockParam","isHelper","isEligible","_name2","pushParams","val","blockParamChild","omitEmpty","param","indexOf","first_line","first_column","end","last_line","last_column","token","substring","open","close","charAt","comment","dig","part","isLiteral","separator","strip","escapeFlag","openRawBlock","contents","validateClose","openStrip","inverseStrip","closeStrip","openBlock","inverseAndProgram","inverted","chain","statements","firstLoc","lastLoc","errorNode","Literal","nameLookup","parent","isValidJavaScriptVariableName","JSON","stringify","depthedLookup","aliasable","compilerInfo","revision","_base","COMPILER_REVISION","REVISION_CHANGES","appendToBuffer","location","explicit","initializeBuffer","asObject","isChild","programs","environments","preamble","stackSlot","stackVars","aliases","registers","list","hashes","compileStack","inlineStack","compileChildren","useBlockParams","apply","pushSource","Function","createFunctionContext","main","main_d","_context","useData","compilerOptions","file","destName","map","lastContext","_codeGen2","varDeclarations","locals","concat","aliasCount","alias","referenceCount","mergeSource","appendOnly","forceBuffer","appendFirst","sourceSeen","bufferStart","bufferEnd","blockValue","contextName","setupHelperArgs","blockName","popStack","splice","ambiguousBlockValue","flushInline","current","topStack","lastHelper","appendContent","pendingContent","pendingLocation","append","isInline","replaceStack","local","appendEscaped","getContext","pushContext","pushStackLiteral","lookupOnContext","resolvePath","lookupBlockParam","lookupData","assumeObjects","requireTerminal","stack","strictLookup","_this","resolvePossibleLambda","pushStringParam","pushString","emptyHash","pushHash","values","types","contexts","ids","popHash","pop","pushLiteral","pushProgram","programExpression","paramSize","foundDecorator","invokeHelper","nonHelper","helper","setupHelper","simple","callParams","invokeKnownHelper","invokeAmbiguous","helperCall","useRegister","paramsInit","invokePartial","setupParams","assignToHash","id","pushId","child","existing","matchExistingProgram","index","programParams","expr","item","callback","prefix","createdStack","usedLiteral","top","incrStack","topStackName","entry","wrapped","inline","blockHelper","objectArgs","hashIds","hashTypes","hashContexts","reservedWords","split","compilerWords","RESERVED_WORDS","handlebars","trace","symbols_","error","root","EOF","program_repetition0","statement","rawBlock","COMMENT","CONTENT","rawBlock_repetition_plus0","END_RAW_BLOCK","OPEN_RAW_BLOCK","helperName","openRawBlock_repetition0","openRawBlock_option0","CLOSE_RAW_BLOCK","block_option0","closeBlock","openInverse","block_option1","OPEN_BLOCK","openBlock_repetition0","openBlock_option0","openBlock_option1","CLOSE","OPEN_INVERSE","openInverse_repetition0","openInverse_option0","openInverse_option1","openInverseChain","OPEN_INVERSE_CHAIN","openInverseChain_repetition0","openInverseChain_option0","openInverseChain_option1","INVERSE","inverseChain","inverseChain_option0","OPEN_ENDBLOCK","OPEN","mustache_repetition0","mustache_option0","OPEN_UNESCAPED","mustache_repetition1","mustache_option1","CLOSE_UNESCAPED","OPEN_PARTIAL","partial_repetition0","partial_option0","openPartialBlock","OPEN_PARTIAL_BLOCK","openPartialBlock_repetition0","openPartialBlock_option0","OPEN_SEXPR","sexpr_repetition0","sexpr_option0","CLOSE_SEXPR","hash_repetition_plus0","hashSegment","ID","EQUALS","OPEN_BLOCK_PARAMS","blockParams_repetition_plus0","CLOSE_BLOCK_PARAMS","dataName","STRING","NUMBER","BOOLEAN","UNDEFINED","NULL","DATA","pathSegments","SEP","$accept","$end","terminals_","14","15","18","19","23","29","33","34","39","44","47","48","51","54","55","60","65","68","72","73","75","77","80","81","82","83","84","85","87","productions_","performAction","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","prepareProgram","stripComment","stripFlags","prepareRawBlock","prepareBlock","chained","prepareMustache","preparePartialBlock","Number","preparePath","table","8","9","10","11","12","13","16","24","27","59","20","78","79","86","17","56","64","49","52","25","38","43","45","28","57","26","30","35","21","61","50","63","69","70","71","53","58","66","31","36","22","62","46","40","67","32","74","37","41","76","42","defaultActions","91","102","105","111","112","117","120","123","124","136","137","parseError","self","vstack","lstack","recovering","lexer","setInput","yylloc","yyloc","ranges","symbol","preErrorSymbol","state","action","newState","expected","yyval","lex","errStr","showPosition","text","match","Array","range","_input","_more","_less","done","matched","conditionStack","offset","ch","unput","lines","substr","oldLines","more","less","pastInput","past","upcomingInput","next","pre","tempMatch","rules","_currentRules","flex","matches","begin","condition","popState","conditions","topState","pushState","yy_","$avoiding_name_collisions","YY_START","mu","inclusive","emu","com","raw","INITIAL","PrintVisitor","padding","_visitor2","pad","out","paramStrings","joinedPairs","HashPair","pair","parents","visitSubExpression","acceptRequired","acceptArray","acceptKey","visitBlock","visitPartial","mutating","array","object","WhitespaceControl","isPrevWhitespace","isRoot","prev","sibling","isNextWhitespace","omitRight","multiple","rightStripped","omitLeft","leftStripped","doStandalone","ignoreStandalone","isRootSeen","_isPrevWhitespace","_isNextWhitespace","openStandalone","closeStandalone","inlineStandalone","exec","firstInverse","lastInverse","instance","_decoratorsInline2","props","container","errorProps","message","tmp","idx","captureStackTrace","lineNumber","Object","defineProperty","enumerable","nop","_helpersBlockHelperMissing2","_helpersEach2","_helpersHelperMissing2","_helpersIf2","_helpersLog2","_helpersLookup2","_helpersWith2","contextPath","appendContextPath","execIteration","field","last","first","isFunction","j","priorKey","conditional","includeZero","level","propertyIsEnumerable","methodMap","lookupLevel","levelMap","toLowerCase","parseInt","console","method","_len","_key","Handlebars","global","window","$Handlebars","noConflict","compilerRevision","currentRevision","runtimeVersions","compilerVersions","checkRevision","lambda","resolvePartial","declaredBlockParams","programWrapper","wrapProgram","_parent","common","nullContext","seal","noop","initData","executeDecorators","isTop","currentPartialBlock","prog","currentDepths","toHTML","possible","badChars","escapeChar","frame","escape","&","<",">","\"","'","`","=","chr","printer","extension","filename","templateString","readFileSync","print","extensions","util","has","hasNativeMap","Map","ArraySet","_array","_set","fromArray","aArray","aAllowDuplicates","set","size","getOwnPropertyNames","aStr","sStr","toSetString","isDuplicate","get","at","aIdx","toArray","base64","encode","aValue","digit","encoded","vlq","toVLQSigned","VLQ_BASE","decode","aIndex","aOutParam","continuation","shifted","strLen","charCodeAt","rest","intToCharMap","TypeError","charCode","GREATEST_LOWER_BOUND","LEAST_UPPER_BOUND","search","aNeedle","aHaystack","aCompare","aBias","recursiveSearch","aLow","aHigh","mid","Math","floor","cmp","MappingList","_sorted","_last","generatedLine","generatedColumn","unsortedForEach","aCallback","aThisArg","forEach","aMapping","mappingA","mappingB","lineA","lineB","columnA","columnB","compareByGeneratedPositionsInflated","sort","swap","ary","x","y","temp","doQuickSort","comparator","low","high","round","random","pivot","q","quickSort","binarySearch","base64VLQ","SourceMapConsumer","aSourceMap","aSourceMapURL","sourceMap","parseSourceMapInput","sections","IndexedSourceMapConsumer","BasicSourceMapConsumer","version","getArg","sources","names","sourceRoot","sourcesContent","mappings","_version","normalize","String","isAbsolute","relative","_names","_sources","_absoluteSources","s","computeSourceURL","_mappings","_sourceMapURL","Mapping","originalLine","originalColumn","lastOffset","_sections","url","offsetLine","offsetColumn","generatedOffset","consumer","fromSourceMap","__generatedMappings","configurable","_parseMappings","__originalMappings","_charIsMappingSeparator","aSourceRoot","GENERATED_ORDER","ORIGINAL_ORDER","eachMapping","aContext","aOrder","_generatedMappings","_originalMappings","mapping","allGeneratedPositionsFor","aArgs","needle","_findSourceIndex","_findMapping","compareByOriginalPositions","lastColumn","aSource","relativeSource","smc","_sourceRoot","_generateSourcesContent","_file","generatedMappings","destGeneratedMappings","destOriginalMappings","srcMapping","destMapping","segment","previousGeneratedColumn","previousOriginalLine","previousOriginalColumn","previousSource","previousName","cachedSegments","originalMappings","compareByGeneratedPositionsDeflated","aMappings","aLineName","aColumnName","aComparator","computeColumnSpans","nextMapping","lastGeneratedColumn","Infinity","originalPositionFor","hasContentsOfAllSources","some","sc","sourceContentFor","nullOnMissing","urlParse","fileUriAbsPath","scheme","generatedPositionFor","sectionIndex","section","bias","every","generatedPosition","sectionMappings","adjustedMapping","SourceMapGenerator","_skipValidation","_sourcesContents","aSourceMapConsumer","generator","newMapping","generated","addMapping","sourceFile","sourceRelative","setSourceContent","_validateMapping","aSourceFile","aSourceContent","keys","applySourceMap","aSourceMapPath","newSources","newNames","aGenerated","aOriginal","aName","_serializeMappings","nameIdx","sourceIdx","previousGeneratedLine","aSources","toJSON","REGEX_NEWLINE","isSourceNode","aLine","aColumn","aChunks","sourceContents","fromStringWithSourceMap","aGeneratedCode","aRelativePath","remainingLines","remainingLinesIndex","shiftNextLine","getNextLine","lastGeneratedLine","lastMapping","nextLine","addMappingWithCode","aChunk","walk","aFn","aSep","newChildren","replaceRight","aPattern","aReplacement","lastChild","walkSourceContents","fromSetString","sourceMappingActive","lastOriginalSource","lastOriginalLine","lastOriginalColumn","lastOriginalName","sourceContent","aDefaultValue","urlRegexp","dataUrlRegexp","aUrl","auth","host","port","urlGenerate","aParsedUrl","aPath","up","aRoot","aPathUrl","aRootUrl","joined","lastIndexOf","supportsNullProto","identity","isProtoString","strcmp","aStr1","aStr2","onlyCompareOriginal","onlyCompareGenerated","sourceURL","sourceMapURL","parsed","factory","document","w","noGlobal","arr","getProto","getPrototypeOf","flat","class2type","hasOwn","fnToString","ObjectFunctionString","support","nodeType","isWindow","preservedScriptAttributes","nonce","noModule","DOMEval","doc","script","createElement","getAttribute","setAttribute","head","appendChild","parentNode","removeChild","toType","jQuery","selector","init","isArrayLike","jquery","num","pushStack","elems","prevObject","elem","eq","even","grep","_elem","odd","copy","copyIsArray","clone","target","deep","isPlainObject","expando","isReady","msg","proto","Ctor","isEmptyObject","globalEval","makeArray","results","inArray","second","invert","callbackExpect","arg","Symbol","iterator","_i","Sizzle","Expr","getText","isXML","tokenize","select","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","contains","Date","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","nonnativeSelectorCache","sortOrder","pushNative","booleans","whitespace","identifier","attributes","pseudos","rwhitespace","RegExp","rtrim","rcomma","rcombinators","rdescend","rpseudo","ridentifier","matchExpr","CLASS","TAG","ATTR","PSEUDO","CHILD","needsContext","rhtml","rinputs","rheader","rnative","rquickExpr","rsibling","runescape","funescape","nonHex","fromCharCode","rcssescape","fcssescape","asCodePoint","unloadHandler","inDisabledFieldset","addCombinator","disabled","nodeName","dir","childNodes","els","seed","m","nid","groups","newSelector","newContext","ownerDocument","getElementById","getElementsByTagName","getElementsByClassName","qsa","testContext","scope","toSelector","querySelectorAll","qsaError","removeAttribute","cache","cacheLength","markFunction","assert","el","addHandle","attrs","handler","attrHandle","siblingCheck","cur","diff","sourceIndex","nextSibling","createInputPseudo","createButtonPseudo","createDisabledPseudo","isDisabled","createPositionalPseudo","argument","matchIndexes","namespace","namespaceURI","documentElement","hasCompare","subWindow","defaultView","addEventListener","attachEvent","className","createComment","getById","getElementsByName","filter","attrId","find","getAttributeNode","tag","innerHTML","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","elements","attr","specified","sel","uniqueSort","duplicates","detectDuplicates","sortStable","textContent","firstChild","nodeValue","selectors","createPseudo"," ","+","~","preFilter","excess","unquoted","nodeNameSelector","pattern","operator","check","what","_argument","forward","ofType","xml","uniqueCache","outerCache","nodeIndex","useCache","uniqueID","pseudo","setFilters","not","matcher","unmatched","lang","elemLang","focus","activeElement","hasFocus","href","tabIndex","enabled","checked","selected","selectedIndex","header","button","_matchIndexes","lt","gt","radio","checkbox","password","image","submit","reset","tokens","combinator","skip","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","preMap","postMap","preexisting","multipleContexts","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","filters","parseOnly","soFar","preFilters","cached","setMatchers","elementMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","matcherFromGroupMatchers","defaultValue","unique","isXMLDoc","escapeSelector","until","truncate","is","siblings","rneedsContext","rsingleTag","winnow","qualifier","rootjQuery","ready","parseHTML","rparentsprev","guaranteedUnique","targets","closest","prevAll","addBack","parentsUntil","nextAll","nextUntil","prevUntil","contentDocument","reverse","rnothtmlwhite","Identity","v","Thrower","ex","adoptValue","resolve","reject","noValue","promise","fail","then","Callbacks","_","flag","createOptions","firing","memory","fired","locked","queue","firingIndex","fire","once","stopOnFalse","remove","disable","lock","fireWith","Deferred","func","tuples","always","deferred","catch","pipe","fns","newDefer","tuple","returned","progress","notify","onFulfilled","onRejected","onProgress","maxDepth","special","that","mightThrow","notifyWith","resolveWith","process","exceptionHook","stackTrace","rejectWith","getStackHook","setTimeout","stateString","when","singleValue","remaining","resolveContexts","resolveValues","master","updateFunc","rerrorNames","warn","readyException","readyList","completed","removeEventListener","readyWait","wait","readyState","doScroll","access","chainable","emptyGet","bulk","rmsPrefix","rdashAlpha","fcamelCase","_all","letter","toUpperCase","camelCase","acceptData","owner","Data","uid","prop","hasData","dataPriv","dataUser","rbrace","rmultiDash","dataAttr","getData","removeData","_data","_removeData","dequeue","startLength","hooks","_queueHooks","stop","setter","clearQueue","count","defer","pnum","rcssNum","cssExpand","isAttached","composed","getRootNode","isHiddenWithinTree","style","display","css","adjustCSS","valueParts","tween","adjusted","scale","maxIterations","currentValue","initial","unit","cssNumber","initialInUnit","defaultDisplayMap","getDefaultDisplay","showHide","show","hide","toggle","div","rcheckableType","rtagName","rscriptType","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","wrapMap","thead","col","tr","td","_default","getAll","setGlobalEval","refElements","tbody","tfoot","colgroup","caption","th","optgroup","buildFragment","scripts","selection","ignored","attached","fragment","nodes","htmlPrefilter","createTextNode","rkeyEvent","rmouseEvent","rtypenamespace","returnTrue","returnFalse","expectSync","safeActiveElement","on","one","origFn","event","off","leverageNative","notAsync","saved","isTrigger","delegateType","stopPropagation","stopImmediatePropagation","preventDefault","trigger","Event","handleObjIn","eventHandle","events","handleObj","handlers","namespaces","origType","elemData","handle","triggered","dispatch","bindType","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","nativeEvent","handlerQueue","fix","delegateTarget","preDispatch","isPropagationStopped","currentTarget","isImmediatePropagationStopped","rnamespace","postDispatch","matchedHandlers","matchedSelectors","addProp","hook","originalEvent","writable","load","noBubble","click","beforeunload","returnValue","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","now","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","char","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches","which","blur","mouseenter","mouseleave","pointerenter","pointerleave","orig","related","rnoInnerhtml","rchecked","rcleanScript","manipulationTarget","disableScript","restoreScript","cloneCopyEvent","dest","udataOld","udataCur","domManip","collection","hasScripts","iNoClone","valueIsFunction","html","_evalUrl","keepData","cleanData","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","detach","insertBefore","before","after","replaceWith","replaceChild","appendTo","prependTo","insertAfter","replaceAll","insert","rnumnonpx","getStyles","opener","getComputedStyle","old","rboxStyle","curCSS","computed","width","minWidth","maxWidth","getPropertyValue","pixelBoxStyles","addGetHookIf","conditionFn","hookFn","computeStyleTests","cssText","divStyle","pixelPositionVal","reliableMarginLeftVal","roundPixelMeasures","marginLeft","right","pixelBoxStylesVal","boxSizingReliableVal","position","scrollboxSizeVal","offsetWidth","measure","parseFloat","reliableTrDimensionsVal","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","trChild","trStyle","height","cssPrefixes","emptyStyle","vendorProps","finalPropName","final","cssProps","capName","vendorPropName","rdisplayswap","rcustomProp","cssShow","visibility","cssNormalTransform","letterSpacing","fontWeight","setPositiveNumber","subtract","max","boxModelAdjustment","dimension","box","isBorderBox","styles","computedVal","extra","delta","ceil","getWidthOrHeight","valueIsBorderBox","offsetProp","getClientRects","Tween","easing","cssHooks","opacity","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","widows","zIndex","zoom","origName","isCustomProp","setProperty","isFinite","getBoundingClientRect","scrollboxSizeBuggy","left","margin","border","suffix","expand","expanded","propHooks","run","percent","eased","duration","pos","step","fx","scrollTop","scrollLeft","linear","swing","cos","PI","fxNow","inProgress","rfxtypes","rrun","schedule","hidden","requestAnimationFrame","interval","tick","createFxNow","genFx","includeWidth","createTween","animation","Animation","tweeners","properties","stopped","prefilters","currentTime","startTime","tweens","opts","specialEasing","originalProperties","originalOptions","gotoEnd","propFilter","bind","complete","timer","anim","*","tweener","oldfire","propTween","restoreDisplay","isBox","dataShow","unqueued","overflow","overflowX","overflowY","prefilter","speed","opt","speeds","fadeTo","to","animate","optall","doAnimation","finish","stopQueue","timers","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","time","timeout","clearTimeout","checkOn","optSelected","radioValue","boolHook","removeAttr","nType","attrHooks","attrNames","getter","lowercaseName","rfocusable","rclickable","stripAndCollapse","getClass","classesToArray","removeProp","propFix","tabindex","for","class","addClass","classes","curValue","clazz","finalValue","removeClass","toggleClass","stateVal","isValidValue","classNames","hasClass","rreturn","valHooks","optionSet","focusin","rfocusMorph","stopPropagationCallback","onlyHandlers","bubbleType","ontype","lastElement","eventPath","parentWindow","simulate","triggerHandler","attaches","rquery","parseXML","DOMParser","parseFromString","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","traditional","valueOrFunction","encodeURIComponent","serialize","serializeArray","r20","rhash","rantiCache","rheaders","rnoContent","rprotocol","transports","allTypes","originAnchor","addToPrefiltersOrTransports","structure","dataTypeExpression","dataType","dataTypes","inspectPrefiltersOrTransports","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","active","lastModified","etag","isLocal","protocol","processData","async","contentType","accepts","json","responseFields","converters","* text","text html","text json","text xml","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","ajax","transport","cacheURL","responseHeadersString","responseHeaders","timeoutTimer","urlAnchor","fireGlobals","uncached","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","status","abort","statusText","finalText","crossDomain","hasContent","ifModified","headers","beforeSend","success","send","nativeStatusText","responses","isSuccess","response","modified","ct","finalDataType","firstDataType","ajaxHandleResponses","conv2","conv","dataFilter","throws","ajaxConvert","getJSON","getScript","text script","wrapAll","firstElementChild","wrapInner","htmlIsFunction","unwrap","visible","offsetHeight","xhr","XMLHttpRequest","xhrSuccessStatus","0","1223","xhrSupported","cors","errorCallback","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","scriptAttrs","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","createHTMLDocument","implementation","keepScripts","animated","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","curElem","using","rect","win","pageYOffset","pageXOffset","offsetParent","parentOffset","scrollTo","Height","Width","","defaultExtra","funcName","unbind","delegate","undelegate","hover","fnOver","fnOut","proxy","holdReady","hold","parseJSON","isNumeric","isNaN","trim","_jQuery","DataView","getNative","hashClear","hashDelete","hashGet","hashHas","hashSet","clear","baseCreate","baseLodash","LazyWrapper","__wrapped__","__actions__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","LodashWrapper","chainAll","__chain__","__index__","__values__","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","Promise","Set","setCacheAdd","setCacheHas","SetCache","__data__","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","Uint8Array","WeakMap","thisArg","iteratee","predicate","resIndex","baseIndexOf","baseTimes","isArguments","isBuffer","isIndex","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","accumulator","initAccum","asciiSize","baseProperty","reAsciiWord","baseAssignValue","objValue","copyObject","keysIn","lower","upper","arrayEach","assignValue","baseAssign","baseAssignIn","cloneBuffer","copyArray","copySymbols","copySymbolsIn","getAllKeys","getAllKeysIn","getTag","initCloneArray","initCloneByTag","initCloneObject","isMap","isObject","isSet","CLONE_DEEP_FLAG","CLONE_FLAT_FLAG","CLONE_SYMBOLS_FLAG","argsTag","funcTag","genTag","objectTag","cloneableTags","baseClone","bitmask","customizer","isDeep","isFlat","isFull","isFunc","stacked","subValue","objectCreate","arrayIncludes","arrayIncludesWith","arrayMap","baseUnary","cacheHas","includes","isCommon","valuesLength","outer","valuesIndex","baseForOwn","baseEach","createBaseEach","fromIndex","fromRight","eachFunc","arrayPush","isFlattenable","baseFlatten","isStrict","baseFor","createBaseFor","castPath","toKey","keysFunc","symbolsFunc","getRawTag","objectToString","symToStringTag","toStringTag","nativeMax","nativeMin","min","baseFindIndex","baseIsNaN","strictIndexOf","arrays","othLength","othIndex","caches","maxLength","seen","baseGetTag","isObjectLike","baseIsEqualDeep","baseIsEqual","equalArrays","equalByTag","equalObjects","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","isMasked","toSource","reIsHostCtor","funcProto","objectProto","funcToString","reIsNative","isLength","typedArrayTags","baseMatches","baseMatchesProperty","property","isPrototype","nativeKeys","nativeKeysIn","isProto","baseIsMatch","getMatchData","matchesStrictComparable","hasIn","isKey","isStrictComparable","baseGet","nativeFloor","nativeRandom","overRest","setToString","constant","baseSetToString","isSymbol","INFINITY","symbolProto","symbolToString","baseToString","trimmedEndIndex","reTrimStart","createSet","setToArray","seenIndex","isArrayLikeObject","stringToPath","baseSlice","arrayBuffer","byteLength","freeExports","freeModule","Buffer","allocUnsafe","buffer","cloneArrayBuffer","dataView","byteOffset","reFlags","regexp","lastIndex","symbolValueOf","valueOf","typedArray","isNew","newValue","getSymbols","getSymbolsIn","coreJsData","iterable","arrayReduce","deburr","words","reApos","baseIteratee","findIndexFunc","flatRest","getFuncName","isLaziable","funcs","prereq","thru","wrapper","plant","baseRepeat","castSlice","hasUnicode","stringSize","stringToArray","nativeCeil","chars","charsLength","toInteger","toNumber","nativeIsFinite","methodName","precision","deburrLetter","basePropertyOf","À","Á","Â","Ã","Ä","Å","à","á","â","ã","ä","å","Ç","ç","Ð","ð","È","É","Ê","Ë","è","é","ê","ë","Ì","Í","Î","Ï","ì","í","î","ï","Ñ","ñ","Ò","Ó","Ô","Õ","Ö","Ø","ò","ó","ô","õ","ö","ø","Ù","Ú","Û","Ü","ù","ú","û","ü","Ý","ý","ÿ","Æ","æ","Þ","þ","ß","Ā","Ă","Ą","ā","ă","ą","Ć","Ĉ","Ċ","Č","ć","ĉ","ċ","č","Ď","Đ","ď","đ","Ē","Ĕ","Ė","Ę","Ě","ē","ĕ","ė","ę","ě","Ĝ","Ğ","Ġ","Ģ","ĝ","ğ","ġ","ģ","Ĥ","Ħ","ĥ","ħ","Ĩ","Ī","Ĭ","Į","İ","ĩ","ī","ĭ","į","ı","Ĵ","ĵ","Ķ","ķ","ĸ","Ĺ","Ļ","Ľ","Ŀ","Ł","ĺ","ļ","ľ","ŀ","ł","Ń","Ņ","Ň","Ŋ","ń","ņ","ň","ŋ","Ō","Ŏ","Ő","ō","ŏ","ő","Ŕ","Ŗ","Ř","ŕ","ŗ","ř","Ś","Ŝ","Ş","Š","ś","ŝ","ş","š","Ţ","Ť","Ŧ","ţ","ť","ŧ","Ũ","Ū","Ŭ","Ů","Ű","Ų","ũ","ū","ŭ","ů","ű","ų","Ŵ","ŵ","Ŷ","ŷ","Ÿ","Ź","Ż","Ž","ź","ż","ž","Ĳ","ĳ","Œ","œ","ŉ","ſ","arraySome","isPartial","arrLength","arrStacked","othStacked","arrValue","othValue","compared","mapToArray","convert","objProps","objLength","objStacked","skipCtor","objCtor","othCtor","flatten","freeGlobal","baseGetAllKeys","metaMap","realNames","otherFunc","isKeyable","baseIsNative","getValue","getPrototype","overArg","nativeObjectToString","isOwn","unmasked","arrayFilter","stubArray","nativeGetSymbols","getOwnPropertySymbols","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","ctorString","hasFunc","reHasUnicode","reHasUnicodeWord","nativeCreate","cloneDataView","cloneRegExp","cloneSymbol","cloneTypedArray","spreadableSymbol","isConcatSpreadable","reIsUint","reIsDeepProp","reIsPlainProp","lodash","maskSrcKey","IE_PROTO","assocIndexOf","getMapData","memoize","freeProcess","nodeUtil","binding","transform","otherArgs","freeSelf","shortOut","nativeNow","lastCalled","stamp","LARGE_ARRAY_SIZE","unicodeSize","asciiToArray","unicodeToArray","memoizeCapped","rePropName","reEscapeChar","quote","subString","reWhitespace","rsAstral","rsCombo","rsFitz","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsSeq","rsSymbol","reUnicode","rsBreakRange","rsMathOpRange","rsBreak","rsDigits","rsDingbat","rsLower","rsMisc","rsUpper","rsMiscLower","rsMiscUpper","rsModifier","rsEmoji","reUnicodeWord","createRound","isIterateeCall","guard","baseClamp","reLatin","reComboMark","baseDifference","baseRest","difference","baseFilter","createFind","baseFindKey","findLast","flow","createFlow","castFunction","baseHas","hasPath","baseHasIn","baseInRange","toFinite","isString","baseIntersection","castArrayLikeObject","intersection","baseIsArguments","stubFalse","baseKeys","baseIsMap","nodeIsMap","isNumber","baseIsSet","nodeIsSet","baseIsTypedArray","nodeIsTypedArray","arrayLikeKeys","baseKeysIn","lowerCase","createCompounder","word","baseMap","FUNC_ERROR_TEXT","resolver","memoized","Cache","createPadding","strLength","basePropertyDeep","baseRandom","freeParseFloat","floating","rand","baseReduce","remainder","baseTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","isBinary","baseUniq","idCounter","baseValues","without","asciiWords","hasUnicodeWord","unicodeWords","wrapperClone","getNanoSeconds","hrtime","loadTime","moduleLoadTime","nodeLoadTime","upTime","performance","hr","uptime","getTime","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","nextTick","title","browser","argv","versions","addListener","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","cwd","chdir","umask","vendors","raf","caf","_now","cp","cancelled","cancel","polyfill","cancelAnimationFrame","_jquery","_interopRequireDefault","_isNil2","_lowerCase2","_AppController","_EventBus","_TimeKeeper","_airportConstants","_storageKeys","_eventNames","_logLevel","zlsa","atc","UPDATE","App","element","_classCallCheck","$element","_appController","eventBus","LOG","DEBUG","loaded","setupHandlers","_fetchAirportLoadList","onAirportLoadListFetchedHandler","airportLoadList","airport","initialAirportToLoad","_getInitialAirport","loadInitialAirport","icao","airportName","DEFAULT_AIRPORT_ICAO","previousAirportIcaoFromLocalStorage","localStorage","STORAGE_KEY","ATC_LAST_AIRPORT","_isAirportIcaoInLoadList","_onAirportLoadListFetched","loadDefaultAiportAfterStorageIcaoFailureHandler","loadDefaultAiportAfterStorageIcaoFailure","loadAirlinesAndAircraftHandler","loadAirlinesAndAircraft","setupChildrenHandler","setupChildren","onPauseHandler","_onPause","onUpdateHandler","update","EVENT","PAUSE_UPDATE_LOOP","_this2","initialAirportIcao","_this3","defaultAirportResponse","initialAirportResponse","_this4","airlineListPromise","aircraftListPromise","airportGuideListPromise","airlineResponse","aircraftResponse","airportGuideResponse","airlines","aircraft","initialAirportData","airlineList","aircraftTypeDefinitionList","airportGuides","enable","init_pre","destroy","resize","updatePre","updatePost","shouldUpdate","_AircraftController","_AirlineController","_AirportController","_AirportGuideViewController","_CanvasController","_AirportInfoController","_ChangelogController","_ContentQueue","_EventTracker","_GameController","_InputController","_LoadingView","_NavigationLibrary","_ScopeModel","_SpawnPatternCollection","_SpawnScheduler","_UiController","_ScoreController","_speech","_selectors","_trackableEvents","AppController","$canvasesElement","_eventBus","loadingView","contentQueue","airlineCollection","airportGuideController","inputController","canvasController","changelogController","_init","onAirportChangeHandler","onAirportChange","onTrafficResetHandler","onTrafficReset","AIRPORT_CHANGE","TRAFFIC_RESET","airportGuideData","recordEvent","TRACKABLE_EVENT","AIRPORTS","SELECTORS","DOM_SELECTORS","CANVASES","loadAsset","airlineController","scopeModel","aircraftController","scoreController","airportInfoController","updateViewControls","input_init_pre","speech_init","canvas_init","ui_init","canvas_resize","canvas_complete","ui_complete","updateClock","update_pre","canvasUpdatePost","updateAircraftStrips","nextAirportJson","aircraft_remove_all","radarTargetCollection","destroyTimers","startScheduler","resetAllRunwayQueues","createPreSpawnDepartures","resetAirborneTraffic","MARK_SHALLOW_RENDER","TOGGLE_RESTRICTED_AREAS","restricted_areas","TOGGLE_SIDS","hasSids","TOGGLE_TERRAIN","has_terrain","EventTracker","_isEnabled","_gtag","gtag","category","label","event_category","event_action","event_label","OUTBOUND","transport_type","_has2","_includes2","_AutocompleteController","_CanvasStageModel","_DynamicPositionModel","_CommandParser","_ScopeCommandModel","_MeasureTool","_FixCollection","_core","_gameOptionConstants","_globalConstants","_inputConstants","InputController","_defineProperty","aircraftModel","isControllable","callsign","$commandInput","SELECT_AIRCRAFT","deselectAircraft","_aircraftController","findAircraftByCallsign","selectAircraft","$body","$window","$canvases","_scopeModel","_autocompleteController","history","history_item","_mouseDownScreenPosition","isMouseDown","commandBarContext","COMMAND_CONTEXT","AIRCRAFT","COMMAND","onKeydownHandler","_onKeydown","onKeyupHandler","_onKeyup","onMouseScrollHandler","_onMouseScroll","onMouseClickAndDragHandler","_onMouseClickAndDrag","onMouseUpHandler","_onMouseUp","onMouseDownHandler","_onMouseDown","onMouseDblclickHandler","_onMouseDblclick","STRIP_CLICK","selectAircraftByCallsign","DESELECT_AIRCRAFT","shouldReplaceLastPoint","mouseCanvasPosition","calculateCanvasPositionFromPagePosition","relativePosition","calculateRelativePositionFromCanvasPosition","_toConsumableArray","distance","nearestModel","_this$_findClosestAir2","_slicedToArray","_findClosestAircraftAndDistanceToCanvasPosition","distanceFromAircraft","_this$_findClosestFix2","_findClosestFixAndDistanceToCanvasPosition","fixModel","distanceFromFix","translatePixelsToKilometers","hasStarted","updateLastPoint","addPoint","removePreviousPoint","hasPaths","isMeasuring","startNewPath","endPath","wheelDelta","zoomIn","zoomOut","_addMeasurePoint","nextXPan","nextYPan","updatePan","MOUSE_EVENT_CODE","LEFT_PRESS","_onLeftMouseButtonPress","MIDDLE_PRESS","zoomReset","RIGHT_PRESS","_onRightMousePress","SCROLL_TO_AIRCRAFT","isEscape","KEY_CODES","ESCAPE","LEGACY_KEY_CODES","_isDialog","currentCommandInputValue","CONTROL_LEFT","CONTROL_RIGHT","_startMeasuring","ENTER","NUM_ENTER","processCommand","PAGE_UP","selectPreviousAircraft","PAGE_DOWN","selectNextAircraft","LEFT_ARROW","_isArrowControlMethod","RIGHT_ARROW","UP_ARROW","DOWN_ARROW","NUM_DIVIDE","NUM_MULTIPLY","NUM_ADD","NUM_SUBTRACT","F1","decreasePtlLength","F2","increasePtlLength","F7","SCOPE","BACKQUOTE","_toggleCommandBarContext","TAB","activate","_resetMeasuring","closeAllDialogs","hasCallsign","hasOnlyCallsign","hasSelectedCallsign","_stopMeasuring","classList","CLASSNAMES","DIALOG","parentElement","clamp","input_history_clamp","game","getOptionByName","GAME_OPTION_NAMES","CONTROL_METHOD","COMMAND_SCOPE_MODE","cmd","userCommand","ui_log","parsedCommand","command","PARSED_COMMAND_NAME","TRANSMIT","processSystemCommand","processTransmitCommand","processAircraftCommand","processScopeCommand","scopeCommandModel","_this$_scopeModel$run2","runScopeCommand","successful","isWarning","TUTORIAL","onToggleTutorial","AUTO","PAUSE","game_pause_toggle","TIMEWARP","nextTimewarpValue","updateTimescale","OPTIONS","CLEAR","reload","AIRPORT","airportIcao","airports","airport_set","AIRAC","_airportIcao","airacCycle","getAiracCycle","RATE","INVALID_NUMBER","matchCallsign","aircraftCommander","runCommands","canvasPosition","aircraft_get_nearest","getNearestFix","latLonCoordinates","coordinateText","coord","toFixed","navigator","clipboard","writeText","_removePreviousMeasurePoint","_calculateRelativePositionFromEvent","referencePosition","positionModel","calculateGpsCoordinatesFromRelativePosition","_logAndCopyCoordinates","_markMousePressed","MOUSE_BUTTON_NAMES","RIGHT","mouseCanvasPos","_this$_findClosestAir4","LEFT","mouseButton","getGameOption","MOUSE_CLICK_DRAG","mousePositionX","_panX","mousePositionY","_panY","LoadingView","_setupChildren","LOADING_VIEW","_map2","_round2","_modeControlConstants","_aircraftConstants","_circle","_aircraftCommandMap","_radioUtilities","_unitConverters","AircraftCommander","onChangeTransponderCode","findAircraftById","_findAircraftById","_onChangeTransponderCode","commands","isPreSpawn","response_end","redResponse","FLIGHT_PHASE","TAKEOFF","retval","say","_command","_args","_retval","r_log","r_say","speech_say","pilotVoice","functionName","AIRCRAFT_COMMAND_MAP","altitudeRequested","expediteRequested","shouldUseSoftCeiling","airport_get","pilot","maintainAltitude","direction","heading","incremental","readback","maintainHeading","turn","hasApproachClearance","cancelApproachClearance","clearedAsFiled","altitude","climbViaSid","crossFix","descendViaStar","nextSpeed","maintainSpeed","turnDirection","legLength","fixName","radial","findFixByName","fallbackInboundHeading","holdParameters","inboundHeading","radians_normalize","degreesToRadians","bearingFromPosition","initiateHoldingPattern","cancelHoldingPattern","proceedDirect","airportModel","runwayName","runwayModel","getRunway","previousRunwayModel","fms","arrivalRunwayModel","radio_runway","getRadioName","updateStarLegForArrivalRunway","flightPhase","APRON","TAXI","maintainPresentHeading","runway","departureRunwayModel","sayRoute","routeString","applyDepartureProcedure","applyArrivalProcedure","applyPartialRouteAmendment","replaceFlightPlanWithNewRoute","mcp","setHeadingLnav","altitudeChangeString","trend","radio_altitude","heading_to_string","radio_heading","headingMode","MCP_MODE","HEADING","HOLD","radio_spellOut","speedMode","SPEED","requestedRunwayName","taxiToRunway","_readback","spotInQueue","getAircraftQueuePosition","isInQueue","aircraftAhead","wind","getWindAtAltitude","roundedWindAngleInDegrees","radiansToDegrees","angle","roundedWindSpeed","isAirborne","getRadioCallsign","hasDepartureClearance","isRunwayModelValidForSid","removeAircraftFromQueue","takeoff","getSidIcao","getSidName","conductInstrumentApproach","squawk","REMOVE_AIRCRAFT","_filter2","_vector","AircraftConflict","vlen","vsub","distance_delta","abs","collided","conflicts","violations","isAlreadyKnown","REMOVE_AIRCRAFT_CONFLICT","hasConflict","hasViolation","distanceAtLastUpdate","shouldBeRemoved","_recalculateLateralAndVerticalDistances","checkCollision","airportElevation","elevation","gameTime","accumulatedDeltaTime","takeoffTime","checkProximity","isOnGround","isInsideAirspace","events_recordNew","GAME_EVENTS","COLLISION","hit","SEPARATION","VERTICAL_FT","proximityConflict","proximityViolation","conflict","violation","disableNotices","a1","a2","applicableLatSepMin","STANDARD_LATERAL_KM","isEstablishedOnCourse","runwayRelationship","getRunwayRelationshipForRunwayNames","parallel","separationMinimum","hdg_difference","angle_offset","minHdgDifference","currentLeg","isSidLeg","ad","vturn","groundTrack","bd","dx","dy","det","_findInstancesOfThisConflictInAircraftController","_isOutsideBoundingBox","MAX_KM","_find2","_get2","_without2","_AircraftTypeDefinitionCollection","_AircraftModel","_AircraftCommander","_AircraftConflict","_StripViewController","_airlineHelpers","_staticPositionToDynamicPositionHelper","_distance","_transponderUtilities","_validatorUtilities","AircraftController","spawnPatternModel","initializationProps","_buildAircraftProps","_createAircraftWithInitializationProps","preSpawnAircraftList","preSpawnHeadingAndPosition","baseAircraftProps","assign","removeConflict","transponderCode","isValidTransponderCode","_isTransponderCodeInUse","_removeTransponderCodeFromUse","_addTransponderCodeToInUse","_stripViewController","selectStripView","findAndDeselectActiveStripView","scrollToStripView","REQUEST_TO_CENTER_POINT_IN_VIEW","_typeof","isEmptyOrNotArray","_airlineController","_aircraftCommander","onRequestToChangeTransponderCode","aircraftTypeDefinitionCollection","_transponderCodesInUse","auto","_setupHandlers","_onRemoveAircraftHandler","aircraft_remove","ADD_AIRCRAFT","addItem","STRIP_DOUBLE_CLICK","_onStripDoubleClickHandler","_onSelectAircraft","_onDeselectAircraft","_onScrollToAircraft","nearest","_aircraft","d","distance2d","isVisible","factor","visibleDistance","ctr_radius","removeAircraftFromAllRunwayQueues","removeFlightNumberFromList","removeAircraftModelFromList","removeAllAircraftConflictsForAircraft","removeStripView","removeRadarTargetModelForAircraftModel","updateWarning","isTaxiing","_updateAircraftConflicts","_updateAircraftVisibility","normalizedCallsign","otherAircraft","addConflict","airlineId","_ref","otherAircraftCallsign","isDeparture","isArrival","isAutoTower","TOWER_CONTROLLER","runwayCommands","_runCommandOnPreSpawnAircraft","createStripView","moveToRunway","addAircraftToQueue","setFlightPhase","WAITING","shouldTakeOffWhenRunwayIsClear","getRandomAirlineForSpawn","_airlineNameAndFleetH","airlineNameAndFleetHelper","fleet","airlineModel","findAirlineById","flightNumber","generateFlightNumberWithAirlineModel","aircraftTypeDefinition","_getRandomAircraftTypeDefinitionForAirlineId","FLIGHT_CATEGORY","ARRIVAL","dynamicPositionModel","convertStaticPositionToDynamic","_generateUniqueTransponderCode","origin","destination","airline","airlineCallsign","radioName","model","waypoints","commandString","getCallsign","getAircraftDefinitionForAirlineId","generateTransponderCode","isDiscreteTransponderCode","_ref2","INVALID_INDEX","comparisonAircraftModel","boundingBoxLength","km","currentUpdateIndex","otherAircraftModel","hasConflictWithAircraftModel","_shouldAddNewConflict","isStopped","AIRCRAFT_EVENT","FULLSTOP","isAircraftVisible","isRemovable","_ceil2","_defaultTo2","_findIndex2","_floor2","_forEach2","_isEmpty2","_isEqual2","_uniqueId2","_Fms","_ModeController","_Pilot","_flightMath","_environmentConstants","FLIGHT_RULES","AircraftModel","randomizePilotVoice","groundSpeed","trueAirspeed","restricted","warning","taxi_start","taxi_time","terrain_ranges","_isEstablishedOnHoldingPattern","projected","relativePositionHistory","_targetHeading","_targetGroundTrack","buildCurrentTerrainRanges","buildRestrictedAreaLinks","DEPARTURE","OVERFLIGHT","bottomAltitude","getBottomAltitude","airspaceCeiling","maxAssignableAltitude","initializeForAirborneFlight","terrain","terrain_level","terrainRange","k","restrictedAreas","area","inside","targetHeading","assignedAltitude","flightPlanAltitude","UNIT_CONVERSION_CONSTANTS","FT_FL","insideCenter","icaoWithWeightClass","arrivalAirportId","departureAirportId","flightPlan","getFullRouteStringWithoutAirportsWithSpaces","callsignToMatch","weight","getRadioWeightClass","groupNumbers","serviceCeilingClimbRate","cr_uncorr","rate","climb","ceiling","engines","ENGINE_TYPE","JET","pow","cancelFix","missedApproachAltitude","nextIfrAltitudeBelow","nextAltitudeToMaintain","radioMessage","setAltitudeFieldValue","setAltitudeHold","setHeadingFieldValue","setHeadingHold","DESCENT","radioCall","AIRPORT_CONTROL_POSITION_NAME","APPROACH","waypointModel","waypointSpeed","speedMaximum","waypointDistance","distanceToPosition","decelerationTime","decelerate","TIME","ONE_HOUR_IN_SECONDS","targetAltitude","targetPosition","descentTime","descent","PERFORMANCE","TYPICAL_DESCENT_FACTOR","ONE_HOUR_IN_MINUTES","_calculateArrivalRunwayModelGlideslopeAltitude","MAXIMUM_ALTITUDE_DIFFERENCE_CONSIDERED_ESTABLISHED_ON_GLIDEPATH","isOnApproachCourse","isOnCorrectApproachGroundTrack","glideslopeAltitude","isPointWithinAirspace","nav1Datum","AIRPORT_CONSTANTS","FINAL_APPROACH_FIX_DISTANCE_NM","isOverflight","departureAirportModel","arrivalAirportModel","isAtOrBelowRunwayAltitude","isAtOrBelowAirportAltitude","isStalling","isAircraftNextInQueue","crosswindAngle","calculateCrosswindAngle","cross","sin","setCoordinates","gps","sectorType","alert","writtenCallsign","spokenCallsign","logMessage","alt_log","alt_say","altdiff","alt","digits_decimal","app","twr","setDepartureRunway","cruiseSpeed","cruise","initialAltitude","getInitialClimbClearance","_prepareMcpForTakeoff","lastDepartedAircraftModel","altitudeMode","ALTITUDE","OFF","setSpeedFieldValue","setSpeedN1","_calculateTargetedAltitude","_updateTargetedDirectionality","_calculateTargetedSpeed","overrideTarget","CLIMB","CRUISE","LANDING","MAX_SPEED_BELOW_10K_FEET","phase","iAmTheNextDeparture","lastDeparture","nm_ft","distanceToAircraft","calculateSameRunwaySeparationDistanceInFeet","TAKEOFF_TURN_ALTITUDE","raiseLandingGearAndActivateAutopilot","isOnFinal","isEstablishedOnGlidepath","cancelLanding","FINAL_APPROACH","distanceOnFinalKm","getOffset","getGlideslopeAltitude","groundTrackHeading","windVector","getWindVectorAtAltitude","angleDifference","vradial","asin","headingVector","vscale","vectorize2dFromRadians","vadd","autopilotMode","AUTOPILOT","ON","LNAV","targetGroundTrack","_calculateTargetedGroundTrackLnav","VOR_LOC","_calculateTargetedHeadingToInterceptCourse","_calculateTargetedGroundTrackDuringLanding","_calculateTargetedSpeedDuringLanding","_calculateLegalSpeed","N1","VNAV","vnavSpeed","_calculateTargetedSpeedVnav","MCP_MODE_NAME","_calculateTargetedAltitudeDuringLanding","_calculateTargetedAltitudeToInterceptGlidepath","_calculateTargetedAltitudeVnav","_this$mcp","course","courseOffset","lateralDistanceFromCourseNm","nm","headingDifference","angleAwayFromLocalizer","bearingToPosition","turnTimeInSeconds","TURN_RATE","distanceCoveredDuringTurn","ONE_SECOND_IN_HOURS","distanceToLocalizer","shouldAttemptIntercept","inTheWindow","interceptAngle","minimumInterceptAngle","isAlignedWithCourse","MAXIMUM_DISTANCE_CONSIDERED_ESTABLISHED_ON_APPROACH_COURSE_NM","interceptHeading","spread","currentWaypoint","isVectorWaypoint","getVector","isHoldWaypoint","_calculateTargetedHeadingHold","waypointPosition","distanceToWaypoint","groundTrackToWaypoint","isTimeToStartTurning","calculateTurnInitiationDistance","closeToBeingOverFix","MAXIMUM_DISTANCE_TO_PASS_WAYPOINT_NM","shouldFlyByFix","MAXIMUM_DISTANCE_TO_FLY_BY_WAYPOINT_NM","shouldMoveToNextFix","isFlyOverWaypoint","hasNextWaypoint","moveToNextWaypoint","nextWaypointPosition","waypointRelativePosition","bearingToHoldFix","outboundHeading","isPastFix","isTimerSet","isTimerExpired","nextTargetHeading","MAXIMUM_ANGLE_CONSIDERED_ESTABLISHED_ON_HOLD_COURSE","holdLegDurationInSeconds","ONE_MINUTE_IN_SECONDS","setHoldTimer","resetHoldTimer","altitudeMaximumWaypoint","findNextWaypointWithMaximumAltitudeRestriction","altitudeMinimumWaypoint","findNextWaypointWithMinimumAltitudeRestriction","maximumAltitudeExists","minimumAltitudeExists","altitudeMaximum","_altitudeMaximum","_calculateTargetedAltitudeVnavDescent","_altitudeMinimum","altitudeMinimum","_findFirstWaypoint","_calculateTargetedAltitudeVnavClimb","waypointA","waypointB","waypoint","waypointWithMinimumAltitudeRestriction","isBeyondTopOfDescentForWaypointModel","startSpeed","distanceOnFinal_nm","stableApproachTimeHours","STABLE_APPROACH_TIME_SECONDS","stableApproachDistance","landing","extrapolate_range_clamp","nextSpeedMaximumWaypoint","findNextWaypointWithMaximumSpeedAtOrBelow","nextSpeedMinimumWaypoint","findNextWaypointWithMinimumSpeedAtOrAbove","hasMaximumSpeed","hasMinimumSpeed","_calculateTargetedSpeedVnavDeceleration","_calculateTargetedSpeedVnavAcceleration","waypointWithMinimumSpeedRestriction","waypointMinimumSpeed","speedMinimum","waypointWithMaximumSpeedRestriction","waypointMaximumSpeed","isBeyondDecelerationPointForWaypointModel","getDeltaTimeForGameStateAndTimewarp","updateAircraftTurnPhysics","updateAltitudePhysics","updateSpeedPhysics","offsetGameTime","game_speedup","updateGroundSpeedPhysics","secondsElapsed","angle_diff","angle_change","decreaseAircraftAltitude","increaseAircraftAltitude","altitude_diff","descentRate","shouldExpediteAltitudeChange","feetDescended","ONE_SECOND_IN_MINUTES","climbRate","getClimbRate","TYPICAL_CLIMB_FACTOR","isTakeoff","feetClimbed","speedChange","differenceBetweenPresentAndTargetSpeeds","DECELERATION_FACTOR_DUE_TO_GROUND_BRAKING","accelerate","ENVIRONMENT","DENSITY_ALT_INCREASE_FACTOR_PER_FT","flightThroughAirVector","flightPathVector","distanceTraveled_nm","setCoordinatesByBearingAndDistance","new_inside","point_in_poly","poly","AIRSPACE_BUST","distance_to_poly","prev_level","ele","curr_ranges","lev","point_to_mpoly","updateFlightPhase","updateTarget","updatePhysics","_updateAircraftControllability","conflictingAircraft","conflictingAircraftModel","callUp","setIsRemovable","AIRSPACE_EXIT","_contactAircraftAfterControllabilityChange","anotherAircraftModel","nextAltitude","isAbleToMaintainAltitude","minAssignableAltitude","minimumAltitude","_readback3","isAbleToMaintainSpeed","_calculateCrabHeadingForGroundTrack","_calculateGroundTrackForHeading","currentPhase","_BaseCollection2","_AircraftTypeDefinitionModel","AircraftTypeDefinitionCollection","_possibleConstructorReturn","_getPrototypeOf","definitionList","_buildAircraftTypeDefinitionModelList","aircraftType","getRandomAircraftType","aircraftDefinition","_BaseModel2","AircraftTypeDefinitionModel","isEmptyOrNotObject","weightClass","capability","_buildTypeForStripView","_Object$values$find","aircraftIcao","wtc","WAKE_TURBULENCE_CATEGORY","WTC","LETTER","APPEND","HEAVY","SUPER","previousTypeModel","isSameRunwaySeparationCatThree","SRS_REDUCED_MINIMA_FEET","CAT3","srs","CAT1","CAT2","_Object$values$find2","SPOKEN","_findLast2","_RouteModel","_RunwayModel","_routeConstants","Fms","aircraftInitProps","_routeModel","nextFix","_verifyRouteContainsMultipleWaypoints","_initializeFlightPhaseForCategory","_initializeAirportsAndRunways","_initializeFlightPlanAltitude","_initializePositionInRouteToBeginAtFixName","originLowerCase","destinationLowerCase","_initializeDepartureAirport","_initializeDepartureRunway","_initializeArrivalAirport","_initializeArrivalRunway","destinationIcao","arrivalRunwayName","getArrivalRunwayName","setArrivalRunway","originIcao","departureRunwayName","getDepartureRunwayName","hasWaypointName","skipToWaypointName","waypointName","activateHoldForWaypointName","getFixSpokenName","nextRouteModel","absorbRouteModel","hasMaximumAltitudeAtOrBelow","hasAltiudeMaximumRestriction","hasMaximumSpeedAtOrBelow","hasMinimumAltitudeAtOrAbove","hasAltiudeMinimumRestriction","hasMinimumSpeedAtOrAbove","getAltitudeRestrictedWaypoints","getFlightPlanEntry","nextWaypoint","hasRestriction","getRouteString","getRouteStringWithSpaces","hasSpeedRestriction","getTopAltitude","isRunwayModelValidForStar","routeStringElements","PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER","procedureId","hasProcedure","replaceArrivalProcedure","_updateArrivalRunwayFromRoute","sidModel","getProcedure","exitPoint","hasExit","expectedRunwayModel","entryPoint","hasEntry","getFirstEntryPoint","nextRouteString","replaceDepartureProcedure","_updateDepartureRunwayFromRoute","currentWaypointName","nextRunwayModel","updateSidLegForDepartureRunwayModel","currentArrivalRunway","_readback2","getStarIcao","getStarName","updateStarLegForArrivalRunwayModel","getArrivalRunwayModel","getDepartureRunwayModel","getSpeedRestrictedWaypoints","getRestrictedWaypoints","_WaypointModel","LegModel","_airwayModel","_legType","_procedureModel","_previousWaypointCollection","_routeString","_waypointCollection","_routeString$split2","entryOrFixName","airwayOrProcedureName","exit","_ensureRouteStringIsSingleSegment","_determineLegType","getAirway","_generateWaypointCollection","_resetWaypointCollection","LEG_TYPE","DIRECT","hasAirway","AIRWAY","PROCEDURE","findHoldParametersByFix","setDefaultHoldParameters","_generateWaypoint","_verifyAirwayAndEntryAndExitAreValid","getWaypointModelsForEntryAndExit","_verifyProcedureAndEntryAndExitAreValid","waypointIndex","_findIndexOfWaypointName","setHoldParametersAndActivateHold","isAirwayLeg","indexOfWaypointName","copyOfWaypointCollection","isStarLeg","isProcedureLeg","minimumAltitudes","positiveValueRestrictionList","isDirectLeg","procedure","_elements","_procedure","maximumAltitudes","topAltitude","waypointModelToMove","entryName","exitName","_this$_previousWaypoi","_this$_previousWaypoi2","numberOfWaypointsToMove","waypointModelsToMove","routeStringComponents","currentEntryName","currentExitName","currentRunwayName","nextRunwayName","nextEntryName","nextExitName","skipAllWaypointsInLeg","airwayIcao","hasFixName","procedureIcao","procedureType","PROCEDURE_TYPE","SID","STAR","_chunk2","_first2","_intersection2","_isString2","_last4","_reduce2","_LegModel","_navigationUtilities","RouteModel","_legCollection","_previousLegCollection","_generateLegsFromRouteString","routeModel","firstWaypointName","lastWaypointName","routesConverge","routesDiverge","_overwriteRouteBetweenWaypointNames","_prependRouteModelEndingAtWaypointName","_appendRouteModelBeginningAtWaypointName","legIndex","_findIndexOfLegContainingWaypointName","legModel","reduce","wpt","lastWpt","hasAltitudeRestriction","hasStarLeg","starLegIndex","_findStarLegIndex","getArrivalRunwayAirportIcao","getArrivalRunwayAirportModel","hasSidLeg","_findSidLeg","getDepartureRunwayAirportIcao","getDepartureRunwayAirportModel","minAltitudesFromLegs","leg","pastAndPresentLegModels","_getPastAndPresentLegModels","pastAndPresentLegRouteStrings","_combineRouteStrings","legRouteStringsWithoutAirports","getRouteStringWithoutAirports","REGEX","DOUBLE_DOT","SINGLE_DOT","getFullRouteString","legRouteStrings","getExitFixName","getProcedureIcao","getProcedureName","sidLegModel","initial_alt","maxAltitudesFromLegs","hasNextLeg","nextLeg","_findSidLegIndex","departureAirportIcao","procedureHasEntry","starLegModel","arrivalAirportIcao","procedureHasExit","moveToNextLeg","_this$_previousLegCol","legToMove","_this$_previousLegCol2","legModelsToMove","originalCurrentWaypointName","amendedStarLegModel","_createAmendedStarLegUsingDifferentExitName","divergentWaypointName","indexOfDivergentLeg","divergentLeg","_appendRouteModelOutOfAirwayLeg","_appendRouteModelOutOfDirectLeg","_appendRouteModelOutOfSidLeg","_appendRouteModelOutOfStarLeg","legType","amendedAirwayLeg","_createAmendedAirwayLegUsingDifferentExitName","legCollection","remainingLegWaypointsAsLegs","_createLegsFromSidWaypointsBeforeWaypointName","amendedStarLeg","_createLegsFromStarWaypointsBeforeWaypointName","directRouteSegments","exitOfPreviousLeg","legEntry","indexOfPreviousLeg","legRouteStringWithoutEntry","DIRECT_SEGMENT_DIVIDER","entryFixName","convergentLegModel","airwayName","getAirwayName","exitFixName","amendedAirwayRouteString","assembleProceduralRouteString","getEntryFixName","indexOfConvergentLegModel","endWaypointName","_createAmendedAirwayLegUsingDifferentEntryName","_createLegsFromSidWaypointsAfterWaypointName","_createAmendedStarLegUsingDifferentEntryName","_createLegsFromStarWaypointsAfterWaypointName","indexOfDivergentLegModel","startWaypointName","divergentLegModel","waypointModels","getAllWaypointModelsBeforeWaypointName","_createLegModelsFromWaypointModels","getAllWaypointModelsAfterWaypointName","amendedStarRouteString","chainedRouteStrings","segmentRouteStrings","elementsInChain","firstSegment","segments","exitOfPreviousSegment","procedureAndExitOfSegment","currentRouteWaypointNames","nextRouteWaypointNames","_divideRouteStringIntoSegments","segmentRouteString","amendedDivergentLegModels","_createAmendedDivergentLeg","amendedConvergentLegModels","_createAmendedConvergentLeg","endingLegCollection","beginningLegCollection","convergentWaypointName","_prependRouteModelIntoAirwayLeg","_prependRouteModelIntoDirectLeg","_prependRouteModelIntoSidLeg","_prependRouteModelIntoStarLeg","waypointList","_isArray2","_isNumber2","_waypointConstants","WaypointModel","_speedMaximum","_speedMinimum","_defaultHoldParameters","DEFAULT_HOLD_PARAMETERS","_holdParameters","_isFlyOverWaypoint","_isHoldWaypoint","_isVectorWaypoint","_positionModel","restrictions","_initSpecialWaypoint","_applyRestrictions","_initializePosition","_initVectorWaypoint","_initHoldWaypoint","_initFlyOverWaypoint","_ensureNonVectorWaypointsForThisAndWaypoint","RNAV_WAYPOINT_PREFIX","RNAV_WAYPOINT_DISPLAY_NAME","fixNameWithOutPoundSign","headingInDegrees","DECIMAL_RADIX","speedMax","setSpeedMinimum","setSpeedMaximum","setAltitudeMaximum","setAltitudeMinimum","setHoldParameters","activateHold","expirationTime","restriction","_parseAltitudeRestric2","parseAltitudeRestriction","limit","restrictionCollection","_applyAltitudeRestriction","_applySpeedRestriction","_parseSpeedRestrictio2","parseSpeedRestriction","fixPosition","getPositionModelForFixName","hasSpeedMaximumRestriction","hasSpeedMinimumRestriction","ModeController","isEnabled","descentAngle","_setModeSelectorMode","datum","_setFieldValue","MCP_FIELD_NAME","COURSE","currentAltitude","currentHeading","currentSpeed","descentAltitude","setAltitudeVnav","setSpeedVnav","fieldName","modeSelector","mode","MCP_ALTITUDE_MODE","LEVEL_CHANGE","VERTICAL_SPEED","MCP_AUTOPILOT_MODE","MCP_HEADING_MODE","MCP_SPEED_MODE","Pilot","modeController","_fms","_mcp","expedite","validateNextAltitude","clampedAltitude","clampWithinAssignableAltitudes","readbackAltitude","altitudeInstruction","radio_trend","altitudeVerbal","expediteReadback","nextHeadingInRadians","correctedHeading","headingStr","runwayOrPresent","instruction","setSpeedHold","_this$_fms$replaceArr2","_this$_fms$replaceDep2","sidIcao","sidName","altitudeToMaintain","holdWaypointModel","findWaypoint","deactivateHold","getDisplayName","maximumAltitude","altitudeCheck","_altitudeCheck","setAltitude","_speedCheck","validateNextSpeed","setSpeed","speedCheck","setNav1Datum","setCourseFieldValue","setHeadingVorLoc","setDescentAngle","setAltitudeApproach","approachType","minimumGlideslopeInterceptAltitude","getMinimumGlideslopeInterceptAltitude","_readback8","ils","glideslopeGradient","lateralGuidance","_interceptCourse","verticalGuidance","_interceptGlidepath","_this$_fms$activateHo2","responseValue","radialText","cardinalDirectionFromFix","getRadioCardinalDirectionNameForHeading","holdParametersReadback","radialReadbackLog","radialReadbackSay","bearing","StripViewCollection","_items","stripViewModel","isActive","aircraftId","_random2","_StripViewCollection","_StripViewModel","StripViewController","$stripView","STRIP_VIEW_IS_HIDDEN","_collection","STRIP_VIEW","$stripViewListArrivals","STRIP_VIEW_ARRIVALS_LIST","$stripViewListDepartures","STRIP_VIEW_DEPARTURES_LIST","$stripListTrigger","STRIP_VIEW_TRIGGER","_cidNumbersInUse","_onStripListToggle","_onStripListClickOutsideStripViewModel","findStripByAircraftId","aircraftList","stripViewCid","_generateCidNumber","_addViewToStripList","stripModel","addActiveState","removeActiveState","scrollIntoView","activeStripViewModel","findActiveStripViewModel","deselectStripView","_removeCidFromUse","cid","removeItem","listView","scrollPosition","HEIGHT","nextCid","_stripViewTemplate","_generalUtilities","StripViewModel","cidValue","_categoryClassName","_callsign","$callsignView","_aircraftType","$aircraftTypeView","cidString","leftPad","$cidView","_transponder","$transponderView","_assignedAltitude","$assignedAltitudeView","_flightPlanAltitude","$flightPlanAltitudeView","_arrivalAirport","$arrivalAirportView","_departureAirport","$departureAirportView","_alternateAirport","$alternateAirportView","_flightPlan","$flightPlanView","_remarks","$remarks","_runwayInformation","$runway","_createChildren","_enable","_layout","_redraw","_aircraftModel$getVie","getViewModel","_buildClassnameForFlightCategory","_buildRunwayInformation","STRIP_VIEW_TEMPLATE","STRIP_VIEW_CALLSIGN","STRIP_VIEW_AIRCRAFT_TYPE","STRIP_VIEW_CID","STRIP_VIEW_TRANSPONDER","STRIP_VIEW_ASSIGNED_ALTITUDE","STRIP_VIEW_FLIGHT_PLAN_ALTITUDE","STRIP_VIEW_ARRIVAL_AIRPORT_ID","STRIP_VIEW_DEPARTURE_AIRPORT_ID","STRIP_VIEW_ALTERNATE_AIRPORT_ID","STRIP_VIEW_FLIGHT_PLAN","STRIP_VIEW_REMARKS","STRIP_VIEW_RUNWAY","_onClickHandler","_onClick","_onDoubleClickHandler","_onDoubleClick","_shouldUpdate","_updateStripView","ACTIVE","behavior","hasRunwayAssigned","isApron","_aircraftModel$getVie2","runwayInfo","_aircraftModel$getVie3","STRIP_VIEW_PREPLANNING","_flatten2","_AirlineModel","_airlineConstants","AirlineCollection","airlineDefinition","_buildAirlineModels","airlineToAdd","AIRLINE_NAME_FLEET_SEPARATOR","flightNumberList","flightNumbers","_AirlineCollection","AirlineController","generateFlightNumber","_isActiveFlightNumber","addFlightNumberToInUse","removeFlightNumber","_head2","_uniq2","_buildFlightNumber","AirlineModel","flightNumberGeneration","callsignFormats","DEFAULT_CALLSIGN_FORMAT","fleets","default","activeFlightNumbers","_transformFleetNamesToLowerCase","_deactivateFlightNumber","_getRandomAircraftTypeFromAllFleets","_getRandomAircraftTypeFromFleet","buildFlightNumber","fleetName","_hasFleet","aircraftInFleet","fleetAircraft","airlineNameAndFleet","_extractNameAndFleetFromCurrentAirline","FIRST_INDEX","choose_weight","_toLower2","SECOND_INDEX","selectedAirline","nameAndFleet","validatedFormats","defaultCallsignFormats","_validateCallsignFormats","chosenFormat","choose","CALLSIGN_RANDOM_DIGIT_CHARACTER","_generateRandomDigit","CALLSIGN_RANDOM_LETTER_CHARACTER","ALPHA","NUMERIC","AirportGuideView","_airportGuideMarkup","_$airportGuideView","_$element","AIRPORT_GUIDE_CONTAINER","AIRPORT_GUIDE_VIEW","nextAirportMarkup","_AirportGuideView","AirportGuideViewController","initialIcao","_airportGuideView","_guideData","_initialIcao","_onAirportChangeHandler","TOGGLE_AIRPORT_GUIDE","_onToggleViewHandler","_initAirportGuideView","_resetHandlers","activeAirportGuide","getAirportGuide","_onAirportChange","_onToggleView","nextIcao","hasAirportGuide","airportGuideMarkupString","toggleView","_AirportModel","AirportController","_airportListToLoad","airport_load","hasAirport","airport_add","airportJson","hasStoredIcao","nextAirportModel","airac","_clamp2","_AirspaceModel","_MapCollection","_RunwayCollection","_StaticPositionModel","_positionModelHelpers","DEFAULT_RANGE_RINGS","radius_nm","center","AirportModel","loading","textStatus","_runwayCollection","mapCollection","airspace","departure","defaultWind","ctr_ceiling","rangeRings","setCurrentPosition","magnetic_north","runways","maps","defaultMaps","magneticNorth","_initRangeRings","loadTerrain","buildAirspace","setActiveRunwaysFromNames","arrivalRunway","departureRunway","buildRestrictedAreas","updateCurrentWind","WIND_CHANGE","rangeRingData","gpsCoordinates","isValidGpsCoordinatePair","airspaceSection","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","airspaceModel","vertexPosition","areaData","restrictedArea","parseElevation","calculateRelativePosition","coords_max","coords_min","labelRelativePositions","labelPositions","currentWind","game_reset_score_and_events","windTravelSpeedAtAltitude","WIND_INCREASE_FACTOR_PER_FT","calculateCrosswindAngleForRunway","_this$getWindAtAltitu","windTravelDirection","primaryRunwayName","comparatorRunwayName","findRunwayModelByName","resetQueue","GEOMETRY_TYPE","apt","features","multipoly","geometry","coordinates","terrainAtElevation","line_string","point","latLongPoint","immediate","parseTerrain","errorThrown","_this5","onLoadIntialAirportFromJson","onLoadAirportSuccess","onLoadAirportError","isPointInside","INSTRUMENT_APPROACH_MINIMUM_DESCENT_ALTITUDE","AirspaceModel","airportPosition","relativePoly","airspace_class","convertToThousands","_buildPolyPositionModels","_initLabelPositions","centerRelativePosition","_calculateAirspaceCenterRelativePosition","_this$relativePoly$","minX","minY","_this$relativePoly$2","maxX","maxY","isPointInside2D","polyList","polyPositionModels","firstIndexRelativePosition","lastIndexRelativePosition","_MapModel","MapCollection","mapJson","airportPositionModel","_buildMapModels","sum","isHidden","MapModel","_buildMapLines","airportPositionAndDeclination","lineStartCoordinates","lineEndCoordinates","startPosition","endPosition","_RunwayRelationshipModel","RunwayCollection","runwayJson","_airportPositionModel","_runwayRelationships","_buildRunwayModels","_buildRunwayRelationships","getCurrentWindProps","bestRunway","bestRunwayHeadwind","headwind","_runway","_addRunwayToCollection","primaryRunway","_buildRunwayRelationshipsForRunway","comparatorRunway","RunwayModel","loc_maxDist","sepFromAdjacent","farSideIndex","thisSide","farSide","ils_distance","glideslope","rise","tan","km_ft","altitudeAtFinalApproachFix","getGlideslopeAltitudeAtFinalApproachFix","windAngle","approachOffset","isNotPastRunwayThreshold","aircraftGroundTrack","MAXIMUM_ANGLE_CONSIDERED_ESTABLISHED_ON_APPROACH_COURSE","RunwayRelationshipModel","_id","lateral_dist","straight_dist","converging","calculateRelationshipValues","raysIntersect","calculateSeparationMinimums","runwaySeparationDistanceFeet","BaseCollection","BaseModel","modelName","optionalIdPrefix","_buildIdPrefix","_positionConstants","DynamicPositionModel","reference","latitude","longitude","_referencePosition","_magneticNorth","parseCoordinate","GPS_COORDINATE_INDEX","LATITUDE","LONGITUDE","ELEVATION","φ1","φ2","Δλ","θ","atan2","R","PHYSICS_CONSTANTS","EARTH_RADIUS_NM","Δφ","sqrt","_this$generateCoordin2","generateCoordinatesFromBearingAndDistance","δ","λ1","λ2","nextCoordinates","_hasReferencePosition","DEFAULT_SCREEN_POSITION","_calculateRelativePosition","RELATIVE_POSITION_OFFSET_INDEX","LONGITUDINAL","LATITUDINAL","canvasPositionX","calculateDistanceToPointForX","canvasPositionY","calculateDistanceToPointForY","_adjustForMagneticNor","adjustForMagneticNorth","offsetKm","magneticBearing","_DynamicPositionModel2","StaticPositionModel","_relativePosition","_initializeRelativePosition","coordinate","COMPASS_DIRECTION","distanceToPoint","originalX","originalY","hasTwoOrThreeElements","firstTwoElementsHaveSameType","latFirstCharIsNorthOrSouth","lonFirstCharIsEastOrWest","staticPositionModel","_cloneDeep2","_inRange2","_canvasConstants","_themes","CanvasController","_shouldResize","_shouldShallowRender","_shouldDeepRender","_shouldDrawAirspace","_shouldDrawFixLabels","_shouldDrawRestrictedAreas","_shouldDrawSidMap","_shouldDrawStarMap","_shouldDrawTerrain","_hasSeenTerrainWarning","theme","_setTheme","THEME","_onSelectAircraftHandler","_onDeselectAircraftHandler","_onCenterPointInViewHandler","_onCenterPointInView","_onChangeViewportPanHandler","_onChangeViewportPan","_onChangeViewportZoomHandler","_onChangeViewportZoom","_onMarkDirtyCanvasHandler","_onMarkDirtyCanvas","_onToggleAirspaceHandler","_onToggleAirspace","_onToggleLabelsHandler","_onToggleLabels","_onToggleRestrictedAreasHandler","_onToggleRestrictedAreas","_onToggleSidMapHandler","_onToggleSidMap","_onToggleStarMapHandler","_onToggleStarMap","_onToggleTerrainHandler","_onToggleTerrain","_onToggleVideoMapHandler","_onToggleVideoMap","_onRangeRingsChangeHandler","_onRangeRingsChange","_onResizeHandler","_setThemeHandler","PAN_VIEWPORT","ZOOM_VIEWPORT","TOGGLE_AIRSPACE","TOGGLE_LABELS","TOGGLE_SID_MAP","TOGGLE_STAR_MAP","TOGGLE_VIDEO_MAP","RANGE_RINGS_CHANGE","SET_THEME","CLASSNAME","_addCanvas","CANVAS_NAME","STATIC","DYNAMIC","_markDeepRender","canvasName","updateHeightAndWidth","canvas","_adjustHidpi","staticCanvasCtx","_getCanvasContextByName","_clearCanvasContext","_drawVideoMap","_drawTerrain","_drawRestrictedAirspace","_drawRunways","_drawAirportFixesAndLabels","_drawSids","_drawStars","_drawAirspaceAndRangeRings","_drawAirspaceShelvesAndLabels","_drawRunwayLabels","_drawCurrentScale","dynamicCanvasCtx","_drawSelectedAircraftCompass","_drawRadarTargetList","_drawAircraftDataBlocks","_drawMeasureTool","gameTimeMilliseconds","canvasTemplate","devicePixelRatio","canvasContext","$canvasElement","cc","clearRect","runwayLength","_translateKilometersToPixels","runwayCanvasPosition","calculateRoundedCanvasPositionFromRelativePosition","save","translate","rotate","restore","strokeStyle","RUNWAY_EXTENDED_CENTERLINE","lineWidth","beginPath","moveTo","lineTo","stroke","length2","textAlign","textBaseline","fillText","_ccTranslateFromCanvasOriginToAirportCenter","font","RUNWAY","fillStyle","_drawSingleRunway","RUNWAY_LABELS","_drawRunwayLabel","lengthNm","lengthKm","px_length","widthLessOffset","TOP_ROW_TEXT","fixCanvasPosition","FIX_FILL","globalCompositeOperation","closePath","fill","FIX_TEXT","lineJoin","BASE_CANVAS_FONT","realFixes","_drawSingleFixAndLabel","textAtFix","sidLines","getProcedureLines","setLineDash","sid","shouldDrawProcedureName","_drawPolyLineFromRelativePositions","_j","exits","lastFixName","textItemsToPrint","getFixRelativePosition","_drawText","starLines","star","firstFixName","relativePositions","lineStartPosition","labels","textItem","drawCanvasPositionX","drawCanvasPositionY","shouldUseTrailingSeparationIndicator","oppositeOfRunwayHeading","oppositeAngle","aircraftCanvasPosition","RADAR_TARGET","TRAILING_SEPARATION_INDICATOR","pixelsInTrail","radarTargetModel","aircraftAlerts","getAlerts","RING_CONFLICT","RING_VIOLATION","arc","tau","hasHalo","radiusNm","haloRadius","HALO","HISTORY_DOT_OUTSIDE_RANGE","HISTORY_DOT_INSIDE_RANGE","positionHistory","calculatePreciseCanvasPositionFromRelativePosition","HISTORY_DOT_RADIUS_KM","HISTORY_LENGTH","_drawSeparationIndicator","_drawAircraftFuturePath","_drawAircraftVectorLines","_drawAircraftHalo","_drawAircraftConflictRings","radarTargetRadiusKm","RADIUS_KM","RADIUS_SELECTED_KM","PROJECTED_TRACK_LINES","lineLengthInHours","ptlLength","ONE_MINUTE_IN_HOURS","lineLength_km","groundTrackVector","scaledGroundTrackVector","screenPositionOffsetX","screenPositionOffsetY","simulationRate","was_locked","future_track","fms_twin","twin","saveDeltaTimeBeforeFutureTrackCalculation","ils_locked","restoreDeltaTimeAfterFutureTrackCalculation","PROJECTION_ARRIVAL_ALL","PROJECTION_DEPARTURE","PROJECTION_DEPARTURE_ALL","PROJECTION_ARRIVAL","_i2","track","_ils_locked","trackPosition","PROJECTION_ESTABLISHED_ON_APPROACH","pathInfoList","buildPathInfo","pathInfo","_drawMeasureToolPath","_drawMeasureToolLabels","firstLeg","midPoint","MEASURE_BACKGROUND","DATA_BLOCK","TEXT_FONT","lastWidth","newWidth","measureText","fillRect","MEASURE_TEXT","initialTurn","firstPoint","startPoint","firstMidPoint","MEASURE_LINE","isRHT","entryAngle","exitAngle","turnRadius","radius","_radius","position1","endPoint","position2","arcTo","radarTargetModels","items","_drawSingleRadarTarget","white","TEXT_IN_RANGE","TEXT_OUT_OF_RANGE","TEXT_SELECTED","dataBlockLeaderDirection","LEADER_DIRECTION","offsetComponent","radarTargetPosition","leaderLength","_calculateLeaderLength","dataBlockLeaderLength","leaderStart","LEADER_PADDING_FROM_TARGET_PX","leaderEnd","LEADER_PADDING_FROM_BLOCK_PX","leaderIntersectionWithBlock","dataBlockCenterCanvasPosition","calculateDataBlockCenter","_drawLegacyDatablock","row1text","buildDataBlockRowOne","row2text","buildDataBlockRowTwoPrimaryInfo","shouldShowSecondaryDataBlock","buildDataBlockRowTwoSecondaryInfo","HALF_WIDTH","gap","HAS_FILL","WIDTH","halfWidth","halfHeight","HALF_HEIGHT","lock_size","lock_offset","point1","barWidth","clipping_mask_angle","atan","pi_slice","red","ARRIVAL_BAR_OUT_OF_RANGE","green","BACKGROUND_OUT_OF_RANGE","blue","DEPARTURE_BAR_OUT_OF_RANGE","ARRIVAL_BAR_IN_RANGE","BACKGROUND_IN_RANGE","DEPARTURE_BAR_IN_RANGE","ARRIVAL_BAR_SELECTED","BACKGROUND_SELECTED","DEPARTURE_BAR_SELECTED","_drawSingleAircraftDataBlock","_drawAirspaceBorder","_drawRangeRings","centerCanvasPosition","ringRadiusKm","_calculateRangeRingRadiusKm","linewidth","RANGE_RING_COLOR","AIRSPACE_PERIMETER","AIRSPACE_FILL","_drawRelativePoly","bottomFlightLevel","topFlightLevel","labelRelativePosition","userValue","RANGE_RINGS","useDefault","defaultRangeRings","pointRelativePos","pointCanvasPos","terrainLevel","color","TERRAIN","COLOR","BORDER_OPACITY","FILL_OPACITY","terrainGroup","terrainItem","max_elevation","box_width","labeledAltitudes","airportTerrain","_drawTerrainAtElevation","_drawTerrainElevationLegend","RESTRICTED_AIRSPACE","areaRelativePositions","linePaddingPx","nameLineCanvasPosition","altLineCanvasPosition","hasVisibleMaps","VIDEO_MAP","getVisibleMapLines","mapItem","startRelativePos","startCanvasPos","endRelativePos","endCanvasPos","game_paused","canvasOrigin","canvasSize","aircraftPosition","_toCanvasPosition","COMPASS_HASH","COMPASS_TEXT","rayUnitVector","vectorize2dFromDegrees","positive_intersection_with_rect","markLen","markWeight","markVector","markStartPoint","markEndPoint","padStart","textWidth","positionFromScope","scopePositionRelativeToView","viewPositionRelativeToCanvasOrigin","scopePositionRelativeToCanvasOrigin","LEADER_LENGTH_INCREMENT_PIXELS","LEADER_LENGTH_ADJUSTMENT_PIXELS","_markShallowRender","mapNames","setVisibleMaps","newPanX","newPanY","themeName","CanvasStageModel","_height","_width","_defaultScale","_scaleMax","_scaleMin","_scale","DEFAULT_CANVAS_SIZE","PAN","X","Y","SCALE","DEFAULT","MIN","MAX","_retrieveZoomLevelFromStorageOrDefault","kilometerValue","pixelValue","precisePosition","nextHeight","nextWidth","FOTTER_HEIGHT_OFFSET","_updateZoom","_storeZoomLevel","ZOOM_LEVEL","getItem","setItem","isZoomIn","CHANGE_FACTOR","previousX","previousY","_updateScale","nextPanX","nextPanY","ChangelogController","$changelogContainer","$changelogData","$changelogToggle","_createHandlers","loadChangelogContent","TOGGLE_CHANGELOG","_onChangelogToggleHandler","CHANGELOG_CONTAINER","CHANGELOG_CONTENT","_onChangelogToggle","changelog","onLoadComplete","isLoaded","_shouldShowOnLoad","lastPlayedVersion","ATC_LAST_VERSION","currentVersion","shouldDisplayChangelog","ParsedCommand","commandList","nameAndArgs","_aircraftCommandDefinitions","AircraftCommandModel","_commandDefinition","AIRCRAFT_COMMAND_DEFINITION","validate","_argumentValidators","_argumentParsers","strToNumArray","convertStringToNumber","_objectSpread","zeroArgumentsValidator","pause","tutorial","delete","flyPresentHeading","sayAltitude","sayAssignedAltitude","sayHeading","sayAssignedHeading","sayIndicatedAirspeed","sayAssignedSpeed","singleArgumentValidator","direct","expectArrivalRunway","ilsParser","land","zeroOrOneArgumentValidator","moveDataBlock","reroute","route","taxi","cancelHold","altitudeValidator","altitudeParser","crossingValidator","crossingParser","fixValidator","headingValidator","headingParser","holdValidator","holdParser","squawkValidator","timewarp","timewarpParser","optionalAltitudeValidator","optionalAltitudeParser","commandAlias","_findKey2","isSystemCommand","_compact2","_tail2","_AircraftCommandModel","_ParsedCommand","CommandParser","rawCommandWithArgs","_extractCommandsAndArgs","commandArgSegmentsWithCallsign","callsignOrSystemCommandName","commandArgSegments","_isSystemCommand","_buildSystemCommandModel","_buildTransmitAircraftCommandModels","commandName","findCommandNameWithAlias","commandArgs","aircraftCommandModel","_validateAndParseCommandArguments","_buildCommandList","commandOrArg","validationErrors","_validateCommandArguments","validatedCommandList","errorMessage","validateArgs","parseArgs","HOLD_COMMAND_ARG_NAMES","directionNormalizer","normalizedDirection","isIncremental","isLegLengthArg","HOLD_DISTANCE","findHoldCommandByType","isValidDirectionString","isValidCourseString","_isNaN2","_parserMessages","ERROR_MESSAGE","ZERO_ARG_LENGTH","SINGLE_ARG_LENGTH","ZERO_OR_ONE_ARG_LENGTH","oneOrTwoArgumentValidator","ONE_OR_TWO_ARG_LENGTH","ONE_TO_THREE_ARG_LENGTH","ONE_OR_THREE_ARG_LENGTH","TWO_OR_THREE_ARG_LENGTH","hasLengthError","numberFromString","ALTITUDE_MUST_BE_NUMBER","EXPEDITE","ALTITUDE_EXPEDITE_ARG","hasTypeError","ONE_OR_MORE_ARG_LENGTH","MUST_BE_STRING","THREE_DIGIT_NUMBER","HEADING_MUST_BE_VALID_COURSE","INVALID_DIRECTION_STRING","HEADING_MUST_BE_NUMBER","INCREMENTAL_HEADING_MUST_BE_POSITIVE","ZERO_TO_FOUR_ARG_LENGTH","TRANSPONDER_CODE","INVALID_SQUAWK","SPEED_MUST_BE_NUMBER","INVALID_ARG","INVALID_ARG_LENGTH","TWO_ARG_LENGTH","THREE_ARG_LENGTH","ZERO_TO_THREE_ARG_LENGTH","HEADING_ACCEPTS_BOOLEAN_AS_THIRD_ARG","_last2","_values2","_scopeCommandMap","_scopeConstants","SECTOR_HANDOFF_CODES","ScopeCommandModel","aircraftReference","commandArguments","commandFunction","pieces","_extractCommandFunction","_extractCommandArguments","IMPLIED_COMMANDS","firstElement","EXPLICIT_COMMANDS","COMMAND_FUNCTIONS","INITIATE_HANDOFF","SCRATCHPAD","DATA_BLOCK_DIRECTION_LENGTH_SEPARATOR","MOVE_DATA_BLOCK","ACCEPT_HANDOFF","QP","QP_J","QU","QZ","DEFAULT_ALTIMETER_IN_INHG","LIGHT","MEDIUM","ELECTRIC","PISTON","ROCKET","TURBOPROP","DEFAULT_SPAWN_ALTITUDE_MIN","DEFAULT_SPAWN_ALTITUDE_MAX","DEFAULT_SPAWN_AIRCRAFT_SPEED_KTS","MIN_ENTRAIL_DISTANCE_NM","TOWER","SYSTEM","AUTOCOMPLETE_STATE","COMMANDS","NO_MATCHES","MATCHES","HIGHLIGHT","PARAMS","INVALID","VALID","AUTOCOMPLETE_COMMAND_STATES","PARAM","CANDIDATE","WHITESPACE","FIRST_TOKEN","TOKEN_MID","TOKEN_END","CHAT_LOG_DURATION_CHANGE","MEASURE_TOOL_STYLE_CHANGE","PTL_DECREASE_LENGTH","PTL_INCREASE_LENGTH","TIMEWARP_TOGGLE","TOGGLE_PAUSE","TOGGLE_TRAFFIC","TOGGLE_TUTORIAL","UNPAUSE","CHAT_LOG_DURATION","DRAW_PROJECTED_PATHS","DRAW_ILS_DISTANCE_SEPARATOR","MEASURE_TOOL_PATH","PROJECTED_TRACK_LINE_LENGTHS","SOFT_CEILING","GAME_OPTION_VALUES","description","onChangeEventHandler","optionList","displayLabel","help","MEASURE_TOOL_STYLE","STRAIGHT","ARC_TO_NEXT","ALL_ARCED","validationHandler","newVal","output","ONE_HOUR_IN_MILLISECONDS","ONE_MINUTE_IN_MILLISECONDS","ONE_SECOND_IN_MILLISECONDS","ONE_MILLISECOND_IN_HOURS","ONE_MILLISECOND_IN_MINUTES","ONE_MILLISECOND_IN_SECONDS","ALTITUDE_RESTRICTION","LAT_LONG","SPEED_RESTRICTION","SW","UNICODE","EARTH_RADIUS_KM","GRAVITATIONAL_MAGNITUDE","SHIFT_LEFT","SHIFT_RIGHT","F3","F4","F5","F6","F8","F9","F10","F11","F12","MIDDLE","INFO","WARNING","ERROR","FATAL","_mapValues2","AIRPORT_LIST","AIRPORT_LIST_ITEM","AIRPORT_LIST_ITEM_IS_ACTIVE","AIRPORT_SEARCH","ALL_SET","BLACKBOX","CALLSIGN","CHANGELOG_VERSION","CONTROL","DESTINATION","DIALOG_BODY","FAST_FORWARDS","FOLLOWING_STAR","FORM_VALUE","HIDDEN","LOOKING_GOOD","MESSAGE","NEGATIVE","NEXT","NOT_SELECTABLE","OPTIONS_DIALOG","TRAFFIC_DIALOG","TRAFFIC_DEFAULT_BUTTON","TRAFFIC_RESTART_BUTTON","PAUSED","PREV","SPEED_2","SPEED_5","STRIP","SWITCH_AIRPORT","TOGGLE_SPEECH","TOGGLE_STARS","WARN","WARNING_BUTTON","IDS","AIRPORT_GUIDE","AIRPORT_SWITCH","AUTOCOMPLETE","AUTOCOMPLETE_INPUT","AUTOCOMPLETE_OUTPUT","AUTOCOMPLETE_SPACER","AUTOCOMPLETE_SUGGESTS","CLOCK","LOADING","NAVAIDS_CANVAS","TOGGLE_OPTIONS","GITHUB_EXTERNAL_LINK","SCORE","SCORE_LOG","SIDEBAR","ATC_SPEECH_ENABLED","FIRST_RUN_TIME","_theme","_theme2","_theme3","CLASSIC","THEME_CLASSIC","THEME_DEFAULT","CELESTIAL","THEME_CELESTIAL","BLUE_VERY_LIGHT","BLUE_VERY_LIGHT_02","BLUE_LIGHT","BLUE_MEDIUM_LIGHT","BLUE_MEDIUM","BLUE_MEDIUM_DARK","BLUE_MEDIUM_DARK_01","BLUE_DARK","BLUE_VERY_DARK","BLUE_01","BLUE_02","GREEN_LIGHT","GREEN_DARK","GRAY_VERY_VERY_DARK","GRAY_BRIGHT","GRAY_DIM","GRAY_DIMMER","RED_BRIGHT","RED","RED_02","WHITE","WHITE_05","TRANSPARENT","_color","DATA_BLOCK_THEME","AIRCRAFT_MODEL_ICAO_CHARACTER_LIMIT","LEADER_LENGTH","SCRATCHPAD_CHARACTER_LIMIT","RADAR_TARGET_THEME","TRAILING_SEPARATION_INDICATOR_ENABLED","SCOPE_THEME","BACKGROUND","BLACK_07","CROSSHAIR_STROKE","HALO_DEFAULT_RADIUS_NM","HALO_MAX_RADIUS_NM","1000","2000","3000","4000","5000","6000","7000","8000","9000","10000","11000","12000","13000","14000","15000","16000","17000","18000","19000","20000","21000","22000","23000","24000","25000","WIND_VANE_THEME","DIRECTION_LINE_GUSTY","DIRECTION_LINE","INNER_RING_STROKE","OUTER_RING_FILL","WIND_SPEED_TEXT","_dataBlock","_radarTarget","_scope","_terrain","_windVane","TERRAIN_THEME","WIND_VANE","BLUE_05","BLUE_06","BLUE_09","BLUE_LIGHT_SOFT_03","GRAY_LIGHT","GRAY","GREEN_02","GREEN_05","GREEN_09","GREEN_LIGHT_PALE_002","GREEN_LIGHT_PALE_01","GREEN_LIGHT_PALE_025","GREEN_MEDIUM","RED_05","RED_06","RED_08","RED_09","RED_BRIGHT_07","WHITE_02","WHITE_04","WHITE_07","WHITE_08","WHITE_09","CHANGE_SPAWN_PATTERN","SETTINGS","UI_LOG","_LoadableContentModel","ContentQueueClass","isLoading","lowPriorityQueue","highPriorityQueue","queuedContent","startLoad","LoadableContentModel","TimeKeeper","_accumulatedDeltaTime","_elapsedFrameCount","_frameDeltaTime","_frameStartTimestamp","_frameStep","_futureTrackDeltaTimeCache","_isPaused","_previousFrameTimestamp","_startTimestamp","_simulationRate","isPaused","_isReturningFromPauseAndNotFutureTrack","deltaTime","nextPause","gameTimeSeconds","_incrementFrame","_calculateNextDeltaTime","_calculateFrameStep","nextTimewarp","deltaTimeOffsetBySimulationRate","_GameOptions","GAME_EVENTS_POINT_VALUES","EXTREME_CROSSWIND_OPERATION","EXTREME_TAILWIND_OPERATION","GO_AROUND","HIGH_CROSSWIND_OPERATION","HIGH_TAILWIND_OPERATION","ILLEGAL_APPROACH_CLEARANCE","LOCALIZER_INTERCEPT_ABOVE_GLIDESLOPE","NOT_CLEARED_ON_ROUTE","SEPARATION_LOSS","NO_TAKEOFF_SEPARATION","GAME_EVENTS_DESCRIPTION","GameController","focused","frequency","timeouts","last_score","score","createChildren","_onWindowBlurHandler","_onWindowBlur","_onWindowFocusHandler","_onWindowFocus","visibilityState","initializeEventCount","gameEvent","game_updateScore","updateScoreHistory","hoursPlayed","nextValue","updateSimulationRate","$fastForwards","game_timewarp_toggle","setPause","$pauseToggleElement","game_unpause","game_pause","functionToCall","gameTimeout","$scoreElement","points","scrollHeight","$htmlElement","updateTimers","currentGameTime","willRemoveTimerFromList","delayFireTime","callbackArguments","delayInterval","shouldRepeat","optionName","userSettingsValue","isIndicatorEnabled","GameOptions","_options","addGameOptions","addOption","optionProps","optionStorageKey","buildStorageName","storedOptionValue","optionValue","ScoreController","_onApproachHandler","_onApproach","_onLandingHandler","_onLanding","_onExitAirspaceHandler","_onExitAirspace","_penalizeLocalizerInterceptAltitude","_scoreWind","_scoreRunwaySeparation","_onAirspaceExitForArrival","_onAirspaceExitWithClearance","_onAirspaceExitWithoutClearance","getWindComponents","previousAircraft","isAboveGlidepath","_App","_SimClockController","_airportInfoTemplate","INFO_VIEW_SELECTORS","AirportInfoController","$template","$altimeterView","$clockView","$elevationView","$windView","altimeter","simClockController","AIRPORT_INFO_TEMPLATE","_onWindChangeHandler","onWindChange","_buildWindAndGustReadout","_generateHighAltimeterReading","_render","readout","buildClockReadout","newAngle","newSpeed","gustStrength","gustSpeed","windSpeed","SimClockController","realWorldCurrentZuluTime","elapsedTimeInMilliseconds","clockDate","hours","digits_integer","getHours","minutes","getMinutes","seconds","getSeconds","date","getTimezoneOffset","_EventModel","EventBus","_events","eventName","addObserver","_addObserver","_removeObserver","observers","_removeEventKey","removeObserver","EventModel","observer","hasObserver","mod","degrees","radians","startLatitude","startLongitude","endLatitude","endLongitude","startLatitudeRadians","endLatitudeRadians","distanceLatitude","distanceLongitude","expectedValue","lowerBound","EPSILON","upperBound","isWithin","firstValue","secondValue","lowerLimit","upperLimit","averageOfLimits","range1Min","targetValue","range1Max","range2Min","range2Max","range1_min","target_val","range1_max","range2_min","range2_max","randomOctal","limit1","limit2","oldLimit1","valueToClamp","bankAngle","headingThruTarget","vector","bearingToTarget","currentWaypointPosition","nextWaypointModel","turnRate","nominalNewCourse","nextWaypointRelativePosition","currentWaypointRelativePosition","_calculateNominalNewCourse","courseChange","_calculateCourseChangeInRadians","calcTurnInitiationDistanceNm","runwayAngle","calcTurnRadiusByTurnRate","v1","v2","vnorm","heading_angle","vectors","vdet","v3","vcp","cs","sn","pos1","dir1","pos2","dir2","deg_allowance","t_norm","u_norm","dists","vertex1","vertex2","edge","norm","x1","x2","x3","x4","y1","y2","y3","y4","vs","xi","yi","xj","yj","mpoly","ring","area_to_poly","rectPos","rectSize","bottom","MeasureLegModel","previousLeg","_bearing","_midPoint","_next","_previous","_calculateLegParameters","bearingToPoint","halfLength","angularDifference","_hasValidRadius","_MeasureLegModel","_FixModel","MeasurePath","_points","_style","_throwIfPointInvalid","hasLegs","_buildInitialTurnParameters","pointsList","hasStyleArced","initialValues","totalDistance","totalDuration","lastPoint","_getRelativePosition","initialLeg","lastValues","arcLength","_buildLabel","hasStyleInitialTurn","turnAngle","_getRelativePositionAtIndex","bearingToFix","bearingToCenter","centerToFixBearing","centerToFixDistance","outboundCourse","toPrecision","_MeasurePath","MeasureTool","_currentPath","_paths","setStyle","_onMeasureTooltyleChangeHandler","_onMeasureTooltyleChange","_throwIfNotMeasuring","removeLastPoint","isValid","AirwayModel","fixNames","_fixNameCollection","_icao","_verifyFixNamesExistInNavigationLibrary","indexOfEntryFix","indexOfExitFix","_getFixNamesFromIndexToIndex","startIndex","endIndex","numberOfFixes","fixList","removeItems","_buildFixModelsFromList","_resetFixModels","fixToAdd","spoken","hiddenFixes","lastResult","_lastResult","isRealFix","fixData","addFixToCollection","FixModel","_spoken","_fixData","lat","lon","_isObject2","_HoldModel","HoldCollection","holdJson","populateHolds","holds","containsHoldForFix","HoldModel","holdString","_buildHoldParameters","_AirwayModel","_HoldCollection","_ProcedureModel","NavigationLibrary","_airwayCollection","_holdCollection","_procedureCollection","_procedureLines","airways","fixes","sids","stars","_initializeReferencePosition","_initializeFixCollection","_initializeAirwayCollection","_initializeHoldCollection","_initializeProcedureCollection","_initializeSidLines","_initializeStarLines","_showConsoleWarningForUndefinedFixes","addItems","sidId","starId","getProceduresByType","_buildProcedureLine","procedures","procedureLines","mostRecentFixName","draw","positions","airwayId","procedureModel","fixOrNull","missingFixes","_getAllFixNamesInUse","airwayFixes","airwayModel","fixNameCollection","fixGroups","getAllFixNamesInUse","findRealFixes","ProcedureModel","_body","_draw","_entryPoints","_exitPoints","_procedureType","_altitude","_initEntriesAndExitsForSid","_initEntriesAndExitsForStar","rwy","exitPoints","entryPoints","entryFixNames","_getFixNamesFromEntries","bodyFixNames","_getFixNamesFromBody","exitFixNames","_getFixNamesFromExits","drawFixNames","_getFixNamesFromDraw","allFixNames","exitNames","maxIndex","entryNames","entryWaypointModels","_generateWaypointsForEntry","bodyWaypointModels","_generateWaypointsForBody","exitWaypointModels","_generateWaypointsForExit","restrictedFix","_getFixNameFromRestrictedFixArray","lineSegment","fixesInSegment","_this6","_RadarTargetModel","RadarTargetCollection","_assertThisInitialized","addRadarTargetModel","collectionWithAircraftRemoved","addRadarTargetModelForAircraftModel","_padEnd2","RadarTargetModel","_cruiseAltitude","_dataBlockLeaderDirection","_dataBlockLeaderLength","_hasFullDataBlock","_haloRadius","_hasSuppressedDataBlock","_interimAltitude","_isUnderOurControl","_scratchPadText","setDefaultScratchpad","dataBlockRowOne","aircraftAltitude","aircraftSpeed","paddedScratchPadText","scratchPadText","paddedAircraftModelIcao","aircraftModelIcao","leaderEndToBlockCenter","ctr","360","90","135","180","225","270","315","desiredDirection","desiredLength","argumentPieces","DATA_BLOCK_POSITION_MAP","removeHalo","_RadarTargetCollection","ScopeModel","_ptlLength","_sectorCollection","amendAltitude","validValues","nextIndex","sign","changePtlLength","functionArguments","findRadarTargetModelForAircraftReference","setScratchpad","haloDefaultRadius","haloMaxRadius","setHalo","_speechConstants","speech","synthesis","speechSynthesis","voice","VOICES","pitch","LOWER_PITCH","HIGHER_PITCH","NORMAL_SPEED","FASTER_SPEED","sentence","textToSay","singleSentence","utterance","SpeechSynthesisUtterance","getVoices","speak","$speechToggleElement","_SpawnPatternModel","_buildSpawnPatternModels","spawnPatterns","resetRate","itemToAdd","spawnPatternsByDepartureRunway","departureModels","spawnPattern","unknownRunway","departureRunwayId","spawnPatternsToPreSpawn","_Object$keys","rateMap","rateTotal","randomPosition","flightCategory","_buildPreSpawnAircraft2","_spawnPatternModelJsonValidator","SPAWN_METHOD","SpawnPatternModel","spawnPatternJson","scheduleId","_weightedAirlineList","_minimumAltitude","_maximumAltitude","defaultRate","cycleStartTime","period","variation","entrail","_aircraftPerHourUp","_aircraftPerHourDown","_uptime","spawnPatternModelJsonValidator","_extractSpeedFromJson","_generateSelfReferencedAirportPositionModel","_assembleAirlineNamesAndFrequencyForSpawn","_buildWeightedAirlineList","_buildPreSpawnAircraft","_calculateSurgePatternInitialDelayValues","_setCyclePeriodAndOffset","_initializePositionAndHeadingForAirborneAircraft","_setMinMaxAltitude","_findRandomIndexForList","_calculateRandomDelayPeriod","_calculateNextCyclicDelayPeriod","_calculateNextSurgeDelayPeriod","_calculateNextWaveDelayPeriod","isAirborneAtSpawn","createPreSpawnAircraftWithSpawnPatternModel","reducedSpawnRate","convertMinutesToSeconds","minimumDelay","_calculateMinimumDelayFromSpeed","averageDelay","maximumDelay","totalTime","progressInPeriod","intervalUp","intervalDown","timeRemaining","spawnPatternAirlines","spawnPatternAirline","weightedAirlineList","buildPreSpawnAircraft","_calculateSpawnHeading","firstWaypointPositionModel","secondWaypointPositionModel","SpawnScheduler","createAircraftWithSpawnPatternModel","createNextSchedule","createSchedulesFromList","spawnPatternModels","cycleStart","createPreSpawnAircraft","resetTimer","departureModelsToPreSpawn","getDepartureModelsForPreSpawn","getNextDelayValue","_createTimeout","timePassed","destroyTimer","timerStart","nextDelay","game_timeout","createAircraftAndRegisterNextTimeout","_calculateOffsetsToEachWaypointInRoute","waypointModelList","waypointOffsetMap","totalDistanceTraveled","previousWaypointModel","calculateDistanceToWaypoint","_calculateAltitudeOffsets","altitudeOffsets","altitudes","_calculateAltitudeAtOffset","offsetDistance","indexOfNextAltitudeRestriction","altitudeOffset","indexOfPreviousAltitudeRestriction","previousAltitudeRestriction","nextAltitudeRestriction","distanceBetweenRestrictions","altitudeChangeFromPreviousRestriction","_calculateIdealSpawnAltitudeAtOffset","spawnSpeed","spawnAltitude","firstAltitudeRestriction","minutesToFirstAltitudeRestriction","highestAcceptableAltitude","_preSpawn","spawnRate","entrailDistance","avg","previousWaypoint","distanceBetweenWaypoints","distanceToBoundary","distanceToAirspace","_calculateTotalDistanceAlongRoute","spawnOffsets","spawnPositionsAndAltitudes","_loop","spawnOffset","nextWaypointIndex","previousWaypointIndex","distanceFromPreviousWaypointToSpawnPoint","calculateBearingToWaypoint","spawnPositionModel","generateDynamicPositionFromBearingAndDistance","_calculateSpawnPositionsAndAltitudes","offsetClosestToAirspace","clampedEntrailDistance","smallestIntervalNm","largestIntervalNm","distanceAlongRoute","_assembleSpawnOffsets","currentAirport","_difference2","_keys2","ACCEPTED_KEYS","ACCEPTED_OPTIONAL_KEYS","ALL_KEYS","jsonKeys","unsupportedKeys","SettingsController","$dialog","$dialogBody","descriptions","getDescriptions","$container","_buildTextInputTemplate","_buildSelectInputTemplate","$version","_buildVersionTemplate","$label","$optionSelector","$selector","selectedOption","$optionSelectTempalate","_buildSelectOptionTemplate","change","$currentTarget","setOptionByName","optionData","$unit","$value","simulatorVersion","GLOBAL","VERSION","TrafficRateController","_rates","_wind","_buildDialogBody","_onFormResetHandler","_onTrafficResetHandler","_onChangeWindDirectionHandler","onChangeWindDirection","_onChangeWindSpeedHandler","onChangeWindSpeed","onFormReset","resetRates","$windDirSlider","_buildWindDirectionSlider","$windSpdSlider","_buildWindSpeedSlider","_Object$values","$formElement","_buildSlider","_onChangeFlightCategoryRate","_Object$values2","findSpawnPatternsByCategory","_buildInputField","_onChangeSpawnPatternRate","onChangeMethod","onChangeHandler","rateKey","$target","$nextDirection","$nextSpeed","$output","$childOutput","_updateRate","nextRate","INIT_POSITION_PADDING","TutorialStep","side","_flow2","_TutorialStep","TutorialView","$tutorialView","$tutorialPrevious","$tutorialNext","$toggleTutorial","layout","steps","liverefs","_onTutorialToggleHandler","tutorial_toggle","tutorial_prev","tutorial_next","tutorial_update_content","departureAircraft","_loadTutorialStep","jqxhr","tutorial_step","replacement","objFetcher","propFetcher","_getPropFetcher","propPath","replaceFunc","findWhat","desc","isTutorialDialogOpen","tutorial_close","tutorial_open","tutorial_get","outerWidth","outerHeight","tutorial_move","gameTimeInSeconds","_SettingsController","_TrafficRateController","_VideoMapController","_TutorialView","UiController","tutorialView","settingsController","trafficRateController","videoMapController","$airportDialog","$airportDialogBody","$airportGuideDialog","$airportSearch","$changelogDialog","$githubLinkElement","$log","chatLogDuration","$pausedImg","$switchAirport","$toggleAirportGuide","$toggleAirspace","$toggleChangelog","$toggleLabels","$toggleOptions","$togglePause","$toggleRestrictedAreas","$toggleSids","$toggleSpeech","$toggleStars","$toggleTerrain","$toggleTraffic","$toggleVideoMap","$tutorialDialog","onChatLogDurationChangeHandler","onChatLogDurationChange","_onInitiateAirportSearch","onClickGithubLink","onToggleAirportList","onToggleAirportGuide","onToggleAirspace","onToggleChangelog","onToggleLabels","onToggleOptions","onToggleRestrictedAreas","onToggleSids","speech_toggle","onToggleStars","onToggleTerrain","onToggleTraffic","onToggleVideoMap","tutorial_init_pre","_buildAirportList","uiLogView","isAirportGuideDialogOpen","isAirportSelectionDialogOpen","isChangelogDialogOpen","isDialogOpen","_onClickCloseAirportDialog","difficulty","_AirportController$ai","_buildAirportListIconForDifficultyLevel","$airportListItem","_buildAirportListItemTemplate","difficultyLevel","icon","repeat","$previousActiveAirport","_onClickOpenAirportDialog","toggleDialog","recordClickOnOutboundLink","VideoMapController","_selectedMaps","_onChangeSelectedMapsHandler","onChangeSelectedMaps","getMapNames","getVisibleMapNames","mapName","isChecked","_buildRow","_addMap","_removeMap","_RegexGroup","_autocompleteConstants","_AutocompleteCommandTemplate","_AutocompleteArgumentTemplate","AutocompleteController","$autocomplete","$autocompleteInput","$autocompleteOutput","$autocompleteSpacer","$autocompleteSuggests","_inputController","commandDefs","commandType","AUTOCOMPLETE_COMMAND_TYPE","initialRange","targetRange","highlighted","inputRevert","commandTemplate","AUTOCOMPLETE_COMMAND_TEMPLATE","argumentTemplate","AUTOCOMPLETE_ARGUMENT_TEMPLATE","_fetchConfig","onConfigFetchedHandler","_onConfigFetched","onAutocompleteInputChangeHandler","_onAutocompleteInputChange","onSuggestionClickHandler","_onSuggestionClick","commandDef","variants","variant","paramsets","paramset","candidate","_buildRegexOrGroup","regexStrs","flags","cmdstr","reversePrefix","AUTOCOMPLETE_REGEXP","_AUTOCOMPLETE_REGEXP$2","_growTargetRangeLeft","_AUTOCOMPLETE_REGEXP$","leftBoundary","_growTargetRangeRight","firstChar","firstToken","extraPad","startWithoutCallsign","_updateState","AUTOCOMPLETE_INPUT_PLACEHOLDER","$highlightOld","$highlightNew","$highlightOldPrev","$highlightOldNext","trimRight","trimLeft","paramstr","highlightPrev","highlightNext","selectCommand","commit","revert","currentAutocompleteInputValue","inputLength","_matchCommands","_validateArgs","_findCandidateCommands","findAndHighlight","$highlight","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","startsWith","explanation","explain","altkeys","validity","AUTOCOMPLETE_PARAMS_VALIDITY","RegexGroup","regexes","regexStr","regex","AudioContext","webkitAudioContext","fromCodePoint","units","_char","randomWeight","entryFix","procedureOrAirway","exitFix","_parseRestriction","restrictionText","multiplier","_match","_clone2","CARDINAL_DIRECTION","radio_names","g","h","z","-",".","radio_cardinalDir_names","nw","sw","se","ne","radio_runway_names","digits","force","shorten","trailingDigits","getGrouping","groupable","digit1","digit2","firstDigit","_s","thisIsDigit","lastWasDigit","letterOrNumber","alphanumeric","alt_s","CATEGORIES","getCardinalDirection","cardinalDirection","TRANSPONDER_CODES","reserved","_isReserved","_getCodes","testAgainst","_isMatch","randint","endsWith","_startsWith2","NM_FT","NM_KM","M_FT","KM_FT","KN_MS","FL_FT","NUMBER_CONSTANTS","FULL_CIRCLE_DEGREES","m_ft","decimalDegrees","parsedElevation","elevationUnit"],"mappings":"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,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG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,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,IAAI,CAAC9d,EAAE,CAAC,EAAE,GAAG+c,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,IAAI,CAAC9d,EAAE,CAAC,EAAE,GAAG+c,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,IAAI,CAAC9d,EAAE,CAAC,EAAE,GAAG+c,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,IAAI,CAAC9d,EAAE,CAAC,EAAE,GAAG+c,GAAG,CAAC,EAAE,GAAGC,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,GAAGE,GAAG,CAAC,EAAE,G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AE,IAAIG,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIE,GAAG,CAAC,EAAE,IAAIE,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,KAAK,CAACvB,GAAG,CAAC,EAAE,IAAIE,GAAG,CAAC,EAAE,IAAIO,GAAG,CAAC,EAAE,IAAIG,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIE,GAAG,CAAC,EAAE,IAAIE,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,KAAK,CAACvB,GAAG,CAAC,EAAE,IAAIE,GAAG,CAAC,EAAE,IAAIO,GAAG,CAAC,EAAE,IAAIG,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIE,GAAG,CAAC,EAAE,IAAIE,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,KAAK,CAACvB,GAAG,CAAC,EAAE,IAAIE,GAAG,CAAC,EAAE,IAAIO,GAAG,CAAC,EAAE,IAAIG,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIE,GAAG,CAAC,EAAE,IAAIE,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,KAAK,CAACvB,GAAG,CAAC,EAAE,IAAIE,GAAG,CAAC,EAAE,IAAIO,GAAG,CAAC,EAAE,IAAIG,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIC,GAAG,CAAC,EAAE,IAAIE,GAAG,CAAC,EA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AA,IACAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAEAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,IAAAC,IAAA,IAAAC,IAAA,IACAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,MAaAhjF,OAAAJ,QAAAq3E,+ECtEA,IAAA1Q,UAAAjnE,QAAA,gBAEAquB,eAAA,WACA,IACA,IAAAotB,KAAAwrB,UAAA74C,OAAA,kBAEA,OADAqtB,KAAA,GAAA,GAAA,IACAA,KACA,MAAAh8C,KALA,GAQAiB,OAAAJ,QAAA+tB,4ECVA,IAAAk7C,SAAAvpE,QAAA,eACA2jF,UAAA3jF,QAAA,gBACAmuE,SAAAnuE,QAAA,eAiFAU,OAAAJ,QA9DA,SAAA4rB,MAAAvhB,MAAA2iE,QAAAC,WAAAyD,UAAAz5D,OACA,IAAAqsE,UAjBA,EAiBAtW,QACAuW,UAAA33D,MAAA1rB,OACA4vE,UAAAzlE,MAAAnK,OAEA,GAAAqjF,WAAAzT,aAAAwT,WAAAC,UAAAzT,WACA,OAAA,EAGA,IAAA0T,WAAAvsE,MAAA8c,IAAAnI,OACA63D,WAAAxsE,MAAA8c,IAAA1pB,OACA,GAAAm5E,YAAAC,WACA,OAAAD,YAAAn5E,OAAAo5E,YAAA73D,MAEA,IAAArS,OAAA,EACA9N,QAAA,EACAykE,KA/BA,EA+BAlD,QAAA,IAAA/D,cAAAnjE,EAMA,IAJAmR,MAAAuc,IAAA5H,MAAAvhB,OACA4M,MAAAuc,IAAAnpB,MAAAuhB,SAGArS,MAAAgqE,WAAA,CACA,IAAAG,SAAA93D,MAAArS,OACAoqE,SAAAt5E,MAAAkP,OAEA,GAAA0zD,WACA,IAAA2W,SAAAN,UACArW,WAAA0W,SAAAD,SAAAnqE,MAAAlP,MAAAuhB,MAAA3U,OACAg2D,WAAAyW,SAAAC,SAAApqE,MAAAqS,MAAAvhB,MAAA4M,OAEA,QAAAnR,IAAA89E,SAAA,CACA,GAAAA,SACA,SAEAn4E,QAAA,EACA,MAGA,GAAAykE,MACA,IAAAmT,UAAAh5E,MAAA,SAAAs5E,SAAA5T,UACA,IAAAlC,SAAAqC,KAAAH,YACA2T,WAAAC,UAAAjT,UAAAgT,SAAAC,SAAA3W,QAAAC,WAAAh2D,QACA,OAAAi5D,KAAAxpE,KAAAqpE,YAEA,CACAtkE,QAAA,EACA,YAEA,GACAi4E,WAAAC,WACAjT,UAAAgT,SAAAC,SAAA3W,QAAAC,WAAAh2D,OACA,CACAxL,QAAA,EACA,OAKA,OAFAwL,MAAA,OAAA2U,OACA3U,MAAA,OAAA5M,OACAoB,uGChFA,IAAA88B,OAAA7oC,QAAA,aACA+pE,WAAA/pE,QAAA,iBACAonC,GAAApnC,QAAA,QACA6wE,YAAA7wE,QAAA,kBACAmkF,WAAAnkF,QAAA,iBACAq0E,WAAAr0E,QAAA,iBAqBA+zE,YAAAlrC,OAAAA,OAAAhlC,eAAAuC,EACAmvE,cAAAxB,YAAAA,YAAAyB,aAAApvE,EAoFA1F,OAAAJ,QAjEA,SAAA6rB,OAAAxhB,MAAA6lC,IAAA88B,QAAAC,WAAAyD,UAAAz5D,OACA,OAAAi5B,KACA,IAzBA,oBA0BA,GAAArkB,OAAAwoD,YAAAhqE,MAAAgqE,YACAxoD,OAAAgpD,YAAAxqE,MAAAwqE,WACA,OAAA,EAEAhpD,OAAAA,OAAA6oD,OACArqE,MAAAA,MAAAqqE,OAEA,IAlCA,uBAmCA,QAAA7oD,OAAAwoD,YAAAhqE,MAAAgqE,aACA3D,UAAA,IAAAjH,WAAA59C,QAAA,IAAA49C,WAAAp/D,SAKA,IAnDA,mBAoDA,IAnDA,gBAoDA,IAjDA,kBAoDA,OAAAy8B,IAAAjb,QAAAxhB,OAEA,IAxDA,iBAyDA,OAAAwhB,OAAAhoB,MAAAwG,MAAAxG,MAAAgoB,OAAA4B,SAAApjB,MAAAojB,QAEA,IAxDA,kBAyDA,IAvDA,kBA2DA,OAAA5B,QAAAxhB,MAAA,GAEA,IAjEA,eAkEA,IAAAy5E,QAAAD,WAEA,IAjEA,eAkEA,IAAAP,UA5EA,EA4EAtW,QAGA,GAFA8W,UAAAA,QAAA/P,YAEAloD,OAAA4H,MAAAppB,MAAAopB,OAAA6vD,UACA,OAAA,EAGA,IAAAhW,QAAAr2D,MAAA8c,IAAAlI,QACA,GAAAyhD,QACA,OAAAA,SAAAjjE,MAEA2iE,SAtFA,EAyFA/1D,MAAAuc,IAAA3H,OAAAxhB,OACA,IAAAoB,OAAA8kE,YAAAuT,QAAAj4D,QAAAi4D,QAAAz5E,OAAA2iE,QAAAC,WAAAyD,UAAAz5D,OAEA,OADAA,MAAA,OAAA4U,QACApgB,OAEA,IAnFA,kBAoFA,GAAAwpE,cACA,OAAAA,cAAAh1E,KAAA4rB,SAAAopD,cAAAh1E,KAAAoK,OAGA,OAAA,uJC5GA,IAAAyhE,WAAApsE,QAAA,iBASA+I,eAHAqlB,OAAAvqB,UAGAkF,eAgFArI,OAAAJ,QAjEA,SAAA6rB,OAAAxhB,MAAA2iE,QAAAC,WAAAyD,UAAAz5D,OACA,IAAAqsE,UAtBA,EAsBAtW,QACA+W,SAAAjY,WAAAjgD,QACAm4D,UAAAD,SAAA7jF,OAIA,GAAA8jF,WAHAlY,WAAAzhE,OACAnK,SAEAojF,UACA,OAAA,EAGA,IADA,IAAA/pE,MAAAyqE,UACAzqE,SAAA,CACA,IAAA/Q,IAAAu7E,SAAAxqE,OACA,KAAA+pE,UAAA96E,OAAA6B,MAAA5B,eAAAxI,KAAAoK,MAAA7B,MACA,OAAA,EAIA,IAAAy7E,WAAAhtE,MAAA8c,IAAAlI,QACA43D,WAAAxsE,MAAA8c,IAAA1pB,OACA,GAAA45E,YAAAR,WACA,OAAAQ,YAAA55E,OAAAo5E,YAAA53D,OAEA,IAAApgB,QAAA,EACAwL,MAAAuc,IAAA3H,OAAAxhB,OACA4M,MAAAuc,IAAAnpB,MAAAwhB,QAGA,IADA,IAAAq4D,SAAAZ,YACA/pE,MAAAyqE,WAAA,CAEA,IAAA/Y,SAAAp/C,OADArjB,IAAAu7E,SAAAxqE,QAEAoqE,SAAAt5E,MAAA7B,KAEA,GAAAykE,WACA,IAAA2W,SAAAN,UACArW,WAAA0W,SAAA1Y,SAAAziE,IAAA6B,MAAAwhB,OAAA5U,OACAg2D,WAAAhC,SAAA0Y,SAAAn7E,IAAAqjB,OAAAxhB,MAAA4M,OAGA,UAAAnR,IAAA89E,SACA3Y,WAAA0Y,UAAAjT,UAAAzF,SAAA0Y,SAAA3W,QAAAC,WAAAh2D,OACA2sE,UACA,CACAn4E,QAAA,EACA,MAEAy4E,WAAAA,SAAA,eAAA17E,KAEA,GAAAiD,SAAAy4E,SAAA,CACA,IAAAC,QAAAt4D,OAAAroB,YACA4gF,QAAA/5E,MAAA7G,YAGA2gF,SAAAC,SACA,gBAAAv4D,QAAA,gBAAAxhB,SACA,mBAAA85E,SAAAA,mBAAAA,SACA,mBAAAC,SAAAA,mBAAAA,WACA34E,QAAA,GAKA,OAFAwL,MAAA,OAAA4U,QACA5U,MAAA,OAAA5M,OACAoB,sECtFA,IAAA44E,QAAA3kF,QAAA,aACAyzE,SAAAzzE,QAAA,eACA0zE,YAAA1zE,QAAA,kBAaAU,OAAAJ,QAJA,SAAAm7C,MACA,OAAAi4B,YAAAD,SAAAh4B,UAAAr1C,EAAAu+E,SAAAlpC,KAAA,wHCXA,IAAAmpC,WAAA,iBAAAt0D,QAAAA,QAAAA,OAAAlC,SAAAA,QAAAkC,OAEA5vB,OAAAJ,QAAAskF,wKCHA,IAAAC,eAAA7kF,QAAA,qBACA41E,WAAA51E,QAAA,iBACAkgC,KAAAlgC,QAAA,UAaAU,OAAAJ,QAJA,SAAA6rB,QACA,OAAA04D,eAAA14D,OAAA+T,KAAA01C,+GCZA,IAAAiP,eAAA7kF,QAAA,qBACA61E,aAAA71E,QAAA,mBACAyrE,OAAAzrE,QAAA,YAcAU,OAAAJ,QAJA,SAAA6rB,QACA,OAAA04D,eAAA14D,OAAAs/C,OAAAoK,qHCbA,IAAAiP,QAAA9kF,QAAA,cACAwxB,KAAAxxB,QAAA,UASA4/C,QAAAklC,QAAA,SAAArpC,MACA,OAAAqpC,QAAAzwD,IAAAonB,OADAjqB,KAIA9wB,OAAAJ,QAAAs/C,gFCdA,IAAAmlC,UAAA/kF,QAAA,gBAMA+I,eAHAqlB,OAAAvqB,UAGAkF,eAwBArI,OAAAJ,QAfA,SAAAm7C,MAKA,IAJA,IAAA1vC,OAAA0vC,KAAAt3C,KAAA,GACA+nB,MAAA64D,UAAAh5E,QACAvL,OAAAuI,eAAAxI,KAAAwkF,UAAAh5E,QAAAmgB,MAAA1rB,OAAA,EAEAA,UAAA,CACA,IAAA4I,KAAA8iB,MAAA1rB,QACAwkF,UAAA57E,KAAAqyC,KACA,GAAA,MAAAupC,WAAAA,WAAAvpC,KACA,OAAAryC,KAAAjF,KAGA,OAAA4H,qEC3BA,IAAAk5E,UAAAjlF,QAAA,gBAiBAU,OAAAJ,QAPA,SAAAqU,IAAA7L,KACA,IAAAM,KAAAuL,IAAA60D,SACA,OAAAyb,UAAAn8E,KACAM,KAAA,iBAAAN,IAAA,SAAA,QACAM,KAAAuL,kECdA,IAAA0+D,mBAAArzE,QAAA,yBACAkgC,KAAAlgC,QAAA,UAsBAU,OAAAJ,QAbA,SAAA6rB,QAIA,IAHA,IAAApgB,OAAAm0B,KAAA/T,QACA3rB,OAAAuL,OAAAvL,OAEAA,UAAA,CACA,IAAAsI,IAAAiD,OAAAvL,QACAwI,MAAAmjB,OAAArjB,KAEAiD,OAAAvL,QAAA,CAAAsI,IAAAE,MAAAqqE,mBAAArqE,QAEA,OAAA+C,2FCpBA,IAAAm5E,aAAAllF,QAAA,mBACAmlF,SAAAnlF,QAAA,eAeAU,OAAAJ,QALA,SAAA6rB,OAAArjB,KACA,IAAAE,MAAAm8E,SAAAh5D,OAAArjB,KACA,OAAAo8E,aAAAl8E,OAAAA,WAAA5C,qFCbA,IAGAg/E,aAHAplF,QAAA,aAGAqlF,CAAAj3D,OAAA+W,eAAA/W,QAEA1tB,OAAAJ,QAAA8kF,wECLA,IAAAv8C,OAAA7oC,QAAA,aAGAoyE,YAAAhkD,OAAAvqB,UAGAkF,eAAAqpE,YAAArpE,eAOAu8E,qBAAAlT,YAAA9tE,SAGAqrE,eAAA9mC,OAAAA,OAAA+mC,iBAAAxpE,EA6BA1F,OAAAJ,QApBA,SAAA0I,OACA,IAAAu8E,MAAAx8E,eAAAxI,KAAAyI,MAAA2mE,gBACAn/B,IAAAxnC,MAAA2mE,gBAEA,IAEA,IAAA6V,WADAx8E,MAAA2mE,qBAAAvpE,GAEA,MAAA3G,IAEA,IAAAsM,OAAAu5E,qBAAA/kF,KAAAyI,OAQA,OAPAw8E,WACAD,MACAv8E,MAAA2mE,gBAAAn/B,WAEAxnC,MAAA2mE,iBAGA5jE,iEC1CA,IAAA05E,YAAAzlF,QAAA,kBACA0lF,UAAA1lF,QAAA,eAMA2vB,qBAHAvB,OAAAvqB,UAGA8rB,qBAGAg2D,iBAAAv3D,OAAAw3D,sBASAhQ,WAAA+P,iBAAA,SAAAx5D,QACA,OAAA,MAAAA,OACA,IAEAA,OAAAiC,OAAAjC,QACAs5D,YAAAE,iBAAAx5D,QAAA,SAAAvE,QACA,OAAA+H,qBAAApvB,KAAA4rB,OAAAvE,YANA89D,UAUAhlF,OAAAJ,QAAAs1E,2FC7BA,IAAA7G,UAAA/uE,QAAA,gBACAolF,aAAAplF,QAAA,mBACA41E,WAAA51E,QAAA,iBACA0lF,UAAA1lF,QAAA,eAYA61E,aATAznD,OAAAw3D,sBASA,SAAAz5D,QAEA,IADA,IAAApgB,OAAA,GACAogB,QACA4iD,UAAAhjE,OAAA6pE,WAAAzpD,SACAA,OAAAi5D,aAAAj5D,QAEA,OAAApgB,QANA25E,UASAhlF,OAAAJ,QAAAu1E,qICxBA,IAAA7O,SAAAhnE,QAAA,eACAuzB,IAAAvzB,QAAA,UACAmpE,QAAAnpE,QAAA,cACAopE,IAAAppE,QAAA,UACAgqE,QAAAhqE,QAAA,cACAywE,WAAAzwE,QAAA,iBACAiyE,SAAAjyE,QAAA,eAYA6lF,mBAAA5T,SAAAjL,UACA8e,cAAA7T,SAAA1+C,KACAwyD,kBAAA9T,SAAA9I,SACA6c,cAAA/T,SAAA7I,KACA6c,kBAAAhU,SAAAjI,SASAsC,OAAAmE,YAGAzJ,UAnBA,qBAmBAsF,OAAA,IAAAtF,SAAA,IAAAkf,YAAA,MACA3yD,KA1BA,gBA0BA+4C,OAAA,IAAA/4C,MACA41C,SAzBA,oBAyBAmD,OAAAnD,QAAAlvB,YACAmvB,KAzBA,gBAyBAkD,OAAA,IAAAlD,MACAY,SAzBA,oBAyBAsC,OAAA,IAAAtC,YACAsC,OAAA,SAAAtjE,OACA,IAAA+C,OAAA0kE,WAAAznE,OACAm/B,KA/BA,mBA+BAp8B,OAAA/C,MAAAlF,iBAAAsC,EACA+/E,WAAAh+C,KAAA8pC,SAAA9pC,MAAA,GAEA,GAAAg+C,WACA,OAAAA,YACA,KAAAN,mBAAA,MA/BA,oBAgCA,KAAAC,cAAA,MAtCA,eAuCA,KAAAC,kBAAA,MArCA,mBAsCA,KAAAC,cAAA,MArCA,eAsCA,KAAAC,kBAAA,MArCA,mBAwCA,OAAAl6E,SAIArL,OAAAJ,QAAAgsE,+JC7CA5rE,OAAAJ,QAJA,SAAA6rB,OAAArjB,KACA,OAAA,MAAAqjB,YAAA/lB,EAAA+lB,OAAArjB,iDCTA,IAAAumE,SAAArvE,QAAA,eACAuqE,YAAAvqE,QAAA,iBACA6G,QAAA7G,QAAA,aACAyqE,QAAAzqE,QAAA,cACAuyE,SAAAvyE,QAAA,cACAsvE,MAAAtvE,QAAA,YAiCAU,OAAAJ,QAtBA,SAAA6rB,OAAA9mB,KAAA+gF,SAOA,IAJA,IAAAvsE,OAAA,EACArZ,QAHA6E,KAAAgqE,SAAAhqE,KAAA8mB,SAGA3rB,OACAuL,QAAA,IAEA8N,MAAArZ,QAAA,CACA,IAAAsI,IAAAwmE,MAAAjqE,KAAAwU,QACA,KAAA9N,OAAA,MAAAogB,QAAAi6D,QAAAj6D,OAAArjB,MACA,MAEAqjB,OAAAA,OAAArjB,KAEA,OAAAiD,UAAA8N,OAAArZ,OACAuL,UAEAvL,OAAA,MAAA2rB,OAAA,EAAAA,OAAA3rB,SACA+xE,SAAA/xE,SAAAiqE,QAAA3hE,IAAAtI,UACAqG,QAAAslB,SAAAo+C,YAAAp+C,2JClCA,IAWAk6D,aAAAt7C,OAAA,uFAaArqC,OAAAJ,QAJA,SAAAuO,QACA,OAAAw3E,aAAA/gF,KAAAuJ,oDCrBA,IAAAy3E,iBAAA,qEAaA5lF,OAAAJ,QAJA,SAAAuO,QACA,OAAAy3E,iBAAAhhF,KAAAuJ,oDCXA,IAAA03E,aAAAvmF,QAAA,mBAcAU,OAAAJ,QALA,WACAkD,KAAAgmE,SAAA+c,aAAAA,aAAA,MAAA,GACA/iF,KAAAuwB,KAAA,mECKArzB,OAAAJ,QANA,SAAAwI,KACA,IAAAiD,OAAAvI,KAAA6vB,IAAAvqB,aAAAtF,KAAAgmE,SAAA1gE,KAEA,OADAtF,KAAAuwB,MAAAhoB,OAAA,EAAA,EACAA,mDCbA,IAAAw6E,aAAAvmF,QAAA,mBASA+I,eAHAqlB,OAAAvqB,UAGAkF,eAoBArI,OAAAJ,QATA,SAAAwI,KACA,IAAAM,KAAA5F,KAAAgmE,SACA,GAAA+c,aAAA,CACA,IAAAx6E,OAAA3C,KAAAN,KACA,MArBA,8BAqBAiD,YAAA3F,EAAA2F,OAEA,OAAAhD,eAAAxI,KAAA6I,KAAAN,KAAAM,KAAAN,UAAA1C,mEC1BA,IAAAmgF,aAAAvmF,QAAA,mBAMA+I,eAHAqlB,OAAAvqB,UAGAkF,eAgBArI,OAAAJ,QALA,SAAAwI,KACA,IAAAM,KAAA5F,KAAAgmE,SACA,OAAA+c,kBAAAngF,IAAAgD,KAAAN,KAAAC,eAAAxI,KAAA6I,KAAAN,sECnBA,IAAAy9E,aAAAvmF,QAAA,mBAsBAU,OAAAJ,QAPA,SAAAwI,IAAAE,OACA,IAAAI,KAAA5F,KAAAgmE,SAGA,OAFAhmE,KAAAuwB,MAAAvwB,KAAA6vB,IAAAvqB,KAAA,EAAA,EACAM,KAAAN,KAAAy9E,mBAAAngF,IAAA4C,MAfA,4BAeAA,MACAxF,sEClBA,IAGAuF,eAHAqlB,OAAAvqB,UAGAkF,eAqBArI,OAAAJ,QAZA,SAAA4rB,OACA,IAAA1rB,OAAA0rB,MAAA1rB,OACAuL,OAAA,IAAAmgB,MAAApoB,YAAAtD,QAOA,OAJAA,QAAA,iBAAA0rB,MAAA,IAAAnjB,eAAAxI,KAAA2rB,MAAA,WACAngB,OAAA8N,MAAAqS,MAAArS,MACA9N,OAAA/K,MAAAkrB,MAAAlrB,OAEA+K,mDCtBA,IAAAkpE,iBAAAj1E,QAAA,uBACAwmF,cAAAxmF,QAAA,oBACAymF,YAAAzmF,QAAA,kBACA0mF,YAAA1mF,QAAA,kBACA2mF,gBAAA3mF,QAAA,sBAwEAU,OAAAJ,QApCA,SAAA6rB,OAAAqkB,IAAAg9B,QACA,IAAArlC,KAAAhc,OAAAroB,YACA,OAAA0sC,KACA,IA3BA,uBA4BA,OAAAykC,iBAAA9oD,QAEA,IAvCA,mBAwCA,IAvCA,gBAwCA,OAAA,IAAAgc,MAAAhc,QAEA,IAjCA,oBAkCA,OAAAq6D,cAAAr6D,OAAAqhD,QAEA,IAnCA,wBAmCA,IAlCA,wBAmCA,IAlCA,qBAkCA,IAjCA,sBAiCA,IAhCA,sBAiCA,IAhCA,sBAgCA,IA/BA,6BA+BA,IA9BA,uBA8BA,IA7BA,uBA8BA,OAAAmZ,gBAAAx6D,OAAAqhD,QAEA,IAjDA,eAkDA,OAAA,IAAArlC,KAEA,IAnDA,kBAoDA,IAjDA,kBAkDA,OAAA,IAAAA,KAAAhc,QAEA,IAtDA,kBAuDA,OAAAs6D,YAAAt6D,QAEA,IAxDA,eAyDA,OAAA,IAAAgc,KAEA,IAzDA,kBA0DA,OAAAu+C,YAAAv6D,wKCxEA,IAAAq7C,WAAAxnE,QAAA,iBACAolF,aAAAplF,QAAA,mBACA4yE,YAAA5yE,QAAA,kBAeAU,OAAAJ,QANA,SAAA6rB,QACA,MAAA,mBAAAA,OAAAroB,aAAA8uE,YAAAzmD,QAEA,GADAq7C,WAAA4d,aAAAj5D,kHCbA,IAAA0c,OAAA7oC,QAAA,aACAuqE,YAAAvqE,QAAA,iBACA6G,QAAA7G,QAAA,aAGA4mF,iBAAA/9C,OAAAA,OAAAg+C,wBAAAzgF,EAcA1F,OAAAJ,QALA,SAAA0I,OACA,OAAAnC,QAAAmC,QAAAuhE,YAAAvhE,WACA49E,kBAAA59E,OAAAA,MAAA49E,iHCfA,IAGAE,SAAA,mBAoBApmF,OAAAJ,QAVA,SAAA0I,MAAAxI,QACA,IAAAyE,YAAA+D,MAGA,SAFAxI,OAAA,MAAAA,OAfA,iBAeAA,UAGA,UAAAyE,MACA,UAAAA,MAAA6hF,SAAAxhF,KAAA0D,UACA,EAAAA,OAAAA,MAAA,GAAA,GAAAA,MAAAxI,mDCrBA,IAAA4mC,GAAApnC,QAAA,QACA6mC,YAAA7mC,QAAA,iBACAyqE,QAAAzqE,QAAA,cACA2sE,SAAA3sE,QAAA,cA0BAU,OAAAJ,QAdA,SAAA0I,MAAA6Q,MAAAsS,QACA,IAAAwgD,SAAAxgD,QACA,OAAA,EAEA,IAAAlnB,YAAA4U,MACA,SAAA,UAAA5U,KACA4hC,YAAA1a,SAAAs+C,QAAA5wD,MAAAsS,OAAA3rB,QACA,UAAAyE,MAAA4U,SAAAsS,SAEAib,GAAAjb,OAAAtS,OAAA7Q,mHCxBA,IAAAnC,QAAA7G,QAAA,aACA6zE,SAAA7zE,QAAA,cAGA+mF,aAAA,mDACAC,cAAA,QAuBAtmF,OAAAJ,QAbA,SAAA0I,MAAAmjB,QACA,GAAAtlB,QAAAmC,OACA,OAAA,EAEA,IAAA/D,YAAA+D,MACA,QAAA,UAAA/D,MAAA,UAAAA,MAAA,WAAAA,MACA,MAAA+D,QAAA6qE,SAAA7qE,SAGAg+E,cAAA1hF,KAAA0D,SAAA+9E,aAAAzhF,KAAA0D,QACA,MAAAmjB,QAAAnjB,SAAAolB,OAAAjC,oFCXAzrB,OAAAJ,QAPA,SAAA0I,OACA,IAAA/D,YAAA+D,MACA,MAAA,UAAA/D,MAAA,UAAAA,MAAA,UAAAA,MAAA,WAAAA,KACA,cAAA+D,MACA,OAAAA,kDCXA,IAAA0+D,YAAA1nE,QAAA,kBACA4/C,QAAA5/C,QAAA,cACAu2E,YAAAv2E,QAAA,kBACAinF,OAAAjnF,QAAA,mBAwBAU,OAAAJ,QAdA,SAAAm7C,MACA,IAAAwqB,SAAAsQ,YAAA96B,MACA9wC,MAAAs8E,OAAAhhB,UAEA,GAAA,mBAAAt7D,SAAAs7D,YAAAyB,YAAA7jE,WACA,OAAA,EAEA,GAAA43C,OAAA9wC,MACA,OAAA,EAEA,IAAAvB,KAAAw2C,QAAAj1C,OACA,QAAAvB,MAAAqyC,OAAAryC,KAAA,8HCxBA,IAIAg2C,IAJA02B,WAAA91E,QAAA,iBAGAknF,YACA9nC,IAAA,SAAA7xB,KAAAuoD,YAAAA,WAAA51C,MAAA41C,WAAA51C,KAAAinD,UAAA,KACA,iBAAA/nC,IAAA,GAcA1+C,OAAAJ,QAJA,SAAAm7C,MACA,QAAAyrC,YAAAA,cAAAzrC,oECfA,IAAA22B,YAAAhkD,OAAAvqB,UAgBAnD,OAAAJ,QAPA,SAAA0I,OACA,IAAAm/B,KAAAn/B,OAAAA,MAAAlF,YAGA,OAAAkF,SAFA,mBAAAm/B,MAAAA,KAAAtkC,WAAAuuE,yDCZA,IAAAzF,SAAA3sE,QAAA,cAcAU,OAAAJ,QAJA,SAAA0I,OACA,OAAAA,OAAAA,QAAA2jE,SAAA3jE,mECCAtI,OAAAJ,QALA,WACAkD,KAAAgmE,SAAA,GACAhmE,KAAAuwB,KAAA,8CCTA,IAAAqzD,aAAApnF,QAAA,mBAMAgW,OAHAwS,MAAA3kB,UAGAmS,OA4BAtV,OAAAJ,QAjBA,SAAAwI,KACA,IAAAM,KAAA5F,KAAAgmE,SACA3vD,MAAAutE,aAAAh+E,KAAAN,KAEA,QAAA+Q,MAAA,IAIAA,OADAzQ,KAAA5I,OAAA,EAEA4I,KAAAgP,MAEApC,OAAAzV,KAAA6I,KAAAyQ,MAAA,KAEArW,KAAAuwB,KACA,oEC/BA,IAAAqzD,aAAApnF,QAAA,mBAkBAU,OAAAJ,QAPA,SAAAwI,KACA,IAAAM,KAAA5F,KAAAgmE,SACA3vD,MAAAutE,aAAAh+E,KAAAN,KAEA,OAAA+Q,MAAA,OAAAzT,EAAAgD,KAAAyQ,OAAA,mECfA,IAAAutE,aAAApnF,QAAA,mBAeAU,OAAAJ,QAJA,SAAAwI,KACA,OAAA,EAAAs+E,aAAA5jF,KAAAgmE,SAAA1gE,qECZA,IAAAs+E,aAAApnF,QAAA,mBAyBAU,OAAAJ,QAbA,SAAAwI,IAAAE,OACA,IAAAI,KAAA5F,KAAAgmE,SACA3vD,MAAAutE,aAAAh+E,KAAAN,KAQA,OANA+Q,MAAA,KACArW,KAAAuwB,KACA3qB,KAAApC,KAAA,CAAA8B,IAAAE,SAEAI,KAAAyQ,OAAA,GAAA7Q,MAEAxF,qECtBA,IAAA4L,KAAApP,QAAA,WACAuoE,UAAAvoE,QAAA,gBACAuzB,IAAAvzB,QAAA,UAkBAU,OAAAJ,QATA,WACAkD,KAAAuwB,KAAA,EACAvwB,KAAAgmE,SAAA,CACArkE,KAAA,IAAAiK,KACAuF,IAAA,IAAA4e,KAAAg1C,WACA15D,OAAA,IAAAO,4FChBA,IAAAi4E,WAAArnF,QAAA,iBAiBAU,OAAAJ,QANA,SAAAwI,KACA,IAAAiD,OAAAs7E,WAAA7jF,KAAAsF,KAAA,OAAAA,KAEA,OADAtF,KAAAuwB,MAAAhoB,OAAA,EAAA,EACAA,sECdA,IAAAs7E,WAAArnF,QAAA,iBAeAU,OAAAJ,QAJA,SAAAwI,KACA,OAAAu+E,WAAA7jF,KAAAsF,KAAAurB,IAAAvrB,oECZA,IAAAu+E,WAAArnF,QAAA,iBAeAU,OAAAJ,QAJA,SAAAwI,KACA,OAAAu+E,WAAA7jF,KAAAsF,KAAAuqB,IAAAvqB,oECZA,IAAAu+E,WAAArnF,QAAA,iBAqBAU,OAAAJ,QATA,SAAAwI,IAAAE,OACA,IAAAI,KAAAi+E,WAAA7jF,KAAAsF,KACAirB,KAAA3qB,KAAA2qB,KAIA,OAFA3qB,KAAA0qB,IAAAhrB,IAAAE,OACAxF,KAAAuwB,MAAA3qB,KAAA2qB,MAAAA,KAAA,EAAA,EACAvwB,oECDA9C,OAAAJ,QAVA,SAAAqU,KACA,IAAAkF,OAAA,EACA9N,OAAAyc,MAAA7T,IAAAof,MAKA,OAHApf,IAAAuiB,QAAA,SAAAluB,MAAAF,KACAiD,SAAA8N,OAAA,CAAA/Q,IAAAE,SAEA+C,mDCKArL,OAAAJ,QAVA,SAAAwI,IAAAgpE,UACA,OAAA,SAAA3lD,QACA,OAAA,MAAAA,QAGAA,OAAArjB,OAAAgpE,gBACA1rE,IAAA0rE,UAAAhpE,OAAAslB,OAAAjC,sDCfA,IAAAm7D,QAAAtnF,QAAA,aAyBAU,OAAAJ,QAZA,SAAAm7C,MACA,IAAA1vC,OAAAu7E,QAAA7rC,KAAA,SAAA3yC,KAIA,OAfA,MAYAqlC,MAAApa,MACAoa,MAAAo5B,QAEAz+D,MAGAqlC,MAAApiC,OAAAoiC,MACA,OAAApiC,kECtBA,IAAAi+D,QAAAhqE,QAAA,cAGA8kF,QAAA9a,SAAA,IAAAA,QAEAtpE,OAAAJ,QAAAwkF,kECLA,IAGAyB,aAHAvmF,QAAA,eAGAinE,CAAA74C,OAAA,UAEA1tB,OAAAJ,QAAAimF,0ECLA,IAGA1T,WAHA7yE,QAAA,aAGAqlF,CAAAj3D,OAAA8R,KAAA9R,QAEA1tB,OAAAJ,QAAAuyE,sECcAnyE,OAAAJ,QAVA,SAAA6rB,QACA,IAAApgB,OAAA,GACA,GAAA,MAAAogB,OACA,IAAA,IAAArjB,OAAAslB,OAAAjC,QACApgB,OAAA/E,KAAA8B,KAGA,OAAAiD,mDChBA,IAAA64E,WAAA5kF,QAAA,iBAGA40E,YAAA,iBAAAt0E,SAAAA,UAAAA,QAAAolC,UAAAplC,QAGAu0E,WAAAD,aAAA,iBAAAl0E,QAAAA,SAAAA,OAAAglC,UAAAhlC,OAMA6mF,YAHA1S,YAAAA,WAAAv0E,UAAAs0E,aAGAgQ,WAAA9nC,QAGA0qC,SAAA,WACA,IAEA,IAAAxvE,MAAA68D,YAAAA,WAAA70E,SAAA60E,WAAA70E,QAAA,QAAAgY,MAEA,OAAAA,OAKAuvE,aAAAA,YAAAE,SAAAF,YAAAE,QAAA,QACA,MAAAhoF,KAXA,GAcAiB,OAAAJ,QAAAknF,uEC5BA,IAOAlC,qBAPAl3D,OAAAvqB,UAOAS,SAaA5D,OAAAJ,QAJA,SAAA0I,OACA,OAAAs8E,qBAAA/kF,KAAAyI,mDCJAtI,OAAAJ,QANA,SAAAm7C,KAAAisC,WACA,OAAA,SAAA9+C,KACA,OAAA6S,KAAAisC,UAAA9+C,mDCVA,IAAA50B,MAAAhU,QAAA,YAGA6vE,UAAAt5C,KAAAi6B,IAgCA9vD,OAAAJ,QArBA,SAAAm7C,KAAArzC,MAAAs/E,WAEA,OADAt/E,MAAAynE,eAAAzpE,IAAAgC,MAAAqzC,KAAAj7C,OAAA,EAAA4H,MAAA,GACA,WAMA,IALA,IAAA2C,KAAA1C,UACAwR,OAAA,EACArZ,OAAAqvE,UAAA9kE,KAAAvK,OAAA4H,MAAA,GACA8jB,MAAA1D,MAAAhoB,UAEAqZ,MAAArZ,QACA0rB,MAAArS,OAAA9O,KAAA3C,MAAAyR,OAEAA,OAAA,EAEA,IADA,IAAA8tE,UAAAn/D,MAAApgB,MAAA,KACAyR,MAAAzR,OACAu/E,UAAA9tE,OAAA9O,KAAA8O,OAGA,OADA8tE,UAAAv/E,OAAAs/E,UAAAx7D,OACAlY,MAAAynC,KAAAj4C,KAAAmkF,qEC5BAjnF,OAAAJ,QAFA,8CCDA,IAAAskF,WAAA5kF,QAAA,iBAGA4nF,SAAA,iBAAAzgE,MAAAA,MAAAA,KAAAiH,SAAAA,QAAAjH,KAGA3L,KAAAopE,YAAAgD,UAAA1zE,SAAA,cAAAA,GAEAxT,OAAAJ,QAAAkb,mECUA9a,OAAAJ,QALA,SAAA0I,OAEA,OADAxF,KAAAgmE,SAAA11C,IAAA9qB,MAbA,6BAcAxF,iDCFA9C,OAAAJ,QAJA,SAAA0I,OACA,OAAAxF,KAAAgmE,SAAAn2C,IAAArqB,mDCOAtI,OAAAJ,QAVA,SAAAwzB,KACA,IAAAja,OAAA,EACA9N,OAAAyc,MAAAsL,IAAAC,MAKA,OAHAD,IAAAoD,QAAA,SAAAluB,OACA+C,SAAA8N,OAAA7Q,QAEA+C,mDCdA,IAAA6nE,gBAAA5zE,QAAA,sBAWA0zE,YAVA1zE,QAAA,cAUA6nF,CAAAjU,iBAEAlzE,OAAAJ,QAAAozE,iGCZA,IAIAoU,UAAA/9C,KAAAue,IA+BA5nD,OAAAJ,QApBA,SAAAm7C,MACA,IAAA8E,MAAA,EACAwnC,WAAA,EAEA,OAAA,WACA,IAAAC,MAAAF,YACAvqC,UApBA,IAoBAyqC,MAAAD,YAGA,GADAA,WAAAC,MACA,EAAAzqC,WACA,GAzBA,OAyBAgD,MACA,OAAAl4C,UAAA,QAGAk4C,MAAA,EAEA,OAAA9E,KAAAznC,WAAA5N,EAAAiC,wDChCA,IAAAkgE,UAAAvoE,QAAA,gBAcAU,OAAAJ,QALA,WACAkD,KAAAgmE,SAAA,IAAAjB,UACA/kE,KAAAuwB,KAAA,+DCMArzB,OAAAJ,QARA,SAAAwI,KACA,IAAAM,KAAA5F,KAAAgmE,SACAz9D,OAAA3C,KAAA,OAAAN,KAGA,OADAtF,KAAAuwB,KAAA3qB,KAAA2qB,KACAhoB,mDCDArL,OAAAJ,QAJA,SAAAwI,KACA,OAAAtF,KAAAgmE,SAAAn1C,IAAAvrB,iDCGApI,OAAAJ,QAJA,SAAAwI,KACA,OAAAtF,KAAAgmE,SAAAn2C,IAAAvqB,iDCVA,IAAAy/D,UAAAvoE,QAAA,gBACAuzB,IAAAvzB,QAAA,UACAkpE,SAAAlpE,QAAA,eA+BAU,OAAAJ,QAhBA,SAAAwI,IAAAE,OACA,IAAAI,KAAA5F,KAAAgmE,SACA,GAAApgE,gBAAAm/D,UAAA,CACA,IAAA1/D,MAAAO,KAAAogE,SACA,IAAAj2C,KAAA1qB,MAAArI,OAAAynF,IAGA,OAFAp/E,MAAA7B,KAAA,CAAA8B,IAAAE,QACAxF,KAAAuwB,OAAA3qB,KAAA2qB,KACAvwB,KAEA4F,KAAA5F,KAAAgmE,SAAA,IAAAN,SAAArgE,OAIA,OAFAO,KAAA0qB,IAAAhrB,IAAAE,OACAxF,KAAAuwB,KAAA3qB,KAAA2qB,KACAvwB,+FCRA9C,OAAAJ,QAZA,SAAA4rB,MAAAljB,MAAA4lE,WAIA,IAHA,IAAA/0D,MAAA+0D,UAAA,EACApuE,OAAA0rB,MAAA1rB,SAEAqZ,MAAArZ,QACA,GAAA0rB,MAAArS,SAAA7Q,MACA,OAAA6Q,MAGA,OAAA,8CCnBA,IAAAsxD,UAAAnrE,QAAA,gBACAg3E,WAAAh3E,QAAA,iBACAkoF,YAAAloF,QAAA,kBAeAU,OAAAJ,QANA,SAAAuO,QACA,OAAAmoE,WAAAnoE,QACAq5E,YAAAr5E,QACAs8D,UAAAt8D,8GCdA,IAAAs5E,aAAAnoF,QAAA,mBACAg3E,WAAAh3E,QAAA,iBACAooF,eAAApoF,QAAA,qBAeAU,OAAAJ,QANA,SAAAuO,QACA,OAAAmoE,WAAAnoE,QACAu5E,eAAAv5E,QACAs5E,aAAAt5E,oHCdA,IAAAw5E,cAAAroF,QAAA,oBAGAsoF,WAAA,mGAGAC,aAAA,WASA/T,aAAA6T,cAAA,SAAAx5E,QACA,IAAA9C,OAAA,GAOA,OANA,KAAA8C,OAAA0mB,WAAA,IACAxpB,OAAA/E,KAAA,IAEA6H,OAAAnG,QAAA4/E,WAAA,SAAA//D,MAAAxZ,OAAAy5E,MAAAC,WACA18E,OAAA/E,KAAAwhF,MAAAC,UAAA//E,QAAA6/E,aAAA,MAAAx5E,QAAAwZ,SAEAxc,SAGArL,OAAAJ,QAAAk0E,8EC1BA,IAAAX,SAAA7zE,QAAA,cAoBAU,OAAAJ,QARA,SAAA0I,OACA,GAAA,iBAAAA,OAAA6qE,SAAA7qE,OACA,OAAAA,MAEA,IAAA+C,OAAA/C,MAAA,GACA,MAAA,KAAA+C,QAAA,EAAA/C,QAAA,EAAA,EAAA,KAAA+C,mEChBA,IAGAsmE,aAHAn+D,SAAArQ,UAGAS,SAqBA5D,OAAAJ,QAZA,SAAAm7C,MACA,GAAA,MAAAA,KAAA,CACA,IACA,OAAA42B,aAAA9xE,KAAAk7C,MACA,MAAAh8C,IACA,IACA,OAAAg8C,KAAA,GACA,MAAAh8C,KAEA,MAAA,+CCrBA,IAAAipF,aAAA,KAiBAhoF,OAAAJ,QAPA,SAAAuO,QAGA,IAFA,IAAAgL,MAAAhL,OAAArO,OAEAqZ,SAAA6uE,aAAApjF,KAAAuJ,OAAA6B,OAAAmJ,UACA,OAAAA,kDCdA,IAQA8uE,SAAA,oBACAC,QAAA,kDACAC,OAAA,2BAEAC,YAAA,qBACAC,WAAA,kCACAC,WAAA,qCAIAC,SAPA,MAAAL,QAAA,IAAAC,OAAA,IAOA,IAGAK,MAFA,oBAEAD,UADA,gBAAA,CAAAH,YAAAC,WAAAC,YAAAthF,KAAA,KAAA,qBAAAuhF,SAAA,MAEAE,SAAA,MAAA,CAAAL,YAAAF,QAAA,IAAAA,QAAAG,WAAAC,WAAAL,UAAAjhF,KAAA,KAAA,IAGA0hF,UAAAr+C,OAAA89C,OAAA,MAAAA,OAAA,KAAAM,SAAAD,MAAA,KAiBAxoF,OAAAJ,QARA,SAAAuO,QAEA,IADA,IAAA9C,OAAAq9E,UAAA9T,UAAA,EACA8T,UAAA9jF,KAAAuJ,WACA9C,OAEA,OAAAA,mDCvCA,IAQA48E,SAAA,oBACAC,QAAA,kDACAC,OAAA,2BAEAC,YAAA,qBACAC,WAAA,kCACAC,WAAA,qCAIAC,SAPA,MAAAL,QAAA,IAAAC,OAAA,IAOA,IAGAK,MAFA,oBAEAD,UADA,gBAAA,CAAAH,YAAAC,WAAAC,YAAAthF,KAAA,KAAA,qBAAAuhF,SAAA,MAEAE,SAAA,MAAA,CAAAL,YAAAF,QAAA,IAAAA,QAAAG,WAAAC,WAAAL,UAAAjhF,KAAA,KAAA,IAGA0hF,UAAAr+C,OAAA89C,OAAA,MAAAA,OAAA,KAAAM,SAAAD,MAAA,KAaAxoF,OAAAJ,QAJA,SAAAuO,QACA,OAAAA,OAAA0Z,MAAA6gE,YAAA,+CCnCA,IAaAC,aAAAC,8OAIAC,QAAA,IAAAF,aAAA,IAEAG,SAAA,OACAC,UAAA,oBACAC,QAAA,8BACAC,OAAA,oBAAAN,aAAAG,SAjBA,qEAqBAT,WAAA,kCACAC,WAAA,qCACAY,QAAA,8BAIAC,YAAA,MAAAH,QAAA,IAAAC,OAAA,IACAG,YAAA,MAAAF,QAAA,IAAAD,OAAA,IAGAV,SAAAc,gFAKAb,MAJA,oBAIAD,UAHA,gBAAA,CAbA,qBAaAF,WAAAC,YAAAthF,KAAA,KAAA,qBAAAuhF,SAAA,MAIAe,QAAA,MAAA,CAAAP,UAAAV,WAAAC,YAAAthF,KAAA,KAAA,IAAAwhF,MAGAe,cAAAl/C,OAAA,CACA6+C,QAAA,IAAAF,QAAA,oCAAA,CAAAH,QAAAK,QAAA,KAAAliF,KAAA,KAAA,IACAoiF,YAAA,oCAAA,CAAAP,QAAAK,QAAAC,YAAA,KAAAniF,KAAA,KAAA,IACAkiF,QAAA,IAAAC,YAAA,iCACAD,QAAA,iCATA,mDADA,mDAaAJ,SACAQ,SACAtiF,KAAA,KAAA,KAaAhH,OAAAJ,QAJA,SAAAuO,QACA,OAAAA,OAAA0Z,MAAA0hE,gBAAA,+CCjEA,IAAAviB,YAAA1nE,QAAA,kBACAwoE,cAAAxoE,QAAA,oBACAisE,UAAAjsE,QAAA,gBAoBAU,OAAAJ,QAXA,SAAAs2E,SACA,GAAAA,mBAAAlP,YACA,OAAAkP,QAAAjvC,QAEA,IAAA57B,OAAA,IAAAy8D,cAAAoO,QAAAjP,YAAAiP,QAAAlO,WAIA,OAHA38D,OAAA67D,YAAAqE,UAAA2K,QAAAhP,aACA77D,OAAA48D,UAAAiO,QAAAjO,UACA58D,OAAA68D,WAAAgO,QAAAhO,WACA78D,+GCnBA,IAuBAklD,KAvBAjxD,QAAA,iBAuBAkqF,CAAA,QAEAxpF,OAAAJ,QAAA2wD,oECzBA,IAAAwjB,UAAAz0E,QAAA,gBACAmqF,eAAAnqF,QAAA,qBACAs3E,UAAAt3E,QAAA,eAGAm3E,WAAA5gD,KAAA06B,KACA4e,UAAAt5C,KAAAi6B,IA2CA9vD,OAAAJ,QApBA,SAAA4rB,MAAA6H,KAAAq2D,OAEAr2D,MADAq2D,MAAAD,eAAAj+D,MAAA6H,KAAAq2D,YAAAhkF,IAAA2tB,MACA,EAEA87C,UAAAyH,UAAAvjD,MAAA,GAEA,IAAAvzB,OAAA,MAAA0rB,MAAA,EAAAA,MAAA1rB,OACA,IAAAA,QAAAuzB,KAAA,EACA,MAAA,GAMA,IAJA,IAAAla,MAAA,EACAuwD,SAAA,EACAr+D,OAAAyc,MAAA2uD,WAAA32E,OAAAuzB,OAEAla,MAAArZ,QACAuL,OAAAq+D,YAAAqK,UAAAvoD,MAAArS,MAAAA,OAAAka,MAEA,OAAAhoB,+GC9CA,IAAAs+E,UAAArqF,QAAA,gBACAu3E,SAAAv3E,QAAA,cAqCAU,OAAAJ,QAhBA,SAAAyO,OAAA28D,MAAAC,OAaA,YAZAvlE,IAAAulE,QACAA,MAAAD,MACAA,WAAAtlE,QAEAA,IAAAulE,QAEAA,OADAA,MAAA4L,SAAA5L,SACAA,MAAAA,MAAA,QAEAvlE,IAAAslE,QAEAA,OADAA,MAAA6L,SAAA7L,SACAA,MAAAA,MAAA,GAEA2e,UAAA9S,SAAAxoE,QAAA28D,MAAAC,qFCnCA,IAAA0B,UAAArtE,QAAA,gBAmCAU,OAAAJ,QAJA,SAAA0I,OACA,OAAAqkE,UAAArkE,MA7BA,gECHA,IAAAqkE,UAAArtE,QAAA,gBA4BAU,OAAAJ,QAJA,SAAA0I,OACA,OAAAqkE,UAAArkE,MAAA6jE,gECKAnsE,OAAAJ,QAfA,SAAA4rB,OAMA,IALA,IAAArS,OAAA,EACArZ,OAAA,MAAA0rB,MAAA,EAAAA,MAAA1rB,OACA4pE,SAAA,EACAr+D,OAAA,KAEA8N,MAAArZ,QAAA,CACA,IAAAwI,MAAAkjB,MAAArS,OACA7Q,QACA+C,OAAAq+D,YAAAphE,OAGA,OAAA+C,mDCFArL,OAAAJ,QANA,SAAA0I,OACA,OAAA,WACA,OAAAA,mDCrBA,IAAA2uE,aAAA33E,QAAA,mBACAsE,SAAAtE,QAAA,cAGAsqF,QAAA,8CAeAC,YAAAx/C,OANA,kDAMA,KAyBArqC,OAAAJ,QALA,SAAAuO,QAEA,OADAA,OAAAvK,SAAAuK,UACAA,OAAAnG,QAAA4hF,QAAA3S,cAAAjvE,QAAA6hF,YAAA,sFCjBA7pF,OAAAJ,QAJA,SAAA0I,MAAAgvC,cACA,OAAA,MAAAhvC,OAAAA,OAAAA,MAAAgvC,aAAAhvC,kDCrBA,IAAAwhF,eAAAxqF,QAAA,qBACAivE,YAAAjvE,QAAA,kBACAyqF,SAAAzqF,QAAA,eACAu0E,kBAAAv0E,QAAA,uBAuBA0qF,WAAAD,SAAA,SAAAv+D,MAAAnU,QACA,OAAAw8D,kBAAAroD,OACAs+D,eAAAt+D,MAAA+iD,YAAAl3D,OAAA,EAAAw8D,mBAAA,IACA,KAGA7zE,OAAAJ,QAAAoqF,4ICIAhqF,OAAAJ,QAJA,SAAA0I,MAAA2B,OACA,OAAA3B,QAAA2B,OAAA3B,OAAAA,OAAA2B,OAAAA,kDCjCA,IAAA86E,YAAAzlF,QAAA,kBACA2qF,WAAA3qF,QAAA,iBACAo2E,aAAAp2E,QAAA,mBACA6G,QAAA7G,QAAA,aAgDAU,OAAAJ,QALA,SAAA+qD,WAAA8e,WAEA,OADAtjE,QAAAwkD,YAAAo6B,YAAAkF,YACAt/B,WAAA+qB,aAAAjM,UAAA,4HChDA,IAuCA75B,KAvCAtwC,QAAA,gBAuCA4qF,CAtCA5qF,QAAA,gBAwCAU,OAAAJ,QAAAgwC,qFCzCA,IAAA0/B,cAAAhwE,QAAA,oBACAo2E,aAAAp2E,QAAA,mBACAs3E,UAAAt3E,QAAA,eAGA6vE,UAAAt5C,KAAAi6B,IAiDA9vD,OAAAJ,QAZA,SAAA4rB,MAAAi+C,UAAAyE,WACA,IAAApuE,OAAA,MAAA0rB,MAAA,EAAAA,MAAA1rB,OACA,IAAAA,OACA,OAAA,EAEA,IAAAqZ,MAAA,MAAA+0D,UAAA,EAAA0I,UAAA1I,WAIA,OAHA/0D,MAAA,IACAA,MAAAg2D,UAAArvE,OAAAqZ,MAAA,IAEAm2D,cAAA9jD,MAAAkqD,aAAAjM,UAAA,GAAAtwD,gHCnDA,IAAAgxE,YAAA7qF,QAAA,kBACAyuE,WAAAzuE,QAAA,iBACAo2E,aAAAp2E,QAAA,mBAyCAU,OAAAJ,QAJA,SAAA6rB,OAAAg+C,WACA,OAAA0gB,YAAA1+D,OAAAiqD,aAAAjM,UAAA,GAAAsE,oHCxCA,IAsBAqc,SAtBA9qF,QAAA,gBAsBA4qF,CArBA5qF,QAAA,oBAuBAU,OAAAJ,QAAAwqF,6FCxBA,IAAA9a,cAAAhwE,QAAA,oBACAo2E,aAAAp2E,QAAA,mBACAs3E,UAAAt3E,QAAA,eAGA6vE,UAAAt5C,KAAAi6B,IACAsf,UAAAv5C,KAAAw5C,IAoDArvE,OAAAJ,QAfA,SAAA4rB,MAAAi+C,UAAAyE,WACA,IAAApuE,OAAA,MAAA0rB,MAAA,EAAAA,MAAA1rB,OACA,IAAAA,OACA,OAAA,EAEA,IAAAqZ,MAAArZ,OAAA,EAOA,YANA4F,IAAAwoE,YACA/0D,MAAAy9D,UAAA1I,WACA/0D,MAAA+0D,UAAA,EACAiB,UAAArvE,OAAAqZ,MAAA,GACAi2D,UAAAj2D,MAAArZ,OAAA,IAEAwvE,cAAA9jD,MAAAkqD,aAAAjM,UAAA,GAAAtwD,OAAA,4GCvDAnZ,OAAAJ,QAAAN,QAAA,iECAA,IAAAivE,YAAAjvE,QAAA,kBAqBAU,OAAAJ,QALA,SAAA4rB,OAEA,OADA,MAAAA,OAAAA,MAAA1rB,OACAyuE,YAAA/iD,MAAA,GAAA,kEClBA,IAuBAsK,MAvBAx2B,QAAA,iBAuBAkqF,CAAA,SAEAxpF,OAAAJ,QAAAk2B,qECzBA,IAwBAu0D,KAxBA/qF,QAAA,gBAwBAgrF,GAEAtqF,OAAAJ,QAAAyqF,mEC1BA,IAAAnf,UAAA5rE,QAAA,gBACA0uE,SAAA1uE,QAAA,eACAirF,aAAAjrF,QAAA,mBACA6G,QAAA7G,QAAA,aAqCAU,OAAAJ,QALA,SAAA+qD,WAAA6e,UAEA,OADArjE,QAAAwkD,YAAAugB,UAAA8C,UACArjB,WAAA4/B,aAAA/gB,+HCrCA,IAAAoJ,QAAAtzE,QAAA,cAgCAU,OAAAJ,QALA,SAAA6rB,OAAA9mB,KAAA2yC,cACA,IAAAjsC,OAAA,MAAAogB,YAAA/lB,EAAAktE,QAAAnnD,OAAA9mB,MACA,YAAAe,IAAA2F,OAAAisC,aAAAjsC,kEC7BA,IAAAm/E,QAAAlrF,QAAA,cACAmrF,QAAAnrF,QAAA,cAiCAU,OAAAJ,QAJA,SAAA6rB,OAAA9mB,MACA,OAAA,MAAA8mB,QAAAg/D,QAAAh/D,OAAA9mB,KAAA6lF,qFC/BA,IAAAE,UAAAprF,QAAA,gBACAmrF,QAAAnrF,QAAA,cAgCAU,OAAAJ,QAJA,SAAA6rB,OAAA9mB,MACA,OAAA,MAAA8mB,QAAAg/D,QAAAh/D,OAAA9mB,KAAA+lF,yFCRA1qF,OAAAJ,QAJA,SAAA4rB,OACA,OAAAA,OAAAA,MAAA1rB,OAAA0rB,MAAA,QAAA9lB,8CCCA1F,OAAAJ,QAJA,SAAA0I,OACA,OAAAA,kDCjBA,IAAAqiF,YAAArrF,QAAA,kBACAsrF,SAAAtrF,QAAA,cACAu3E,SAAAv3E,QAAA,cAoDAU,OAAAJ,QAZA,SAAAyO,OAAA3G,MAAA+H,KASA,OARA/H,MAAAkjF,SAAAljF,YACAhC,IAAA+J,KACAA,IAAA/H,MACAA,MAAA,GAEA+H,IAAAm7E,SAAAn7E,KAEApB,OAAAwoE,SAAAxoE,QACAs8E,YAAAt8E,OAAA3G,MAAA+H,sGCnDA,IAAAk6D,YAAArqE,QAAA,kBACA6mC,YAAA7mC,QAAA,iBACAurF,SAAAvrF,QAAA,cACAs3E,UAAAt3E,QAAA,eACA+X,OAAA/X,QAAA,YAGA6vE,UAAAt5C,KAAAi6B,IA6CA9vD,OAAAJ,QAbA,SAAA+qD,WAAAriD,MAAA4lE,UAAAwb,OACA/+B,WAAAxkB,YAAAwkB,YAAAA,WAAAtzC,OAAAszC,YACAujB,UAAAA,YAAAwb,MAAA9S,UAAA1I,WAAA,EAEA,IAAApuE,OAAA6qD,WAAA7qD,OAIA,OAHAouE,UAAA,IACAA,UAAAiB,UAAArvE,OAAAouE,UAAA,IAEA2c,SAAAlgC,YACAujB,WAAApuE,SAAA,EAAA6qD,WAAAr7C,QAAAhH,MAAA4lE,aACApuE,SAAA,EAAA6pE,YAAAhf,WAAAriD,MAAA4lE,gJCjDA,IAAAX,SAAAjuE,QAAA,eACAwrF,iBAAAxrF,QAAA,uBACAyqF,SAAAzqF,QAAA,eACAyrF,oBAAAzrF,QAAA,0BAmBA0rF,aAAAjB,SAAA,SAAAta,QACA,IAAAp6B,OAAAk4B,SAAAkC,OAAAsb,qBACA,OAAA11C,OAAAv1C,QAAAu1C,OAAA,KAAAo6B,OAAA,GACAqb,iBAAAz1C,QACA,KAGAr1C,OAAAJ,QAAAorF,gJC7BA,IAAAC,gBAAA3rF,QAAA,sBACA0wE,aAAA1wE,QAAA,kBAGAoyE,YAAAhkD,OAAAvqB,UAGAkF,eAAAqpE,YAAArpE,eAGA4mB,qBAAAyiD,YAAAziD,qBAoBA46C,YAAAohB,gBAAA,WAAA,OAAAtjF,UAAA,IAAAsjF,gBAAA,SAAA3iF,OACA,OAAA0nE,aAAA1nE,QAAAD,eAAAxI,KAAAyI,MAAA,YACA2mB,qBAAApvB,KAAAyI,MAAA,WAGAtI,OAAAJ,QAAAiqE,mGCZA,IAAA1jE,QAAA2hB,MAAA3hB,QAEAnG,OAAAJ,QAAAuG,mDCzBA,IAAAwoB,WAAArvB,QAAA,gBACAuyE,SAAAvyE,QAAA,cA+BAU,OAAAJ,QAJA,SAAA0I,OACA,OAAA,MAAAA,OAAAupE,SAAAvpE,MAAAxI,UAAA6uB,WAAArmB,sFC7BA,IAAA69B,YAAA7mC,QAAA,iBACA0wE,aAAA1wE,QAAA,kBA+BAU,OAAAJ,QAJA,SAAA0I,OACA,OAAA0nE,aAAA1nE,QAAA69B,YAAA79B,2FC7BA,IAAAwS,KAAAxb,QAAA,WACA4rF,UAAA5rF,QAAA,eAGA40E,YAAA,iBAAAt0E,SAAAA,UAAAA,QAAAolC,UAAAplC,QAGAu0E,WAAAD,aAAA,iBAAAl0E,QAAAA,SAAAA,OAAAglC,UAAAhlC,OAMAo0E,OAHAD,YAAAA,WAAAv0E,UAAAs0E,YAGAp5D,KAAAs5D,YAAA1uE,EAsBAokE,UAnBAsK,OAAAA,OAAAtK,cAAApkE,IAmBAwlF,UAEAlrF,OAAAJ,QAAAkqE,mFCrCA,IAAAqhB,SAAA7rF,QAAA,eACAssE,OAAAtsE,QAAA,aACAuqE,YAAAvqE,QAAA,iBACA6G,QAAA7G,QAAA,aACA6mC,YAAA7mC,QAAA,iBACAwqE,SAAAxqE,QAAA,cACA4yE,YAAA5yE,QAAA,kBACA0qE,aAAA1qE,QAAA,kBAUA+I,eAHAqlB,OAAAvqB,UAGAkF,eA2DArI,OAAAJ,QAxBA,SAAA0I,OACA,GAAA,MAAAA,MACA,OAAA,EAEA,GAAA69B,YAAA79B,SACAnC,QAAAmC,QAAA,iBAAAA,OAAA,mBAAAA,MAAAgN,QACAw0D,SAAAxhE,QAAA0hE,aAAA1hE,QAAAuhE,YAAAvhE,QACA,OAAAA,MAAAxI,OAEA,IAAAgwC,IAAA87B,OAAAtjE,OACA,GApDA,gBAoDAwnC,KAnDA,gBAmDAA,IACA,OAAAxnC,MAAA+qB,KAEA,GAAA6+C,YAAA5pE,OACA,OAAA6iF,SAAA7iF,OAAAxI,OAEA,IAAA,IAAAsI,OAAAE,MACA,GAAAD,eAAAxI,KAAAyI,MAAAF,KACA,OAAA,EAGA,OAAA,kMCzEA,IAAA8nE,YAAA5wE,QAAA,kBAkCAU,OAAAJ,QAJA,SAAA0I,MAAA2B,OACA,OAAAimE,YAAA5nE,MAAA2B,sEC/BA,IAAA8lE,WAAAzwE,QAAA,iBACA2sE,SAAA3sE,QAAA,cAmCAU,OAAAJ,QAVA,SAAA0I,OACA,IAAA2jE,SAAA3jE,OACA,OAAA,EAIA,IAAAwnC,IAAAigC,WAAAznE,OACA,MA5BA,qBA4BAwnC,KA3BA,8BA2BAA,KA7BA,0BA6BAA,KA1BA,kBA0BAA,mFCCA9vC,OAAAJ,QALA,SAAA0I,OACA,MAAA,iBAAAA,QACA,EAAAA,OAAAA,MAAA,GAAA,GAAAA,OA9BA,6DCDA,IAAA8iF,UAAA9rF,QAAA,gBACAkuE,UAAAluE,QAAA,gBACAwnF,SAAAxnF,QAAA,eAGA+rF,UAAAvE,UAAAA,SAAA9a,MAmBAA,MAAAqf,UAAA7d,UAAA6d,WAAAD,UAEAprF,OAAAJ,QAAAosE,uGC1BA,IAAAsf,SAAAhsF,QAAA,cAqCAU,OAAAJ,QAPA,SAAA0I,OAIA,OAAAgjF,SAAAhjF,QAAAA,QAAAA,kECVAtI,OAAAJ,QAJA,SAAA0I,OACA,OAAA,MAAAA,kDCrBA,IAAAynE,WAAAzwE,QAAA,iBACA0wE,aAAA1wE,QAAA,kBAoCAU,OAAAJ,QALA,SAAA0I,OACA,MAAA,iBAAAA,OACA0nE,aAAA1nE,QA9BA,mBA8BAynE,WAAAznE,0FCJAtI,OAAAJ,QALA,SAAA0I,OACA,IAAA/D,YAAA+D,MACA,OAAA,MAAAA,QAAA,UAAA/D,MAAA,YAAAA,kDCCAvE,OAAAJ,QAJA,SAAA0I,OACA,OAAA,MAAAA,OAAA,iBAAAA,kDCzBA,IAAAijF,UAAAjsF,QAAA,gBACAkuE,UAAAluE,QAAA,gBACAwnF,SAAAxnF,QAAA,eAGAksF,UAAA1E,UAAAA,SAAA5a,MAmBAA,MAAAsf,UAAAhe,UAAAge,WAAAD,UAEAvrF,OAAAJ,QAAAssE,wGC1BA,IAAA6D,WAAAzwE,QAAA,iBACA6G,QAAA7G,QAAA,aACA0wE,aAAA1wE,QAAA,kBA2BAU,OAAAJ,QALA,SAAA0I,OACA,MAAA,iBAAAA,QACAnC,QAAAmC,QAAA0nE,aAAA1nE,QArBA,mBAqBAynE,WAAAznE,0GC1BA,IAAAynE,WAAAzwE,QAAA,iBACA0wE,aAAA1wE,QAAA,kBA2BAU,OAAAJ,QALA,SAAA0I,OACA,MAAA,iBAAAA,OACA0nE,aAAA1nE,QArBA,mBAqBAynE,WAAAznE,0FCzBA,IAAAmjF,iBAAAnsF,QAAA,uBACAkuE,UAAAluE,QAAA,gBACAwnF,SAAAxnF,QAAA,eAGAosF,iBAAA5E,UAAAA,SAAA9c,aAmBAA,aAAA0hB,iBAAAle,UAAAke,kBAAAD,iBAEAzrF,OAAAJ,QAAAoqE,sHC1BA,IAAA2hB,cAAArsF,QAAA,oBACA6rF,SAAA7rF,QAAA,eACA6mC,YAAA7mC,QAAA,iBAkCAU,OAAAJ,QAJA,SAAA6rB,QACA,OAAA0a,YAAA1a,QAAAkgE,cAAAlgE,QAAA0/D,SAAA1/D,+GCjCA,IAAAkgE,cAAArsF,QAAA,oBACAssF,WAAAtsF,QAAA,iBACA6mC,YAAA7mC,QAAA,iBA6BAU,OAAAJ,QAJA,SAAA6rB,QACA,OAAA0a,YAAA1a,QAAAkgE,cAAAlgE,QAAA,GAAAmgE,WAAAngE,iHCTAzrB,OAAAJ,QALA,SAAA4rB,OACA,IAAA1rB,OAAA,MAAA0rB,MAAA,EAAAA,MAAA1rB,OACA,OAAAA,OAAA0rB,MAAA1rB,OAAA,QAAA4F,8CChBA,IAsBAmmF,UAtBAvsF,QAAA,sBAsBAwsF,CAAA,SAAAzgF,OAAA0gF,KAAA5yE,OACA,OAAA9N,QAAA8N,MAAA,IAAA,IAAA4yE,KAAA18D,gBAGArvB,OAAAJ,QAAAisF,8EC1BA,IAAAte,SAAAjuE,QAAA,eACAo2E,aAAAp2E,QAAA,mBACA0sF,QAAA1sF,QAAA,cACA6G,QAAA7G,QAAA,aAiDAU,OAAAJ,QALA,SAAA+qD,WAAA6e,UAEA,OADArjE,QAAAwkD,YAAA4iB,SAAAye,SACArhC,WAAA+qB,aAAAlM,SAAA,uHCjDA,IAAAoB,gBAAAtrE,QAAA,sBACAyuE,WAAAzuE,QAAA,iBACAo2E,aAAAp2E,QAAA,mBAwCAU,OAAAJ,QAVA,SAAA6rB,OAAA+9C,UACA,IAAAn+D,OAAA,GAMA,OALAm+D,SAAAkM,aAAAlM,SAAA,GAEAuE,WAAAtiD,OAAA,SAAAnjB,MAAAF,IAAAqjB,QACAm/C,gBAAAv/D,OAAAjD,IAAAohE,SAAAlhE,MAAAF,IAAAqjB,WAEApgB,mHCvCA,IAAAm9D,SAAAlpE,QAAA,eAGA2sF,gBAAA,sBA8CA,SAAArF,QAAA7rC,KAAAmxC,UACA,GAAA,mBAAAnxC,MAAA,MAAAmxC,UAAA,mBAAAA,SACA,MAAA,IAAAl3D,UAAAi3D,iBAEA,IAAAE,SAAA,WACA,IAAA9hF,KAAA1C,UACAS,IAAA8jF,SAAAA,SAAA54E,MAAAxQ,KAAAuH,MAAAA,KAAA,GACAojC,MAAA0+C,SAAA1+C,MAEA,GAAAA,MAAA9a,IAAAvqB,KACA,OAAAqlC,MAAA9Z,IAAAvrB,KAEA,IAAAiD,OAAA0vC,KAAAznC,MAAAxQ,KAAAuH,MAEA,OADA8hF,SAAA1+C,MAAAA,MAAAra,IAAAhrB,IAAAiD,SAAAoiC,MACApiC,QAGA,OADA8gF,SAAA1+C,MAAA,IAAAm5C,QAAAwF,OAAA5jB,UACA2jB,SAIAvF,QAAAwF,MAAA5jB,SAEAxoE,OAAAJ,QAAAgnF,mECxDA5mF,OAAAJ,QAJA,wDCZA,IAAAysF,cAAA/sF,QAAA,oBACAi3E,WAAAj3E,QAAA,iBACAs3E,UAAAt3E,QAAA,eACAsE,SAAAtE,QAAA,cAmCAU,OAAAJ,QAVA,SAAAuO,OAAArO,OAAA42E,OACAvoE,OAAAvK,SAAAuK,QAGA,IAAAm+E,WAFAxsF,OAAA82E,UAAA92E,SAEAy2E,WAAApoE,QAAA,EACA,OAAArO,QAAAwsF,UAAAxsF,OACAqO,OAAAk+E,cAAAvsF,OAAAwsF,UAAA5V,OACAvoE,gICnCA,IAAAu8D,aAAAprE,QAAA,mBACAitF,iBAAAjtF,QAAA,uBACAozE,MAAApzE,QAAA,YACAsvE,MAAAtvE,QAAA,YA4BAU,OAAAJ,QAJA,SAAA+E,MACA,OAAA+tE,MAAA/tE,MAAA+lE,aAAAkE,MAAAjqE,OAAA4nF,iBAAA5nF,+HC5BA,IAAA6nF,WAAAltF,QAAA,iBACAmqF,eAAAnqF,QAAA,qBACAsrF,SAAAtrF,QAAA,cAGAmtF,eAAAx+B,WAGAmhB,UAAAv5C,KAAAw5C,IACAyD,aAAAj9C,KAAA+B,OAwEA53B,OAAAJ,QAvCA,SAAAorE,MAAAC,MAAAyhB,UA2BA,GA1BAA,UAAA,kBAAAA,UAAAjD,eAAAze,MAAAC,MAAAyhB,YACAzhB,MAAAyhB,cAAAhnF,QAEAA,IAAAgnF,WACA,kBAAAzhB,OACAyhB,SAAAzhB,MACAA,WAAAvlE,GAEA,kBAAAslE,QACA0hB,SAAA1hB,MACAA,WAAAtlE,SAGAA,IAAAslE,YAAAtlE,IAAAulE,OACAD,MAAA,EACAC,MAAA,IAGAD,MAAA4f,SAAA5f,YACAtlE,IAAAulE,OACAA,MAAAD,MACAA,MAAA,GAEAC,MAAA2f,SAAA3f,QAGAA,MAAAD,MAAA,CACA,IAAA1zC,KAAA0zC,MACAA,MAAAC,MACAA,MAAA3zC,KAEA,GAAAo1D,UAAA1hB,MAAA,GAAAC,MAAA,EAAA,CACA,IAAA0hB,KAAA7Z,eACA,OAAA1D,UAAApE,MAAA2hB,MAAA1hB,MAAAD,MAAAyhB,eAAA,QAAAE,KAAA,IAAA7sF,OAAA,KAAAmrE,OAEA,OAAAuhB,WAAAxhB,MAAAC,+GC9EA,IAAAqK,YAAAh2E,QAAA,kBACA0uE,SAAA1uE,QAAA,eACAo2E,aAAAp2E,QAAA,mBACAstF,WAAAttF,QAAA,iBACA6G,QAAA7G,QAAA,aA8CAU,OAAAJ,QAPA,SAAA+qD,WAAA6e,SAAAe,aACA,IAAAxvB,KAAA50C,QAAAwkD,YAAA2qB,YAAAsX,WACApiB,UAAA7iE,UAAA7H,OAAA,EAEA,OAAAi7C,KAAA4P,WAAA+qB,aAAAlM,SAAA,GAAAe,YAAAC,UAAAwD,oJC/CA,IAuBAr2C,MAvBAr4B,QAAA,iBAuBAkqF,CAAA,SAEAxpF,OAAAJ,QAAA+3B,qECzBA,IAAAgyD,UAAArqF,QAAA,gBACAi0E,aAAAj0E,QAAA,mBACAs3E,UAAAt3E,QAAA,eACAsE,SAAAtE,QAAA,cAmCAU,OAAAJ,QAVA,SAAAuO,OAAA+4B,OAAA2mB,UAOA,OANA1/C,OAAAvK,SAAAuK,QACA0/C,SAAA,MAAAA,SACA,EACA87B,UAAA/S,UAAA/oB,UAAA,EAAA1/C,OAAArO,QAEAonC,OAAAqsC,aAAArsC,QACA/4B,OAAA1E,MAAAokD,SAAAA,SAAA3mB,OAAApnC,SAAAonC,6HCbAlnC,OAAAJ,QAJA,WACA,MAAA,+CCFAI,OAAAJ,QAJA,WACA,OAAA,8CCdA,IAAAm0E,UAAAz0E,QAAA,gBAqBAU,OAAAJ,QALA,SAAA4rB,OACA,IAAA1rB,OAAA,MAAA0rB,MAAA,EAAAA,MAAA1rB,OACA,OAAAA,OAAAi0E,UAAAvoD,MAAA,EAAA1rB,QAAA,iEClBA,IAAA+2E,SAAAv3E,QAAA,cAyCAU,OAAAJ,QAZA,SAAA0I,OACA,OAAAA,OAGAA,MAAAuuE,SAAAvuE,UA9BA,EAAA,GA+BAA,SAAA,EAAA,EAIAA,OAAAA,MAAAA,MAAA,EAlCA,uBA+BAA,MAAA,GAAA,EAAA,GAJA,IAAAA,MAAAA,MAAA,8DC/BA,IAAAsiF,SAAAtrF,QAAA,cAmCAU,OAAAJ,QAPA,SAAA0I,OACA,IAAA+C,OAAAu/E,SAAAtiF,OACAukF,UAAAxhF,OAAA,EAEA,OAAAA,QAAAA,OAAAwhF,UAAAxhF,OAAAwhF,UAAAxhF,OAAA,8DChCA,IAAAzH,SAAAtE,QAAA,cA2BAU,OAAAJ,QAJA,SAAA0I,OACA,OAAA1E,SAAA0E,OAAA+mB,0ECxBA,IAAAy9D,SAAAxtF,QAAA,eACA2sE,SAAA3sE,QAAA,cACA6zE,SAAA7zE,QAAA,cAMAytF,WAAA,qBAGAC,WAAA,aAGAC,UAAA,cAGAC,aAAA59D,SA8CAtvB,OAAAJ,QArBA,SAAA0I,OACA,GAAA,iBAAAA,MACA,OAAAA,MAEA,GAAA6qE,SAAA7qE,OACA,OA1CA,IA4CA,GAAA2jE,SAAA3jE,OAAA,CACA,IAAA2B,MAAA,mBAAA3B,MAAAwsE,QAAAxsE,MAAAwsE,UAAAxsE,MACAA,MAAA2jE,SAAAhiE,OAAAA,MAAA,GAAAA,MAEA,GAAA,iBAAA3B,MACA,OAAA,IAAAA,MAAAA,OAAAA,MAEAA,MAAAwkF,SAAAxkF,OACA,IAAA6kF,SAAAH,WAAApoF,KAAA0D,OACA,OAAA6kF,UAAAF,UAAAroF,KAAA0D,OACA4kF,aAAA5kF,MAAAmB,MAAA,GAAA0jF,SAAA,EAAA,GACAJ,WAAAnoF,KAAA0D,OAvDA,KAuDAA,qGC5DA,IAAAirE,aAAAj0E,QAAA,mBA2BAU,OAAAJ,QAJA,SAAA0I,OACA,OAAA,MAAAA,MAAA,GAAAirE,aAAAjrE,wECxBA,IAAA8kF,SAAA9tF,QAAA,eAwBAU,OAAAJ,QAJA,SAAA4rB,OACA,OAAAA,OAAAA,MAAA1rB,OAAAstF,SAAA5hE,OAAA,gECrBA,IAAA5nB,SAAAtE,QAAA,cAGA+tF,UAAA,EAwBArtF,OAAAJ,QALA,SAAA4Z,QACA,IAAAV,KAAAu0E,UACA,OAAAzpF,SAAA4V,QAAAV,+DCxBA,IAAAw0E,WAAAhuF,QAAA,iBACAkgC,KAAAlgC,QAAA,UAgCAU,OAAAJ,QAJA,SAAA6rB,QACA,OAAA,MAAAA,OAAA,GAAA6hE,WAAA7hE,OAAA+T,KAAA/T,qFC9BA,IAAAq+D,eAAAxqF,QAAA,qBACAyqF,SAAAzqF,QAAA,eACAu0E,kBAAAv0E,QAAA,uBAsBAiuF,QAAAxD,SAAA,SAAAv+D,MAAAnU,QACA,OAAAw8D,kBAAAroD,OACAs+D,eAAAt+D,MAAAnU,QACA,KAGArX,OAAAJ,QAAA2tF,qHC9BA,IAAAC,WAAAluF,QAAA,iBACAmuF,eAAAnuF,QAAA,qBACAsE,SAAAtE,QAAA,cACAouF,aAAApuF,QAAA,mBA+BAU,OAAAJ,QAVA,SAAAuO,OAAA+jC,QAAAw3C,OAIA,OAHAv7E,OAAAvK,SAAAuK,aAGAzI,KAFAwsC,QAAAw3C,WAAAhkF,EAAAwsC,SAGAu7C,eAAAt/E,QAAAu/E,aAAAv/E,QAAAq/E,WAAAr/E,QAEAA,OAAA0Z,MAAAqqB,UAAA,gIC/BA,IAAA80B,YAAA1nE,QAAA,kBACAwoE,cAAAxoE,QAAA,oBACAynE,WAAAznE,QAAA,iBACA6G,QAAA7G,QAAA,aACA0wE,aAAA1wE,QAAA,kBACAquF,aAAAruF,QAAA,mBAMA+I,eAHAqlB,OAAAvqB,UAGAkF,eAuHA,SAAAk+E,OAAAj+E,OACA,GAAA0nE,aAAA1nE,SAAAnC,QAAAmC,UAAAA,iBAAA0+D,aAAA,CACA,GAAA1+D,iBAAAw/D,cACA,OAAAx/D,MAEA,GAAAD,eAAAxI,KAAAyI,MAAA,eACA,OAAAqlF,aAAArlF,OAGA,OAAA,IAAAw/D,cAAAx/D,QAIAi+E,OAAApjF,UAAA4jE,WAAA5jE,WACAC,YAAAmjF,OAEAvmF,OAAAJ,QAAA2mF,8LCjJA,WACA,IAAAqH,eAAAC,OAAAC,SAAAC,eAAAC,aAAAC,OAEA,oBAAAC,aAAA,OAAAA,aAAAA,YAAAtmC,IACA5nD,OAAAJ,QAAA,WACA,OAAAsuF,YAAAtmC,OAEA,MAAAxL,SAAAA,QAAAyxC,QACA7tF,OAAAJ,QAAA,WACA,OAAAguF,iBAAAI,cAAA,KAEAH,OAAAzxC,QAAAyxC,OAMAE,gBALAH,eAAA,WACA,IAAAO,GAEA,OAAA,KADAA,GAAAN,UACA,GAAAM,GAAA,OAGAF,OAAA,IAAA7xC,QAAAgyC,SACAJ,aAAAD,eAAAE,QAKAH,SAJAzkD,KAAAue,KACA5nD,OAAAJ,QAAA,WACA,OAAAypC,KAAAue,MAAAkmC,UAEAzkD,KAAAue,QAEA5nD,OAAAJ,QAAA,WACA,OAAA,IAAAypC,MAAAglD,UAAAP,WAEA,IAAAzkD,MAAAglD,aAGAxuF,KAAAiD,8FChCA,IAOAwrF,iBACAC,mBARAnyC,QAAAp8C,OAAAJ,QAAA,GAUA,SAAA4uF,mBACA,MAAA,IAAA/uF,MAAA,mCAEA,SAAAgvF,sBACA,MAAA,IAAAhvF,MAAA,qCAsBA,SAAAivF,WAAAC,KACA,GAAAL,mBAAA7xC,WAEA,OAAAA,WAAAkyC,IAAA,GAGA,IAAAL,mBAAAE,mBAAAF,mBAAA7xC,WAEA,OADA6xC,iBAAA7xC,WACAA,WAAAkyC,IAAA,GAEA,IAEA,OAAAL,iBAAAK,IAAA,GACA,MAAA5vF,GACA,IAEA,OAAAuvF,iBAAAzuF,KAAA,KAAA8uF,IAAA,GACA,MAAA5vF,GAEA,OAAAuvF,iBAAAzuF,KAAAiD,KAAA6rF,IAAA,MAvCA,WACA,IAEAL,iBADA,mBAAA7xC,WACAA,WAEA+xC,iBAEA,MAAAzvF,GACAuvF,iBAAAE,iBAEA,IAEAD,mBADA,mBAAAx2B,aACAA,aAEA02B,oBAEA,MAAA1vF,GACAwvF,mBAAAE,qBAjBA,GAwEA,IAEAG,aAFAv0C,MAAA,GACAw0C,UAAA,EAEAC,YAAA,EAEA,SAAAC,kBACAF,UAAAD,eAGAC,UAAA,EACAD,aAAA9uF,OACAu6C,MAAAu0C,aAAAt6E,OAAA+lC,OAEAy0C,YAAA,EAEAz0C,MAAAv6C,QACAkvF,cAIA,SAAAA,aACA,IAAAH,SAAA,CAGA,IAAA/2B,QAAA42B,WAAAK,iBACAF,UAAA,EAGA,IADA,IAAAxoF,IAAAg0C,MAAAv6C,OACAuG,KAAA,CAGA,IAFAuoF,aAAAv0C,MACAA,MAAA,KACAy0C,WAAAzoF,KACAuoF,cACAA,aAAAE,YAAA/7B,MAGA+7B,YAAA,EACAzoF,IAAAg0C,MAAAv6C,OAEA8uF,aAAA,KACAC,UAAA,EAnEA,SAAAI,QACA,GAAAV,qBAAAx2B,aAEA,OAAAA,aAAAk3B,QAGA,IAAAV,qBAAAE,sBAAAF,qBAAAx2B,aAEA,OADAw2B,mBAAAx2B,aACAA,aAAAk3B,QAEA,IAEAV,mBAAAU,QACA,MAAAlwF,GACA,IAEA,OAAAwvF,mBAAA1uF,KAAA,KAAAovF,QACA,MAAAlwF,GAGA,OAAAwvF,mBAAA1uF,KAAAiD,KAAAmsF,UAgDAC,CAAAp3B,UAiBA,SAAAq3B,KAAAR,IAAAnjE,OACA1oB,KAAA6rF,IAAAA,IACA7rF,KAAA0oB,MAAAA,MAYA,SAAAsF,QA5BAsrB,QAAAgzC,SAAA,SAAAT,KACA,IAAAtkF,KAAA,IAAAyd,MAAAngB,UAAA7H,OAAA,GACA,GAAA,EAAA6H,UAAA7H,OACA,IAAA,IAAAX,EAAA,EAAAA,EAAAwI,UAAA7H,OAAAX,IACAkL,KAAAlL,EAAA,GAAAwI,UAAAxI,GAGAk7C,MAAA/zC,KAAA,IAAA6oF,KAAAR,IAAAtkF,OACA,IAAAgwC,MAAAv6C,QAAA+uF,UACAH,WAAAM,aASAG,KAAAhsF,UAAA4vD,IAAA,WACAjwD,KAAA6rF,IAAAr7E,MAAA,KAAAxQ,KAAA0oB,QAEA4wB,QAAAizC,MAAA,UACAjzC,QAAAkzC,SAAA,EACAlzC,QAAA3zC,IAAA,GACA2zC,QAAAmzC,KAAA,GACAnzC,QAAA1jB,QAAA,GACA0jB,QAAAozC,SAAA,GAIApzC,QAAA8H,GAAApzB,KACAsrB,QAAAqzC,YAAA3+D,KACAsrB,QAAA5B,KAAA1pB,KACAsrB,QAAAkI,IAAAxzB,KACAsrB,QAAAszC,eAAA5+D,KACAsrB,QAAAuzC,mBAAA7+D,KACAsrB,QAAAwzC,KAAA9+D,KACAsrB,QAAAyzC,gBAAA/+D,KACAsrB,QAAA0zC,oBAAAh/D,KAEAsrB,QAAA2zC,UAAA,SAAAtsF,MAAA,MAAA,IAEA24C,QAAA2qC,QAAA,SAAAtjF,MACA,MAAA,IAAAhE,MAAA,qCAGA28C,QAAA4zC,IAAA,WAAA,MAAA,KACA5zC,QAAA6zC,MAAA,SAAA5jD,KACA,MAAA,IAAA5sC,MAAA,mCAEA28C,QAAA8zC,MAAA,WAAA,OAAA,gEChLA,IAPA,IAAAtoC,IAAAtoD,QAAA,mBACAwb,KAAA,oBAAA+U,OAAAD,OAAAC,OACAsgE,QAAA,CAAA,MAAA,UACAx9B,OAAA,iBACAy9B,IAAAt1E,KAAA,UAAA63C,QACA09B,IAAAv1E,KAAA,SAAA63C,SAAA73C,KAAA,gBAAA63C,QAEAxzD,EAAA,GAAAixF,KAAAjxF,EAAAgxF,QAAArwF,OAAAX,IACAixF,IAAAt1E,KAAAq1E,QAAAhxF,GAAA,UAAAwzD,QACA09B,IAAAv1E,KAAAq1E,QAAAhxF,GAAA,SAAAwzD,SACA73C,KAAAq1E,QAAAhxF,GAAA,gBAAAwzD,QAIA,IAAAy9B,MAAAC,IAAA,CACA,IAAA5hE,KAAA,EACA3V,GAAA,EACAuhC,MAAA,GAGA+1C,IAAA,SAAA72E,UACA,GAAA,IAAA8gC,MAAAv6C,OAAA,CACA,IAAAwwF,KAAA1oC,MACA3+B,KAAA4M,KAAAi6B,IAAA,EALA,IAAA,IAKAwgC,KAAA7hE,OACAA,KAAAxF,KAAAqnE,KACA7zC,WAAA,WAMA,IALA,IAAA8zC,GAAAl2C,MAAA5wC,MAAA,GAKAtK,EADAk7C,MAAAv6C,OAAA,EACAX,EAAAoxF,GAAAzwF,OAAAX,IACA,IAAAoxF,GAAApxF,GAAAqxF,UACA,IACAD,GAAApxF,GAAAoa,SAAAkV,MACA,MAAA1vB,GACA09C,WAAA,WAAA,MAAA19C,GAAA,KAIA82B,KAAA8B,MAAA1O,OAOA,OALAoxB,MAAA/zC,KAAA,CACAm/C,SAAA3sC,GACAS,SAAAA,SACAi3E,WAAA,IAEA13E,IAGAu3E,IAAA,SAAA5qC,QACA,IAAA,IAAAtmD,EAAA,EAAAA,EAAAk7C,MAAAv6C,OAAAX,IACAk7C,MAAAl7C,GAAAsmD,SAAAA,SACApL,MAAAl7C,GAAAqxF,WAAA,IAMAxwF,OAAAJ,QAAA,SAAA8D,IAIA,OAAA0sF,IAAAvwF,KAAAib,KAAApX,KAEA1D,OAAAJ,QAAA6wF,OAAA,WACAJ,IAAA/8E,MAAAwH,KAAAnT,YAEA3H,OAAAJ,QAAA8wF,SAAA,SAAAjlE,QACAA,SACAA,OAAA3Q,MAEA2Q,OAAAyoC,sBAAAk8B,IACA3kE,OAAAklE,qBAAAN,kRCzEA,IAAAO,QAAAC,uBAAAvxF,QAAA,WACAwxF,QAAAD,uBAAAvxF,QAAA,iBACAyxF,YAAAF,uBAAAvxF,QAAA,qBACA0xF,eAAAH,uBAAAvxF,QAAA,oBACA2xF,UAAAJ,uBAAAvxF,QAAA,mBACA4xF,YAAAL,uBAAAvxF,QAAA,wBACA6xF,kBAAA7xF,QAAA,gCACA8xF,aAAA9xF,QAAA,2BACA+xF,YAAA/xF,QAAA,0BACAgyF,UAAAhyF,QAAA,8XAEAuwB,OAAO0hE,KAAO,GACd1hE,OAAO0hE,KAAKC,IAAM,GAGlB,IAAM7yC,KAAO,GAMbr/C,QAAQ,UAGR,IAAImyF,QAAS,EAKQC,eAKjB,SAAAA,IAAYC,wIAASC,CAAA9uF,KAAA4uF,KAQjB5uF,KAAK+uF,UAAW,EAAAjB,QAAA,SAAEe,SAClB7uF,KAAKgvF,eAAiB,IAAId,eAAA,QAAcluF,KAAK+uF,UAC7C/uF,KAAKivF,SAAWd,UAAA,QAEhBphE,OAAO8uB,KAAOA,KAEd77C,KAAK67C,KAAOA,KACZ77C,KAAK67C,KAAK8W,UAAW,EACrB3yD,KAAK67C,KAAKp7C,IAAM+tF,UAAAU,IAAIC,MACpBnvF,KAAK67C,KAAKuzC,QAAS,EAEnBpvF,KAAKqvF,gBACAC,iJASe,IAAAr7E,MAAAjU,KACpB8tF,QAAA,QAAEtvB,QAAQ,wCACLn5C,KAAK,SAACw4C,UAAD,OAAc5pD,MAAKs7E,gCAAgC1xB,YACxDhnB,KAAK,SAACgjB,OAAD,OAAWptC,QAAQ1U,MAAR,gCAAAvG,OAA8CqoD,MAAMkD,OAApD,MAAAvrD,OAA+DqoD,MAAMoD,iEASpEr3D,MACtB,IAAM4pF,gBAAkB5pF,KAAKgnC,OAAO,SAAC6iD,SAAD,OAAkC,IAArBA,QAAQpmD,WAEnDqmD,qBAAuB1vF,KAAK2vF,mBAAmBH,iBAErDxvF,KAAK4vF,mBAAmBJ,gBAAiBE,uEAWpBG,KAAML,iBAC3B,QAAQ,EAAAxB,QAAA,SAAO6B,OAASL,gBAAgB30D,KAAK,SAAC40D,SAAD,OAAaA,QAAQI,OAASA,kDAW5DL,iBACf,IAAIM,YAAczB,kBAAA0B,qBACZC,oCAAsCC,aAAa3B,aAAA4B,YAAYC,kBAMrE,OAJInwF,KAAKowF,yBAAyBJ,oCAAqCR,mBACnEM,aAAc,EAAA7B,YAAA,SAAWgC,aAAa3B,aAAA4B,YAAYC,oBAG/CL,oDAoBP,OATA9vF,KAAKuvF,gCAAkCvvF,KAAKqwF,0BAA0B39B,KAAK1yD,MAC3EA,KAAKswF,gDAAkDtwF,KAAKuwF,yCAAyC79B,KAAK1yD,MAC1GA,KAAKwwF,+BAAiCxwF,KAAKywF,wBAAwB/9B,KAAK1yD,MACxEA,KAAK0wF,qBAAuB1wF,KAAK2wF,cAAcj+B,KAAK1yD,MACpDA,KAAK4wF,eAAiB5wF,KAAK6wF,SAASn+B,KAAK1yD,MACzCA,KAAK8wF,gBAAkB9wF,KAAK+wF,OAAOr+B,KAAK1yD,MAExCA,KAAKivF,SAAS7tC,GAAGmtC,YAAAyC,MAAMC,kBAAmBjxF,KAAK4wF,gBAExC5wF,gDAgBQwvF,gBAAiBE,sBAAsB,IAAAwB,OAAAlxF,KAChDmxF,mBAAqBzB,qBAAqBnjE,cAEhDuhE,QAAA,QAAEtvB,QAAF,mBAAAhtD,OAA6B2/E,mBAA7B,UACKr6C,KAAK,SAAC+mB,UAAD,OAAcqzB,OAAKV,+BAA+BhB,gBAAiB2B,mBAAoBtzB,YADjG,MAEW,SAAC9lD,OAAD,OAAWm5E,OAAKZ,gDAAgDd,oFAatCA,iBAAiB,IAAA4B,OAAApxF,KACtD8tF,QAAA,QAAEtvB,QAAF,mBAAAhtD,OAA6B68E,kBAAA0B,qBAA7B,UACKj5C,KAAK,SAACu6C,wBAAD,OAA4BD,OAAKZ,+BACnChB,gBACAnB,kBAAA0B,qBACAsB,0EAeY7B,gBAAiB2B,mBAAoBG,wBAAwB,IAAAC,OAAAvxF,KAC3EwxF,mBAAqB1D,QAAA,QAAEtvB,QAAQ,iCAC/BizB,oBAAsB3D,QAAA,QAAEtvB,QAAQ,iCAChCkzB,wBAA0B5D,QAAA,QAAEtvB,QAAQ,6BAK1CsvB,QAAA,QAAEj0C,KAAK23C,mBAAoBC,oBAAqBC,yBAC3CrsE,KAAK,SAACssE,gBAAiBC,iBAAkBC,sBACtCN,OAAKb,qBACDlB,gBACA2B,mBACAG,uBACAK,gBAAgB,GAAGG,SACnBF,iBAAiB,GAAGG,SACpBF,qBAAqB,4CAwBjCrC,gBACA2B,mBACAa,mBACAC,YACAC,2BACAC,eAEAnyF,KAAKgvF,eAAe2B,cAChBnB,gBACA2B,mBACAa,mBACAC,YACAC,2BACAC,eAGJnyF,KAAKoyF,0CAYL,OAAOpyF,KAAKqyF,WACPjvD,OACA/d,yCAQL,OAAOrlB,KAAKsyF,4CAcZ,OAFAtyF,KAAK+uF,SAAW,KAET/uF,wCA8BP,OAFAA,KAAKgvF,eAAeqD,WAEbryF,oCAUP,OAFAA,KAAKgvF,eAAe5rD,OAEbpjC,yCAQP,OAAOA,oCAiBP,OATAA,KAAKgvF,eAAe3pE,OACpBrlB,KAAKgvF,eAAeuD,SAEpBvyF,KAAK67C,KAAKuzC,QAAS,EAEfT,QACAv9B,sBAAsBpxD,KAAK8wF,iBAGxB9wF,wCAUP,OAFAA,KAAKgvF,eAAer8B,WAEb3yD,yCAUP,OAFAA,KAAKgvF,eAAewD,YAEbxyF,0CAUP,OAFAA,KAAKgvF,eAAeyD,aAEbzyF,sCAcP,OANKA,KAAK67C,KAAK8W,WACX3yD,KAAK2yD,WAEL3yD,KAAK67C,KAAK8W,UAAW,GAGpBg8B,SAILv9B,sBAAsBpxD,KAAK8wF,iBAE3B9wF,KAAKwyF,YACLxyF,KAAKyyF,aACLrE,YAAA,QAAW2C,UAEJ/wF,sCAQF0yF,eACA/D,QAAU+D,cACXthC,sBAAsBpxD,KAAK8wF,iBAG/BnC,OAAS+D,6hBCxZjB,IAAA5E,QAAAC,uBAAAvxF,QAAA,WACAm2F,oBAAA5E,uBAAAvxF,QAAA,kCACAo2F,mBAAA7E,uBAAAvxF,QAAA,gCACAq2F,mBAAA9E,uBAAAvxF,QAAA,gCACAs2F,4BAAA/E,uBAAAvxF,QAAA,8CACAu2F,kBAAAhF,uBAAAvxF,QAAA,8BACAw2F,uBAAAjF,uBAAAvxF,QAAA,iCACAy2F,qBAAAlF,uBAAAvxF,QAAA,oCACA02F,cAAAnF,uBAAAvxF,QAAA,gCACA22F,cAAApF,uBAAAvxF,QAAA,mBACA42F,gBAAArF,uBAAAvxF,QAAA,0BACA62F,iBAAAtF,uBAAAvxF,QAAA,sBACA2xF,UAAAJ,uBAAAvxF,QAAA,mBACA82F,aAAAvF,uBAAAvxF,QAAA,kBACA+2F,mBAAAxF,uBAAAvxF,QAAA,0CACAg3F,YAAAzF,uBAAAvxF,QAAA,uBACAi3F,wBAAA1F,uBAAAvxF,QAAA,8CACAk3F,gBAAA3F,uBAAAvxF,QAAA,sCACAm3F,cAAA5F,uBAAAvxF,QAAA,sBACAo3F,iBAAA7F,uBAAAvxF,QAAA,2BACAq3F,QAAAr3F,QAAA,YACA+xF,YAAA/xF,QAAA,0BACAs3F,WAAAt3F,QAAA,yBACAu3F,iBAAAv3F,QAAA,yYAWqBw3F,yBAKjB,SAAAA,cAAYnF,SAoBR,qIApBiBC,CAAA9uF,KAAAg0F,eAQjBh0F,KAAK+uF,UAAW,EAAAjB,QAAA,SAAEe,SAElB7uF,KAAKi0F,iBAAmB,KACxBj0F,KAAKk0F,UAAY/F,UAAA,QACjBnuF,KAAKm0F,YAAc,KACnBn0F,KAAKo0F,aAAe,KACpBp0F,KAAKq0F,kBAAoB,KACzBr0F,KAAKs0F,uBAAyB,KAC9Bt0F,KAAKu0F,gBAAkB,KACvBv0F,KAAKw0F,iBAAmB,KACxBx0F,KAAKy0F,oBAAsB,KAEpBz0F,KAAK00F,QACPrF,gBACA+C,4HAUL,OAAOpyF,6CAcP,OAHAA,KAAK20F,uBAAyB30F,KAAK40F,gBAAgBliC,KAAK1yD,MACxDA,KAAK60F,sBAAwB70F,KAAK80F,eAAepiC,KAAK1yD,MAE/CA,sCAYP,OAHAA,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAM+D,eAAgB/0F,KAAK20F,wBAC7C30F,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMgE,cAAeh1F,KAAK60F,uBAErC70F,uCAYP,OAHAA,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAM+D,eAAgB/0F,KAAK20F,wBAC9C30F,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMgE,cAAeh1F,KAAK60F,uBAEtC70F,KAAKsyF,4CAoBZ,OAVAtyF,KAAK+uF,SAAW,KAChB/uF,KAAKi0F,iBAAmB,KACxBj0F,KAAKk0F,UAAY,KACjBl0F,KAAKm0F,YAAc,KACnBn0F,KAAKo0F,aAAe,KACpBp0F,KAAKq0F,kBAAoB,KACzBr0F,KAAKs0F,uBAAyB,KAC9Bt0F,KAAKu0F,gBAAkB,KACvBv0F,KAAKw0F,iBAAmB,KAEjBx0F,2CAkBPwvF,gBACA2B,mBACAa,mBACAC,YACAC,2BACA+C,kBACF,IAAAhhF,MAAAjU,KACEmzF,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgBC,SAAU,eAAgBjE,oBAEnEnxF,KAAKi0F,iBAAmBj0F,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcC,UAKnEv1F,KAAKm0F,YAAc,IAAIb,aAAA,QACvBtzF,KAAKo0F,aAAe,IAAIlB,cAAA,QAAalzF,KAAKm0F,aAC1C1F,KAAKC,IAAI8G,UAAY,SAAC/3F,SAAD,OAAawW,MAAKmgF,aAAanwF,IAAIxG,UAMxDo1F,mBAAA,QAAkBzvD,KAAK+tD,mBAAoBa,mBAAoBxC,iBAC/D+D,mBAAA,QAAkBnwD,KAAK4uD,oBACvByB,wBAAA,QAAuBrwD,KAAK4uD,oBAE5BhyF,KAAKy1F,kBAAoB,IAAI7C,mBAAA,QAAkBX,aAC/CjyF,KAAK01F,WAAa,IAAIlC,YAAA,QACtBxzF,KAAK21F,mBAAqB,IAAIhD,oBAAA,QAAmBT,2BAA4BlyF,KAAKy1F,kBAAmBz1F,KAAK01F,YAC1G11F,KAAK41F,gBAAkB,IAAIhC,iBAAA,QAAgB5zF,KAAK21F,oBAEhDjC,gBAAA,QAAetwD,KAAKpjC,KAAK21F,oBAMzB5oE,OAAO4oE,mBAAqB31F,KAAK21F,mBAEjChC,cAAA,QAAavwD,KAAKpjC,KAAK+uF,UAEvB/uF,KAAKw0F,iBAAmB,IAAIzB,kBAAA,QAAiB/yF,KAAKi0F,iBAAkBj0F,KAAK21F,mBAAoB31F,KAAK01F,YAElG11F,KAAKu0F,gBAAkB,IAAIlB,iBAAA,QAAgBrzF,KAAK+uF,SAAU/uF,KAAK21F,mBAAoB31F,KAAK01F,YACxF11F,KAAK61F,sBAAwB,IAAI7C,uBAAA,QAAsBhzF,KAAK+uF,UAC5D/uF,KAAKs0F,uBAAyB,IAAIxB,4BAAA,QAA2B9yF,KAAK+uF,SAAUkG,iBAAkBjD,mBAAmBnC,MACjH7vF,KAAKy0F,oBAAsB,IAAIxB,qBAAA,QAAoBjzF,KAAKo0F,cAExDp0F,KAAK81F,wDAQL1C,gBAAA,QAAef,WACfryF,KAAKu0F,gBAAgBwB,iDAQrB,EAAAlC,QAAAmC,eAEAh2F,KAAKw0F,iBAAiByB,cACtBtC,cAAA,QAAauC,2EAcbl2F,KAAKw0F,iBAAiB2B,mDAQtBn2F,KAAKm0F,YAAYxhC,WACjBygC,gBAAA,QAAezgC,WACf3yD,KAAKw0F,iBAAiB4B,kBACtBzC,cAAA,QAAa0C,kDAQbr2F,KAAK61F,sBAAsBS,cAC3BlD,gBAAA,QAAemD,aACfv2F,KAAK21F,mBAAmB5E,gFAcxB/wF,KAAKw0F,iBAAiBgC,mBACtBx2F,KAAK21F,mBAAmBc,+DAiBZC,iBACP7D,mBAAA,QAAkBlgF,UAKvBwgF,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgBC,SAAU,mBAAoBsB,gBAAgB7G,MACvF0D,mBAAA,QAAkB5hD,QAClB3xC,KAAKy1F,kBAAkB9jD,QACvB3xC,KAAK21F,mBAAmBgB,sBACxB32F,KAAK01F,WAAWkB,sBAAsBjlD,QACtC8hD,wBAAA,QAAuB9hD,QACvByhD,gBAAA,QAAeyD,gBAEftD,mBAAA,QAAkBnwD,KAAKszD,iBACvBjD,wBAAA,QAAuBrwD,KAAKszD,iBAC5BhD,gBAAA,QAAeoD,iBAEf92F,KAAK81F,+DAUL3C,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgBC,SAAU,gBAAiBvC,mBAAA,QAAkBlgF,QAAQk9E,MAC9F7vF,KAAK21F,mBAAmBgB,sBACxB32F,KAAK01F,WAAWkB,sBAAsBjlD,QACtCkhD,mBAAA,QAAkBlgF,QAAQokF,uBAC1BrD,gBAAA,QAAesD,2BACftD,gBAAA,QAAeuD,oEAcE,IACAxH,QAAYoD,mBAAA,QAArBlgF,QAER3S,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMkG,sBAE7B,EAAApJ,QAAA,SAAEgG,WAAAuB,UAAUC,cAAc6B,yBAAyBx4C,OAAiD,GAAzC8wC,QAAQ2H,kBAAoB,IAAIp6F,SAC3F,EAAA8wF,QAAA,SAAEgG,WAAAuB,UAAUC,cAAc+B,aAAa14C,OAAO40C,mBAAA,QAAkB+D,UAChE,EAAAxJ,QAAA,SAAEgG,WAAAuB,UAAUC,cAAciC,gBAAgB54C,OAAO8wC,QAAQ7pF,KAAK4xF,6gCCjVtE,IAAAzD,iBAAAv3F,QAAA,gUA2Fe,eA7EX,SAAAi7F,8IAAc3I,CAAA9uF,KAAAy3F,cACLz3F,KAAK03F,aAMV13F,KAAK23F,MAAQ5qE,OAAO6qE,KALhBnrE,QAAQ1U,MAAM,kMAoBV8/E,SAAUtzE,OAAQuzE,OAAqB,IAAdtyF,MAAc,EAAAX,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,KACzC,GAAK7E,KAAK03F,aAAV,CAOA,IAAMn2C,MAAQ,CACVw2C,eAAgBF,SAChBG,aAAczzE,OACd0zE,YAAaH,OAOjB,OAJItyF,QACA+7C,MAAM/7C,MAAQA,OAGXxF,KAAK23F,MAAM,QAASp2C,MAAMw2C,eAAgBx2C,OAhB7C90B,QAAQ1U,MAAM,8HA0BIqf,KACtB,GAAKp3B,KAAK03F,aAAV,CAOA,IAAMn2C,MAAQ,CACVw2C,eAAgBhE,iBAAAoB,gBAAgB+C,SAChCD,YAAa7gE,IACb+gE,eAAgB,UAGpB,OAAOn4F,KAAK23F,MAAM,QAAS,QAASp2C,OAZhC90B,QAAQ1U,MAAM,iHAqBlB,YAA8B,IAAhBgV,OAAO6qE,uUCtF7B,IAAA9J,QAAAC,uBAAAvxF,QAAA,WACA47F,MAAArK,uBAAAvxF,QAAA,eACA67F,WAAAtK,uBAAAvxF,QAAA,oBACAq2F,mBAAA9E,uBAAAvxF,QAAA,gCACA87F,wBAAAvK,uBAAAvxF,QAAA,6CACA+7F,kBAAAxK,uBAAAvxF,QAAA,8BACAg8F,sBAAAzK,uBAAAvxF,QAAA,gCACA2xF,UAAAJ,uBAAAvxF,QAAA,mBACA42F,gBAAArF,uBAAAvxF,QAAA,0BACAm3F,cAAA5F,uBAAAvxF,QAAA,sBACAi8F,eAAA1K,uBAAAvxF,QAAA,qCACAk8F,mBAAA3K,uBAAAvxF,QAAA,8CACA22F,cAAApF,uBAAAvxF,QAAA,mBACAm8F,aAAA5K,uBAAAvxF,QAAA,8BACAo8F,eAAA7K,uBAAAvxF,QAAA,sCACAq8F,MAAAr8F,QAAA,eACA+xF,YAAA/xF,QAAA,0BACAs8F,qBAAAt8F,QAAA,mCACAu8F,iBAAAv8F,QAAA,+BACAw8F,gBAAAx8F,QAAA,8BAQAs3F,WAAAt3F,QAAA,yBACAu3F,iBAAAv3F,QAAA,o4CAGA,IAAMgB,MAAQ,GAKOy7F,2BAOjB,SAAAA,gBAAYlK,SAAU4G,mBAAoBD,YAAY,IAAAzhF,MAAAjU,oIAAA8uF,CAAA9uF,KAAAi5F,iBAAAC,gBAAAl5F,KAAA,iBA6WrC,SAACm5F,eACTA,eAAkBA,cAAcC,gBAQrCv9C,KAAKr+C,MAAM67F,SAAWF,cAAcE,SACpCplF,MAAKzW,MAAM67F,SAAWF,cAAcE,SACpCplF,MAAKqlF,cAAcltF,IAAnB,GAAAoF,OAA0B2nF,cAAcE,SAAxC,MAEKplF,MAAKqlF,cAAcxkD,GAAG,WACvB7gC,MAAKqlF,cAAc9oD,QAGvBv8B,MAAKigF,UAAUjyC,QAAQssC,YAAAyC,MAAMuI,gBAAiBJ,gBAf1CllF,MAAKulF,qBA/WyCN,gBAAAl5F,KAAA,2BAwY3B,SAACq5F,UACxB,IAAMF,cAAgBllF,MAAKwlF,oBAAoBC,uBAAuBL,UAEtEplF,MAAK0lF,eAAeR,iBA1YpBn5F,KAAK+uF,SAAWA,SAChB/uF,KAAK45F,MAAQ,KACb55F,KAAK65F,QAAU,KACf75F,KAAKs5F,cAAgB,KACrBt5F,KAAK85F,UAAY,KAEjB95F,KAAKk0F,UAAY/F,UAAA,QACjBnuF,KAAKy5F,oBAAsB9D,mBAC3B31F,KAAK+5F,YAAcrE,WACnB11F,KAAKg6F,wBAA0B,IAAI1B,wBAAA,QAAuBt4F,KAAK+uF,SAAU/uF,KAAMA,KAAKy5F,qBAEpF59C,KAAKr+C,MAAQA,MACbwC,KAAKxC,MAAQA,MACbwC,KAAKxC,MAAM67F,SAAW,GACtBr5F,KAAKxC,MAAMy8F,QAAU,GACrBj6F,KAAKxC,MAAM08F,aAAe,KAC1Bl6F,KAAKm6F,yBAA2B,CAAC,EAAG,GACpCn6F,KAAKxC,MAAM48F,aAAc,EACzBp6F,KAAKq6F,kBAAoBrB,gBAAAsB,gBAAgBC,SAEzCv6F,KAAK00F,6HAaL,OALA10F,KAAK45F,MAAQ55F,KAAK+uF,SAAS,GAC3B/uF,KAAK65F,SAAU,EAAA/L,QAAA,SAAE/gE,QACjB/sB,KAAKs5F,cAAgBt5F,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAckF,SAChEx6F,KAAK85F,UAAY95F,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcC,UAErDv1F,KAAKqvF,gBAAgB+C,iDAgB5B,OARApyF,KAAKy6F,iBAAmBz6F,KAAK06F,WAAWhoC,KAAK1yD,MAC7CA,KAAK26F,eAAiB36F,KAAK46F,SAASloC,KAAK1yD,MACzCA,KAAK66F,qBAAuB76F,KAAK86F,eAAepoC,KAAK1yD,MACrDA,KAAK+6F,2BAA6B/6F,KAAKg7F,qBAAqBtoC,KAAK1yD,MACjEA,KAAKi7F,iBAAmBj7F,KAAKk7F,WAAWxoC,KAAK1yD,MAC7CA,KAAKm7F,mBAAqBn7F,KAAKo7F,aAAa1oC,KAAK1yD,MACjDA,KAAKq7F,uBAAyBr7F,KAAKs7F,iBAAiB5oC,KAAK1yD,MAElDA,sCA0BP,OAhBAA,KAAK65F,QAAQz4C,GAAG,UAAWphD,KAAKy6F,kBAChCz6F,KAAK65F,QAAQz4C,GAAG,QAASphD,KAAK26F,gBAK9B36F,KAAK85F,UAAUpnC,KAAK,4BAA6B1yD,KAAK66F,sBACtD76F,KAAK85F,UAAU14C,GAAG,YAAaphD,KAAK+6F,4BACpC/6F,KAAK85F,UAAU14C,GAAG,UAAWphD,KAAKi7F,kBAClCj7F,KAAK85F,UAAU14C,GAAG,YAAaphD,KAAKm7F,oBACpCn7F,KAAK85F,UAAU14C,GAAG,WAAYphD,KAAKq7F,wBACnCr7F,KAAK45F,MAAMttD,iBAAiB,cAAe,SAACiV,OAAD,OAAWA,MAAMS,mBAG5DhiD,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMuK,YAAav7F,KAAKw7F,0BAEnCx7F,uCAsBP,OAZAA,KAAK65F,QAAQr4C,IAAI,UAAWxhD,KAAKy6F,kBACjCz6F,KAAK65F,QAAQr4C,IAAI,QAASxhD,KAAK26F,gBAG/B36F,KAAK85F,UAAUt4C,IAAI,YAAaxhD,KAAK+6F,4BACrC/6F,KAAK85F,UAAUt4C,IAAI,UAAWxhD,KAAKi7F,kBACnCj7F,KAAK85F,UAAUt4C,IAAI,YAAaxhD,KAAKm7F,oBACrCn7F,KAAK85F,UAAUt4C,IAAI,WAAYxhD,KAAKq7F,wBACpCr7F,KAAK45F,MAAMn/C,oBAAoB,cAAe,SAAC8G,OAAD,OAAWA,MAAMS,mBAE/DhiD,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMuK,YAAav7F,KAAKw7F,0BAEpCx7F,KAAKsyF,4CAuBZ,OAfAtyF,KAAK+uF,SAAW,KAChB/uF,KAAK45F,MAAQ,KACb55F,KAAK65F,QAAU,KACf75F,KAAKs5F,cAAgB,KACrBt5F,KAAK85F,UAAY,KAEjB95F,KAAKg6F,wBAA0B,KAE/Bh6F,KAAKxC,MAAQA,MACbwC,KAAKxC,MAAM67F,SAAW,GACtBr5F,KAAKxC,MAAMy8F,QAAU,GACrBj6F,KAAKxC,MAAM08F,aAAe,KAC1Bl6F,KAAKm6F,yBAA2B,CAAC,EAAG,GACpCn6F,KAAKxC,MAAM48F,aAAc,EAElBp6F,8CASPA,KAAKxC,MAAQA,MACbwC,KAAKxC,MAAM67F,SAAW,GACtBr5F,KAAKxC,MAAMy8F,QAAU,GACrBj6F,KAAKxC,MAAM08F,aAAe,KAC1Bl6F,KAAKm6F,yBAA2B,CAAC,EAAG,GACpCn6F,KAAKxC,MAAM48F,aAAc,6CAiBzBv+C,KAAKr+C,MAAM67F,SAAW,GACtBr5F,KAAKxC,MAAM67F,SAAW,GACtBr5F,KAAKs5F,cAAcltF,IAAI,IAEvBpM,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMyK,kBAAmB,6CAYnCl6C,OAAuC,IAAhCm6C,uBAAgC,EAAA72F,UAAA7H,aAAA4F,IAAAiC,UAAA,IAAAA,UAAA,GAC9C82F,oBAAsBpD,kBAAA,QAAiBqD,wCACzCr6C,MAAMiE,MAAOjE,MAAMkE,OAEnBo2C,iBAAmBtD,kBAAA,QAAiBuD,4CAAjBtrF,MAAA+nF,kBAAA,QAAAwD,mBAAgEJ,sBAGvF,GAAIp6C,MAAM4C,cAAcuB,SAAU,CAAA,IAK1Bs2C,SACAC,aAN0BC,uBAAAC,eACgBn8F,KAAKo8F,gDAAL5rF,MAAAxQ,KAAA+7F,mBACvCJ,sBAFuB,GACvBxC,cADuB+C,uBAAA,GACRG,qBADQH,uBAAA,GAAAI,uBAAAH,eAIMn8F,KAAKu8F,2CAAL/rF,MAAAxQ,KAAA+7F,mBAAmDJ,sBAJzD,GAIvBa,SAJuBF,uBAAA,GAIbG,gBAJaH,uBAAA,GAW1BL,aAFAQ,gBAAkBJ,sBAClBL,SAAWS,gBACID,WAEfR,SAAWK,qBACIlD,eAIf6C,SAAWzD,kBAAA,QAAiBmE,4BAA4B,MACxDb,iBAAmBI,cAIvBtD,aAAA,QAAYgE,YAAcjB,uBAC1B/C,aAAA,QAAYiE,gBAAgBf,kBAE5BlD,aAAA,QAAYkE,SAAShB,kBAIzB77F,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMkG,2EAW7ByB,aAAA,QAAYmE,sBAGZ98F,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMkG,+DAUf,IACN6F,SAAapE,aAAA,QAAboE,SAERpE,aAAA,QAAYhnD,QAGRorD,UACA/8F,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMkG,+DAY7ByB,aAAA,QAAYqE,aAIhBrE,aAAA,QAAYsE,wDAWZtE,aAAA,QAAYuE,iDAQD37C,OAC0B,EAAjCA,MAAM4C,cAAcg5C,YAAkB57C,MAAM4C,cAAckB,OAAS,EACnEkzC,kBAAA,QAAiB6E,SAKrB7E,kBAAA,QAAiB8E,uDAQA97C,OACjB,GAAIo3C,aAAA,QAAYgE,WAGZ,OAFA38F,KAAKs9F,iBAAiB/7C,OAAO,GAEtBvhD,KAGX,IAAKA,KAAKxC,MAAM48F,YACZ,OAAOp6F,KAGX,IAAMu9F,SAAWh8C,MAAMiE,MAAQxlD,KAAKm6F,yBAAyB,GACvDqD,SAAWj8C,MAAMkE,MAAQzlD,KAAKm6F,yBAAyB,GAE7D5B,kBAAA,QAAiBkF,UAAUF,SAAUC,6CAQ9Bj8C,OACPvhD,KAAKxC,MAAM48F,aAAc,uCAQhB74C,OAGT,OAFAA,MAAMS,iBAEET,MAAMmF,OACV,KAAKsyC,gBAAA0E,iBAAiBC,WAClB39F,KAAK49F,wBAAwBr8C,OAE7B,MACJ,KAAKy3C,gBAAA0E,iBAAiBG,aAClBtF,kBAAA,QAAiBuF,YAEjB,MACJ,KAAK9E,gBAAA0E,iBAAiBK,YAClB/9F,KAAKg+F,mBAAmBz8C,iDAanBA,OAORvhD,KAAKxC,MAAM67F,UAIhBr5F,KAAKk0F,UAAUjyC,QACXssC,YAAAyC,MAAMiN,mBACNj+F,KAAKy5F,oBAAoBC,uBAAuB15F,KAAKxC,MAAM67F,8CAgDxD93C,OAAO,IACR3kD,KAAS2kD,MAAM4C,cAAfvnD,KACAshG,SAAWthG,OAASo8F,gBAAAmF,UAAUC,QAAUxhG,OAASo8F,gBAAAqF,iBAAiBD,OAExE,IAAIp+F,KAAKs+F,UAAU/8C,MAAMnd,SAAY85D,SAMrC,GAAIl+F,KAAKg6F,wBAAwB1/B,OAC7Bt6D,KAAKg6F,wBAAwBS,iBAAiBl5C,WADlD,CAKA,IAAMg9C,yBAA2Bv+F,KAAKs5F,cAAcltF,MASpD,OANY,MAARxP,OAEAA,KAAO2kD,MAAM4C,cAAc0B,SAIvBjpD,MACJ,KAAKo8F,gBAAAmF,UAAUK,aACf,KAAKxF,gBAAAmF,UAAUM,cACXz+F,KAAK0+F,kBAEL,MACJ,KAAK1F,gBAAAmF,UAAUQ,MACf,KAAK3F,gBAAAmF,UAAUS,UACf,KAAK5F,gBAAAqF,iBAAiBM,MAClB3+F,KAAK6+F,iBAEL,MACJ,KAAK7F,gBAAAmF,UAAUW,QACf,KAAK9F,gBAAAqF,iBAAiBS,QAClB9+F,KAAK++F,yBACLx9C,MAAMS,iBAEN,MACJ,KAAKg3C,gBAAAmF,UAAUa,UACf,KAAKhG,gBAAAqF,iBAAiBW,UAClBh/F,KAAKi/F,qBACL19C,MAAMS,iBAEN,MAEJ,KAAKg3C,gBAAAmF,UAAUe,WACf,KAAKlG,gBAAAqF,iBAAiBa,WACdl/F,KAAKm/F,yBAA2Bn/F,KAAKq6F,oBAAsBrB,gBAAAsB,gBAAgBC,WAC3Ev6F,KAAKs5F,cAAcltF,IAAnB,GAAAoF,OAA0B+sF,yBAA1B,UACAh9C,MAAMS,kBAGV,MACJ,KAAKg3C,gBAAAmF,UAAUiB,YACf,KAAKpG,gBAAAqF,iBAAiBe,YACdp/F,KAAKm/F,yBAA2Bn/F,KAAKq6F,oBAAsBrB,gBAAAsB,gBAAgBC,WAC3Ev6F,KAAKs5F,cAAcltF,IAAnB,GAAAoF,OAA0B+sF,yBAA1B,UACAh9C,MAAMS,kBAGV,MAEJ,KAAKg3C,gBAAAmF,UAAUkB,SACf,KAAKrG,gBAAAqF,iBAAiBgB,SACdr/F,KAAKm/F,yBAA2Bn/F,KAAKq6F,oBAAsBrB,gBAAAsB,gBAAgBC,SAC3Ev6F,KAAKs5F,cAAcltF,IAAnB,GAAAoF,OAA0B+sF,yBAA1B,QAGAv+F,KAAK++F,yBAFLx9C,MAAMS,iBAMV,MACJ,KAAKg3C,gBAAAmF,UAAUmB,WACf,KAAKtG,gBAAAqF,iBAAiBiB,WACdt/F,KAAKm/F,yBAA2Bn/F,KAAKq6F,oBAAsBrB,gBAAAsB,gBAAgBC,SAC3Ev6F,KAAKs5F,cAAcltF,IAAnB,GAAAoF,OAA0B+sF,yBAA1B,QAGAv+F,KAAKi/F,qBAFL19C,MAAMS,iBAMV,MAEJ,KAAKg3C,gBAAAmF,UAAUoB,WACf,KAAKvG,gBAAAqF,iBAAiBkB,WACdv/F,KAAKq6F,oBAAsBrB,gBAAAsB,gBAAgBC,WAC3Cv6F,KAAKs5F,cAAcltF,IAAnB,GAAAoF,OAA0B+sF,yBAA1B,QACAh9C,MAAMS,kBAGV,MACJ,KAAKg3C,gBAAAmF,UAAUqB,aACf,KAAKxG,gBAAAqF,iBAAiBmB,aACdx/F,KAAKq6F,oBAAsBrB,gBAAAsB,gBAAgBC,WAC3Cv6F,KAAKs5F,cAAcltF,IAAnB,GAAAoF,OAA0B+sF,yBAA1B,QACAh9C,MAAMS,kBAGV,MAEJ,KAAKg3C,gBAAAmF,UAAUsB,QACf,KAAKzG,gBAAAqF,iBAAiBoB,QACdz/F,KAAKq6F,oBAAsBrB,gBAAAsB,gBAAgBC,WAC3Cv6F,KAAKs5F,cAAcltF,IAAnB,GAAAoF,OAA0B+sF,yBAA1B,QACAh9C,MAAMS,kBAGV,MACJ,KAAKg3C,gBAAAmF,UAAUuB,aACf,KAAK1G,gBAAAqF,iBAAiBqB,aACd1/F,KAAKq6F,oBAAsBrB,gBAAAsB,gBAAgBC,WAC3Cv6F,KAAKs5F,cAAcltF,IAAnB,GAAAoF,OAA0B+sF,yBAA1B,QACAh9C,MAAMS,kBAGV,MACJ,KAAKg3C,gBAAAmF,UAAUwB,GACf,KAAK3G,gBAAAqF,iBAAiBsB,GAClBp+C,MAAMS,iBACNhiD,KAAK+5F,YAAY6F,oBAEjB,MACJ,KAAK5G,gBAAAmF,UAAU0B,GACf,KAAK7G,gBAAAqF,iBAAiBwB,GAClBt+C,MAAMS,iBACNhiD,KAAK+5F,YAAY+F,oBAEjB,MACJ,KAAK9G,gBAAAmF,UAAU4B,GACf,KAAK/G,gBAAAqF,iBAAiB0B,GAClB,GAAI//F,KAAKq6F,oBAAsBrB,gBAAAsB,gBAAgB0F,MAC3C,OAGJhgG,KAAKs5F,cAAcltF,IAAI,SACvBm1C,MAAMS,iBAEN,MACJ,KAAKg3C,gBAAAmF,UAAU8B,UACf,KAAKjH,gBAAAqF,iBAAiB4B,UAClBjgG,KAAKs5F,cAAcltF,IAAI,IACvBm1C,MAAMS,iBACNhiD,KAAKkgG,2BAEL,MACJ,KAAKlH,gBAAAmF,UAAUgC,IACf,KAAKnH,gBAAAqF,iBAAiB8B,IAClB5+C,MAAMS,iBAEFhiD,KAAKq6F,oBAAsBrB,gBAAAsB,gBAAgBC,UAC3Cv6F,KAAKg6F,wBAAwBoG,WAGjC,MACJ,KAAKpH,gBAAAmF,UAAUC,OACf,KAAKpF,gBAAAqF,iBAAiBD,OAElBp+F,KAAKqgG,kBAEL1M,cAAA,QAAa2M,kBAEb,IAAMC,aAAc,EAAAlI,WAAA,SAAUkG,yBAA0Bv+F,KAAKxC,MAAM67F,UAC7DmH,gBAAkBjC,yBAAyBj7B,SAAWtjE,KAAKxC,MAAM67F,SACjEoH,oBAA8C,KAAxBzgG,KAAKxC,MAAM67F,SAEvC,IAAKkH,aAAeC,kBAAoBC,oBAGpC,YAFAzgG,KAAKw5F,mBAKTx5F,KAAKs5F,cAAcltF,IAAnB,GAAAoF,OAA0BxR,KAAKxC,MAAM67F,SAArC,MAEA,MACJ,QACIr5F,KAAKs5F,cAAc9oD,2CAWtB+Q,OAAO,IACN3kD,KAAS2kD,MAAM4C,cAAfvnD,KAON,OALY,MAARA,OAEAA,KAAO2kD,MAAM4C,cAAc0B,SAGvBjpD,MACJ,KAAKo8F,gBAAAmF,UAAUK,aACf,KAAKxF,gBAAAmF,UAAUM,cACXz+F,KAAK0gG,iBACL1gG,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMkG,wDAgB/BnI,UACN,GAAIA,SAAS4R,UAAUr6D,SAASwtD,WAAA8M,WAAWC,QACvC,OAAO,EAFK,IAKRC,cAAkB/R,SAAlB+R,cAER,OAAOA,eAAiB9gG,KAAKs+F,UAAUwC,6DAQvC9gG,KAAKxC,MAAM08F,cAAe,EAAArB,MAAAkI,OAAM,EAAG/gG,KAAKxC,MAAM08F,aAAcl6F,KAAKxC,MAAMy8F,QAAQj9F,OAAS,oDAQxF,GAAkC,IAA9BgD,KAAKxC,MAAMy8F,QAAQj9F,OAAvB,CAI+B,MAA3BgD,KAAKxC,MAAM08F,eACXl6F,KAAKxC,MAAMy8F,QAAQ31F,QAAQtE,KAAKs5F,cAAcltF,OAC9CpM,KAAKxC,MAAM08F,aAAe,GAG9Bl6F,KAAKxC,MAAM08F,cAAgB,EAC3Bl6F,KAAKghG,sBAEL,IAAM3H,SAAWr5F,KAAKxC,MAAMy8F,QAAQj6F,KAAKxC,MAAM08F,cACzCf,cAAgBn5F,KAAKy5F,oBAAoBC,uBAAuBL,UAEtEr5F,KAAK25F,eAAeR,6DAQpB,GAAkC,IAA9Bn5F,KAAKxC,MAAMy8F,QAAQj9F,QAAiBgD,KAAKxC,MAAM08F,aAAnD,CAMA,GAFAl6F,KAAKxC,MAAM08F,cAAgB,EAEvBl6F,KAAKxC,MAAM08F,cAAgB,EAM3B,OALAl6F,KAAKs5F,cAAcltF,IAAIpM,KAAKxC,MAAMy8F,QAAQ,IAE1Cj6F,KAAKxC,MAAMy8F,QAAQznF,OAAO,EAAG,QAC7BxS,KAAKxC,MAAM08F,aAAe,MAK9Bl6F,KAAKghG,sBAEL,IAAM3H,SAAWr5F,KAAKxC,MAAMy8F,QAAQj6F,KAAKxC,MAAM08F,cACzCf,cAAgBn5F,KAAKy5F,oBAAoBC,uBAAuBL,UAEtEr5F,KAAK25F,eAAeR,gEAWpB,MAAwF,WAAjF/F,gBAAA,QAAe6N,KAAK7hD,OAAO8hD,gBAAgBpI,qBAAAqI,kBAAkBC,mEAUpE,OAAQphG,KAAKq6F,mBACT,KAAKrB,gBAAAsB,gBAAgBC,SAKjB,OAJAv6F,KAAKq6F,kBAAoBrB,gBAAAsB,gBAAgB0F,MACzChgG,KAAKs5F,cAAcrrD,KAAK,cAAe,4BACvCjuC,KAAKs5F,cAAc1iC,YAAYk9B,WAAAuB,UAAUuL,WAAWS,oBAGxD,KAAKrI,gBAAAsB,gBAAgB0F,MACjBhgG,KAAKq6F,kBAAoBrB,gBAAAsB,gBAAgBC,SACzCv6F,KAAKs5F,cAAcrrD,KAAK,cAAe,0BACvCjuC,KAAKs5F,cAAc1iC,YAAYk9B,WAAAuB,UAAUuL,WAAWS,sEAe5D,IAKIC,IALEC,YAAcvhG,KAAKs5F,cAAcltF,MAAMk3D,OAAO/2C,cAMpD,IAEI+0E,IADe,IAAI7I,eAAA,QAAc8I,aACpBnjG,QACf,MAAO2Z,OAEL,MADA47E,cAAA,QAAa6N,OAAO,0BAA0B,GACxCzpF,MAEV,IAAM0pF,cAAgBH,IACtB,OAAIG,cAAcC,UAAY1I,gBAAA2I,oBAAoBC,SACvC5hG,KAAK6hG,qBAAqBJ,gBAGrCzhG,KAAKxC,MAAMy8F,QAAQ31F,QAAQtE,KAAKxC,MAAM67F,UACtCr5F,KAAKxC,MAAM08F,aAAe,KAEnBl6F,KAAK8hG,uBAAuBL,yDAWnC,IAAI5jC,SAAW,GAUf,OARI79D,KAAKq6F,oBAAsBrB,gBAAAsB,gBAAgBC,SAC3C18B,SAAW79D,KAAK+hG,yBACT/hG,KAAKq6F,oBAAsBrB,gBAAAsB,gBAAgB0F,QAClDniC,SAAW79D,KAAKgiG,uBAGpBhiG,KAAKw5F,mBAEE37B,uDAUP,IAAIokC,kBACEV,YAAcvhG,KAAKs5F,cAAcltF,MAAMk3D,OAAO/2C,cAEpD,IACI01E,kBAAoB,IAAIvJ,mBAAA,QAAkB6I,aAC5C,MAAOxpF,OAGL,MAFA47E,cAAA,QAAa6N,OAAO,qBAAqB,GAEnCzpF,MATQ,IAAAmqF,uBAAA/F,eAYan8F,KAAK+5F,YAAYoI,gBAAgBF,mBAZ9C,GAYXG,WAZWF,uBAAA,GAYCrkC,SAZDqkC,uBAAA,GAaZG,WAAaD,WAEnBzO,cAAA,QAAa6N,OAAO3jC,SAAUwkC,wDASbZ,eACjB,OAAQA,cAAcC,SAClB,KAAK1I,gBAAA2I,oBAAoBW,SAGrB,OAFA3O,cAAA,QAAa4O,oBAEN,EAEX,KAAKvJ,gBAAA2I,oBAAoBa,KAUrB,OAAO,EAEX,KAAKxJ,gBAAA2I,oBAAoBc,MAGrB,OAFArP,gBAAA,QAAesP,qBAER,EAEX,KAAK1J,gBAAA2I,oBAAoBgB,SACrB,IAAIC,kBAAoB,EAExB,GAAInB,cAAcl6F,KAEbq7F,kBAFmBzG,eAEEsF,cAAcl6F,KAFhB,GAAA,GAQxB,OAHA6rF,gBAAA,QAAeyP,gBAAgBD,mBAC/BzP,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgB2N,QAAS,wBAAlD,GAAAtxF,OAA8EoxF,qBAEvE,EAEX,KAAK5J,gBAAA2I,oBAAoBoB,MACrB9S,aAAalsB,QACbz0D,SAAS0zF,SAET,MACJ,KAAKhK,gBAAA2I,oBAAoBsB,QAErB,IAAMC,YAAczB,cAAcl6F,KAAK,GAMvC,OAJI,EAAA6wF,MAAA,SAAKvF,mBAAA,QAAkBsQ,SAAUD,cACjCrQ,mBAAA,QAAkBuQ,YAAYF,cAG3B,EAEX,KAAKlK,gBAAA2I,oBAAoB0B,MACrB,IAAMC,aAAczQ,mBAAA,QAAkBlgF,QAAQk9E,KAAKt0C,cAC7CgoD,WAAa1Q,mBAAA,QAAkB2Q,gBAErC,OAAKD,WAML5P,cAAA,QAAa6N,OAAb,GAAAhwF,OAAuB8xF,aAAvB,kBAAA9xF,OAAmD+xF,aAL/C5P,cAAA,QAAa6N,OAAb,GAAAhwF,OAAuB8xF,aAAvB,2BAOG,EAGX,KAAKtK,gBAAA2I,oBAAoB8B,KAGrB,OAFA9P,cAAA,QAAa6N,OAAO,oCAAoC,IAEjD,EACX,QACI,OAAO,kDAUIC,eAKnB,IAHA,IAAIh7E,QAAU,EACV1B,MAAQg0E,iBAAA2K,eAEHrnG,EAAI,EAAGA,EAAI2D,KAAKy5F,oBAAoB1H,SAAS7hF,KAAKlT,OAAQX,IAAK,CACnD2D,KAAKy5F,oBAAoB1H,SAAS7hF,KAAK7T,GAE3CsnG,cAAclC,cAAcpI,YACrC5yE,SAAW,EACX1B,MAAQ1oB,GAIhB,GAAc,EAAVoqB,QAGA,OAFAktE,cAAA,QAAa6N,OAAO,mDAAmD,IAEhE,EAGX,GAAIz8E,QAAUg0E,iBAAA2K,eAGV,OAFA/P,cAAA,QAAa6N,OAAO,+BAA+B,IAE5C,EAGX,IAAMzP,SAAW/xF,KAAKy5F,oBAAoB1H,SAAS7hF,KAAK6U,OAExD,OAAO/kB,KAAKy5F,oBAAoBmK,kBAAkBC,YAAY9R,SAAU0P,cAAcl6F,kEAWtDg6C,OAChC,IAAMuiD,eAAiBvL,kBAAA,QAAiBqD,wCAAwCr6C,MAAMiE,MAAOjE,MAAMkE,OAGnG,OAFyB8yC,kBAAA,QAAiBuD,4CAAjBtrF,MAAA+nF,kBAAA,QAAAwD,mBAAgE+H,yFAiB7CxvE,EAAGC,GAC/C,OAAOv0B,KAAKy5F,oBAAoBsK,qBAC5BxL,kBAAA,QAAiBuD,4CAA4CxnE,EAAGC,uEAgB7BD,EAAGC,GAC1C,OAAOqkE,eAAA,QAAcoL,cACjBzL,kBAAA,QAAiBuD,4CAA4CxnE,EAAGC,mDAajD0vE,mBACnB,IAAMC,eAAiBD,kBAAkB9yF,IAAI,SAACgzF,OAAD,OAAWA,MAAMC,QAAQ,KAAIlgG,KAAK,MAE/E6oB,OAAOs3E,UAAUC,UAAUC,UAAUL,gBAAgBptD,KAAK,WACtDrqB,QAAQhsB,IAAIyjG,gBACZvQ,cAAA,QAAa6N,OAAb,wBAAAhwF,OAA4C0yF,eAA5C,kDAA2G,gDAchG3iD,OACf,GAAIo3C,aAAA,QAAYqE,YACZh9F,KAAKwkG,kCADT,CAOA,GAAIjjD,MAAM4C,cAAcuB,UAAYnE,MAAM4C,cAAca,OAAQ,CAC5D,IAAM62C,iBAAmB77F,KAAKykG,oCAAoCljD,OAC5DmjD,kBAAoB7R,mBAAA,QAAkBlgF,QAAQgyF,cAC9CV,kBAAoBzL,sBAAA,QAAqBoM,4CAC3C/I,iBAAkB6I,mBAGtB,OAAO1kG,KAAK6kG,uBAAuBZ,mBAGvCjkG,KAAK8kG,kBAAkBvjD,MAAOy3C,gBAAA+L,mBAAmBC,wDAe7BzjD,OACpB,GAAIo3C,aAAA,QAAYqE,YACZh9F,KAAKs9F,iBAAiB/7C,WAD1B,CAMA,IAAM0jD,eAAiB1M,kBAAA,QAAiBqD,wCAAwCr6C,MAAMiE,MAAOjE,MAAMkE,OAPxEy/C,uBAAA/I,eAQmBn8F,KAAKo8F,gDAAL5rF,MAAAxQ,KAAA+7F,mBAAwDkJ,iBAR3E,GAQpB9L,cARoB+L,uBAAA,GAAAA,uBAAA,GAUA3M,kBAAA,QAAiBmE,4BAA4B,KACpE18F,KAAKw5F,mBACLx5F,KAAK8kG,kBAAkBvjD,MAAOy3C,gBAAA+L,mBAAmBI,OAC1CnlG,KAAKq6F,oBAAsBrB,gBAAAsB,gBAAgB0F,OAClDhgG,KAAKs5F,cAAcltF,IAAnB,GAAAoF,OAA0BxR,KAAKs5F,cAAcltF,MAA7C,KAAAoF,OAAsD2nF,cAAcE,WACpEr5F,KAAK6+F,kBACE1F,eACPn5F,KAAK25F,eAAeR,0DAaV53C,MAAO6jD,aAKrB,GAAIA,cAJqBhS,gBAAA,QAAeiS,cAAcvM,qBAAAqI,kBAAkBmE,kBAIxE,CAIA,IAAMC,eAAiBhkD,MAAMiE,MAAQ+yC,kBAAA,QAAiBiN,MAChDC,eAAiBlkD,MAAMkE,MAAQ8yC,kBAAA,QAAiBmN,MAGtD1lG,KAAKm6F,yBAA2B,CAC5BoL,eACAE,gBAEJzlG,KAAKxC,MAAM48F,aAAc,q9BCvmCjC,QAAAtM,aAAAtxF,QAAA,6CACAs3F,WAAAt3F,QAAA,iTAOqBmpG,uBAKjB,SAAAA,cASI,qIATU7W,CAAA9uF,KAAA2lG,aAOV3lG,KAAK+uF,SAAW,KAET/uF,KAAK4lG,2IAYZ,OAFA5lG,KAAK+uF,UAAW,EAAAjB,QAAA,SAAEgG,WAAAuB,UAAUC,cAAcuQ,cAEnC7lG,uCAWP,OAFAA,KAAK+uF,SAAW,KAET/uF,wCAYA,IAAAiU,MAAAjU,KACP8sB,OAAO6sB,WAAW,WACd1lC,MAAK86E,SAASr6B,QAAQ,KACtBzgD,MAAK86E,SAASrxC,IAAI,gBAAiB,SACpC,+bC7DX,IAAA06C,MAAArK,uBAAAvxF,QAAA,eACAwxF,QAAAD,uBAAAvxF,QAAA,iBACAspG,MAAA/X,uBAAAvxF,QAAA,eACAupG,QAAAhY,uBAAAvxF,QAAA,iBACAq2F,mBAAA9E,uBAAAvxF,QAAA,iCACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACA42F,gBAAArF,uBAAAvxF,QAAA,2BACA+2F,mBAAAxF,uBAAAvxF,QAAA,2CACAm3F,cAAA5F,uBAAAvxF,QAAA,uBACAwpG,sBAAAxpG,QAAA,sCACAypG,mBAAAzpG,QAAA,kCAGA+xF,YAAA/xF,QAAA,2BACA0pG,QAAA1pG,QAAA,kBACAq8F,MAAAr8F,QAAA,gBACA2pG,oBAAA3pG,QAAA,kDACAq3F,QAAAr3F,QAAA,aACA4pG,gBAAA5pG,QAAA,+BAMA6pG,gBAAA7pG,QAAA,y1BAOqB8pG,6BACjB,SAAAA,kBAAYC,wBAAyBC,iJAAkB1X,CAAA9uF,KAAAsmG,mBACnDtmG,KAAKk0F,UAAY/F,UAAA,QACjBnuF,KAAKymG,kBAAoBD,iBACzBxmG,KAAK0mG,yBAA2BH,mJAUxBxU,SAAU4U,UAA8B,IAApBC,WAAoB,EAAA/hG,UAAA7H,aAAA4F,IAAAiC,UAAA,IAAAA,UAAA,GAChD,IAAKktF,SAASqH,iBAAmBwN,WAC7B,OAAO,EAQX,IALA,IAAI/oC,SAAW,GACXgpC,aAAe,GACfC,aAAc,EACZ1uD,SAAW,GAER/7C,EAAI,EAAGA,EAAIsqG,SAAS3pG,OAAQX,IAAK,CACtC,IAAMqlG,QAAUiF,SAAStqG,GAAG,GACtBkL,KAAOo/F,SAAStqG,GAAGmW,OAAO,GAEhC,GAAIkvF,UAAYuE,mBAAAc,aAAaC,QAA7B,CAMA,IAAIC,OAASjnG,KAAKiwD,IAAI8hC,SAAU2P,QAASn6F,MAErC0/F,SACKA,OAAO,KACRH,aAAc,IAGb,EAAA1O,MAAA,SAAK6O,OAAO,GAAI,SAAW,EAAA7O,MAAA,SAAK6O,OAAO,GAAI,SAE5CA,OAAS,CACLA,OAAO,GACP,CACIxmG,IAAKwmG,OAAO,GACZC,IAAKD,OAAO,MAKxBppC,SAASr6D,KAAKyjG,OAAO,IAEjBA,OAAO,KAEPJ,aAAeI,OAAO,UA3B1B7uD,SAAS50C,KAAK,CAACk+F,QAASn6F,OAgChC,IAAK,IAAIg+B,GAAI,EAAGA,GAAI6S,SAASp7C,OAAQuoC,IAAK,EAAG,CACzC,IAAM4hE,SAAU/uD,SAAS7S,IAAG,GACtB6hE,MAAOhvD,SAAS7S,IAAG,GACnB8hE,QAASrnG,KAAKiwD,IAAI8hC,SAAUoV,SAASC,OAEvCC,UACKA,QAAO,KACRP,aAAc,GAKM,MAApBO,QAAO,GAAGrqG,SAEVqqG,QAAO,GAAK,CACRH,IAAKG,QAAO,GACZ5mG,IAAK4mG,QAAO,KAIpBxpC,SAASr6D,KAAK6jG,QAAO,KAI7B,GAAIT,WACA,OAAO,EAUX,GAPwB,IAApBD,SAAS3pG,SACT6gE,SAAW,CAAC,CACRqpC,IAAK,YACLzmG,IAAK,eAIU,GAAnBo9D,SAAS7gE,OAAa,CAClB6pG,eACAA,aAAY,KAAAr1F,OAAQq1F,eAGxB,IAAMS,OAAQ,EAAAxB,MAAA,SAAKjoC,SAAU,SAAC7hE,GAAD,OAAOA,EAAEyE,MAAKyD,KAAK,MAC1CqjG,OAAQ,EAAAzB,MAAA,SAAKjoC,SAAU,SAAC7hE,GAAD,OAAOA,EAAEkrG,MAAKhjG,KAAK,MAEhDyvF,cAAA,QAAa6N,OAAb,GAAAhwF,OAAuBugF,SAASsH,SAAhC,MAAA7nF,OAA6C81F,MAA7C,KAAA91F,OAAsDq1F,cAAgBC,cACtE,EAAAjT,QAAA2T,YACI,CACI,CAAE/lG,KAAM,WAAY+I,QAASunF,UAC7B,CAAEtwF,KAAM,OAAQ+I,QAAO,GAAAgH,OAAK+1F,MAAL,KAAA/1F,OAAcq1F,gBAEzC9U,SAAS0V,YAIjB,OAAO,8BAWP1V,SAAU2P,QAAS97F,MAAM,IACjB8hG,aAAiBvB,oBAAAwB,qBAAqBjG,SAAtCgG,aAER,YAA4B,IAAjBA,aACA,EAAC,EAAO,cAGZ1nG,KAAK0nG,cAAc3V,SAAUnsF,yCAWpC,MAAO,EAAC,EAAO,kHAYPmsF,SAAUnsF,MAClB,IAAMgiG,kBAAoBhiG,KAAK,GACzBiiG,kBAAoBjiG,KAAK,GACzBkiG,qBAAqF,QAA9D1U,gBAAA,QAAe6N,KAAK7hD,OAAO8hD,gBAAgB,eAClEzR,QAAUoD,mBAAA,QAAkBkV,cAElC,OAAOhW,SAASiW,MAAMC,iBAClBL,kBACAC,kBACAC,qBACArY,QACAsC,6CAaGA,SAAUnsF,MACjB,IAAIsiG,UAAYtiG,KAAK,GACfuiG,QAAUviG,KAAK,GACfwiG,YAAcxiG,KAAK,GACnByiG,SAAWtW,SAASiW,MAAMM,gBAAgBvW,SAAUoW,QAASD,UAAWE,aAY9E,OAVKF,YACDA,UAAY,IAGhBnW,SAAS3tD,OAAOmkE,KAAOL,UAEnBnW,SAASyW,sBACTzW,SAASiW,MAAMS,wBAAwB1W,UAGpCsW,mDAWOtW,UACd,OAAOA,SAASiW,MAAMU,wDAUX3W,SAAUnsF,MACrB,IAAM+iG,SAAW/iG,KAAK,GAEtB,OAAOmsF,SAASiW,MAAMY,YAAY7W,SAAU4W,2CAUvC5W,SAAUnsF,MACf,IAAM29C,IAAM39C,KAAK,GAAG21C,cACdotD,SAAW/iG,KAAK,GAChB8tD,MAAQ9tD,KAAK,GAEnB,OAAOmsF,SAASiW,MAAMa,SAAS9W,SAAUxuC,IAAKolD,SAAUj1C,iDAU1Cq+B,UAAqB,IAC7B4W,UAD6B,EAAA9jG,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAJ,IACT,GAEtB,OAAOktF,SAASiW,MAAMc,eAAe/W,SAAU4W,2CAS1C5W,SAAUnsF,MACf,IAAMmjG,UAAYnjG,KAAK,GAEvB,OAAOmsF,SAASiW,MAAMgB,cAAcD,UAAWhX,0CAiB3CA,SAAUnsF,MAAM,IAAA02C,MAAA6/C,eACgCv2F,KADhC,GACbqjG,cADa3sD,MAAA,GACE4sD,UADF5sD,MAAA,GACa6sD,QADb7sD,MAAA,GACsB8sD,OADtB9sD,MAAA,GAGpB,IAAK6sD,QACD,MAAO,EAAC,EAAO,qEAGnB,IAAM3M,SAAWjJ,mBAAA,QAAkB8V,cAAcF,SAEjD,IAAK3M,SACD,MAAO,EAAC,EAAD,iCAAAhrF,OAAyC23F,UAGpD,IACIG,uBADEC,eAAiB,GAwBvB,OAlBsB,OAAlBN,gBACAM,eAAeN,cAAgBA,eAGjB,OAAdC,YACAK,eAAeL,UAAYA,WAGhB,OAAXE,OAEAG,eAAeC,gBAAiB,EAAAtD,QAAAuD,oBAAkB,EAAApD,gBAAAqD,kBAAiBN,QAAUr2E,KAAK89B,IAKlFy4C,uBAAyB9M,SAASmI,cAAcgF,oBAAoB5X,SAAS4S,eAG1E5S,SAASiW,MAAM4B,uBAAuBT,QAASI,eAAgBD,wEAYlDvX,SAAUxqF,MAC9B,IAAM4hG,QAAU5hG,KAAK,GAErB,OAAOwqF,SAASiW,MAAM6B,qBAAqBV,2CAUrCpX,SAAUnsF,MAEhB,IAAMujG,QAAUvjG,KAAK,GAAG21C,cAIxB,OAFAw2C,SAAS3tD,OAAOmkE,KAAO,KAEhBxW,SAASiW,MAAM8B,cAAcX,wDAYjBpX,SAAUnsF,MAC7B,IAAMmkG,aAAelX,mBAAA,QAAkBkV,cACjCiC,WAAapkG,KAAK,GAClBqkG,YAAcF,aAAaG,UAAUF,YAE3C,IAAI,EAAAhc,QAAA,SAAOic,aAAc,CACrB,IAAME,oBAAsBpY,SAASqY,IAAIC,mBACnChC,SAAW,GAMjB,OALAA,SAAS5nG,IAAM,yBAAA+Q,OAAyBw4F,WAAzB,oBAAA,oBAAAx4F,OACS24F,oBAAoBxpG,KAD7B,YAEf0nG,SAASnB,IAAM,yBAAA11F,QAAyB,EAAA40F,gBAAAkE,cAAaN,YAAtC,YAAA,4BAAAx4F,OACiB24F,oBAAoBI,eADrC,YAGR,EAAC,EAAOlC,UAGnB,OAAOtW,SAASiW,MAAMwC,8BAA8BzY,SAAUkY,0DAQ7ClY,UACjB,GAAIA,SAAS0Y,cAAgBxE,mBAAAc,aAAa2D,MACtC,MAAO,EAAC,EAAO,2BAGnB,GAAI3Y,SAAS0Y,cAAgBxE,mBAAAc,aAAa4D,KAS1C,OAAO5Y,SAASiW,MAAM4C,uBAAuB7Y,UARzC,IAAM8Y,OAAS9Y,SAASqY,IAAIU,qBACtBzC,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,iCAAA+Q,OAAgDq5F,OAAOlqG,MACvD0nG,SAASnB,IAAT,iCAAA11F,QAAgD,EAAA40F,gBAAAkE,cAAaO,OAAOlqG,OAE7D,EAAC,EAAO0nG,8CAYXtW,UACR,OAAOA,SAASiW,MAAM+C,0CAUnBhZ,SAAUnsF,MACb,IAAMolG,YAAcplG,KAAK,GACnBmkG,aAAelX,mBAAA,QAAkBkV,cAEvC,OAAOhW,SAASiW,MAAMiD,wBAAwBD,YAAajB,aAAala,sCASpEkC,SAAUnsF,MACd,IAAMolG,YAAcplG,KAAK,GACnBmkG,aAAelX,mBAAA,QAAkBkV,cAEvC,OAAOhW,SAASiW,MAAMkD,sBAAsBF,YAAajB,aAAappG,iDAStE,MAAO,EAAC,EAAO,0GAYVoxF,SAAUnsF,MAEf,IAAMolG,YAAcplG,KAAK,GAAG21C,cAE5B,OAAOw2C,SAASiW,MAAMmD,2BAA2BH,gDAe1CjZ,SAAUnsF,MAEjB,IAAMolG,YAAcplG,KAAK,GAAG21C,cACtB8sD,SAAWtW,SAASiW,MAAMoD,8BAA8BJ,aAQ9D,OAJI3C,SAAS,IACTtW,SAASsZ,IAAIC,iBAGVjD,gDASItW,UACX,IAAM4W,UAAW,EAAA5C,QAAA,SAAOhU,SAAS4W,UAAW,GAEtCN,SAAW,GACbkD,qBAAuB,MAS3B,OAXkD,IAAnBxZ,SAASyZ,QAKpCD,qBAAuB,YAG3BlD,SAAS5nG,IAAT,GAAA+Q,OAAkB+5F,sBAAlB/5F,OAAyCm3F,UACzCN,SAASnB,IAAT,GAAA11F,OAAkB+5F,sBAAlB/5F,QAAyC,EAAA40F,gBAAAqF,gBAAe9C,WAEjD,EAAC,EAAMN,yDASKtW,UACnB,IAAM4W,UAAW,EAAA5C,QAAA,SAAOhU,SAASsZ,IAAI1C,UAAW,GAC1CN,SAAW,GAEjB,OAAiB,IAAbM,SACO,EAAC,EAAO,yCAGnBN,SAAS5nG,IAAT,YAAA+Q,OAA2Bm3F,UAC3BN,SAASnB,IAAT,YAAA11F,QAA2B,EAAA40F,gBAAAqF,gBAAe9C,WAEnC,EAAC,EAAMN,iDASJtW,UACV,IAAMoW,SAAU,EAAA9B,gBAAAqF,mBAAkB3Z,SAASoW,SACrCE,SAAW,GAKjB,OAHAA,SAAS5nG,IAAT,WAAA+Q,OAA0B22F,SAC1BE,SAASnB,IAAT,WAAA11F,QAA0B,EAAA40F,gBAAAuF,eAAcxD,UAEjC,EAAC,EAAME,wDASItW,UAClB,GAAIA,SAASsZ,IAAIO,cAAgB5F,sBAAA6F,SAASC,QAAQC,KAC9C,MAAO,EAAC,EAAO,sCAGnB,IAAM5D,SAAU,EAAA9B,gBAAAqF,mBAAkB3Z,SAASsZ,IAAIlD,SACzCE,SAAW,GAKjB,OAHAA,SAAS5nG,IAAT,oBAAA+Q,OAAmC22F,SACnCE,SAASnB,IAAT,oBAAA11F,QAAmC,EAAA40F,gBAAAuF,eAAcxD,UAE1C,EAAC,EAAME,0DASMtW,UACpB,IAAMr+B,OAAQ,EAAAqyC,QAAA,SAAOhU,SAASr+B,OACxB20C,SAAW,GAKjB,OAHAA,SAAS5nG,IAAT,cAAA+Q,OAA6BkiD,MAA7B,UACA20C,SAASnB,IAAT,cAAA11F,QAA6B,EAAA40F,gBAAA4F,gBAAet4C,OAA5C,UAEO,EAAC,EAAM20C,sDASEtW,UAChB,GAAIA,SAASsZ,IAAIY,YAAcjG,sBAAA6F,SAASK,MAAMH,KAC1C,MAAO,EAAC,EAAO,oCAGnB,IAAMr4C,OAAQ,EAAAqyC,QAAA,SAAOhU,SAASsZ,IAAI33C,OAC5B20C,SAAW,GAKjB,OAHAA,SAAS5nG,IAAT,YAAA+Q,OAA2BkiD,MAA3B,UACA20C,SAASnB,IAAT,YAAA11F,QAA2B,EAAA40F,gBAAA4F,gBAAet4C,OAA1C,WAEO,EAAC,EAAM20C,0CAcVlP,cAAevzF,MACnB,IAAMmkG,aAAelX,mBAAA,QAAkBkV,cACjCoE,oBAAsBvmG,KAAK,GAEjC,IAAKumG,oBAAqB,CAGtB,MAAO,EAAC,EAFS,yCAKrB,IAAMlC,YAAcF,aAAaG,UAAUiC,oBAAoB5wD,eAE/D,GAAK0uD,YAQL,OAAO9Q,cAAciT,aAAanC,aAP9B,IAAMoC,UAAW,GAIjB,OAHAA,UAAS5rG,IAAT,yBAAA+Q,OAAwC26F,oBAAoB5wD,cAA5D,kBACA8wD,UAASnF,IAAT,yBAAA11F,QAAwC,EAAA40F,gBAAAkE,cAAa6B,qBAArD,kBAEO,EAAC,EAAOE,8CAYZta,UAEP,IAAMtC,QAAUoD,mBAAA,QAAkBkV,cAC5B8C,OAAS9Y,SAASqY,IAAIU,qBACtBwB,YAAczB,OAAO0B,yBAAyBxa,SAAS/7E,IACvDw2F,WAA2B,EAAfF,YACZG,cAAgBzsG,KAAKymG,kBAAkBoE,OAAOtzD,MAAM+0D,YAAc,IAClEI,KAAOjd,QAAQkd,oBACfC,0BAAuE,IAA3C,EAAA/T,MAAAhkE,QAAM,EAAAwxE,gBAAAwG,kBAAiBH,KAAKI,OAAS,IACjEC,kBAAmB,EAAAlU,MAAAhkE,OAAM63E,KAAKh5C,OAC9B20C,SAAW,GAEjB,OAAItW,SAASib,aACF,EAAC,EAAO,8CAGfjb,SAAS0Y,cAAgBxE,mBAAAc,aAAa2D,MAC/B,EAAC,EAAO,+CAGf3Y,SAAS0Y,cAAgBxE,mBAAAc,aAAa4D,MACtCtC,SAAS5nG,IAAT,qDAAA+Q,OAAoEq5F,OAAOlqG,MAC3E0nG,SAASnB,IAAT,qDAAA11F,QAAoE,EAAA40F,gBAAAkE,cAAaO,OAAOlqG,OAEjF,EAAC,EAAO0nG,WAGftW,SAAS0Y,cAAgBxE,mBAAAc,aAAaC,QAC/B,EAAC,EAAO,sBAGdwF,UAIa,EAAdF,aACAjE,SAAS5nG,IAAT,UAAA+Q,OAAyB86F,YAAzB,YAAA96F,OAA+Ci7F,cAAcpT,UAC7DgP,SAASnB,IAAT,UAAA11F,OAAyB86F,YAAzB,YAAA96F,OAA+Ci7F,cAAcQ,oBAEtD,EAAC,EAAO5E,WAGdtW,SAASiW,MAAMkF,sBAKfnb,SAASqY,IAAI+C,yBAAyBtC,SAS3CA,OAAOuC,wBAAwBrb,SAAS/7E,IACxC+7E,SAASsb,QAAQxC,QAEjBxC,SAAS5nG,IAAM,QAAA+Q,OAAQo7F,0BAAR,QAAAp7F,OAAwCu7F,iBAAxC,MAAA,UAAAv7F,OACDq5F,OAAOlqG,KADN,yBAIf0nG,SAASnB,IAAM,UAAA11F,QAAU,EAAA40F,gBAAA4F,gBAAeY,2BAAzB,QAAA,GAAAp7F,QACR,EAAA40F,gBAAA4F,gBAAee,kBADP,aAAAv7F,QACoC,EAAA40F,gBAAAkE,cAAaO,OAAOlqG,MADxD,MAEX,sBAEG,EAAC,EAAM0nG,YAnBVA,SAAS5nG,IAAM,mCAAA+Q,OAAmCq5F,OAAOlqG,KAA1C,KAAA,wBAAA6Q,OACaugF,SAASqY,IAAIkD,aAD1B,cAEfjF,SAASnB,IAAM,mCAAA11F,OAAmCq5F,OAAON,eAA1C,KAAA,wBAAA/4F,OACaugF,SAASqY,IAAImD,aAD1B,cAGR,EAAC,EAAOlF,WAVR,EAAC,EAAO,0DAXR,EAAC,EAAO,8EA4ChBtW,SAAUnsF,MACb,IACMokG,WAAapkG,KAAK,GAAG21C,cACrB0uD,YAAcpX,mBAAA,QAAkBkV,cAAcmC,UAAUF,YAE9D,OAAOjY,SAASiW,MAAMwF,0BAA0Bzb,SAJ3B,MAImDkY,+CAUxE,MAAO,EAAC,EAAO,4GAUTlY,SAAUnsF,MAChB,IAAM6nG,OAAS7nG,KAAK,GACd2C,OAASvI,KAAK0mG,yBAAyB+G,OAAQ1b,UACjDsW,SAAW,CACX5nG,IAAG,UAAA+Q,OAAYi8F,QACfvG,IAAG,UAAA11F,QAAY,EAAA40F,gBAAA4F,gBAAeyB,UAUlC,OAPKllG,SACD8/F,SAAW,CACP5nG,IAAG,oBAAA+Q,OAAsBi8F,QACzBvG,IAAG,oBAAA11F,QAAsB,EAAA40F,gBAAA4F,gBAAeyB,WAIzC,CAACllG,OAAQ8/F,4CAQVtW,UACN/xF,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAM0c,gBAAiB3b,2CAc9C4B,cAAA,QAAa6N,OACT,+EAHc,izBCxyB1B,IAAAnJ,WAAAtK,uBAAAvxF,QAAA,oBACAmxG,SAAA5f,uBAAAvxF,QAAA,kBACAq2F,mBAAA9E,uBAAAvxF,QAAA,iCACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACA42F,8XAAA10F,CAAAlC,QAAA,2BACA4xF,YAAAL,uBAAAvxF,QAAA,yBACAm3F,cAAA5F,uBAAAvxF,QAAA,uBACAq8F,MAAAr8F,QAAA,gBACA0pG,QAAA1pG,QAAA,kBACAoxG,QAAApxG,QAAA,kBACA6pG,gBAAA7pG,QAAA,+BACAypG,mBAAAzpG,QAAA,kCACA+xF,YAAA/xF,QAAA,qYAOqBqxG,4BACjB,SAAAA,iBAAYjiF,MAAOqZ,uIAAQ6pD,CAAA9uF,KAAA6tG,kBACvB7tG,KAAKk0F,UAAY/F,UAAA,QAEjBnuF,KAAK+xF,SAAW,CAACnmE,MAAOqZ,QACxBjlC,KAAKg8F,UAAW,EAAA4R,QAAAE,OAAK,EAAAF,QAAAG,MAAKniF,MAAMiwE,iBAAkB52D,OAAO42D,mBACzD77F,KAAKguG,eAAiB,EACtBhuG,KAAK2oG,UAAW,EAAA9P,MAAAoV,KAAIriF,MAAM+8E,SAAW1jE,OAAO0jE,UAC5C3oG,KAAKkuG,UAAW,EAChBluG,KAAKmuG,UAAY,GACjBnuG,KAAKouG,WAAa,GAEdpuG,KAAKquG,iBACL5hF,QAAQ4tB,KAAK,8BAAA7oC,OAA8BxR,KAAK+xF,SAAS,GAAGsH,SAA/C,KAAA,OAAA7nF,OACFxR,KAAK+xF,SAAS,GAAGsH,SADf,iCAKjBr5F,KAAK+wF,iIAUL/wF,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMsd,yBAA0BtuG,0CAWvD,OAAOA,KAAKuuG,eAAiBvuG,KAAKwuG,qDAOlC,IAAK,IAAMnyG,KAAK2D,KAAKmuG,UACjB,GAAInuG,KAAKmuG,UAAU9xG,GACf,OAAO,EAIf,OAAO,yCAOP,IAAK,IAAMA,KAAK2D,KAAKouG,WACjB,GAAIpuG,KAAKouG,WAAW/xG,GAChB,OAAO,EAIf,OAAO,oEAUP,IAAMoyG,qBAAuBzuG,KAAKg8F,SAClCh8F,KAAKg8F,UAAW,EAAA4R,QAAAE,OAAK,EAAAF,QAAAG,MAAK/tG,KAAK+xF,SAAS,GAAG8J,iBAAkB77F,KAAK+xF,SAAS,GAAG8J,mBAC9E77F,KAAKguG,eAAiBhuG,KAAKg8F,SAAWyS,qBACtCzuG,KAAK2oG,UAAW,EAAA9P,MAAAoV,KAAIjuG,KAAK+xF,SAAS,GAAG4W,SAAW3oG,KAAK+xF,SAAS,GAAG4W,2CAOjE,GAAI3oG,KAAK0uG,kBACL1uG,KAAKsyF,eAMT,IAAItyF,KAAKkuG,SAAT,CAIAluG,KAAK2uG,0CACL3uG,KAAK4uG,iBAGL,IAAMC,iBAAmBhc,mBAAA,QAAkBkV,cAAc+G,UACnDC,SAAW3gB,YAAA,QAAW4gB,qBACtBhvG,KAAK+xF,SAAS,GAAG4W,SAAWkG,iBAAoB,KAChD7uG,KAAK+xF,SAAS,GAAG4W,SAAWkG,iBAAoB,KAMlDE,SAAW/uG,KAAK+xF,SAAS,GAAGkd,YAAc,IAC1CF,SAAW/uG,KAAK+xF,SAAS,GAAGkd,YAAc,IAI9CjvG,KAAKkvG,2DAOL,IAAIlvG,KAAK+xF,SAAS,GAAGod,eAAgBnvG,KAAK+xF,SAAS,GAAGod,aAAtD,CAMA,IAAM1f,QAAUoD,mBAAA,QAAkBkV,cAElC,GACM/nG,KAAKg8F,SAAW,KAAUh8F,KAAK2oG,SAAW,KAC3C3oG,KAAK+xF,SAAS,GAAGqd,iBAAiB3f,UAAYzvF,KAAK+xF,SAAS,GAAGqd,iBAAiB3f,SACnF,CACEzvF,KAAKkuG,UAAW,EAGhBva,cAAA,QAAa6N,OAAb,GAAAhwF,OACOxR,KAAK+xF,SAAS,GAAGsH,SADxB,mBAAA7nF,OACkDxR,KAAK+xF,SAAS,GAAGsH,WAHjD,GAOlBjG,gBAAA,QAAeic,iBAAiBjc,gBAAAkc,YAAYC,WAC5CvvG,KAAK+xF,SAAS,GAAGyd,KAAM,EACvBxvG,KAAK+xF,SAAS,GAAGyd,KAAM,6CAW3B,GAAIxvG,KAAK2oG,UAAY1C,mBAAAwJ,WAAWC,YAI5B,OAHA1vG,KAAKmuG,UAAUwB,mBAAoB,OACnC3vG,KAAKmuG,UAAUyB,oBAAqB,GAKxC,IAAIC,UAAW,EACXC,WAAY,EACZC,gBAAiB,EACfC,GAAKhwG,KAAK+xF,SAAS,GACnBke,GAAKjwG,KAAK+xF,SAAS,GACrBme,oBAAsBjK,mBAAAwJ,WAAWU,oBAIrC,GAAKH,GAAGI,yBAA2BH,GAAGG,yBACjCJ,GAAG5F,IAAIC,mBAAmB1pG,OAASsvG,GAAG7F,IAAIC,mBAAmB1pG,KAAO,CACrE,IAAM0vG,mBAAqBxd,mBAAA,QAAkBkV,cAAcuI,oCACvDN,GAAG5F,IAAIC,mBAAmB1pG,KAC1BsvG,GAAG7F,IAAIC,mBAAmB1pG,MAG1B0vG,mBAAmBE,WAEnBR,gBAAiB,EACjBG,oBAAsBG,mBAAmBG,mBAajD,GAPAV,UAAY9vG,KAAKg8F,SAAWkU,oBAG5BL,SAAY7vG,KAAKg8F,SAAWkU,oBAAsB,QAAUH,gBAAmBD,UAIjE,CACV,IAAMW,gBAAiB,EAAA5X,MAAAoV,MAAI,EAAA/H,QAAAwK,cAAaV,GAAG7H,QAAS8H,GAAG9H,UACnDwI,kBAAmB,EAAAtK,gBAAAqD,kBAAiB,IAMxC,GAJIsG,GAAG5F,IAAIwG,WAAWC,UAAYZ,GAAG7F,IAAIwG,WAAWC,WAChDF,kBAAmB,EAAAtK,gBAAAqD,kBAAiB,KAGlBiH,kBAAlBF,eACA,GAAIA,gBAAiB,EAAApK,gBAAAqD,kBAAiB,KAER,EAAtB1pG,KAAKguG,iBAGL8B,UADAD,UAAW,OAGZ,CAIH,IAAMiB,IAAK,EAAAlD,QAAAmD,OAAMf,GAAGgB,aACdC,IAAK,EAAArD,QAAAmD,OAAMd,GAAGe,aACdE,GAAKjB,GAAGpU,iBAAiB,GAAKmU,GAAGnU,iBAAiB,GAClDsV,GAAKlB,GAAGpU,iBAAiB,GAAKmU,GAAGnU,iBAAiB,GAClDuV,IAAMH,GAAG,GAAKH,GAAG,GAAKG,GAAG,GAAKH,GAAG,GACjCr0G,GAAK00G,GAAKF,GAAG,GAAKC,GAAKD,GAAG,IAAMG,IAChC/6D,GAAK86D,GAAKL,GAAG,GAAKI,GAAKJ,GAAG,IAAMM,KAGjC30G,EAAI,GAAO45C,EAAI,KAEhBy5D,UADAD,UAAW,IAkBvB7vG,KAAKmuG,UAAUwB,oBADfE,SAOA7vG,KAAKouG,WAAWwB,qBADhBE,gDAiBJ,OAAwE,EAAjE9vG,KAAKqxG,mDAAmDr0G,gDAY/D,OAAwE,EAAjEgD,KAAKqxG,mDAAmDr0G,iDAW/D,OAAOgD,KAAKsxG,yBAA2BtxG,KAAK4wB,8DAe5C,OAFA5wB,KAAK2uG,0CAEE3uG,KAAKg8F,SAAWiK,mBAAAwJ,WAAW8B,kFAWa,IAAAt9F,MAAAjU,KAC/C,OAAO,EAAA2tG,SAAA,SAAQ5gF,OAAO4oE,mBAAmBwY,UAAW,SAAC0B,UACjD,OAAO,EAAAxX,WAAA,SAAUwX,SAAS9d,SAAU99E,MAAK89E,SAAS,MAAO,EAAAsG,WAAA,SAAUwX,SAAS9d,SAAU99E,MAAK89E,SAAS,uoBC5UhH,IAAAyf,OAAAzjB,uBAAAvxF,QAAA,gBACAi1G,MAAA1jB,uBAAAvxF,QAAA,eACAwxF,QAAAD,uBAAAvxF,QAAA,iBACAk1G,UAAA3jB,uBAAAvxF,QAAA,mBACAo2F,mBAAA7E,uBAAAvxF,QAAA,iCACAq2F,mBAAA9E,uBAAAvxF,QAAA,iCACAg3F,YAAAzF,uBAAAvxF,QAAA,wBACAm3F,cAAA5F,uBAAAvxF,QAAA,uBACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACAm1G,kCAAA5jB,uBAAAvxF,QAAA,uCACAo1G,eAAA7jB,uBAAAvxF,QAAA,oBACAq1G,mBAAA9jB,uBAAAvxF,QAAA,wBACAs1G,kBAAA/jB,uBAAAvxF,QAAA,uBACAu1G,qBAAAhkB,uBAAAvxF,QAAA,oCACA42F,8XAAA10F,CAAAlC,QAAA,2BACAi8F,eAAA1K,uBAAAvxF,QAAA,sCACAw1G,gBAAAx1G,QAAA,6BACAy1G,uCAAAz1G,QAAA,iDACAq8F,MAAAr8F,QAAA,gBACA01G,UAAA11G,QAAA,oBACAq3F,QAAAr3F,QAAA,aACA21G,sBAAA31G,QAAA,qCACA6pG,gBAAA7pG,QAAA,+BACA41G,oBAAA51G,QAAA,mCACAypG,mBAAAzpG,QAAA,kCACA+xF,YAAA/xF,QAAA,2BACAs8F,qBAAAt8F,QAAA,oCACAu8F,iBAAAv8F,QAAA,6yBAGA,IAAMu1F,SAAW,GAOIsgB,8BASjB,SAAAA,mBAAYngB,2BAA4BuD,kBAAmBC,YAAY,IAAAzhF,MAAAjU,KACnE,iIADmE8uF,CAAA9uF,KAAAqyG,oBAAAnZ,gBAAAl5F,KAAA,UAwL7D,SAACwW,MAAD,OAAUvC,MAAK89E,SAAS7hF,KAAK1M,KAAKgT,QAxL2B0iF,gBAAAl5F,KAAA,sCAqMjC,SAACsyG,mBACnC,IAAMC,oBAAsBt+F,MAAKu+F,oBAAoBF,mBAErDr+F,MAAKw+F,uCAAuCF,uBAxMuBrZ,gBAAAl5F,KAAA,8CA4NzB,SAACsyG,mBAG3C,IAFA,IAESj2G,EAAI,EAAGA,EAAIi2G,kBAAkBI,qBAAqB11G,OAAQX,IAAK,CACpE,IAAMs2G,2BAA6BL,kBAAkBI,qBAAqBr2G,GACpEu2G,kBAAoB3+F,MAAKu+F,oBAAoBF,mBAJpC,GAKTC,oBAAsB3nF,OAAOioF,OAAO,GAAID,kBAAmBD,4BAEjE1+F,MAAKw+F,uCAAuCF,wBApOmBrZ,gBAAAl5F,KAAA,iBA+btD,SAAC6vG,UACdA,SAAS9d,SAAS,GAAG+gB,eAAejD,SAAS9d,SAAS,IACtD8d,SAAS9d,SAAS,GAAG+gB,eAAejD,SAAS9d,SAAS,IAEtD99E,MAAKk6F,WAAY,EAAAuD,UAAA,SAASz9F,MAAKk6F,UAAW0B,YAncyB3W,gBAAAl5F,KAAA,mCA4epC,SAAC+yG,gBAAiB5Z,eACjD,UAAK,EAAAgZ,sBAAAa,wBAAuBD,kBAAoB9+F,MAAKg/F,wBAAwBF,oBAI7E9+F,MAAKi/F,8BAA8B/Z,cAAc4Z,iBACjD9+F,MAAKk/F,2BAA2BJ,iBAEhC5Z,cAAc4Z,gBAAkBA,iBAEzB,KAtf4D7Z,gBAAAl5F,KAAA,oBA4sBnD,SAACm5F,eACZA,cAAcC,gBAInBnlF,MAAKm/F,qBAAqBC,gBAAgBla,iBAjtByBD,gBAAAl5F,KAAA,sBAguBjD,WAClBiU,MAAKm/F,qBAAqBE,mCAjuByCpa,gBAAAl5F,KAAA,sBA4uBjD,SAACm5F,eACdA,cAAcC,gBAInBnlF,MAAKm/F,qBAAqBG,kBAAkBpa,iBAjvBuBD,gBAAAl5F,KAAA,6BA+vB1C,SAACq5F,UAAa,IAC/BwC,iBAAqB5nF,MAAKylF,uBAAuBL,UAAjDwC,iBAER5nF,MAAKigF,UAAUjyC,QAAQssC,YAAAyC,MAAMwiB,gCAAiC3X,qBAjwB1D,EAAA7N,QAAA,SAAOkE,8BAA+B,EAAAlE,QAAA,SAAOyH,qBAAsB,EAAAzH,QAAA,SAAO0H,YAC1E,MAAM,IAAIxjE,UAAU,uJAAA,gBAAA1gB,OAAAiiG,QAEOvhB,4BAFP,MAAA1gF,OAAAiiG,QAE6Che,mBAF7C,SAAAjkF,OAAAiiG,QAE6E/d,cAGrG,IAAI,EAAA0c,oBAAAsB,mBAAkBxhB,4BAClB,MAAM,IAAIhgE,UAAU,gFAAA,4CAAA1gB,OAAAiiG,QACmCvhB,8BAG3D,KAAMuD,6BAA6B7C,mBAAA,SAC/B,MAAM,IAAI1gE,UAAU,uEAAA,wDAAA1gB,OAAAiiG,QAC+Che,qBAGvE,KAAMC,sBAAsBlC,YAAA,SACxB,MAAM,IAAIthE,UAAU,gEAAA,iDAAA1gB,OAAAiiG,QACwC/d,cAqFhE,OA1EA11F,KAAK2zG,mBAAqBle,kBAU1Bz1F,KAAK4zG,mBAAqB,IAAI/B,mBAAA,QAC1B7xG,KAAK6zG,iCAAiCnhD,KAAK1yD,MAC3CA,KAAKwmG,iBAAiB9zC,KAAK1yD,OAW/BA,KAAKk0F,UAAY/F,UAAA,QAUjBnuF,KAAK8zG,iCAAmC,IAAInC,kCAAA,QAAiCzf,4BAU7ElyF,KAAK+5F,YAAcrE,WAYnB11F,KAAK+zG,uBAAyB,GAE9Bl4D,KAAKk2C,SAAWA,SAChB/xF,KAAK+xF,SAAWA,SAGhB/xF,KAAK+xF,SAAS7hF,KAAO,GACrBlQ,KAAK+xF,SAASiiB,KAAO,CAAEnjE,SAAS,GAChC7wC,KAAKmuG,UAAY,GASjBnuG,KAAKozG,qBAAuB,IAAIrB,qBAAA,QAEzB/xG,KAAKojC,OACP6wE,iBACA7hB,gIAoBL,OAAOpyF,8CAcP,OAFAA,KAAKk0G,yBAA2Bl0G,KAAKm0G,gBAAgBzhD,KAAK1yD,MAEnDA,sCAiBP,OARAA,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMojB,aAAcp0G,KAAKq0G,SAC3Cr0G,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMsjB,mBAAoBt0G,KAAKu0G,4BACjDv0G,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMuI,gBAAiBv5F,KAAKw0G,mBAC9Cx0G,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMyK,kBAAmBz7F,KAAKy0G,qBAChDz0G,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMiN,mBAAoBj+F,KAAK00G,qBACjD10G,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAM0c,gBAAiB1tG,KAAKk0G,0BAC9Cl0G,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMsd,yBAA0BtuG,KAAK8yG,gBAEhD9yG,uCAiBP,OARAA,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMojB,aAAcp0G,KAAKq0G,SAC5Cr0G,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMsjB,mBAAoBt0G,KAAKu0G,4BAClDv0G,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMuI,gBAAiBv5F,KAAKw0G,mBAC/Cx0G,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMyK,kBAAmBz7F,KAAKy0G,qBACjDz0G,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMiN,mBAAoBj+F,KAAK00G,qBAClD10G,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAM0c,gBAAiB1tG,KAAKk0G,0BAC/Cl0G,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMsd,yBAA0BtuG,KAAK8yG,gBAEjD9yG,oDA+DPA,KAAK+xF,SAASiiB,KAAKnjE,SAAW7wC,KAAK+xF,SAASiiB,KAAKnjE,qDAQhCka,UAIjB,IAHA,IAAI4pD,QAAU,KACV3Y,SAAWthE,EAAAA,EAENr+B,EAAI,EAAGA,EAAI2D,KAAK+xF,SAAS7hF,KAAKlT,OAAQX,IAAK,CAChD,IAAMu4G,UAAW50G,KAAK+xF,SAAS7hF,KAAK7T,GAC9Bw4G,GAAI,EAAA3C,UAAA4C,YAAWF,UAAS/Y,iBAAkB9wC,UAE5C8pD,EAAI7Y,UAAY4Y,UAASG,cAAgBH,UAASpF,MAClDxT,SAAW6Y,EACXF,QAAUt4G,GAIlB,MAAO,CAAC2D,KAAK+xF,SAAS7hF,KAAKykG,SAAU3Y,oDAYvBjK,UAAsB,IAAZijB,OAAY,EAAAnwG,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAH,EAC3BowG,gBAAkBpiB,mBAAA,QAAkBkV,cAAcmN,WAAaF,OAErE,OAAOjjB,SAASiK,SAAWiZ,8DAU3B,IAAK,IAAI54G,EAAI2D,KAAK+xF,SAAS7hF,KAAKlT,OAAS,EAAQ,GAALX,EAAQA,IAChD2D,KAAKm0G,gBAAgBn0G,KAAK+xF,SAAS7hF,KAAK7T,4CAShC88F,eACZtG,mBAAA,QAAkBsiB,kCAAkChc,eACpDn5F,KAAKo1G,2BAA2Bjc,eAChCn5F,KAAKq1G,4BAA4Blc,eACjCn5F,KAAKkzG,8BAA8B/Z,eACnCn5F,KAAKs1G,sCAAsCnc,eAC3Cn5F,KAAKu1G,gBAAgBpc,eACrBn5F,KAAK+5F,YAAYnD,sBAAsB4e,uCAAuCrc,gDAa9E,GAAkC,IAA9Bn5F,KAAK+xF,SAAS7hF,KAAKlT,OAKvB,IAAK,IAAIX,EAAI,EAAGA,EAAI2D,KAAK+xF,SAAS7hF,KAAKlT,OAAQX,IAAK,CAChD,IAAM88F,cAAgBn5F,KAAK+xF,SAAS7hF,KAAK7T,GAEzC88F,cAAcpI,SACdoI,cAAcsc,gBAIVtc,cAAcuc,cAIlB11G,KAAK21G,yBAAyBxc,cAAe98F,GAC7C2D,KAAK41G,0BAA0Bzc,eAE1BA,cAAcC,gBACfp5F,KAAKu1G,gBAAgBpc,gEAYVE,UACnB,GAAKA,SAAL,CAIA,IAAMwc,mBAAqBxc,SAAS99C,cAEpC,OAAO,EAAAi2D,OAAA,SAAMxxG,KAAK+xF,SAAS7hF,KAAM,SAAC6hF,UAAD,OAAcA,SAASsH,WAAawc,+DAUxD7/F,IACb,GAAKA,GAIL,OAAO,EAAAw7F,OAAA,SAAMxxG,KAAK+xF,SAAS7hF,KAAM,SAAC6hF,UAAD,OAAcA,SAAS/7E,KAAOA,oDAY/DhW,KAAKozG,qBAAqBriB,OAAO/wF,KAAK+xF,SAAS7hF,sCAQ9B,IAAfmpF,SAAe,EAAAx0F,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAJ,GACb,OAAO7E,KAAK05F,uBAAuBL,8CAW3BtH,SAAU+jB,eAClB,IAAMjG,SAAW,IAAIiC,kBAAA,QAAiB/f,SAAU+jB,eAE5CjG,SAASnB,kBACTmB,SAASvd,WAIbtyF,KAAKmuG,UAAU3qG,KAAKqsG,UACpB9d,SAASgkB,YAAYlG,SAAUiG,eAC/BA,cAAcC,YAAYlG,SAAU9d,oEAYY,IAAvBikB,UAAuBC,KAAvBD,UAAW3c,SAAY4c,KAAZ5c,SACpCr5F,KAAK2zG,mBAAmByB,2BAA2BY,UAAW3c,8DAUtCtH,UACxB/xF,KAAK+xF,SAAS7hF,MAAO,EAAAwhG,UAAA,SAAS1xG,KAAK+xF,SAAS7hF,KAAM6hF,wEA0BhBA,UAClC,IAAK,IAAMmkB,yBAAyBnkB,SAASoc,UACzCpc,SAASoc,UAAU+H,uBAAuB5jB,kDAalC6G,eACZn5F,KAAKozG,qBAAqBmC,gBAAgBpc,8EA0CPoZ,qBACnC,IAAMpZ,cAAgB,IAAIyY,eAAA,QAAcW,qBAClC4D,YAA+C,cAAjC5D,oBAAoB1a,SAClCue,UAA6C,YAAjC7D,oBAAoB1a,SAChCwe,YAAmF,WAArEjjB,gBAAA,QAAeiS,cAAcvM,qBAAAqI,kBAAkBmV,kBAC7DC,eAAiBhE,oBAAoB5L,SAI3C3mG,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMojB,aAAcjb,eAEvCid,WACAp2G,KAAKw2G,8BAA8Brd,cAAeod,eAAgBpd,cAAciR,IAAIC,mBAAmB1pG,MAGvGw1G,aAAeE,cAEfr2G,KAAKozG,qBAAqBqD,gBAAgBtd,eAC1CA,cAAc6O,MAAMU,iBACpBvP,cAAcud,aAAavd,cAAciR,IAAIU,sBAC7C3R,cAAciR,IAAIU,qBAAqB6L,mBAAmBxd,cAAcnjF,IACxEmjF,cAAcyd,eAAe3Q,mBAAAc,aAAa8P,SAE1C1d,cAAc2d,gCAAiC,EAE/C92G,KAAKw2G,8BAA8Brd,cAAeod,eAAgBpd,cAAciR,IAAIU,qBAAqBnqG,mDAc7F2xG,mBAAuC,IAApB1L,WAAoB,EAAA/hG,UAAA7H,aAAA4F,IAAAiC,UAAA,IAAAA,UAAA,GACjDmxG,UAAY1D,kBAAkByE,2BADmBC,uBAG/B,EAAAhF,gBAAAiF,2BAA0B,CAACjB,YAA3Cr1G,KAH+Cq2G,sBAG/Cr2G,KAAMu2G,MAHyCF,sBAGzCE,MACVC,aAAen3G,KAAK2zG,mBAAmByD,gBAAgBz2G,WAE/B,IAAjBw2G,eACP1qF,QAAQ4tB,KAAR,qBAAA7oC,OAAkC7Q,KAAlC,uDAEAw2G,aAAen3G,KAAK2zG,mBAAmByD,gBAAgB,QAM3D,IAAMC,aAAer3G,KAAK2zG,mBAAmB2D,qCAAqCH,cAC5EI,uBAAyBv3G,KAAKw3G,6CAA6CxB,UAAWmB,cAItFxO,SAAa2J,kBAAb3J,SAEF/B,YAAc0L,kBAAkBza,WAAaoO,mBAAAwR,gBAAgBC,UAC7D/O,SAAW51E,KAAKw5C,IAAI,KAAOo8B,WAG/B,IAAMgP,sBAAuB,EAAA1F,uCAAA2F,gCAA+BtF,kBAAkB3N,eAG9E,MAAO,CACHuS,MAAAA,MACAvO,SAAAA,SACAoK,gBALoB/yG,KAAK63G,+BAA+BhlB,mBAAA,QAAkBkV,cAAclY,MAMxFioB,OAAQxF,kBAAkBwF,OAC1BC,YAAazF,kBAAkByF,YAC/B1e,SAAUge,aACVxf,SAAUya,kBAAkBza,SAC5BmgB,QAASb,aAAatnB,KACtBooB,gBAAiBd,aAAae,UAC9BxkD,MAAO4+C,kBAAkB5+C,MACzBy0C,QAASmK,kBAAkBnK,QAC3BxD,cAAegT,qBACf9nB,KAAM0nB,uBAAuB1nB,KAC7BsoB,MAAOZ,uBACPvM,YAAasH,kBAAkBtH,YAC/BrE,SAAU2L,kBAAkB3L,SAE5ByR,WAAW,EAAA3G,MAAA,SAAKa,kBAAmB,YAAa,2DAc1BvgB,SAAU4U,SAAUqD,YAC9C,GAAKrD,UAAcqD,cAAcrD,SAAjC,CAIA,IAAM0R,cAAgB1R,SAASqD,YACzBtI,QAAU,IAAIjJ,eAAA,QAAJ,GAAAjnF,OAAqBugF,SAASumB,cAA9B,KAAA9mG,OAA+C6mG,gBAAiBj6G,QAEhF4B,KAAK4zG,mBAAmB/P,YAAY9R,SAAU2P,QAAQn6F,MAAM,yEAgBnByuG,UAAWmB,cACpD,OAAOn3G,KAAK8zG,iCAAiCyE,kCAAkCvC,UAAWmB,qEAgB/DtnB,MAC3B,IAAMkjB,iBAAkB,EAAAZ,sBAAAqG,2BAExB,QAAK,EAAArG,sBAAAsG,2BAA0B5oB,KAAMkjB,kBAAoB/yG,KAAKizG,wBAAwBF,iBAE3E/yG,KAAK63G,+BAA+BhoB,OAG/C7vF,KAAKmzG,2BAA2BJ,iBAEzBA,oEAUgBA,iBACvB/yG,KAAK+zG,uBAAuBvwG,KAAKuvG,8EAUc,IAAnBA,gBAAmB2F,MAAnB3F,gBAC5B/yG,KAAK+zG,wBAAyB,EAAArC,UAAA,SAAS1xG,KAAK+zG,uBAAwBhB,iEAYhDA,iBACpB,OAAO/yG,KAAK+zG,uBAAuBvnG,QAAQumG,mBAAqBha,iBAAA4f,4DAoF9Cxf,cAAeyf,yBACjC,IAAMC,mBAAoB,EAAAxS,gBAAAyS,IAAG,GACvB5H,IAAK,EAAArY,MAAAoV,KAAI9U,cAAc0C,iBAAiB,GAAK+c,wBAAwB/c,iBAAiB,IACtFsV,IAAK,EAAAtY,MAAAoV,KAAI9U,cAAc0C,iBAAiB,GAAK+c,wBAAwB/c,iBAAiB,IAE5F,OAAOqV,GAAK2H,mBAAqB1H,GAAK0H,mEAYjB1f,cAAe4f,oBACpC,IAAK,IAAIjtF,EAAIitF,mBAAqB,EAAGjtF,EAAI9rB,KAAK+xF,SAAS7hF,KAAKlT,OAAQ8uB,IAAK,CACrE,IAAMktF,mBAAqBh5G,KAAK+xF,SAAS7hF,KAAK4b,GAG1CktF,mBAAmBtD,cAInBvc,cAAc8f,6BAA6BD,oBAC3C7f,cAAcgV,UAAU6K,mBAAmB3f,UAAUtI,SAKrD/wF,KAAKk5G,sBAAsB/f,cAAe6f,qBAC1Ch5G,KAAK+1G,YAAY5c,cAAe6f,wEAgBlB7f,eAEtB,GAAIA,cAAcid,aAAejd,cAAcggB,cAAgBhgB,cAAcqW,IAezE,OAdArhB,UAAA,QAASlsC,QAAQssC,YAAA6qB,eAAeC,SAAUlgB,cAAeA,cAAciR,IAAIC,oBAE3E1W,cAAA,QAAa6N,OAAb,GAAAhwF,OAAuB2nF,cAAcE,SAArC,oCACA,EAAAxF,QAAA2T,YACI,CACI,CAAE/lG,KAAM,WAAY+I,QAAS2uF,eAC7B,CAAE13F,KAAM,OAAQ+I,QAAS,oCAE7B2uF,cAAcsO,YAGlBrU,gBAAA,QAAeic,iBAAiBjc,gBAAAkc,YAAYoI,cAC5C13G,KAAKm0G,gBAAgBhb,eAKrBA,cAAcqW,KAAOrW,cAAcgW,eACnCxb,cAAA,QAAa6N,OAAb,2BAAAhwF,OAA+C2nF,cAAcE,WAAY,GACzEr5F,KAAKm0G,gBAAgBhb,gBAErB,EAAAtF,QAAA2T,YACI,CACI,CAAE/lG,KAAM,WAAY+I,QAAS2uF,eAC7B,CAAE13F,KAAM,OAAQ+I,QAAS,yBAE7B2uF,cAAcsO,aAKjBznG,KAAKs5G,kBAAkBngB,cAAe,IAAOA,cAAcC,iBAAkBD,cAAcogB,aAC5Fv5G,KAAKm0G,gBAAgBhb,yDApvBzB,OAAOn5F,KAAK4zG,ooCCpKpB,IAAA4F,OAAAzrB,uBAAAvxF,QAAA,gBACAi9G,YAAA1rB,uBAAAvxF,QAAA,qBACAk9G,YAAA3rB,uBAAAvxF,QAAA,qBACAm9G,QAAA5rB,uBAAAvxF,QAAA,iBACAo9G,UAAA7rB,uBAAAvxF,QAAA,mBACAi1G,MAAA1jB,uBAAAvxF,QAAA,eACAq9G,UAAA9rB,uBAAAvxF,QAAA,mBACAs9G,UAAA/rB,uBAAAvxF,QAAA,mBACAwxF,QAAAD,uBAAAvxF,QAAA,iBACAu9G,WAAAhsB,uBAAAvxF,QAAA,oBACAq2F,mBAAA9E,uBAAAvxF,QAAA,iCACAw9G,KAAAjsB,uBAAAvxF,QAAA,iCACA42F,8XAAA10F,CAAAlC,QAAA,2BACAy9G,gBAAAlsB,uBAAAvxF,QAAA,iCACA09G,OAAAnsB,uBAAAvxF,QAAA,kBACA4xF,YAAAL,uBAAAvxF,QAAA,yBACAm3F,cAAA5F,uBAAAvxF,QAAA,uBACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACA+xF,YAAA/xF,QAAA,2BACA0pG,QAAA1pG,QAAA,kBAIAq8F,MAAAr8F,QAAA,gBAOA29G,YAAA39G,QAAA,sBAKAoxG,QAAApxG,QAAA,kBAWAq3F,QAAAr3F,QAAA,aACA4pG,gBAAA5pG,QAAA,+BAOA6pG,gBAAA7pG,QAAA,+BAMAwpG,sBAAAxpG,QAAA,sCAIAypG,mBAAAzpG,QAAA,kCAMA6xF,kBAAA7xF,QAAA,iCAIAu8F,iBAAAv8F,QAAA,gCAIA49G,sBAAA59G,QAAA,2YAOA,IAAM69G,iBAEG,MAQYC,yBAMjB,SAAAA,gBAA0B,IAAd78G,QAAc,EAAAoH,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAJ,kIAAIiqF,CAAA9uF,KAAAs6G,eAUtBt6G,KAAKgW,IAAK,EAAA+jG,WAAA,SAAU,aASpB/5G,KAAK2kG,cAAgB,KAUrB3kG,KAAKm4G,MAAQ,KASbn4G,KAAKg2G,UAAY,GAUjBh2G,KAAKi4G,gBAAkB,GAUvBj4G,KAAKq3G,aAAe,GAUpBr3G,KAAK82G,gCAAiC,EAYtC92G,KAAK+yG,gBAAkB,KAWvB/yG,KAAKynG,YAAa,EAAA5T,QAAA0mB,uBAUlBv6G,KAAKmoG,QAAU,EAUfnoG,KAAK2oG,SAAW,EAUhB3oG,KAAK0zD,MAAQ,EAUb1zD,KAAKw6G,YAAc,EAUnBx6G,KAAKgxG,YAAc,EAUnBhxG,KAAKivG,YAAc,EAUnBjvG,KAAKy6G,aAAe,EAUpBz6G,KAAKopG,OAAS,EAUdppG,KAAKg8F,SAAW,EAYhBh8F,KAAK83G,OAAS,GAYd93G,KAAK+3G,YAAc,GAUnB/3G,KAAKwrG,MAAQ,EAUbxrG,KAAKi6F,QAAU,GAQfj6F,KAAK06G,WAAa,CAAExqG,KAAM,IAQ1BlQ,KAAK26G,SAAU,EAUf36G,KAAKwvG,KAAM,EAUXxvG,KAAK46G,WAAa,EAWlB56G,KAAK66G,UAAY,EAUjB76G,KAAKsmB,MAAQ+zF,iBAWbr6G,KAAKo5F,gBAAiB,EAUtBp5F,KAAKmuG,UAAY,GAQjBnuG,KAAK86G,gBAAiB,EAgBtB96G,KAAK+6G,gCAAiC,EAatC/6G,KAAKu5G,aAAc,EAKnBv5G,KAAKg7G,WAAY,EACjBh7G,KAAKi7G,wBAA0B,GAE/Bj7G,KAAK63F,SAAWp6F,QAAQo6F,SAKxB73F,KAAKokC,OAAS,CACVukE,SAAU,EACVR,QAAS,KACTI,KAAM,KACN70C,MAAO,GAMX1zD,KAAKk7G,eAAiB,KACtBl7G,KAAKm7G,mBAAqB,KAS1Bn7G,KAAKm4G,MAAQ16G,QAAQ06G,MAOrBn4G,KAAKqrG,IAAM,IAAI4O,gBAAA,QAOfj6G,KAAKoqG,IAAM,IAAI4P,KAAA,QAAIv8G,SAOnBuC,KAAKgoG,MAAQ,IAAIkS,OAAA,QAAMl6G,KAAKoqG,IAAKpqG,KAAKqrG,KAEtCrrG,KAAKivG,YAAcxxG,QAAQo6F,WAAaoO,mBAAAwR,gBAAgBC,QACpDtpB,YAAA,QAAW4gB,qBACX,KAEJhvG,KAAKo7G,4BACLp7G,KAAKq7G,2BACLr7G,KAAK5B,MAAMX,SAEX,IAAMgyF,QAAUoD,mBAAA,QAAkBkV,cAGlC,GAAI/nG,KAAK63F,WAAaoO,mBAAAwR,gBAAgB6D,UAClCt7G,KAAK42G,eAAe3Q,mBAAAc,aAAa2D,OACjC1qG,KAAK2oG,SAAWlZ,QAAQkV,cAAcmK,UACtC9uG,KAAK0zD,MAAQ,MACV,CAAA,GAAI1zD,KAAK63F,WAAaoO,mBAAAwR,gBAAgBC,SAAW13G,KAAK63F,WAAaoO,mBAAAwR,gBAAgB8D,WACtF,MAAM,IAAI5+G,MAAM,4CAEhB,IAAM6+G,eAAiBx7G,KAAKoqG,IAAIqR,oBAE1BC,gBADe7oB,mBAAA,QAAkBkV,cACF4T,sBAErC37G,KAAKqrG,IAAIuQ,4BACLJ,eACAE,gBACA17G,KAAK2oG,SACL3oG,KAAKmoG,QACLnoG,KAAK0zD,+IA8FW,IAAAz/C,MAAAjU,KAClB67G,SAAU,EAAApK,MAAA,SAAK51D,KAAM,0BAA2B,MAEjDggE,UAIL77G,KAAK86G,eAAiB,IACtB96G,KAAK87G,cAAgB,EAErBlC,UAAA,SAASiC,QAAS,SAACE,aAAcC,GAC7B/nG,MAAK6mG,eAAekB,GAAK,IAEzB,EAAApC,UAAA,SAASmC,aAAc,SAAC92F,MAAO6G,GAC3B7X,MAAK6mG,eAAekB,GAAGlwF,GAAK4O,EAAAA,0DAWb,IAAAw2D,OAAAlxF,KACjBi8G,gBAAkBppB,mBAAA,QAAkBlgF,QAAQykF,kBAElD,EAAAwiB,UAAA,SAASqC,gBAAiB,SAACC,MACvBhrB,OAAKwpB,WAAWxqG,KAAK1M,KAAK,CACtBoC,KAAMs2G,KACNj3F,MAAO,KACPk3F,QAAQ,oCAKdv2G,MACF5F,KAAK2kG,cAAgB/+F,KAAK++F,cAC1B3kG,KAAK+yG,gBAAkBntG,KAAKmtG,gBAC5B/yG,KAAKg2G,UAAYpwG,KAAKoyG,QACtBh4G,KAAKi4G,gBAAkBryG,KAAKqyG,gBAC5Bj4G,KAAKq3G,aAAezxG,KAAKyzF,SACzBr5F,KAAK63F,SAAWjyF,KAAKiyF,SACrB73F,KAAKmoG,QAAUviG,KAAKuiG,QACpBnoG,KAAK2oG,SAAW/iG,KAAK+iG,SACrB3oG,KAAK0zD,MAAQ9tD,KAAK8tD,MAClB1zD,KAAK83G,QAAS,EAAArG,MAAA,SAAK7rG,KAAM,SAAU5F,KAAK83G,QACxC93G,KAAK+3G,aAAc,EAAAtG,MAAA,SAAK7rG,KAAM,cAAe5F,KAAK+3G,aAElD/3G,KAAKokC,OAAOukE,SAAW3oG,KAAK2oG,SAC5B3oG,KAAKo8G,cAAgBp8G,KAAKmoG,QAC1BnoG,KAAKokC,OAAOsvB,MAAQ1zD,KAAK0zD,MAGzB1zD,KAAKo5F,eAAiBxzF,KAAKiyF,WAAaoO,mBAAAwR,gBAAgB6D,iDAiBxD,IAAIe,iBAAmB,IACnBC,mBAAqB,IAUzB,OARIt8G,KAAKqrG,IAAI1C,WAAa5P,iBAAA2K,iBACtB2Y,iBAAmBtpF,KAAK8B,MAAM70B,KAAKqrG,IAAI1C,UAAYtC,gBAAAkW,0BAA0BC,OAG7Ex8G,KAAKoqG,IAAIkS,qBAAuBvjB,iBAAA2K,iBAChC4Y,mBAAqBt8G,KAAKoqG,IAAIkS,mBAAqBjW,gBAAAkW,0BAA0BC,OAG1E,CACHxmG,GAAIhW,KAAKgW,GACTymG,aAAcz8G,KAAKo5F,eACnBC,SAAUr5F,KAAKq5F,SACf0Z,gBAAiB/yG,KAAK+yG,gBACtB2J,oBAAqB18G,KAAKm4G,MAAMuE,oBAChCL,iBAAAA,iBACAC,mBAAAA,mBACAK,iBAAkB38G,KAAK+3G,YAAYx8D,cACnCqhE,mBAAoB58G,KAAK83G,OAAOv8D,cAChCshE,WAAY78G,KAAKoqG,IAAI0S,qFAWfC,iBAGV,QAFmD,MAApBA,iBAEA/8G,KAAKg2G,UAAUz6D,cAAgBwhE,gBAAgBxhE,gBAAkBv7C,KAAKq5F,YAK9F,EAAAygB,UAAA,SAASiD,gBAAgBxhE,cAAev7C,KAAKq5F,gDAUpD,OAAOr5F,KAAKq5F,SAAS99C,yDASrB,IAAIyhE,OAASh9G,KAAKm4G,MAAM8E,sBAMxB,OAJK,EAAApD,UAAA,SAASmD,UACVA,OAAM,IAAAxrG,OAAOwrG,SAGY,aAAzBh9G,KAAKi4G,gBACL,GAAAzmG,OAAUxR,KAAKi4G,gBAAf,KAAAzmG,QAAkC,EAAA40F,gBAAA4F,gBAAehsG,KAAKq3G,eAAtD7lG,OAAsEwrG,QAG1E,GAAAxrG,OAAUxR,KAAKi4G,gBAAf,KAAAzmG,QAAkC,EAAA40F,gBAAA8W,cAAal9G,KAAKq3G,eAApD7lG,OAAoEwrG,+CAWpE,IAAIG,wBACAC,UAEIzU,SAAa3oG,KAAb2oG,SACF0U,KAAOr9G,KAAKm4G,MAAMkF,KAAKC,MACrBC,QAAYv9G,KAAKm4G,MAAjBoF,QAUR,OAPIJ,wBADAn9G,KAAKm4G,MAAMqF,QAAQ/7G,OAASwkG,mBAAAwX,YAAYC,IACd,IAEA,IAK1B19G,KAAK2oG,SAAW,OAEhByU,UAAmB,MAAPC,MAAiB,MAAAtqF,KAAA4qF,KAAW,MAAQ,OAAUhV,UAAY,MAAU,QAC3E,MAAQ,OAAUA,YACGA,SAAW4U,QAAUH,UAAczU,SAAW4U,QAAUJ,wBAM3En9G,KAAKm4G,MAAMkF,KAAKC,0CAW3Bt9G,KAAKoqG,IAAIwT,oDAUT,IAAI59G,KAAKg7G,UAAT,CAIA,IAAM6C,wBAAyB,EAAArE,OAAA,SAAMx5G,KAAKoqG,IAAIC,mBAAmByE,UAAY,KAAO,GAC9EgP,sBAAuB,EAAAnE,QAAA,SAAO35G,KAAK2oG,UAAW,GAChDoV,uBAAyBF,uBACzBG,aAAY,uDAAAxsG,OAA0DqsG,wBAE9CA,wBAAxBC,uBAEAE,aAAY,uDAAAxsG,OADZusG,uBAAyBD,uBAI7B99G,KAAKgoG,MAAMQ,sBAAuB,EAElCxoG,KAAKqrG,IAAI4S,sBAAsBF,wBAC/B/9G,KAAKqrG,IAAI6S,kBACTl+G,KAAKqrG,IAAI8S,qBAAqBn+G,KAAKmoG,SACnCnoG,KAAKqrG,IAAI+S,iBACTp+G,KAAK42G,eAAe3Q,mBAAAc,aAAasX,SACjCr+G,KAAKs+G,UAAUN,aAAc3vB,kBAAAkwB,8BAA8BC,UAAU,yCAWrE,OAAQx+G,KAAKmvG,+EAWyBsP,eACtC,IAAI,EAAAzwB,QAAA,SAAOywB,eACP,OAAO,EAGX,IAAMC,cAAgBD,cAAcE,aAC9BC,iBAAmB5+G,KAAK2kG,cAAcka,mBAAmBJ,cAAc9Z,eAGvEma,kBAFcJ,cAAgB1+G,KAAK0zD,SACf1zD,KAAKm4G,MAAMkF,KAAK0B,WAAa,GAIvD,OAF0BH,iBAAmB5+G,KAAKw6G,YAAczhB,iBAAAimB,KAAKC,oBAE9DH,8EAY0BL,cAAeS,gBAChD,IAAMC,eAAiBV,cAAc9Z,cAC/Bia,iBAAmB5+G,KAAK2kG,cAAcka,mBAAmBM,gBAGzDC,aAFiBF,eAAiBl/G,KAAK2oG,YACxB3oG,KAAKm4G,MAAMkF,KAAKgC,QAAUpZ,mBAAAqZ,YAAYC,wBAI3D,OAF0BX,iBAAmB5+G,KAAKw6G,YAAczhB,iBAAAimB,KAAKQ,oBAE9DJ,gDAWP,OAAOp/G,KAAKoqG,IAAIgM,kDAWhB,OAAOp2G,KAAKoqG,IAAI+L,qDAWhB,MAAuB,KAAhBn2G,KAAK83G,QAAsC,KAArB93G,KAAK+3G,uDAgBlC,OAH2B/3G,KAAKy/G,iDACgBz/G,KAAK2oG,UAExB1C,mBAAAqZ,YAAYI,gHAWzC,IAAMzV,YAAcjqG,KAAKoqG,IAAIC,mBAE7B,QAAKJ,cAQEA,YAAY0V,mBAAmB3/G,OAASiqG,YAAY2V,+BAA+B5/G,KAAKgxG,iEA0B/F,IAAM6O,mBAAqB7/G,KAAKy/G,iDAGhC,OAFqC,EAAA5mB,MAAAoV,KAAI4R,mBAAqB7/G,KAAK2oG,WAE5B1C,mBAAAqZ,YAAYI,yGAWtCjwB,SACb,OAAOA,QAAQqwB,sBAAsB9/G,KAAK67F,iBAAkB77F,KAAK2oG,8CAWjE,QAAK3oG,KAAKowG,yBAIiBpwG,KAAK2kG,cAAcka,mBAAmB7+G,KAAKqrG,IAAI0U,YACnC1xB,kBAAA2xB,kBAAkBC,oEAazD,GAAIjgH,KAAKkgH,eACL,OAAO,EAGX,IAAInW,aAAe/pG,KAAKoqG,IAAI+V,sBACxBlW,YAAcjqG,KAAKoqG,IAAIU,qBAEvB9qG,KAAKo2G,cACLrM,aAAe/pG,KAAKoqG,IAAIgW,oBACxBnW,YAAcjqG,KAAKoqG,IAAIC,oBAG3B,IACMgW,0BAA4BrgH,KAAK2oG,SAAWsB,YAAY6E,UADjC,EAEvBwR,2BAA6BtgH,KAAK2oG,SAAWoB,aAAa+E,UAFnC,EAI7B,OAAOuR,2BAA6BC,6DAWpC,OAAOtgH,KAAKyqG,cAAgBxE,mBAAAc,aAAa2D,0CASzC,OAAO1qG,KAAKmvG,cAAgBnvG,KAAK0zD,MAAQ,uCAWzC,IAAM6sD,WAAavgH,KAAK0zD,MAAQ1zD,KAAKm4G,MAAMzkD,MAAM6Y,KAAOvsE,KAAKgtG,aAE7D,OAAOuT,+CAQP,OAAOvgH,KAAKyqG,cAAgBxE,mBAAAc,aAAa2D,OACrC1qG,KAAKyqG,cAAgBxE,mBAAAc,aAAa4D,MAClC3qG,KAAKyqG,cAAgBxE,mBAAAc,aAAa8P,4CAUtC,OAAO72G,KAAKyqG,cAAgBxE,mBAAAc,aAAaC,4CAUzC,OAAIhnG,KAAKyqG,cAAgBxE,mBAAAc,aAAa2D,OAAS1qG,KAAKyqG,cAAgBxE,mBAAAc,aAAa4D,OAI7E3qG,KAAKyqG,cAAgBxE,mBAAAc,aAAa8P,SAE3B72G,KAAKoqG,IAAIU,qBAAqB0V,sBAAsBxgH,KAAKgW,8CAiBpEhW,KAAKu5G,aAAc,8CAQH,IACR7M,KAAS7Z,mBAAA,QAAkBkV,cAA3B2E,KACF+T,gBAAiB,EAAAtG,YAAAuG,yBAAwB1gH,KAAKmoG,QAASuE,KAAKI,OAElE,MAAO,CACH6T,OAAO,EAAA9nB,MAAA+nB,KAAIH,gBAAkB/T,KAAKh5C,MAClC7wB,MAAM,EAAAg2D,MAAAjoC,KAAI6vD,gBAAkB/T,KAAKh5C,4CAW5Bu2C,aACTjqG,KAAK2kG,cAAckc,eAAe5W,YAAY6W,KAE9C9gH,KAAKmoG,QAAU8B,YAAY6C,MAC3B9sG,KAAK2oG,SAAWsB,YAAY6E,4CAUtBrqE,IAAKs8E,WAAYC,OACvB,IAAIhhH,KAAKg7G,UAAT,CAIA,IAAMiG,gBAAkBjhH,KAAKq5F,SACvB6nB,eAAiBlhH,KAAKitG,mBAWtBkU,WAAa,SAAC9nB,UAAD,MAAA,GAAA7nF,OAAiBqhF,mBAAA,QAAkBkV,cAAcz2D,MAAMyvE,YAAvD,MAAAvvG,OAAuE6nF,SAAvE,KAAA7nF,OAAmFizB,MAEtG,GAAIu8E,MAAO,CAEPrtB,cAAA,QAAa6N,OAAO2f,WAAWF,kBADb,QAGlBttB,cAAA,QAAa6N,OAAO2f,WAAWF,mBAGnC,EAAAptB,QAAA2T,YACI,CAAC,CACG/lG,KAAM,OACN+I,QAAS22G,WAAWD,kBAExBlhH,KAAKynG,8CAST,IAAI2Z,QACAC,QAEJ,GAAIrhH,KAAKgtG,aAAc,CACnB,IAAMsU,QAAUthH,KAAK2oG,SAAW3oG,KAAKqrG,IAAI1C,SACnC4Y,KAAM,EAAAnb,gBAAAob,gBAAexhH,KAAK2oG,UAAW,GAEnB,IAApB51E,KAAKk7E,IAAIqT,SACK,EAAVA,SACAF,QAAO,sBAAA5vG,OAAyB+vG,IAAzB,SAAA/vG,OAAoCxR,KAAKqrG,IAAI1C,UACpD0Y,QAAO,sBAAA7vG,QAAyB,EAAA40F,gBAAAqF,gBAAe8V,KAAxC,SAAA/vG,QAAoD,EAAA40F,gBAAAqF,gBAAezrG,KAAKqrG,IAAI1C,YAC5E2Y,QAAU,IACjBF,QAAO,oBAAA5vG,OAAuB+vG,IAAvB,SAAA/vG,OAAkCxR,KAAKqrG,IAAI1C,UAClD0Y,QAAO,oBAAA7vG,QAAuB,EAAA40F,gBAAAqF,gBAAe8V,KAAtC,SAAA/vG,QAAkD,EAAA40F,gBAAAqF,gBAAezrG,KAAKqrG,IAAI1C,aAGrFyY,QAAO,MAAA5vG,OAAS+vG,KAChBF,QAAO,MAAA7vG,QAAS,EAAA40F,gBAAAqF,gBAAe8V,OAGnC5tB,cAAA,QAAa6N,OAAb,GAAAhwF,OAAuBqhF,mBAAA,QAAkBkV,cAAcz2D,MAAMmwE,IAA7D,MAAAjwG,OAAqExR,KAAKq5F,SAA1E,cAAA7nF,OAA+F4vG,WAC/F,EAAAvtB,QAAA2T,YACI,CACI,CAAE/lG,KAAM,OAAQ+I,QAAO,GAAAgH,OAAKqhF,mBAAA,QAAkBkV,cAAcz2D,MAAMmwE,IAA3C,OACvB,CAAEhgH,KAAM,WAAY+I,QAASxK,MAC7B,CAAEyB,KAAM,OAAQ+I,QAAO,YAAAgH,OAAc6vG,WAEzCrhH,KAAKynG,iBAGT9T,cAAA,QAAa6N,OAAb,GAAAhwF,OAAuBqhF,mBAAA,QAAkBkV,cAAcz2D,MAAMowE,IAA7D,MAAAlwG,OAAqExR,KAAKq5F,SAA1E,qBACA,EAAAxF,QAAA2T,YACI,CACI,CAAE/lG,KAAM,OAAQ+I,QAASqoF,mBAAA,QAAkBkV,cAAcz2D,MAAMowE,KAC/D,CAAEjgH,KAAM,WAAY+I,QAASxK,MAC7B,CAAEyB,KAAM,OAAQ+I,QAAS,oBAE7BxK,KAAKynG,iDAWJwC,aACT,GAAIjqG,KAAKgtG,aACL,MAAO,EAAC,EAAO,0CAGnB,GAAIhtG,KAAKyqG,cAAgBxE,mBAAAc,aAAaC,QAClC,MAAO,EAAC,EAAO,4CAGnB,GAAIhnG,KAAKo2G,YACL,MAAO,EAAC,EAAO,iDAGnB,GAAIp2G,KAAKoqG,IAAIU,uBAAyBb,YAAa,CAC/C,GAAIjqG,KAAKyqG,cAAgBxE,mBAAAc,aAAa8P,QAMlC,MAAO,EAAC,EALS,CACbp2G,IAAG,yCAAA+Q,OAA2Cy4F,YAAYtpG,MAC1DumG,IAAG,yCAAA11F,OAA2Cy4F,YAAYM,kBAMlE,GAAIvqG,KAAKyqG,cAAgBxE,mBAAAc,aAAa4D,KAMlC,MAAO,EAAC,EALS,CACblqG,IAAG,mCAAA+Q,OAAqCy4F,YAAYtpG,MACpDumG,IAAG,mCAAA11F,OAAqCy4F,YAAYM,kBAOhEvqG,KAAK42G,eAAe3Q,mBAAAc,aAAa4D,MAEjC3qG,KAAKoqG,IAAIU,qBAAqBsC,wBAAwBptG,KAAKgW,IAC3DhW,KAAKoqG,IAAIuX,mBAAmB1X,aAC5BjqG,KAAKoqG,IAAIU,qBAAqB6L,mBAAmB32G,KAAKgW,IAEtDhW,KAAK46G,WAAaxsB,YAAA,QAAW4gB,qBAE7B,IAAM3G,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,oCAAA+Q,OAAmDy4F,YAAYtpG,MAC/D0nG,SAASnB,IAAT,oCAAA11F,QAAmD,EAAA40F,gBAAAkE,cAAaL,YAAYtpG,OAErE,EAAC,EAAM0nG,0CAUVwC,QACJ,IAAM+W,YAAc5hH,KAAKm4G,MAAMzkD,MAAMmuD,OAC/BC,gBAAkB9hH,KAAKoqG,IAAI2X,2BAEjC/hH,KAAKgiH,sBAAsBF,gBAAiBjX,OAAOiC,MAAO8U,aAC1D5hH,KAAK42G,eAAe3Q,mBAAAc,aAAaC,SACjC7Y,UAAA,QAASlsC,QAAQssC,YAAA6qB,eAAepS,QAAShnG,KAAM6qG,QAE/C7qG,KAAKivG,YAAc7gB,YAAA,QAAW4gB,qBAC9BnE,OAAOoX,0BAA4BjiH,mDAYjB2oG,SAAUR,QAASz0C,OACjC1zD,KAAKqrG,IAAI1C,WAAa5P,iBAAA2K,gBACtB1jG,KAAKqrG,IAAI4S,sBAAsBtV,UAG/B3oG,KAAKqrG,IAAI6W,eAAiBlc,sBAAA6F,SAASsW,SAASC,KAC5CpiH,KAAKqrG,IAAI6S,kBAGTl+G,KAAKqrG,IAAIlD,UAAYpP,iBAAA2K,gBACrB1jG,KAAKqrG,IAAI8S,qBAAqBhW,SAG9BnoG,KAAKqrG,IAAIO,cAAgB5F,sBAAA6F,SAASC,QAAQsW,KAC1CpiH,KAAKqrG,IAAIC,iBAGTtrG,KAAKqrG,IAAI33C,QAAUqlC,iBAAA2K,gBACnB1jG,KAAKqrG,IAAIgX,mBAAmB3uD,OAG5B1zD,KAAKqrG,IAAIY,YAAcjG,sBAAA6F,SAASK,MAAMkW,KACtCpiH,KAAKqrG,IAAIiX,oDAWbtiH,KAAKokC,OAAOukE,UAAW,EAAA8Q,YAAA,SAAWz5G,KAAKuiH,6BAA8BviH,KAAKokC,OAAOukE,UAEjF3oG,KAAKwiH,gCAELxiH,KAAKokC,OAAOsvB,OAAQ,EAAA+lD,YAAA,SAAWz5G,KAAKyiH,0BAA2BziH,KAAKokC,OAAOsvB,OAG3E1zD,KAAK0iH,0DAQL,OAAQ1iH,KAAKyqG,aACT,KAAKxE,mBAAAc,aAAa2D,MAQlB,KAAKzE,mBAAAc,aAAa4D,KAQlB,KAAK1E,mBAAAc,aAAa8P,QAMd,MAEJ,KAAK5Q,mBAAAc,aAAaC,QACdhnG,KAAKokC,OAAOukE,SAAW3oG,KAAK2oG,SAExB3oG,KAAK0zD,OAAS1zD,KAAKm4G,MAAMzkD,MAAM6Y,MAC/BvsE,KAAKokC,OAAOukE,SAAW3oG,KAAKm4G,MAAMoF,SAGtCv9G,KAAKo8G,cAAgBp8G,KAAKmoG,QAC1BnoG,KAAKokC,OAAOsvB,MAAQ1zD,KAAKm4G,MAAMzkD,MAAM6Y,IAEjCvsE,KAAKqrG,IAAIlD,UAAYpP,iBAAA2K,gBACrBj3E,QAAQ4tB,KAAR,GAAA7oC,OAAgBxR,KAAKq5F,SAArB,gDAGJ,MAGJ,KAAK4M,mBAAAc,aAAa4b,MAGlB,KAAK1c,mBAAAc,aAAa6b,OAGlB,KAAK3c,mBAAAc,aAAasX,QAGlB,KAAKpY,mBAAAc,aAAayX,SACd,MAEJ,KAAKvY,mBAAAc,aAAa8b,QACV7iH,KAAK2oG,UAAY3oG,KAAKqrG,IAAI0U,UAAUjR,YACpC9uG,KAAK2oG,SAAW3oG,KAAKqrG,IAAI0U,UAAUjR,UACnC9uG,KAAKokC,OAAOsvB,MAAQ,GAW5B1zD,KAAKugH,eACLvgH,KAAKokC,OAAOukE,SAAW51E,KAAKw5C,IAAI,EAAGvsE,KAAKokC,OAAOukE,WAK/C3oG,KAAK2oG,SAAW,MAChB3oG,KAAKokC,OAAOsvB,MAAQ3gC,KAAKw5C,IAAIvsE,KAAKokC,OAAOsvB,MAAO26B,kBAAA2xB,kBAAkB8C,2BAGlE9iH,KAAKokC,OAAOukE,SAAW3oG,KAAKm4G,MAAMoF,UAClCv9G,KAAKokC,OAAOukE,SAAW3oG,KAAKm4G,MAAMoF,SAGlCv9G,KAAKokC,OAAOsvB,MAAQ1zD,KAAKm4G,MAAMzkD,MAAM1G,MACrChtD,KAAKokC,OAAOsvB,MAAQ1zD,KAAKm4G,MAAMzkD,MAAM1G,KAGrChtD,KAAKokC,OAAOsvB,MAAQ1zD,KAAKm4G,MAAMzkD,MAAM6Y,KAAOvsE,KAAKgtG,eACjDhtG,KAAKokC,OAAOsvB,MAAQ1zD,KAAKm4G,MAAMzkD,MAAM6Y,4CAW9Bw2C,OACX/iH,KAAKoqG,IAAIwM,eAAemM,mDAUxB,IAAM9Y,YAAcjqG,KAAKoqG,IAAIU,qBAE7B,OAAQ9qG,KAAKyqG,aACT,KAAKxE,mBAAAc,aAAa4D,KACEvc,YAAA,QAAW4gB,qBAAuBhvG,KAAK46G,WAEzC56G,KAAK66G,YACf76G,KAAK42G,eAAe3Q,mBAAAc,aAAa8P,SACjC72G,KAAK02G,aAAazM,cAGtB,MAGJ,KAAKhE,mBAAAc,aAAa8P,QACd,IAAMmM,oBAAsBhjH,KAAKoqG,IAAIU,qBAAqB0V,sBAAsBxgH,KAAKgW,IAErF,GAAIhW,KAAK82G,gCAAkCkM,oBAAqB,CAC5D,IAAMC,cAAgBjjH,KAAKoqG,IAAIU,qBAAqBmX,0BAGpD,KAFmD,OAAlBgB,eAO7B,IAJuB,EAAA5c,gBAAA6c,OAAMljH,KAAKmjH,mBAAmBF,gBAC5BjjH,KAAKm4G,MAAMiL,4CAA4CH,cAAc9K,OAC7C,KAEH8K,cAAc9T,aACxD,MAIRnvG,KAAKoqG,IAAIU,qBAAqBsC,wBAAwBptG,KAAKgW,IAC3DhW,KAAKqtG,QAAQrtG,KAAKoqG,IAAIU,sBAG1B,MAEJ,KAAK7E,mBAAAc,aAAaC,QACThnG,KAAK2oG,SAAWsB,YAAY6E,UAAa7I,mBAAAqZ,YAAY+D,wBACtDrjH,KAAKgoG,MAAMsb,uCACXtjH,KAAK42G,eAAe3Q,mBAAAc,aAAa4b,QAGrC,MAEJ,KAAK1c,mBAAAc,aAAa4b,MACV3iH,KAAK2oG,WAAa3oG,KAAKoqG,IAAIkS,oBAC3Bt8G,KAAK42G,eAAe3Q,mBAAAc,aAAa6b,QAGrC,MAEJ,KAAK3c,mBAAAc,aAAa6b,OACV5iH,KAAK2oG,SAAW3oG,KAAKoqG,IAAIkS,oBACzBt8G,KAAK42G,eAAe3Q,mBAAAc,aAAasX,SAGrC,MAEJ,KAAKpY,mBAAAc,aAAasX,QACVr+G,KAAKgoG,MAAMQ,sBAAwBxoG,KAAKowG,0BACxCpwG,KAAK42G,eAAe3Q,mBAAAc,aAAayX,UAE5Bx+G,KAAKg7G,WACN7sB,UAAA,QAASlsC,QAAQssC,YAAA6qB,eAAeoF,SAAUx+G,OAIlD,MAEJ,KAAKimG,mBAAAc,aAAayX,SACd,IAAKx+G,KAAKujH,YACN,MAGJ,IAAKvjH,KAAKwjH,2BAA4B,CAClCxjH,KAAKyjH,gBAEL,MAGJzjH,KAAK42G,eAAe3Q,mBAAAc,aAAa8b,SAE5B7iH,KAAKg7G,WACN7sB,UAAA,QAASlsC,QAAQssC,YAAA6qB,eAAesK,eAAgB1jH,KAAMA,KAAKoqG,IAAIC,oBAGnE,MAGJ,KAAKpE,mBAAAc,aAAa8b,mFAgBtB,IAAM5Y,YAAcjqG,KAAKoqG,IAAIC,mBAEvBsZ,mBADS,EAAAxJ,YAAAyJ,WAAU5jH,KAAMiqG,YAAYpO,iBAAkBoO,YAAY6C,OACxC,GAGjC,OAF2B7C,YAAY4Z,sBAAsBF,+EAe7BG,oBAChC,IAAMC,WAAalxB,mBAAA,QAAkBkV,cAAcic,wBAAwBhkH,KAAK2oG,UAE1Esb,gBAAkBH,oBADN,EAAAlW,QAAAsW,SAAQH,YAI1B,OAAOD,mBAFW/wF,KAAKoxF,MAAM,EAAAvW,QAAAE,MAAKiW,aAAc,EAAAlrB,MAAA+nB,KAAIqD,iBAAoBjkH,KAAKy6G,sEAcjDtS,SAC5B,IAAMic,eAAgB,EAAAxW,QAAAyW,SAAO,EAAAzW,QAAA0W,wBAAuBnc,SAAUnoG,KAAKy6G,cAC7DsJ,WAAalxB,mBAAA,QAAkBkV,cAAcic,wBAAwBhkH,KAAK2oG,UAC1Emb,oBAAqB,EAAAlW,QAAAsW,UAAQ,EAAAtW,QAAA2W,MAAKH,cAAeL,aAEvD,OAAO,EAAA7d,QAAAuD,mBAAkBqa,4EAYzB,GAAI9jH,KAAKqrG,IAAImZ,gBAAkBxe,sBAAA6F,SAAS4Y,UAAUC,GAIlD,GAAI1kH,KAAKyqG,cAAgBxE,mBAAAc,aAAa8b,QAMtC,OAAQ7iH,KAAKqrG,IAAIO,aACb,KAAK5F,sBAAA6F,SAASC,QAAQsW,IAClBpiH,KAAKo8G,cAAgBp8G,KAAKmoG,QAE1B,MAGJ,KAAKnC,sBAAA6F,SAASC,QAAQC,KAClB/rG,KAAKo8G,cAAgBp8G,KAAKqrG,IAAIlD,QAE9B,MAGJ,KAAKnC,sBAAA6F,SAASC,QAAQ6Y,KAClB3kH,KAAK4kH,kBAAoB5kH,KAAK6kH,oCAE9B,MAGJ,KAAK7e,sBAAA6F,SAASC,QAAQgZ,QAClB9kH,KAAK4kH,kBAAoB5kH,KAAK+kH,6CAE9B,MAGJ,QACIt4F,QAAQ4tB,KAAK,iEAAA,iBAAA7oC,OACQxR,KAAKqrG,IAAIO,YADjB,WA/BjB5rG,KAAK4kH,kBAAoB5kH,KAAKglH,+FA4ClC,GAAIhlH,KAAKqrG,IAAImZ,gBAAkBxe,sBAAA6F,SAAS4Y,UAAUC,GAAlD,CAIA,GAAI1kH,KAAKyqG,cAAgBxE,mBAAAc,aAAa8b,QAClC,OAAO7iH,KAAKilH,uCAGhB,OAAQjlH,KAAKqrG,IAAIY,WACb,KAAKjG,sBAAA6F,SAASK,MAAMkW,IAChB,OAAOpiH,KAAKklH,qBAAqBllH,KAAK0zD,OAE1C,KAAKsyC,sBAAA6F,SAASK,MAAMH,KAChB,OAAO/rG,KAAKklH,qBAAqBllH,KAAKqrG,IAAI33C,OAM9C,KAAKsyC,sBAAA6F,SAASK,MAAMiZ,GAChB,OAAOnlH,KAAKklH,qBAAqBllH,KAAKm4G,MAAMzkD,MAAM1G,KAEtD,KAAKg5C,sBAAA6F,SAASK,MAAMkZ,KAChB,IAAMC,UAAYrlH,KAAKslH,8BAEvB,OAAOtlH,KAAKklH,qBAAqBG,WAGrC,QAGI,OAFA54F,QAAQ4tB,KAAK,kFAAA,aAAA7oC,OACIxR,KAAKqrG,IAAIrF,sBAAAuf,cAAcrZ,OAD3B,MAENlsG,KAAKklH,qBAAqBllH,KAAK0zD,sDAa7BA,OACjB,OAAI1zD,KAAK2oG,SAAW,IACT51E,KAAKw5C,IAAI7Y,MAAO26B,kBAAA2xB,kBAAkB8C,0BAGtCpvD,2DAWP,GAAI1zD,KAAKqrG,IAAImZ,gBAAkBxe,sBAAA6F,SAAS4Y,UAAUC,GAAlD,CAIA,GAAI1kH,KAAKyqG,cAAgBxE,mBAAAc,aAAa8b,QAClC,OAAO7iH,KAAKwlH,0CAGhB,OAAQxlH,KAAKqrG,IAAI6W,cACb,KAAKlc,sBAAA6F,SAASsW,SAASC,IACnB,OAAOpiH,KAAK2oG,SAEhB,KAAK3C,sBAAA6F,SAASsW,SAASpW,KACnB,OAAO/rG,KAAKqrG,IAAI1C,SAEpB,KAAK3C,sBAAA6F,SAASsW,SAAS3D,SACnB,OAAOx+G,KAAKylH,iDAUhB,KAAKzf,sBAAA6F,SAASsW,SAASiD,KACnB,OAAOplH,KAAK0lH,iCAGhB,QACIj5F,QAAQ4tB,KAAK,4EAAA,8CAAA7oC,OACqCxR,KAAKqrG,IAAIrF,sBAAAuf,cAAcpD,UAD5D,iFAsBrB,IAAKniH,KAAKowG,wBACN,OAAOpwG,KAAKqrG,IAAI1C,SAIpB,IAAMkX,mBAAqB7/G,KAAKy/G,iDAGhC,OAFyB1sF,KAAKw5C,IAAIvsE,KAAKqrG,IAAI1C,SAAUkX,yFAYZ,IAAA8F,UAEX3lH,KAAKqrG,IAA3Bua,OAFiCD,UAEjCC,OAAQ7F,UAFyB4F,UAEzB5F,UACV8F,cAAe,EAAA1L,YAAAyJ,WAAU5jH,KAAM+/G,UAAUlkB,iBAAkB+pB,QAC3DE,6BAA8B,EAAAzf,gBAAA0f,IAAGF,aAAa,IAC9CG,mBAAoB,EAAA9f,QAAAwK,cAAakV,OAAQ5lH,KAAKmoG,SAE9C8d,uBAAyBL,OADI5lH,KAAK2kG,cAAcuhB,kBAAkBnG,WAElEoG,mBAAoB,EAAAttB,MAAAoV,KAAI+X,mBAAqB/f,mBAAAqZ,YAAY8G,UAGzDC,0BADgBrmH,KAAK0zD,OAASyyD,kBAAoBptB,iBAAAimB,KAAKsH,sBACX,EAAAztB,MAAAoV,KAAI+X,mBAChDO,oBAAsBT,6BAA8B,EAAAjtB,MAAA+nB,KAAIoF,mBAExDQ,uBAAgD,EAAtBD,qBAC5BA,qBAAuBF,0BAFL,GAGhBI,aAAc,EAAA5tB,MAAAoV,KAAIgY,yBAA0B,EAAA5f,gBAAAqD,kBAAiB,KAEnE,IAAK8c,yBAA2BC,YAC5B,OAAOzmH,KAAKqrG,IAAIlD,QAIpB,IACIue,gBAD2B,GACVT,uBACfU,uBAAwB,EAAAtgB,gBAAAqD,kBAAiB,IACzCkd,qBAAsB,EAAA/tB,MAAAoV,KAAI6X,8BAC5B7f,mBAAAqZ,YAAYuH,8DAGhB,GAAIJ,aAAeG,oBAGf,OAFA5mH,KAAKokC,OAAOmkE,KAAO,KAEZqd,OAASc,eAIpB,IAAMI,iBAAmBlB,QADzBc,gBAAiB,EAAA7tB,MAAAkuB,QAAOL,gBAAiBC,sBAAuBA,wBAIhE,OAAI3mH,KAAKqrG,IAAIlD,QAAUnoG,KAAKqrG,IAAIua,OACP7yF,KAAKi6B,IAAI85D,iBAAkB9mH,KAAKqrG,IAAIlD,SAKzDnoG,KAAKqrG,IAAIlD,QAAUnoG,KAAKqrG,IAAIua,OACP7yF,KAAKw5C,IAAIu6C,iBAAkB9mH,KAAKqrG,IAAIlD,cAD7D,8DAcA,IAAKnoG,KAAKoqG,IAAI4c,gBACV,OAAO,IAAIrqH,MAAM,qEAGrB,GAAIqD,KAAKoqG,IAAI4c,gBAAgBC,iBACzB,OAAOjnH,KAAKoqG,IAAI4c,gBAAgBE,YAGpC,GAAIlnH,KAAKoqG,IAAI4c,gBAAgBG,eACzB,OAAOnnH,KAAKonH,gCAGhB,IAAMC,iBAAmBrnH,KAAKoqG,IAAI4c,gBAAgBriB,cAC5C2iB,mBAAqBtnH,KAAK2kG,cAAcka,mBAAmBwI,kBAC3DE,sBAAwBvnH,KAAK2kG,cAAcuhB,kBAAkBmB,kBAE7DG,qBAAuBF,oBADE,EAAAnN,YAAAsN,iCAAgCznH,KAAMqnH,kBAE/DK,oBAAsBJ,mBAAqBrhB,mBAAAqZ,YAAYqI,qCAEvDC,eADwBN,mBAAqBrhB,mBAAAqZ,YAAYuI,wCACfL,qBAC5CM,oBAAsBJ,oBAM1B,GAJK1nH,KAAKoqG,IAAI4c,gBAAgBe,oBAC1BD,oBAAsBJ,qBAAuBE,gBAG7CE,oBAAqB,CACrB,IAAK9nH,KAAKoqG,IAAI4d,kBAIV,OAFAhoH,KAAKgoG,MAAM4C,uBAAuB5qG,MAE3BA,KAAKgxG,YAGhBhxG,KAAKoqG,IAAI6d,qBARY,IAUbjB,gBAAoBhnH,KAAKoqG,IAAzB4c,gBAER,GAAIA,gBAAgBC,iBAChB,OAAOD,gBAAgBE,YAG3B,IAAMgB,qBAAuBlB,gBAAgBriB,cAO7C,OALI,EAAA3W,QAAA,SAAOk6B,uBACPz7F,QAAQ4tB,KAAK,sDAAA,IAAA7oC,OACLw1G,gBAAgBrmH,KADX,oBAAA6Q,OACkC02G,uBAG5CloH,KAAK2kG,cAAcuhB,kBAAkBgC,sBAGhD,OAAOX,8EASqB,IACpBP,gBAAoBhnH,KAAKoqG,IAAzB4c,gBACAzd,eAAmByd,gBAAnBzd,eACF4e,yBAA2BnB,gBAAgBnrB,iBAC3CusB,kBAAmB,EAAAxa,QAAAsW,UAAQ,EAAAtW,QAAAG,MAAKoa,yBAA0BnoH,KAAK67F,wBAExB,IAAlC0N,eAAeC,iBAEtBD,eAAeC,eAAiB4e,kBARR,IAWpB5e,eAA8BD,eAA9BC,eAAgBN,UAAcK,eAAdL,UAClBmf,iBAAkB,EAAAniB,QAAAuD,mBAAkBD,eAAiBz2E,KAAK89B,IAC1DmgD,aAAc,EAAA9K,QAAAuD,mBAAkBzpG,KAAKgxG,aACrCxrF,QAAS,EAAA20F,YAAAyJ,WAAU5jH,KAAMmoH,yBAA0B3e,gBACnDuF,SAAW3gB,YAAA,QAAW4gB,qBACtBsZ,UAAY9iG,OAAO,GAAK,GAAKA,OAAO,GAAK,EACzC+iG,WAAahf,eAAe32C,QAAUmmC,iBAAA2K,eACtC8kB,eAAiBD,YAAcxZ,SAAWxF,eAAe32C,MAM/D,GAJI01D,YAActoH,KAAK+6G,iCACnB/6G,KAAK+6G,gCAAiC,IAGrC/6G,KAAK+6G,+BACN,OAAOqN,iBAGX,IAAIK,kBAAoBJ,gBAExB,IAAI,EAAAxvB,MAAAoV,KAAI+C,YAAcqX,iBAAmBpiB,mBAAAqZ,YAAYoJ,sDAAwDH,WAAY,CACrH,IAAII,yBAEJ,IAAkC,IAA9Bzf,UAAU18F,QAAQ,OAElBm8G,yBADiCzf,UAAUhkG,QAAQ,MAAO,IACJ6zF,iBAAAimB,KAAK4J,2BAI3DD,yBADwBzf,UAAUhkG,QAAQ,KAAM,IACFlF,KAAKw6G,YAAezhB,iBAAAimB,KAAKC,oBAG3E+H,gBAAgB6B,aAAa9Z,SAAW4Z,0BAc5C,OAXIH,iBACAC,kBAAoBL,iBAEhBE,YACAtB,gBAAgB8B,iBAChBL,kBAAoBJ,kBAI5BroH,KAAKokC,OAAOmkE,KAAOgB,eAAeN,cAE3Bwf,oFAWP,IAAMxe,YAAcjqG,KAAKoqG,IAAIC,mBAI7B,OAAyB,GAHV,EAAA8P,YAAAyJ,WAAU5jH,KAAMiqG,YAAYpO,iBAAkBoO,YAAY6C,OACvC,GAGvB9sG,KAAKylH,iDAGTxb,YAAY6E,mEAWnB,IAAMia,wBAA0B/oH,KAAKoqG,IAAI4e,iDACnCC,wBAA0BjpH,KAAKoqG,IAAI8e,iDACnCC,wBAAyB,EAAAn7B,QAAA,SAAO+6B,yBAChCK,wBAAyB,EAAAp7B,QAAA,SAAOi7B,yBAEtC,KAAIjpH,KAAKqrG,IAAI1C,SAAW3oG,KAAK2oG,UA0CtB,CAEH,IAAKwgB,uBAAyBnpH,KAAKqrG,IAAI1C,SAAWogB,wBAAwBM,gBAEtE,OAAOrpH,KAAKqrG,IAAI1C,SAJjB,IAOK2gB,iBAAoBP,wBAApBM,gBAER,GAAIrpH,KAAK2oG,SAAW2gB,iBAEhB,OAAOtpH,KAAKupH,sCAAsCR,wBAAyBO,kBAG/E,GAAIF,sBAAuB,CAAA,IACfI,iBAAoBP,wBAApBQ,gBAER,GAAIzpH,KAAKqrG,IAAI1C,SAAW6gB,iBAEpB,OAAOxpH,KAAKqrG,IAAI1C,SAGpB,GAAI3oG,KAAK2oG,SAAW6gB,iBAAiB,CAEjC,GAAIF,iBAAkBE,iBAOlB,GAJsBxpH,KAAK0pH,mBACvB1pH,KAAKoqG,IAAIgO,UAAW6Q,wBAAyBF,yBAG/BpoH,OAASooH,wBAAwBpoH,KAE/C,OAAO2oH,iBAIf,OAAOtpH,KAAK2pH,oCAAoCV,0BAIxD,OAAOK,iBAjFP,IAAKF,uBAAyBH,wBAAwBQ,gBAAkBzpH,KAAKqrG,IAAI1C,SAE7E,OAAO3oG,KAAKqrG,IAAI1C,SAJe,IAO3B8gB,gBAAoBR,wBAApBQ,gBAER,GAAIzpH,KAAK2oG,SAAW8gB,gBAEhB,OAAOzpH,KAAK2pH,oCAAoCV,yBAGpD,GAAIE,sBAAuB,CAAA,IACfE,gBAAoBN,wBAApBM,gBAER,GAAIrpH,KAAKqrG,IAAI1C,SAAW0gB,gBAEpB,OAAOrpH,KAAKqrG,IAAI1C,SAGpB,GAAI3oG,KAAK2oG,SAAW0gB,gBAAiB,CAEjC,GAAsBA,gBAAlBI,gBASA,GANsBzpH,KAAK0pH,mBACvB1pH,KAAKoqG,IAAIgO,UACT6Q,wBACAF,yBAGcpoH,OAASsoH,wBAAwBtoH,KAE/C,OAAOX,KAAKupH,sCAAsCN,wBAAyBQ,iBAInF,OAAOzpH,KAAKupH,sCAAsCR,wBAAyBM,8DA0DxEjR,UAAWwR,UAAWC,WAIrC,OAHiB,EAAAnQ,YAAA,SAAWtB,UAAW,SAAC0R,UAAD,OAAcA,SAASnpH,OAASipH,UAAUjpH,QAChE,EAAA+4G,YAAA,SAAWtB,UAAW,SAAC0R,UAAD,OAAcA,SAASnpH,OAASkpH,UAAUlpH,OAEpDipH,UAAYC,sEAWTE,wCAGhC,OAFgCA,uCAAuCN,8EAcrChL,cAAeS,gBACjD,GAAKl/G,KAAKgqH,qCAAqCvL,cAAeS,gBAI9D,OAAOA,oFAWP,IAAMjV,YAAcjqG,KAAKoqG,IAAIC,mBACvB7kF,QAAS,EAAA20F,YAAAyJ,WAAU5jH,KAAMiqG,YAAYpO,iBAAkBoO,YAAY6C,OAGzE,OAAyB,GAFE,EAAAzG,gBAAA0f,IAAGvgG,OAAO,IAGExlB,KAAK2kG,cAAcuhB,kBAAkBjc,YAAYtF,eAKjFsF,YAAY6C,qEAWnB,IAAImd,WAAajqH,KAAK0zD,MAChBu2C,YAAcjqG,KAAKoqG,IAAIC,mBACvB7kF,QAAS,EAAA20F,YAAAyJ,WAAU5jH,KAAMiqG,YAAYpO,iBAAkBoO,YAAY6C,OACnEod,oBAAqB,EAAA7jB,gBAAA0f,IAAGvgG,OAAO,IAC/B2kG,wBAA0BlkB,mBAAAqZ,YAAY8K,6BAA+BrxB,iBAAAimB,KAAKsH,oBAC1E+D,uBAAyBrqH,KAAKm4G,MAAMzkD,MAAM42D,QAAUH,wBAE1D,OAAID,oBAAsB,GAAKlqH,KAAKmvG,aACzB,GAGPnvG,KAAKqrG,IAAIY,YAAcjG,sBAAA6F,SAASK,MAAMH,OACtCke,WAAajqH,KAAKqrG,IAAI33C,QAGR,EAAAmlC,MAAA0xB,yBACdF,uBACAH,mBACA77B,kBAAA2xB,kBAAkBC,+BAClBjgH,KAAKm4G,MAAMzkD,MAAM42D,QACjBL,mEAcJ,IAAMO,yBAA2BxqH,KAAKoqG,IAAIqgB,0CAA0CzqH,KAAK0zD,OACnFg3D,yBAA2B1qH,KAAKoqG,IAAIugB,0CAA0C3qH,KAAK0zD,OACnFk3D,kBAAmB,EAAA58B,QAAA,SAAOw8B,0BAC1BK,kBAAmB,EAAA78B,QAAA,SAAO08B,0BAEhC,IAAKE,kBAAoBC,gBACrB,OAAO7qH,KAAKqrG,IAAI33C,MAGpB,GAAIk3D,iBAAmBC,gBAAiB,CAAA,IAC5BzS,UAAcp4G,KAAKoqG,IAAnBgO,UAIR,OAHmB,EAAAsB,YAAA,SAAWtB,UAAW,SAAC0R,UAAD,OAAcA,SAASnpH,OAAS6pH,yBAAyB7pH,QAC/E,EAAA+4G,YAAA,SAAWtB,UAAW,SAAC0R,UAAD,OAAcA,SAASnpH,OAAS+pH,yBAAyB/pH,OAGvFX,KAAK8qH,wCAAwCN,0BAGjDxqH,KAAK+qH,wCAAwCL,0BAGxD,OAAIE,gBACO5qH,KAAK8qH,wCAAwCN,0BAGpDK,gBACO7qH,KAAK+qH,wCAAwCL,+BADxD,kEAaoCM,qCACpC,IAAMC,qBAAuBD,oCAAoCE,aAEjE,OAAOn4F,KAAKw5C,IAAI0+C,qBAAsBjrH,KAAKqrG,IAAI33C,uEAWXy3D,qCACpC,IAAMC,qBAAuBD,oCAAoCxM,aAEjE,GAAK3+G,KAAKqrH,0CAA0CF,qCAIpD,OAAOp4F,KAAKw5C,IAAI6+C,qBAAsBprH,KAAKqrG,IAAI33C,+CAS/C,IAAI1zD,KAAK01G,YAAT,CAIA,GAAI11G,KAAKwvG,IAKL,OAHAxvG,KAAK2oG,UAAY,GAAKva,YAAA,QAAWk9B,2CACjCtrH,KAAK0zD,OAAS,KAKlB1zD,KAAKurH,4BACLvrH,KAAKwrH,wBAEDxrH,KAAKmvG,eACLnvG,KAAKwrG,MAAQ,GAIjBxrG,KAAKyrH,qBAEL,IAAMC,eAAiBt9B,YAAA,QAAW4gB,qBAAuB5b,gBAAA,QAAeu4B,eAU5B,IAAxC3rH,KAAKi7G,wBAAwBj+G,OAC7BgD,KAAKi7G,wBAAwBz3G,KAAK,CAC9BxD,KAAK2kG,cAAc9I,iBAAiB,GACpC77F,KAAK2kG,cAAc9I,iBAAiB,GACpC6vB,kBAGG,EAAA7yB,MAAAoV,KAAIyd,eAAiB1rH,KAAKi7G,wBAAwBj7G,KAAKi7G,wBAAwBj+G,OAAS,GAAG,IAClG,EAAIo2F,gBAAA,QAAeu4B,gBAEnB3rH,KAAKi7G,wBAAwBz3G,KAAK,CAC9BxD,KAAK2kG,cAAc9I,iBAAiB,GACpC77F,KAAK2kG,cAAc9I,iBAAiB,GACpC6vB,iBAIR1rH,KAAK4rH,2BAEL5rH,KAAKg8F,UAAW,EAAA4R,QAAAE,MAAK9tG,KAAK2kG,cAAc9I,kBACxC77F,KAAKopG,QAAS,EAAAlD,QAAAuD,oBAAkB,EAAAmE,QAAAsW,SAAQlkH,KAAK2kG,cAAc9I,wEAU3D,GAAI77F,KAAKmvG,cAAgBnvG,KAAKmoG,UAAYnoG,KAAKo8G,cAC3Cp8G,KAAKokC,OAAOmkE,KAAO,SADvB,CAMA,IAAMsjB,eAAiBz9B,YAAA,QAAWk9B,sCAC5BQ,YAAa,EAAA5lB,QAAAwK,cAAa1wG,KAAKo8G,cAAep8G,KAAKmoG,SACnD4jB,aAAe9lB,mBAAAqZ,YAAY8G,UAAYyF,gBAGzC,EAAAhzB,MAAAoV,KAAI6d,aAAeC,aACnB/rH,KAAKmoG,QAAUnoG,KAAKo8G,cACbp8G,KAAKokC,OAAOmkE,KACM,SAArBvoG,KAAKokC,OAAOmkE,KACZvoG,KAAKmoG,SAAU,EAAAjC,QAAAuD,mBAAkBzpG,KAAKmoG,QAAU4jB,cACpB,UAArB/rH,KAAKokC,OAAOmkE,OACnBvoG,KAAKmoG,SAAU,EAAAjC,QAAAuD,mBAAkBzpG,KAAKmoG,QAAU4jB,eAE7CD,YAAc,EACrB9rH,KAAKmoG,SAAU,EAAAjC,QAAAuD,mBAAkBzpG,KAAKmoG,QAAU4jB,cAC5B,EAAbD,aACP9rH,KAAKmoG,SAAU,EAAAjC,QAAAuD,mBAAkBzpG,KAAKmoG,QAAU4jB,gEAYpD/rH,KAAKwrG,MAAQ,EAETxrG,KAAKokC,OAAOukE,SAAW3oG,KAAK2oG,SAC5B3oG,KAAKgsH,2BACEhsH,KAAKokC,OAAOukE,SAAW3oG,KAAK2oG,UACnC3oG,KAAKisH,8EAWT,IAAMC,cAAgBlsH,KAAK2oG,SAAW3oG,KAAKokC,OAAOukE,SAC9CwjB,YAAcnsH,KAAKm4G,MAAMkF,KAAKgC,QAAUpZ,mBAAAqZ,YAAYC,wBAEpDv/G,KAAKqrG,IAAI+gB,8BAAgCpsH,KAAKowG,2BAC9C+b,YAAcnsH,KAAKm4G,MAAMkF,KAAKgC,SAGlC,IACMgN,cADgBF,YAAcpzB,iBAAAimB,KAAKsN,sBACHl+B,YAAA,QAAWk9B,uCAE7C,EAAAzyB,MAAAoV,KAAIie,eAAiBG,eACrBrsH,KAAK2oG,SAAW3oG,KAAKokC,OAAOukE,SAC5B3oG,KAAKqrG,IAAI+gB,8BAA+B,GAExCpsH,KAAK2oG,UAAY0jB,cAGrBrsH,KAAKwrG,OAAS,qDAUd,IAAM0gB,cAAgBlsH,KAAK2oG,SAAW3oG,KAAKokC,OAAOukE,SAC9C4jB,UAAYvsH,KAAKwsH,eAAiBvmB,mBAAAqZ,YAAYmN,sBAE9CzsH,KAAKqrG,IAAI+gB,8BAAgCpsH,KAAK0sH,eAC9CH,UAAYvsH,KAAKm4G,MAAMkF,KAAKC,OAGhC,IACMqP,YADgBJ,UAAYxzB,iBAAAimB,KAAKsN,sBACHl+B,YAAA,QAAWk9B,uCAE3C,EAAAzyB,MAAAoV,KAAIie,gBAAiB,EAAArzB,MAAAoV,KAAI0e,cACzB3sH,KAAK2oG,SAAW3oG,KAAKokC,OAAOukE,SAC5B3oG,KAAKqrG,IAAI+gB,8BAA+B,GAExCpsH,KAAK2oG,UAAYgkB,YAGrB3sH,KAAKwrG,MAAQ,+CAWb,IAAIohB,YAAc,EACZC,wCAA0C7sH,KAAK0zD,MAAQ1zD,KAAKokC,OAAOsvB,MAEzB,IAA5Cm5D,0CAIA7sH,KAAK0zD,MAAQ1zD,KAAKokC,OAAOsvB,OACzBk5D,aAAe5sH,KAAKm4G,MAAMkF,KAAK0B,WAAa3wB,YAAA,QAAWk9B,sCAAwC,EAE3FtrH,KAAKmvG,eACLyd,aAAe3mB,mBAAAqZ,YAAYwN,4CAExB9sH,KAAK0zD,MAAQ1zD,KAAKokC,OAAOsvB,QAChCk5D,YAAc5sH,KAAKm4G,MAAMkF,KAAK0P,WAAa3+B,YAAA,QAAWk9B,sCAAwC,EAC9FsB,cAAe,EAAA/zB,MAAA0xB,yBAAwB,EAAGvqH,KAAK0zD,MAAO1zD,KAAKm4G,MAAMzkD,MAAM6Y,IAAK,EAAG,IAGnFvsE,KAAK0zD,OAASk5D,aAEV,EAAA/zB,MAAAoV,KAAI2e,cAAe,EAAA/zB,MAAAoV,KAAI4e,2CACvB7sH,KAAK0zD,MAAQ1zD,KAAKokC,OAAOsvB,2DAe7B,IAEM+mD,aAFoBz6G,KAAK0zD,OAEW,EADP1zD,KAAK2oG,SAAWyR,sBAAA4S,YAAYC,oCAEzDC,wBAAyB,EAAAtf,QAAAyW,SAAO,EAAAzW,QAAA0W,wBAAuBtkH,KAAKmoG,SAAUsS,cAGtEsJ,WAAalxB,mBAAA,QAAkBkV,cAAcic,wBAAwBhkH,KAAK2oG,UAC1EwkB,kBAAmB,EAAAvf,QAAA2W,MAAK2I,uBAAwBnJ,YAChDvJ,aAAc,EAAA5M,QAAAE,MAAKqf,kBACrBnc,aAAc,EAAApD,QAAAsW,SAAQiJ,kBAGtBntH,KAAKmvG,eAGL6B,YAAchxG,KAAK4kH,mBAIvB,IACMwI,oBAAsB5S,aADPpsB,YAAA,QAAWk9B,sCAAwCvyB,iBAAAimB,KAAKsH,qBAG7EtmH,KAAK2kG,cAAc0oB,mCAAmCrc,YAAaoc,qBAEnEptH,KAAKgxG,YAAcA,YACnBhxG,KAAKw6G,YAAcA,YACnBx6G,KAAKy6G,aAAeA,qDASpB,IAAIyB,KACAvB,QACA59C,OACAuwD,WAGJ,IAAIttH,KAAK01G,YAAT,CAQA,GAJAiF,SAAU,EAIN36G,KAAK2kG,cAAe,CACpB,IAAK,IAAItoG,EAAI,EAAGA,EAAI2D,KAAK06G,WAAWxqG,KAAKlT,OAAQX,KAa7C6/G,KAAOl8G,KAAK06G,WAAWxqG,KAAK7T,IAGnBuJ,KAAKkmD,OAAS9rD,KAAK2oG,UACxBuT,KAAKj3F,MAAQ,KACbi3F,KAAKC,QAAS,IAKdD,KAAKj3F,QACLi3F,KAAKj3F,OAASjlB,KAAKw6G,eAIlB0B,KAAKj3F,OAASi3F,KAAKj3F,OAAS,MAC7BqoG,YAAa,EAAA1f,QAAA2f,eAAcvtH,KAAK2kG,cAAc9I,iBAAkBqgB,KAAKt2G,KAAK4nH,SAGvDtR,KAAKC,QACpB/oB,gBAAA,QAAeic,iBAAiBjc,gBAAAkc,YAAYme,eAC5CvR,KAAKj3F,MAAqB,KAAbjlB,KAAK0zD,MAAe,IAAM,GAAK,KAK5CwoD,KAAKj3F,MAAQ8N,KAAKi6B,IACD,KAAbhtD,KAAK0zD,MAAe,GAAK,IAAO,IAChC,EAAAk6C,QAAA8f,kBAAiB1tH,KAAK2kG,cAAc9I,iBAAkBqgB,KAAKt2G,KAAK4nH,OAIxEtR,KAAKC,OAASmR,cAMtB,EAAA1T,UAAA,SAAS55G,KAAK06G,WAAWxqG,KAAM,SAAC8rG,EAAG3lE,GAC/BskE,QAAUA,SAAWtkE,EAAE8lE,SAI/B,GAAIn8G,KAAK86G,iBAAmB96G,KAAKmvG,aAAc,CAAA,IACnC0M,QAAYhpB,mBAAA,QAAkBlgF,QAA9BkpG,QACF8R,WAAa3tH,KAAK86G,eAAe96G,KAAK87G,eACtC8R,IAAM76F,KAAK06B,KAAKztD,KAAK2oG,SAAU,KAC/BklB,YAAc7tH,KAAK86G,eAAe8S,KAExC,GAAIA,MAAQ5tH,KAAK87G,cAAe,CAC5B,IAAK,IAAMgS,OAAOH,WACdA,WAAWG,KAAOpzF,EAAAA,EAGtB16B,KAAK87G,cAAgB8R,IAGzB,IAAK,IAAM53G,MAAM63G,YAGb,GAFAA,YAAY73G,KAAOhW,KAAKw6G,YAEpBqT,YAAY73G,IAAM,GAAK63G,YAAY73G,MAAQ0kB,EAAAA,EAI3C,GAHAwhF,KAAOL,QAAQ+R,KAAK53G,KACpB+mD,QAAS,EAAA6wC,QAAAmgB,gBAAe/tH,KAAK2kG,cAAc9I,iBAAkBqgB,KAAMlmG,KAExDmmG,QAGP,GAFAn8G,KAAK2oG,SAAW,GAEX3oG,KAAKwvG,IAAK,CACXxvG,KAAKwvG,KAAM,EAGX7b,cAAA,QAAa6N,OAAb,GAAAhwF,OAAuBxR,KAAKq5F,SAA5B,gDADkB,IAElB,EAAAxF,QAAA2T,YACI,CACI,CAAE/lG,KAAM,WAAY+I,QAASxK,MAC7B,CAAEyB,KAAM,OAAQ+I,QAAS,wBAE7BxK,KAAKynG,YAGTrU,gBAAA,QAAeic,iBAAiBjc,gBAAAkc,YAAYC,iBAGhDse,YAAY73G,IAAM+c,KAAKi6B,IAAI,GAAK+P,OAAOi/B,UAMvDh8F,KAAK26G,QAAUA,0CAQf36G,KAAKguH,oBACLhuH,KAAKiuH,eACLjuH,KAAKkuH,gBACLluH,KAAKmuH,qEASGte,SAAUue,qBAClBpuH,KAAKmuG,UAAUigB,oBAAoB/0B,UAAYwW,8DAYtBwe,0BACzB,OAAOA,yBAAyBh1B,YAAYr5F,KAAKmuG,8CAYjD,IAAM6S,MAAQ,EAAC,GAAO,GAEtB,IAAK,IAAM3kH,KAAK2D,KAAKmuG,UAAW,CAC5B,IAAMI,YAAcvuG,KAAKmuG,UAAU9xG,GAAGkyG,cAChCC,aAAexuG,KAAKmuG,UAAU9xG,GAAGmyG,eAKvC,GAHAwS,MAAM,GAAMA,MAAM,IAAMzS,YACxByS,MAAM,GAAMA,MAAM,IAAMxS,aAEpBwS,MAAM,IAAMA,MAAM,GAClB,OAAOA,MAIf,OAAOA,6CAQIoN,4BACJpuH,KAAKmuG,UAAUigB,oBAAoB/0B,+EAWtCr5F,KAAKo5F,eACLp5F,KAAKsuH,UAKTtuH,KAAKuuH,iBACLpgC,UAAA,QAASlsC,QAAQssC,YAAA6qB,eAAeoV,cAAexuH,gEAS/C,IAAIA,KAAKg7G,UAAT,CAIA,IAAM5L,iBAAmBpvG,KAAKovG,iBAAiBvc,mBAAA,QAAkBkV,eAE7D/nG,KAAKo5F,iBAAmBgW,mBAI5BpvG,KAAKo5F,eAAiBgW,iBACtBpvG,KAAKyuH,0FAWUC,sBACf,OAAO1uH,KAAK2kG,cAAcka,mBAAmB6P,qBAAqB/pB,4DAWjDgqB,aAAc5kB,cAC/B,GAAI4kB,eAAiB51B,iBAAA2K,eACjB,MAAO,EAAC,EAAO,gCAGnB,GAA4B,iBAAjBirB,aACP,MAAO,EAAC,EAAD,qCAAAn9G,OAA6Cm9G,eAGxD,IAAK3uH,KAAKm4G,MAAMyW,yBAAyBD,cAAe,CACpD,IAAMtmB,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,sBAAA+Q,OAAqCm9G,aAArC,uBACAtmB,SAASnB,IAAT,sBAAA11F,QAAqC,EAAA40F,gBAAAqF,gBAAekjB,cAApD,uBAEO,EAAC,EAAOtmB,UAGnB,GAAIsmB,aAAe5kB,aAAa8kB,sBAAuB,CACnD,IAAMC,gBAAkB/kB,aAAa8kB,sBAC/BE,WAAW,GAIjB,OAHAA,WAAStuH,IAAT,sBAAA+Q,OAAqCm9G,aAArC,iBAAAn9G,OAAiEs9G,iBACjEC,WAAS7nB,IAAT,sBAAA11F,QAAqC,EAAA40F,gBAAAqF,gBAAekjB,cAApD,iBAAAn9G,QAAiF,EAAA40F,gBAAAqF,gBAAeqjB,kBAEzF,EAAC,EAAOC,YAGnB,MAAO,EAAC,6CAWMhmB,WACd,OAAIA,YAAchQ,iBAAA2K,eACP,EAAC,EAAO,6BAGM,iBAAdqF,UACA,EAAC,EAAD,iCAAAv3F,OAAyCu3F,YAG/C/oG,KAAKm4G,MAAM6W,sBAAsBjmB,WAS/B,EAAC,GAHG,EAAC,EALS,CACbtoG,IAAG,sBAAA+Q,OAAwBu3F,UAAxB,uBACH7B,IAAG,sBAAA11F,QAAwB,EAAA40F,gBAAA4F,gBAAejD,WAAvC,qEAjwEX,IAAI,EAAA/a,QAAA,SAAOhuF,KAAKk7G,gBAAiB,CAC7B,IAAI,EAAAltB,QAAA,SAAOhuF,KAAKm7G,oBACZ,MAAM,IAAIjpF,UAAU,4EAGxB,OAAOlyB,KAAKivH,oCAAoCjvH,KAAKm7G,oBAGzD,OAAOn7G,KAAKk7G,6BAGE/S,SACdnoG,KAAKk7G,eAAiB/S,QACtBnoG,KAAKm7G,mBAAqB,+CAa1B,IAAI,EAAAntB,QAAA,SAAOhuF,KAAKm7G,oBAAqB,CACjC,IAAI,EAAAntB,QAAA,SAAOhuF,KAAKk7G,gBACZ,MAAM,IAAIhpF,UAAU,4EAGxB,OAAOlyB,KAAKkvH,gCAAgClvH,KAAKk7G,gBAGrD,OAAOl7G,KAAKm7G,iCAGMnK,aAClBhxG,KAAKm7G,mBAAqBnK,YAC1BhxG,KAAKk7G,eAAiB,sCAStB,MAAA,GAAA1pG,OAAUxR,KAAKg2G,UAAUz6D,eAAzB/pC,OAAyCxR,KAAKq3G,aAAa97D,mDAW3D,OAAOv7C,KAAKoqG,IAAI+kB,sDAWhB,OAAOnvH,KAAK2kG,cAAc9I,2mCCjmBlC,IAAA2V,OAAAzjB,uBAAAvxF,QAAA,gBACAspG,MAAA/X,uBAAAvxF,QAAA,eACA4yH,iBAAArhC,uBAAAvxF,QAAA,2BACA6yH,6BAAAthC,uBAAAvxF,QAAA,kCACAw1G,gBAAAx1G,QAAA,6BACA41G,oBAAA51G,QAAA,iqCAeqB8yH,2DAMjB,SAAAA,iCAAYp9B,4BAA4B,IAAAj+E,MAGpC,iIAHoC66E,CAAA9uF,KAAAsvH,kCACpCr7G,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAAF,kCAAAvyH,KAAAiD,QAEI,EAAAoyG,oBAAAsB,mBAAkBxhB,4BAClB,MAAM,IAAIhgE,UAAU,8FAAA,4CAAA1gB,OAAAiiG,QACmCvhB,8BALvB,OAkBpCj+E,MAAKw7G,eAAiB,GAEtBx7G,MAAKmvB,KAAK8uD,4BApB0Bj+E,iaANkBm7G,iBAAA,iGAsCrDl9B,4BACDlyF,KAAKyvH,eAAiBzvH,KAAK0vH,sCAAsCx9B,0FAS/BrC,MAClC,OAAO,EAAA2hB,OAAA,SAAMxxG,KAAKyvH,eAAgB,CAAE5/B,KAAMA,KAAKt0C,0EAYjBy6D,UAAWmB,cAAc,IAC/CD,OAAU,EAAAlF,gBAAAiF,2BAA0B,CAACjB,YAArCkB,MACFyY,aAAexY,aAAayY,sBAAsB1Y,OAAO37D,cACzDs0E,oBAAqB,EAAAre,OAAA,SAAMxxG,KAAKyvH,eAAgB,CAAE5/B,KAAM8/B,eAE9D,YAAkC,IAAvBE,oBACPpjG,QAAQ1U,MAAR,0CAAAvG,OAAwDm+G,eAGjD3vH,KAAKu4G,kCAAkCvC,UAAWmB,eAGtD0Y,iFAa2B39B,4BAMlC,OALuB,EAAA4T,MAAA,SAAK5T,2BAA4B,SAAC29B,oBAErD,OAAO,IAAIR,6BAAA,QAA4BQ,2gBC7GnD,QAAAC,iBAAAtzH,QAAA,wDACAu8F,iBAAAv8F,QAAA,gCACA41G,oBAAA51G,QAAA,mCACAypG,mBAAAzpG,QAAA,kCACA6xF,kBAAA7xF,QAAA,6kCAaqBuzH,iDAMjB,SAAAA,4BAAYxY,wBAAwB,IAAAtjG,MAGhC,iIAHgC66E,CAAA9uF,KAAA+vH,6BAChC97G,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAAO,6BAAAhzH,KAAAiD,QAEI,EAAAoyG,oBAAA4d,oBAAmBzY,wBACnB,MAAM,IAAIrlF,UAAU,qFAAA,6CAAA1gB,OAAAiiG,QACoC8D,0BAL5B,OAehCtjG,MAAKtT,KAAO,GASZsT,MAAK47E,KAAO,GAUZ57E,MAAKyoG,oBAAsB,GAS3BzoG,MAAKupG,QAAU,KAOfvpG,MAAKg8G,YAAc,GAOnBh8G,MAAK4jF,SAAW,KAShB5jF,MAAKspG,QAAUxkB,iBAAA2K,eAafzvF,MAAKopG,KAAO,KASZppG,MAAK42F,OAAS,KAad52F,MAAKy/C,MAAQ,KAWbz/C,MAAKi8G,WAAa,KAElBj8G,MAAKmvB,KAAKm0E,wBAlHsBtjG,4ZANiB67G,YAAA,4FAoIhDvY,wBACDv3G,KAAKW,KAAO42G,uBAAuB52G,KACnCX,KAAK6vF,KAAO0nB,uBAAuB1nB,KACnC7vF,KAAKw9G,QAAUjG,uBAAuBiG,QACtCx9G,KAAKiwH,YAAc1Y,uBAAuB0Y,YAC1CjwH,KAAK63F,SAAW0f,uBAAuB1f,SACvC73F,KAAKu9G,QAAUhG,uBAAuBgG,QACtCv9G,KAAKq9G,KAAO9F,uBAAuB8F,KACnCr9G,KAAK6qG,OAAS0M,uBAAuB1M,OACrC7qG,KAAK0zD,MAAQ6jD,uBAAuB7jD,MACpC1zD,KAAKkwH,WAAa3Y,uBAAuB2Y,WAEzClwH,KAAK08G,oBAAsB18G,KAAKmwH,2DAUhCnwH,KAAKW,KAAO,GACZX,KAAK6vF,KAAO,GACZ7vF,KAAK08G,oBAAsB,GAC3B18G,KAAKw9G,QAAU,KACfx9G,KAAKiwH,YAAc,GACnBjwH,KAAK63F,SAAW,KAChB73F,KAAKu9G,QAAUxkB,iBAAA2K,eACf1jG,KAAKq9G,KAAO,KACZr9G,KAAK6qG,OAAS,KACd7qG,KAAK0zD,MAAQ,KACb1zD,KAAKkwH,WAAa,sDAWG,IAAAE,oBAAAl/B,OAAAlxF,KACjBqwH,aAAY,GAAA7+G,OAAMxR,KAAK6vF,KAAX,MAEVygC,IAAG,QAAAF,oBAAGxlG,OAAOrW,OAAO0xF,mBAAAsqB,0BAA0BzjF,KAAK,SAAC0jF,KAAD,OAASA,IAAIC,SAAWv/B,OAAK++B,qBAA7E,IAAAG,oBAAAA,oBAA6F,CAAEM,QAAQ,GAMhH,OAJIJ,IAAII,SACJL,aAAY,GAAA7+G,OAAM8+G,IAAIG,OAAV,KAAAj/G,OAAoBxR,KAAK6vF,KAAzB,OAGTwgC,8DASc1nB,UACrB,OAAOA,UAAY3oG,KAAKu9G,sDASN7pD,OAClB,OAAOA,OAAS1zD,KAAK0zD,MAAM6Y,KAAO7Y,OAAS1zD,KAAK0zD,MAAM1G,6CAStD,OAAOhtD,KAAKiwH,cAAgBhqB,mBAAAsqB,yBAAyBI,MAAMF,QACvDzwH,KAAKiwH,cAAgBhqB,mBAAAsqB,yBAAyBK,MAAMH,2EAWhBI,mBACxC,GAAIA,kBAAkBC,iCAClB,OAAOziC,kBAAA2xB,kBAAkB+Q,wBAAwBC,KAGrD,OAAQhxH,KAAK63F,SAASo5B,KAClB,KAAK,EACD,OAAO5iC,kBAAA2xB,kBAAkB+Q,wBAAwBG,KACrD,KAAK,EACD,OAAO7iC,kBAAA2xB,kBAAkB+Q,wBAAwBI,KACrD,QACI,OAAO9iC,kBAAA2xB,kBAAkB+Q,wBAAwBC,+DAYzD,YAAoC,IAAtBhxH,KAAK63F,SAASo5B,KAA6C,IAAtBjxH,KAAK63F,SAASo5B,kDAU/C,IAAAhb,KAAAmb,qBAAAhgC,OAAApxF,KAClB,OAAA,QAAAi2G,KAAA,QAAAmb,qBAAOxmG,OAAOrW,OAAO0xF,mBAAAsqB,0BAA0BzjF,KAAK,SAAC0jF,KAAD,OAASA,IAAIC,SAAWr/B,OAAK6+B,qBAAjF,IAAAmB,0BAAA,EAAOA,qBAAwFC,cAA/F,IAAApb,KAAAA,KAAyG,8eCpRjH,IAAAzE,OAAAzjB,uBAAAvxF,QAAA,gBACA80H,WAAAvjC,uBAAAvxF,QAAA,oBACA67F,WAAAtK,uBAAAvxF,QAAA,oBACAq9G,UAAA9rB,uBAAAvxF,QAAA,mBACAwxF,QAAAD,uBAAAvxF,QAAA,iBACA+0H,YAAAxjC,uBAAAvxF,QAAA,iBACAq2F,mBAAA9E,uBAAAvxF,QAAA,oCACA+2F,mBAAAxF,uBAAAvxF,QAAA,8CACAg1H,aAAAzjC,uBAAAvxF,QAAA,qCACA41G,oBAAA51G,QAAA,sCACAypG,mBAAAzpG,QAAA,qCAIAu8F,iBAAAv8F,QAAA,mCACAi1H,gBAAAj1H,QAAA,+oBAyCqBk1H,eAKjB,SAAAA,IAAYC,mBACR,iIAD2B7iC,CAAA9uF,KAAA0xH,MACvB,EAAAtf,oBAAA4d,oBAAmB2B,mBACnB,MAAM,IAAIz/F,UAAU,wDAAA,6CAAA1gB,OAAAiiG,QACoCke,qBAU5D3xH,KAAKogH,oBAAsB,KAS3BpgH,KAAKqqG,mBAAqB,KAS1BrqG,KAAKmvH,aAAe,GASpBnvH,KAAKmgH,sBAAwB,KAS7BngH,KAAK8qG,qBAAuB,KAU5B9qG,KAAKs8G,mBAAqBvjB,iBAAA2K,eAU1B1jG,KAAK4xH,YAAc,KAEnB5xH,KAAKojC,KAAKuuF,yHA8HTA,mBAAmB,IAEhBhpB,SAOAgpB,kBAPAhpB,SACA9Q,SAMA85B,kBANA95B,SACAkgB,YAKA4Z,kBALA5Z,YACAI,MAIAwZ,kBAJAxZ,MACA0Z,QAGAF,kBAHAE,QACA/Z,OAEA6Z,kBAFA7Z,OACA9M,YACA2mB,kBADA3mB,YAWJ,OARAhrG,KAAK4xH,YAAc,IAAIL,YAAA,QAAWvmB,aAElChrG,KAAK8xH,wCACL9xH,KAAK+xH,kCAAkCl6B,UACvC73F,KAAKgyH,8BAA8Bla,OAAQC,aAC3C/3G,KAAKiyH,8BAA8BtpB,SAAU9Q,SAAUsgB,OACvDn4G,KAAKkyH,2CAA2CL,QAASh6B,UAElD73F,qCAmBP,OARAA,KAAKogH,oBAAsB,KAC3BpgH,KAAKqqG,mBAAqB,KAC1BrqG,KAAKmvH,aAAe,GACpBnvH,KAAKmgH,sBAAwB,KAC7BngH,KAAK8qG,qBAAuB,KAC5B9qG,KAAKs8G,mBAAqBvjB,iBAAA2K,eAC1B1jG,KAAK4xH,YAAc,KAEZ5xH,2DAamB83G,OAAQC,aAClC,IAAMoa,gBAAkBra,OAAOvrF,cACzB6lG,qBAAuBra,YAAYxrF,cAErC4lG,kBAAoBt/B,mBAAA,QAAkBlgF,QAAQk9E,OAC9C7vF,KAAKqyH,4BAA4Bva,QACjC93G,KAAKsyH,8BAGLF,uBAAyBv/B,mBAAA,QAAkBlgF,QAAQk9E,OACnD7vF,KAAKuyH,0BAA0Bxa,aAC/B/3G,KAAKwyH,8EAYaC,iBACtBzyH,KAAKogH,oBAAsBvtB,mBAAA,QAAkBkV,YAAY0qB,oEAWzD,GAAKzyH,KAAKogH,oBAAV,CAIA,IAAMsS,kBAAoB1yH,KAAK4xH,YAAYe,uBAE3C,GAAKD,kBAAL,CAMA,IAAMroB,mBAAqBrqG,KAAKogH,oBAAoBlW,UAAUwoB,mBAE9D1yH,KAAK4yH,iBAAiBvoB,yBAPlBrqG,KAAK4yH,iBAAiB5yH,KAAKogH,oBAAoB/V,yEAkB3BwoB,YACxB7yH,KAAKmgH,sBAAwBttB,mBAAA,QAAkBkV,YAAY8qB,iEAW3D,GAAK7yH,KAAKmgH,sBAAV,CAIA,IAAM2S,oBAAsB9yH,KAAK4xH,YAAYmB,yBAE7C,IAAKD,oBACD,OAAO9yH,KAAK2hH,mBAAmB3hH,KAAKmgH,sBAAsBrV,sBAG9D,IAAMA,qBAAuB9qG,KAAKmgH,sBAAsBjW,UAAU4oB,qBAElE9yH,KAAK2hH,mBAAmB7W,iFAWMjT,UAC9B,OAAQA,UACJ,KAAKoO,mBAAAwR,gBAAgBC,QACrB,KAAKzR,mBAAAwR,gBAAgB8D,WACjB,OAAOv7G,KAAK42G,eAAe3Q,mBAAAc,aAAa6b,QAE5C,KAAK3c,mBAAAwR,gBAAgB6D,UACjB,OAAOt7G,KAAK42G,eAAe3Q,mBAAAc,aAAa2D,OAE5C,QACI,MAAM,IAAIx4E,UAAJ,wDAAA1gB,OAAsEqmF,SAAtE,6DAcY8Q,SAAU9Q,SAAUsgB,OAC9Cn4G,KAAKs8G,mBAAqB3T,SAEtB9Q,WAAaoO,mBAAAwR,gBAAgB6D,WAAc3S,WAC3C3oG,KAAKs8G,mBAAqBnE,MAAMoF,4EAqBGpU,QAAStR,UAChD,GAAIA,WAAaoO,mBAAAwR,gBAAgB6D,UAAjC,CAIA,IAAI,EAAAttB,QAAA,SAAOmb,SACP,OAAOnpG,KAAKioH,qBAGhB,IAAKjoH,KAAK4xH,YAAYoB,gBAAgB7pB,SAClC,MAAM,IAAIj3E,UAAJ,kEAAA1gB,OAAgF23F,QAAhF,MAGVnpG,KAAKizH,mBAAmB9pB,8DAeA+pB,aAAc3pB,gBAAoD,IAApCD,uBAAoC,EAAAzkG,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,QAAXjC,EAC/E,OAAK5C,KAAK4xH,YAAYoB,gBAAgBE,cAO/B,EAAC,EAAMlzH,KAAK4xH,YAAYuB,4BAA4BD,aAAc3pB,eAAgBD,yBAN9E,EAAC,EAAO,CACX7oG,IAAG,qBAAA+Q,OAAuB0hH,aAAa33E,cAApC,6BACH2rD,IAAG,qBAAA11F,OAAuB+hF,mBAAA,QAAkB6/B,iBAAiBF,cAA1D,kFAeYloB,aACvB,IAAIqoB,eAEJ,IACIA,eAAiB,IAAI9B,YAAA,QAAWvmB,aAClC,MAAOjzF,OAGL,OAFA0U,QAAQ1U,MAAMA,OAEP,EAAC,EAAD,uBAAAvG,OAA+Bw5F,YAAYzvD,cAA3C,iBAGX,OAAOv7C,KAAK4xH,YAAY0B,iBAAiBD,qDAWhCH,cACT,IAAMvyH,KAAOuyH,aAAa33E,cAE1B,OAAO,EAAAi2D,OAAA,SAAMxxG,KAAKo4G,UAAW,SAAC0R,UAAD,OAAcA,SAASnpH,OAASA,4EAepBgoG,UACzC,OAAO,EAAA6I,OAAA,SAAMxxG,KAAKo4G,UAAW,SAACqG,eAAD,OAAmBA,cAAc8U,4BAA4B5qB,qFAW1F,OAAO,EAAA6I,OAAA,SAAMxxG,KAAKo4G,UAAW,SAACqG,eAAD,OAAmBA,cAAc+U,iGAexB9/D,OACtC,OAAO,EAAA89C,OAAA,SAAMxxG,KAAKo4G,UAAW,SAACqG,eAAD,OAAmBA,cAAcgV,yBAAyB//D,8EAe9Ci1C,UACzC,OAAO,EAAA6I,OAAA,SAAMxxG,KAAKo4G,UAAW,SAACqG,eAAD,OAAmBA,cAAciV,4BAA4B/qB,qFAW1F,OAAO,EAAA6I,OAAA,SAAMxxG,KAAKo4G,UAAW,SAACqG,eAAD,OAAmBA,cAAckV,iGAexBjgE,OACtC,OAAO,EAAA89C,OAAA,SAAMxxG,KAAKo4G,UAAW,SAACqG,eAAD,OAAmBA,cAAcmV,yBAAyBlgE,kEAWvF,OAAO1zD,KAAK4xH,YAAYiC,6EAWxB,OAAO7zH,KAAK4xH,YAAYnW,0FAWxB,OAAOz7G,KAAK4xH,YAAY9U,2FAcxB,OAAO98G,KAAK4xH,YAAYkC,4EAaxB,OAAO9zH,KAAK+zH,aAAapvB,+DAWzB,OAAO3kG,KAAKo4G,UAAUxrE,OAAO,SAACk9E,UAAD,OAAcA,SAASkK,0DAWpD,OAAOh0H,KAAK4xH,YAAYqC,oEAaxB,OAAOj0H,KAAK4xH,YAAYsC,gEAWxB,OAAOl0H,KAAK4xH,YAAYtkB,kDAWxB,OAAOttG,KAAK4xH,YAAYrkB,gEAWxB,OAAOvtG,KAAK4xH,YAAY7P,iFAWxB,OAAO/hH,KAAKo4G,UAAUxrE,OAAO,SAACk9E,UAAD,OAAcA,SAASqK,+DAWpD,OAAOn0H,KAAK4xH,YAAYwC,2DAWxB,OAAOp0H,KAAK4xH,YAAY5J,0DAWZkL,cACZ,OAAOlzH,KAAK4xH,YAAYoB,gBAAgBE,kDAWxC,QAAQ,EAAAllC,QAAA,SAAOhuF,KAAKogH,2DAWpB,QAAQ,EAAApyB,QAAA,SAAOhuF,KAAKmgH,8DAWpB,OAAQngH,KAAKo2G,cAAgBp2G,KAAKm2G,6DAeblM,aACrB,OAAOjqG,KAAK4xH,YAAYzkB,yBAAyBlD,+DAe3BA,aACtB,OAAOjqG,KAAK4xH,YAAYyC,0BAA0BpqB,0DAalD,OAAOjqG,KAAK4xH,YAAY3J,qEAiBJjd,aACpB,IAAMspB,oBAAsBtpB,YAAYzvD,cAAc9jC,MAAMg6G,gBAAA8C,qCAE5D,GAAmC,IAA/BD,oBAAoBt3H,OACpB,MAAO,EAAC,EAAO,2CAGnB,IAAMw3H,YAAcF,oBAAoB,GAExC,OAAK/gC,mBAAA,QAAkBkhC,aAAaD,aAIdx0H,KAAK4xH,YAAY8C,wBAAwB1pB,cAG3DhrG,KAAK20H,gCAEE,EAAC,EAAM,KAGX,EAAC,EAAD,aAAAnjH,OAAqBw5F,YAArB,mBAXI,EAAC,EAAD,sBAAAx5F,OAA8BgjH,YAA9B,wDAsBWxpB,YAAa9H,aACnC,IAAMoxB,oBAAsBtpB,YAAYzvD,cAAc9jC,MAAMg6G,gBAAA8C,qCAE5D,GAAiC,EAA7BD,oBAAoBt3H,OACpB,MAAO,EAAC,EAAO,6CAGnB,IAAIw3H,YAAcF,oBAAoB,GAEH,IAA/BA,oBAAoBt3H,SACpBw3H,YAAcF,oBAAoB,IAGtC,IAAMM,SAAWrhC,mBAAA,QAAkBshC,aAAaL,aAEhD,IAAI,EAAAxmC,QAAA,SAAO4mC,UACP,MAAO,EAAC,EAAD,sBAAApjH,OAA8BgjH,YAA9B,MAGX,GAAmC,IAA/BF,oBAAoBt3H,OAAc,CAClC,IAAM83H,WAAY,EAAAxD,WAAA,SAAUtxH,KAAKo4G,UAAW,SAACqG,eAAD,OAAmBmW,SAASG,QAAQtW,cAAc99G,QAE9F,IAAKm0H,UACD,MAAO,EAAC,EAAD,OAAAtjH,OAAegjH,YAAYj5E,cAA3B,oDAGX+4E,oBAAoB9wH,KAAKsxH,UAAUn0H,MAGvC,GAAmC,IAA/B2zH,oBAAoBt3H,OAAc,CAClC,IAAMg4H,oBAAsBh1H,KAAK8qG,qBAC7BmqB,WAAU,GAAAzjH,OAAM0xF,YAAY3nD,eAAlB/pC,OAAkCwjH,oBAAoBr0H,MAEpE,IAAKi0H,SAASM,SAASD,cACnBA,WAAaL,SAASO,sBAElB,EAAAtb,UAAA,SAASob,aACT,MAAO,EAAC,EAAD,QAAAzjH,OAAgBgjH,YAAhB,0CAIfF,oBAAoBhwH,QAAQ2wH,YAGhC,IAAMG,gBAAkBd,oBAAoBpwH,KAAKutH,gBAAA8C,qCAC3ClsB,SAAWroG,KAAK4xH,YAAYyD,0BAA0BD,iBAM5D,OAJI/sB,SAAS,IACTroG,KAAKs1H,kCAGFjtB,+DAkBmB2C,aAC1B,IACIqoB,eADEkC,oBAAsBv1H,KAAKgnH,gBAAgBrmH,KAGjD,IACI0yH,eAAiB,IAAI9B,YAAA,QAAWvmB,aAClC,MAAOjzF,OACL0U,QAAQ1U,MAAMA,OAEd,IAAMs0F,UAAW,GAIjB,OAHAA,UAAS5rG,IAAT,uBAAA+Q,OAAsCw5F,YAAtC,gBAGO,GAFPqB,UAASnF,IAAM,yBAEAmF,WAGnBrsG,KAAK4xH,YAAcyB,eAEnBrzH,KAAKizH,mBAAmBsC,qBAGxB,IAAMltB,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,iBAAA+Q,OAAgCxR,KAAKk0H,4BACrC7rB,SAASnB,IAAM,yBAER,EAAC,EAAMmB,mDAUDmtB,iBACb,KAAMA,2BAA2BhE,aAAA,SAC7B,MAAM,IAAIt/F,UAAJ,kDAAA1gB,OAAgEgkH,kBAG1Ex1H,KAAKqqG,mBAAqBmrB,2DAUXvrB,aACf,KAAMA,uBAAuBunB,aAAA,SACzB,MAAM,IAAIt/F,UAAJ,kDAAA1gB,OAAgEy4F,cAGtEjqG,KAAK8qG,sBAAwB9qG,KAAK8qG,qBAAqBnqG,OAASspG,YAAYtpG,OAIhFX,KAAK8qG,qBAAuBb,YAE5BjqG,KAAK4xH,YAAY6D,oCAAoCxrB,qDAa1C8Y,OACX,KAAK,EAAA1qB,WAAA,SAAU4N,mBAAAc,aAAcgc,OACzB,MAAM,IAAI7wF,UAAJ,8CAAA1gB,OAA4DuxG,MAA5D,MAGV/iH,KAAKmvH,aAAepM,iDAULmQ,cACf,OAAOlzH,KAAK4xH,YAAYqB,mBAAmBC,oEAgCjBsC,iBAC1B,IAAME,qBAAuB11H,KAAKqqG,mBAElC,KAAMmrB,2BAA2BhE,aAAA,SAC7B,MAAM,IAAIt/F,UAAJ,kDAAA1gB,OAAgEgkH,kBAG1E,GAAIE,sBAAwBA,qBAAqB/0H,OAAS60H,gBAAgB70H,KAAM,CAC5E,IAAMg1H,WAAW,GAIjB,OAHAA,WAASl1H,IAAT,iBAAA+Q,OAAgCgkH,gBAAgB70H,MAChDg1H,WAASzuB,IAAT,iBAAA11F,OAAgCgkH,gBAAgBjrB,gBAEzC,EAAC,EAAMorB,YAGlB,IAAK31H,KAAK4xH,YAAYyC,0BAA0BmB,iBAAkB,CAC9D,IAAMzG,WAAW,GAQjB,OAPAA,WAAStuH,IAAM,2CAAA+Q,OAA2CgkH,gBAAgB70H,KAA3D,QAAA,qBAAA6Q,OACUxR,KAAK4xH,YAAYgE,cAD3B,wBAAA,UAAApkH,OAEDkkH,qBAAqB/0H,KAFpB,YAGfouH,WAAS7nB,IAAM,2CAAA11F,OAA2CgkH,gBAAgBjrB,eAA3D,KAAA,wBAAA/4F,OACaxR,KAAK4xH,YAAYiE,cAD9B,wBAAA,UAAArkH,OAEDkkH,qBAAqBnrB,eAFpB,YAIR,EAAC,EAAOwkB,YAGnB/uH,KAAK4xH,YAAYkE,mCAAmCN,iBACpDx1H,KAAK4yH,iBAAiB4C,iBAEtB,IAAMntB,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,oBAAA+Q,OAAmCgkH,gBAAgB70H,MACnD0nG,SAASnB,IAAT,oBAAA11F,OAAmCgkH,gBAAgBjrB,gBAE5C,EAAC,EAAMlC,kEAUd,IAAMgC,mBAAqBrqG,KAAK4xH,YAAYmE,yBAExC,EAAA/nC,QAAA,SAAOqc,oBACP59E,QAAQ1U,MAAM,iDAKlB/X,KAAK4yH,iBAAiBvoB,8EAUtB,IAAMS,qBAAuB9qG,KAAK4xH,YAAYoE,2BAE1C,EAAAhoC,QAAA,SAAO8c,sBACPr+E,QAAQ1U,MAAM,mDAKlB/X,KAAK2hH,mBAAmB7W,sFAexB,GAAI9qG,KAAKo4G,UAAUp7G,OAAS,EACxB,MAAM,IAAIk1B,UAAU,mDAAA,6BAAA1gB,OACaxR,KAAKo4G,UAAUp7G,OAD5B,kDAphCxB,OAAOgD,KAAK4xH,YAAYhhB,mDAYxB,OAAO5wG,KAAK4xH,YAAY5K,uEAaxB,OAFkBhnH,KAAK6zH,iCAEN,8DAcjB,OAHkB7zH,KAAK6zH,iCAClBjnF,OAAO,SAACk9E,UAAD,OAAcA,SAAST,kBAAoBS,SAASL,kBAE/C,2DAcjB,OAHkBzpH,KAAKi2H,8BAClBrpF,OAAO,SAACk9E,UAAD,OAAcA,SAASnL,eAAiBmL,SAASoB,eAE5C,kDAajB,OAFkBlrH,KAAKk2H,yBAEN,uDAajB,OAFkBl2H,KAAKi2H,8BAEN,wCAWjB,OAAOj2H,KAAK4xH,YAAYmC,+CAWxB,OAAO/zH,KAAK4xH,YAAYxZ,6qBCrPhC,IAAAsB,YAAA3rB,uBAAAvxF,QAAA,qBACAq9G,UAAA9rB,uBAAAvxF,QAAA,mBACAwxF,QAAAD,uBAAAvxF,QAAA,iBACAspG,MAAA/X,uBAAAvxF,QAAA,eACAk1G,UAAA3jB,uBAAAvxF,QAAA,mBACA+2F,mBAAAxF,uBAAAvxF,QAAA,8CACA25H,eAAApoC,uBAAAvxF,QAAA,oBACAu8F,iBAAAv8F,QAAA,mCAIAi1H,gBAAAj1H,QAAA,uuCAWqB45H,oBAMjB,SAAAA,SAAYprB,4IAAalc,CAAA9uF,KAAAo2H,UAUrBp2H,KAAKq2H,aAAe,KAWpBr2H,KAAKs2H,SAAW,GAWhBt2H,KAAKu2H,gBAAkB,KAgBvBv2H,KAAKw2H,4BAA8B,GAWnCx2H,KAAKy2H,aAAe,GAepBz2H,KAAK02H,oBAAsB,GAE3B12H,KAAKojC,KAAK4nE,wHAqITA,aAAa,IAAA2rB,oBAAAx6B,gBACdn8F,KAAKy2H,aAAezrB,aAE8CvzF,MAAMg6G,gBAAA8C,qCAH1D,GAGPqC,eAHOD,oBAAA,GAGSE,sBAHTF,oBAAA,GAGgCG,KAHhCH,oBAAA,GAWd,OANA32H,KAAK+2H,kCAAkC/rB,aACvChrG,KAAKs2H,SAAWt2H,KAAKg3H,kBAAkBH,uBACvC72H,KAAKq2H,aAAe9iC,mBAAA,QAAkB0jC,UAAUJ,uBAChD72H,KAAKu2H,gBAAkBhjC,mBAAA,QAAkBshC,aAAagC,uBACtD72H,KAAK02H,oBAAsB12H,KAAKk3H,4BAA4BN,eAAgBE,MAErE92H,qCAoBP,OATAA,KAAKm3H,2BAELn3H,KAAKq2H,aAAe,KACpBr2H,KAAKs2H,SAAW,GAChBt2H,KAAKu2H,gBAAkB,KACvBv2H,KAAKw2H,4BAA8B,GACnCx2H,KAAKy2H,aAAe,GACpBz2H,KAAK02H,oBAAsB,GAEpB12H,+CAWO62H,uBACd,GAAI72H,KAAKy2H,aAAajqH,QAAQ,OAASusF,iBAAA2K,eACnC,OAAO+tB,gBAAA2F,SAASC,OAGpB,GAAI9jC,mBAAA,QAAkB+jC,UAAUT,uBAC5B,OAAOpF,gBAAA2F,SAASG,OAGpB,GAAIhkC,mBAAA,QAAkBkhC,aAAaoC,uBAC/B,OAAOpF,gBAAA2F,SAASI,UAGpB,MAAM,IAAItlG,UAAJ,gGAAA1gB,OAC4BqlH,sBAD5B,kEAawB7rB,aAC9B,GAAIA,YAAYx+F,QAAQ,QAAUusF,iBAAA4f,cAC9B,MAAM,IAAIzmF,UAAJ,uEAAA1gB,OAAqFw5F,YAArF,MAGV,GAAoC,EAAhCA,YAAYvzF,MAAM,KAAKza,OACvB,MAAM,IAAIk1B,UAAJ,yDAAA1gB,OAAuEw5F,YAAvE,gDAaIplG,MACd,IAAMkkH,SAAW,IAAIqM,eAAA,QAAcvwH,MAC7B2jG,eAAiBhW,mBAAA,QAAkBkkC,wBAAwB3N,SAASnpH,MAM1E,OAJsB,MAAlB4oG,gBACAugB,SAAS4N,yBAAyBnuB,gBAG/BugB,6DAaiB8M,eAAgBE,MACxC,OAAI92H,KAAKs2H,WAAa7E,gBAAA2F,SAASC,OACpB,CAACr3H,KAAK23H,kBAAkBf,iBAG/B52H,KAAKs2H,WAAa7E,gBAAA2F,SAASG,QAC3Bv3H,KAAK43H,qCAAqChB,eAAgBE,MAEnD92H,KAAKq2H,aAAawB,iCAAiCjB,eAAgBE,QAG9E92H,KAAK83H,wCAAwClB,eAAgBE,MAEtD92H,KAAKu2H,gBAAgBsB,iCAAiCjB,eAAgBE,2DAerD5D,aAAc3pB,gBAAoD,IAApCD,uBAAoC,EAAAzkG,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,QAAXjC,EAC/E,GAAK5C,KAAKgzH,gBAAgBE,cAA1B,CAIA,IAAM6E,cAAgB/3H,KAAKg4H,yBAAyB9E,cAGpD,OAFsBlzH,KAAK02H,oBAAoBqB,eAE1BE,iCAAiC1uB,eAAgBD,iEAWtE,GAAKtpG,KAAKk4H,YAIV,OAAOl4H,KAAKq2H,aAAaxmC,mEAUSqjC,cAClC,IAAMiF,oBAAsBn4H,KAAKg4H,yBAAyB9E,cAE1D,OAAOlzH,KAAK02H,oBAAoB/vH,QAAQ6L,OAAO2lH,oBAAsB,kEAUlCjF,cACnC,IAAMiF,oBAAsBn4H,KAAKg4H,yBAAyB9E,cACpDkF,yBAA2Bp4H,KAAK02H,oBAAoB/vH,QAI1D,OAFAyxH,yBAAyB5lH,OAAO2lH,qBAEzBC,+EAYP,OAAKp4H,KAAKq4H,UAIer4H,KAAKy2H,aAAah/G,MAAMg6G,gBAAA8C,qCAAqC,GAC1C3uG,OAAO,EAAG,GAE5B2G,cANf,oDAkBX,OAAKvsB,KAAKq4H,UAIer4H,KAAKy2H,aAAah/G,MAAMg6G,gBAAA8C,qCAAqC,GAC3C3uG,OAAO,GAJvC,iDAiBX,IAAK5lB,KAAKs4H,eACN,OAAOv/B,iBAAA2K,eAGX,IAAM60B,kBAAmB,EAAAzyB,MAAA,SAAK9lG,KAAK02H,oBAAqB,SAAC5M,UAAD,OAAcA,SAASL,kBACzE+O,8BAA+B,EAAA9mB,UAAA,SAAS6mB,iBAAkBx/B,iBAAA2K,gBAC1D8X,eAAiBzoF,KAAKw5C,IAAL/7D,MAAAuiB,KAAIgpE,mBAAQy8B,+BAEnC,OAAIhd,iBAAmB9gF,EAAAA,EACZq+D,iBAAA2K,eAGJ8X,uEAYP,OAAKx7G,KAAK6wG,SAIe7wG,KAAKy2H,aAAah/G,MAAMg6G,gBAAA8C,qCAAqC,GACxC3uG,OAAO,EAAG,GAE5B2G,cANjB,sDAkBX,OAAKvsB,KAAK6wG,SAIe7wG,KAAKy2H,aAAah/G,MAAMg6G,gBAAA8C,qCAAqC,GACzC3uG,OAAO,GAJzC,gDAiBX,GAAK5lB,KAAKs4H,eAIV,OAAOt4H,KAAKu2H,gBAAgB1mC,gDAW5B,GAAK7vF,KAAKs4H,eAIV,OAAOt4H,KAAKu2H,gBAAgB51H,+CAW5B,OAAIX,KAAKy4H,YACEz4H,KAAKy2H,aAGYz2H,KAAKy2H,aAAah/G,MAAMg6G,gBAAA8C,qCAEzB,4CAW3B,OAAIv0H,KAAKy4H,YACEz4H,KAAKy2H,aAGYz2H,KAAKy2H,aAAah/G,MAAMg6G,gBAAA8C,qCAEzB,2DAkB3B,IAAMvpB,YAAchrG,KAAKy2H,aAEzB,GAAIz2H,KAAK6wG,SAAU,CACf,IAAM7iE,SAAWg9D,YAAYvzF,MAAMg6G,gBAAA8C,qCAC7BmE,UAAY1qF,SAAS,GACrB8oF,KAAO9oF,SAAS,GAEtB,MAAA,GAAAx8B,OAAUknH,UAAV,KAAAlnH,OAAuBslH,MAG3B,GAAI92H,KAAKq4H,UAAW,CAChB,IAAMM,UAAW3tB,YAAYvzF,MAAMg6G,gBAAA8C,qCAC7Bv9G,MAAQ2hH,UAAS,GACjBC,WAAYD,UAAS,GAE3B,MAAA,GAAAnnH,OAAUwF,MAAV,KAAAxF,OAAmBonH,YAGvB,OAAO5tB,qDAWP,IAAKhrG,KAAKs4H,eACN,OAAOv/B,iBAAA2K,eAGX,IAAMm1B,kBAAmB,EAAA/yB,MAAA,SAAK9lG,KAAK02H,oBAAqB,SAAC5M,UAAD,OAAcA,SAAST,kBACzEmP,8BAA+B,EAAA9mB,UAAA,SAASmnB,iBAAkB9/B,iBAAA2K,gBAC1Do1B,YAAc/lG,KAAKi6B,IAALx8C,MAAAuiB,KAAIgpE,mBAAQy8B,+BAEhC,OAAIM,eAAiBp+F,EAAAA,EACVq+D,iBAAA2K,eAGJo1B,sDAWP,OAAyC,EAAlC94H,KAAK02H,oBAAoB15H,+CAcpBk2H,cACZ,IAAI,EAAArZ,UAAA,SAASqZ,cACT,MAAM,IAAIhhG,UAAJ,yCAAA1gB,OAAuD0hH,aAAvD,MAGVA,aAAeA,aAAa33E,cAI5B,IAAK,IAAIl/C,EAAI,EAAGA,EAAI2D,KAAK02H,oBAAoB15H,OAAQX,IACjD,GAAI2D,KAAK02H,oBAAoBr6H,GAAGsE,OAASuyH,aACrC,OAAO,EAIf,OAAO,+CAaP,IAAM6F,oBAAsB/4H,KAAK02H,oBAAoBjuH,QAErDzI,KAAKw2H,4BAA4BhzH,KAAKu1H,+DAGxBC,WACd,QAAKh5H,KAAKs4H,gBAIHt4H,KAAKu2H,gBAAgBrB,SAAS8D,oDAGxBC,UACb,QAAKj5H,KAAKs4H,gBAIHt4H,KAAKu2H,gBAAgBxB,QAAQkE,0DAShB,IAAAC,uBACpBA,sBAAAl5H,KAAKw2H,6BAA4BhzH,KAAjCgN,MAAA0oH,sBAAAn9B,mBAAyC/7F,KAAK02H,sBAE9C12H,KAAK02H,oBAAsB,8CAaZxD,cAAc,IAAAiG,uBACvBpB,cAAgB/3H,KAAKg4H,yBAAyB9E,cAEpD,GAAI6E,gBAAkBh/B,iBAAA4f,cAClB,OAAO,EAGX,IAAMygB,wBAA0BrB,cAC1BsB,qBAAuBr5H,KAAK02H,oBAAoBlkH,OAAO,EAAG4mH,yBAIhE,OAFAD,uBAAAn5H,KAAKw2H,6BAA4BhzH,KAAjCgN,MAAA2oH,uBAAAp9B,mBAAyCs9B,wBAElC,8DAUyBpvB,aAChC,GAAKjqG,KAAK6wG,SAAV,CAIA,IAAMyoB,sBAAwBt5H,KAAKy2H,aAAah/G,MAAMg6G,gBAAA8C,qCAChDgF,iBAAmBD,sBAAsB,GACzCE,gBAAkBF,sBAAsB,GAExCG,kBAAoBF,iBAAiB3zG,OAAO,GAC5C8zG,eAAiBzvB,YAAYtpG,KAC7Bg5H,cAAgBJ,iBAAiB3zG,OAAO,EAAG,GAAGpU,OAAOkoH,gBAEvDzvB,YAAYtpG,OAAS84H,mBAKpBz5H,KAAKu2H,gBAAgBrB,SAASyE,iBAInC35H,KAAK02H,oBAAsB12H,KAAKk3H,4BAA4ByC,cAAeH,8EAU5CvvB,aAC/B,GAAKjqG,KAAKq4H,UAAV,CAIA,IAAMiB,sBAAwBt5H,KAAKy2H,aAAah/G,MAAMg6G,gBAAA8C,qCAChDgF,iBAAmBD,sBAAsB,GACzCE,gBAAkBF,sBAAsB,GAExCG,kBAAoBD,gBAAgB5zG,OAAO,GAC3C8zG,eAAiBzvB,YAAYtpG,KAC7Bi5H,aAAeJ,gBAAgB5zG,OAAO,EAAG,GAAGpU,OAAOkoH,gBAErDzvB,YAAYtpG,OAAS84H,mBAIpBz5H,KAAKu2H,gBAAgBxB,QAAQ6E,gBAIlC55H,KAAK02H,oBAAsB12H,KAAKk3H,4BAA4BqC,iBAAkBK,iEAKzD1G,cACrB,OAAO,EAAAxZ,YAAA,SAAW15G,KAAK02H,oBAAqB,SAACjY,eACzC,OAAOA,cAAc99G,OAASuyH,aAAa33E,mEAe/Cv7C,KAAK65H,wBAEL,IAAK,IAAIx9H,EAAI,EAAGA,EAAI2D,KAAKw2H,4BAA4Bx5H,OAAQX,IACzD2D,KAAKw2H,4BAA4Bn6H,GAAGs1C,qEAaPqnF,UAAWC,UAC5C,IAAI,EAAAjrC,QAAA,SAAOhuF,KAAKq2H,cACZ,MAAM,IAAInkG,UAAU,4EAGxB,IAAM4nG,WAAa95H,KAAKq2H,aAAaxmC,KAErC,IAAK7vF,KAAKq2H,aAAa0D,WAAWf,WAC9B,MAAM,IAAI9mG,UAAJ,2BAAA1gB,OAAyCsoH,WAAzC,mBAAAtoH,OAAqEwnH,YAG/E,IAAKh5H,KAAKq2H,aAAa0D,WAAWd,UAC9B,MAAM,IAAI/mG,UAAJ,0BAAA1gB,OAAwCsoH,WAAxC,mBAAAtoH,OAAoEynH,2EAa1CD,UAAWC,UAC/C,IAAI,EAAAjrC,QAAA,SAAOhuF,KAAKu2H,iBACZ,MAAM,IAAIrkG,UAAU,+EAGxB,IAAM8nG,cAAgBh6H,KAAKu2H,gBAAgB1mC,KAE3C,IAAK7vF,KAAKu2H,gBAAgBrB,SAAS8D,WAC/B,MAAM,IAAI9mG,UAAJ,2BAAA1gB,OAAyCwoH,cAAzC,mBAAAxoH,OAAwEwnH,YAGlF,IAAKh5H,KAAKu2H,gBAAgBxB,QAAQkE,UAC9B,MAAM,IAAI/mG,UAAJ,0BAAA1gB,OAAwCwoH,cAAxC,mBAAAxoH,OAAuEynH,mDAxwBjF,GAAwC,IAApCj5H,KAAK02H,oBAAoB15H,OACzB,MAAM,IAAIk1B,UAAU,6DAGxB,OAAOlyB,KAAK02H,oBAAoB,uCAWhC,OAAO12H,KAAKs2H,WAAa7E,gBAAA2F,SAASG,2CAWlC,OAAOv3H,KAAKs2H,WAAa7E,gBAAA2F,SAASC,8CAWlC,OAAOr3H,KAAKs2H,WAAa7E,gBAAA2F,SAASI,2CAWlC,OAAOx3H,KAAKs4H,gBAAkBt4H,KAAKu2H,gBAAgB0D,gBAAkBxI,gBAAAyI,eAAeC,sCAWpF,OAAOn6H,KAAKs4H,gBAAkBt4H,KAAKu2H,gBAAgB0D,gBAAkBxI,gBAAAyI,eAAeE,qCAWpF,OAAOp6H,KAAKs2H,8CAWZ,OAAOt2H,KAAK02H,oBAAoB,uCAWhC,OAAO12H,KAAKy2H,+CAWZ,OAAOz2H,KAAK02H,qDAIZ,OAAO12H,KAAKu2H,gBAAgB5tB,0hBChOpC,IAAA0xB,QAAAtsC,uBAAAvxF,QAAA,iBACA89H,QAAAvsC,uBAAAvxF,QAAA,iBACAk9G,YAAA3rB,uBAAAvxF,QAAA,qBACA+9H,eAAAxsC,uBAAAvxF,QAAA,wBACAwxF,QAAAD,uBAAAvxF,QAAA,iBACAg+H,WAAAzsC,uBAAAvxF,QAAA,oBACAi+H,OAAA1sC,uBAAAvxF,QAAA,gBACAspG,MAAA/X,uBAAAvxF,QAAA,eACAk+H,SAAA3sC,uBAAAvxF,QAAA,kBACAk1G,UAAA3jB,uBAAAvxF,QAAA,mBACAm+H,UAAA5sC,uBAAAvxF,QAAA,eACAszH,YAAA/hC,uBAAAvxF,QAAA,yBACAq2F,mBAAA9E,uBAAAvxF,QAAA,oCACAg1H,aAAAzjC,uBAAAvxF,QAAA,qCACAu8F,iBAAAv8F,QAAA,mCAKAi1H,gBAAAj1H,QAAA,kCAIAo+H,qBAAAp+H,QAAA,ggEAYqBq+H,gCAMjB,SAAAA,WAAY7vB,aAAa,IAAA/2F,MAAA,qIAAA66E,CAAA9uF,KAAA66H,aACrB5mH,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAAqL,YAAA99H,KAAAiD,QAUK86H,eAAiB,GAetB7mH,MAAK8mH,uBAAyB,GAE9B9mH,MAAKmvB,KAAK4nE,aA5BW/2F,2YANW67G,YAAA,2EAmI/B9kB,aAGD,OAFAhrG,KAAK86H,eAAiB96H,KAAKg7H,6BAA6BhwB,aAEjDhrG,qCAaP,OAFAA,KAAK86H,eAAiB,GAEf96H,8CAaMi7H,YACb,IAAMC,mBAAoB,EAAAZ,QAAA,SAAOW,WAAW7iB,WAAWz3G,KACjDw6H,kBAAmB,EAAAV,OAAA,SAAMQ,WAAW7iB,WAAWz3G,KAC/Cy6H,eAAiBp7H,KAAKgzH,gBAAgBmI,kBACtCE,cAAgBr7H,KAAKgzH,gBAAgBkI,mBAE3C,OAAIE,gBAAkBC,cACXr7H,KAAKs7H,oCAAoCJ,kBAAmBC,iBAAkBF,YAGrFG,eACOp7H,KAAKu7H,uCAAuCJ,iBAAkBF,YAGrEI,cACOr7H,KAAKw7H,yCAAyCN,kBAAmBD,YAGrE,EAAC,EAAO,sFAaS/H,aAAc3pB,gBAAoD,IAApCD,uBAAoC,EAAAzkG,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,QAAXjC,EAC/E,GAAK5C,KAAKgzH,gBAAgBE,cAA1B,CAIA,IAAMuI,SAAWz7H,KAAK07H,sCAAsCxI,cACtDyI,SAAW37H,KAAK86H,eAAeW,UAgBrC,OAXCnyB,uBAXyFnN,eAW/Dn8F,KAAKo4G,UAAUwjB,OAAO,SAACjwG,KAAMkwG,KAAQ,IACvD1zB,QADuDhM,eAC5CxwE,KAD4C,GAAA,GAEnDmwG,QAFmD3/B,eAExCxwE,KAFwC,GAAA,GAQ5D,OAJgB,OAAZmwG,SAAoBD,IAAIl7H,OAASuyH,aAAa33E,gBAC9C4sD,QAAU0zB,IAAIl3B,cAAcgF,oBAAoBmyB,QAAQn3B,gBAGrD,CAACwD,QAAS0zB,MAClB,CAACvyB,uBAAwB,OApB8D,GAAA,GAsBnFqyB,SAASxI,4BAA4BD,aAAc3pB,eAAgBD,kFAW1E,OAAOtpG,KAAKo4G,UAAUxrE,OAAO,SAACk9E,UAAD,OAAcA,SAASiS,+EAWpD,IAAK/7H,KAAKg8H,aACN,OAAO,KAGX,IAAMC,aAAej8H,KAAKk8H,oBAE1B,OAAOl8H,KAAK86H,eAAemB,cAAcE,qFAWzC,IAAMj5B,YAAcljG,KAAKm8H,8BAEzB,OAAKj5B,YAIErQ,mBAAA,QAAkBkV,YAAY7E,aAH1B,oDAcX,IAAKljG,KAAKg8H,aACN,OAAO,KAGX,IAAMC,aAAej8H,KAAKk8H,oBAE1B,OAAOl8H,KAAK86H,eAAemB,cAActJ,uEAWzC,IAAMD,kBAAoB1yH,KAAK2yH,uBAE/B,OAAKD,kBAIE1yH,KAAKo8H,+BAA+BlyB,UAAUwoB,mBAH1C,6DAcX,OAAK1yH,KAAKq8H,YAIUr8H,KAAKs8H,cAENC,gCALR,8DAgBX,IAAMr5B,YAAcljG,KAAKu8H,gCAEzB,OAAKr5B,YAIErQ,mBAAA,QAAkBkV,YAAY7E,aAH1B,sDAcX,OAAKljG,KAAKq8H,YAIUr8H,KAAKs8H,cAENvJ,yBALR,uDAgBX,IAAMD,oBAAsB9yH,KAAK+yH,yBAEjC,OAAKD,oBAIE9yH,KAAKw8H,iCAAiCtyB,UAAU4oB,qBAH5C,iDAcX,IAAM2J,sBAAuB,EAAA/qB,UAAA,UACzB,EAAA5L,MAAA,SAAK9lG,KAAK86H,eAAgB,SAAC4B,KAAD,OAASA,IAAIjhB,sBACvC1iB,iBAAA2K,gBAEE8X,eAAiBzoF,KAAKw5C,IAAL/7D,MAAAuiB,KAAIgpE,mBAAQ0gC,uBAEnC,OAAIjhB,iBAAmB9gF,EAAAA,EACZq+D,iBAAA2K,eAGJ8X,4DAWP,IAAMmhB,wBAA0B38H,KAAK48H,8BAC/BC,+BAAgC,EAAA/2B,MAAA,SAAK62B,wBAAyB,SAAChB,UAAD,OAAcA,SAAS3wB,cAE3F,OAAOhrG,KAAK88H,qBAAqBD,qGAcjC,IAAMF,wBAA0B38H,KAAK48H,8BAC/BG,gCAAiC,EAAAj3B,MAAA,SAAK62B,wBAAyB,SAAChB,UAClE,OAAOA,SAASqB,kCAGpB,OAAOh9H,KAAK88H,qBAAqBC,gCAC5B73H,QAAQ6zF,iBAAAkkC,MAAMC,WAAY,KAC1Bh4H,QAAQ6zF,iBAAAkkC,MAAME,WAAY,4DAmB/B,OAFoBn9H,KAAKo9H,qBAENl4H,QAAQ6zF,iBAAAkkC,MAAMC,WAAY,KAAKh4H,QAAQ6zF,iBAAAkkC,MAAME,WAAY,8CAW5E,IAAME,iBAAkB,EAAAv3B,MAAA,SAAK9lG,KAAK86H,eAAgB,SAACa,UAAD,OAAcA,SAAS3wB,cAEzE,OAAOhrG,KAAK88H,qBAAqBO,oEAgBjC,OAFoBr9H,KAAKi0H,iBAEN/uH,QAAQ6zF,iBAAAkkC,MAAMC,WAAY,KAAKh4H,QAAQ6zF,iBAAAkkC,MAAME,WAAY,kDAmB5E,OAAKn9H,KAAKq8H,YAIUr8H,KAAKs8H,cAENgB,iBALRt9H,KAAKo9H,qBAAqB3lH,MAAM,MAAM,wCAgBjD,GAAKzX,KAAKq8H,YAMV,OAFoBr8H,KAAKs8H,cAENiB,wDAWnB,GAAKv9H,KAAKq8H,YAMV,OAFoBr8H,KAAKs8H,cAENkB,sEAWnB,IAAMC,YAAcz9H,KAAKs8H,cAEzB,OAAImB,aAAeA,YAAY90B,SACpB80B,YAAY90B,SAGP9V,mBAAA,QAAkBkV,cAEnB21B,kDAWf,GAAK19H,KAAKg8H,aAMV,OAFqBh8H,KAAK86H,eAAe96H,KAAKk8H,qBAE1BqB,yDAWpB,GAAKv9H,KAAKg8H,aAMV,OAFqBh8H,KAAK86H,eAAe96H,KAAKk8H,qBAE1BsB,4DAWpB,IAAMG,sBAAuB,EAAAjsB,UAAA,UACzB,EAAA5L,MAAA,SAAK9lG,KAAK86H,eAAgB,SAAC4B,KAAD,OAASA,IAAItI,mBACvCr7B,iBAAA2K,gBAEEo1B,YAAc/lG,KAAKi6B,IAALx8C,MAAAuiB,KAAIgpE,mBAAQ4hC,uBAEhC,OAAI7E,eAAiBp+F,EAAAA,EACVq+D,iBAAA2K,eAGJo1B,iDAWP,OAAoC,EAA7B94H,KAAK86H,eAAe99H,iDAa3B,QAAIgD,KAAK4wG,WAAWoX,qBAIfhoH,KAAK49H,gBAIF,EAAA5vC,QAAA,SAAOhuF,KAAK69H,QAAQ7W,qDAW5B,OAAOhnH,KAAK89H,qBAAuB/kC,iBAAA4f,mDAWnC,OAAO34G,KAAKk8H,sBAAwBnjC,iBAAA4f,sDAWxBua,cACZ,IAAK,IAAI72H,EAAI,EAAGA,EAAI2D,KAAK86H,eAAe99H,OAAQX,IAC5C,GAAI2D,KAAK86H,eAAez+H,GAAG22H,gBAAgBE,cACvC,OAAO,EAIf,OAAO,mDAacjpB,aACrB,KAAMA,uBAAuBunB,aAAA,SACzB,OAAO,EAGX,IAAMiM,YAAcz9H,KAAKs8H,cAEzB,IAAKmB,YACD,OAAO,EAGX,IAAMM,qBAAuB/9H,KAAKu8H,gCAAgChhF,cAC5Dy9E,UAAS,GAAAxnH,OAAMusH,sBAANvsH,OAA6By4F,YAAYtpG,MAExD,OAAO88H,YAAYO,kBAAkBhF,6DAaf/uB,aACtB,KAAMA,uBAAuBunB,aAAA,SACzB,OAAO,EAGX,IAAMyK,aAAej8H,KAAKk8H,oBACpB+B,aAAej+H,KAAK86H,eAAemB,cAEzC,IAAKgC,aACD,OAAO,EAGX,IAAMC,mBAAqBl+H,KAAKm8H,8BAA8B5gF,cACxD09E,SAAQ,GAAAznH,OAAM0sH,oBAAN1sH,OAA2By4F,YAAYtpG,MAErD,OAAOs9H,aAAaE,iBAAiBlF,uDAarC,IAAKj5H,KAAK4wG,WAAWoX,kBACjB,OAAOhoH,KAAKo+H,gBAGhBp+H,KAAK4wG,WAAWqX,qEAeIjd,aACpB,IAAIizB,aAEJ,IACIA,aAAe,IAAItD,UAAA,QAAS3vB,aAC9B,MAAOjzF,OAGL,OAFA0U,QAAQ1U,MAAMA,QAEP,EAIX,OAAK/X,KAAKg8H,aAMVh8H,KAAK86H,eAAe96H,KAAKk8H,qBAAuB+B,aAL5Cj+H,KAAK86H,eAAet3H,KAAKy6H,eAOtB,oDAeejzB,aACtB,IAAIiwB,WAEJ,IACIA,WAAa,IAAIJ,WAAW7vB,aAC9B,MAAOjzF,OAGL,OAFA0U,QAAQ1U,MAAMA,OAEP,EAAC,EAAD,uBAAAvG,OAA+Bw5F,YAAYzvD,cAA3C,iBAGX,OAAOv7C,KAAKszH,iBAAiB2H,oDAWjB,IAAAoD,sBACZ,GAAKr+H,KAAK49H,aAAV,CAIA,IAAMU,UAAYt+H,KAAK86H,eAAetoH,OAAO,EAAG,IAEhD6rH,sBAAAr+H,KAAK+6H,wBAAuBv3H,KAA5BgN,MAAA6tH,sBAAAtiC,mBAAoCuiC,wDAWrBpL,cAAc,IAAAqL,uBAC7B,IAAKv+H,KAAKgzH,gBAAgBE,cACtB,OAAO,EAGX,GAAIlzH,KAAK4wG,WAAWoiB,gBAAgBE,cAChC,OAAOlzH,KAAK4wG,WAAWqiB,mBAAmBC,cAG9C,IAAMuI,UAAW,EAAA/hB,YAAA,SAAW15G,KAAK86H,eAAgB,SAACa,UAAD,OAAcA,SAAS3I,gBAAgBE,gBAClFsL,gBAAkBx+H,KAAK86H,eAAetoH,OAAO,EAAGipH,UAItD,OAFA8C,uBAAAv+H,KAAK+6H,wBAAuBv3H,KAA5BgN,MAAA+tH,uBAAAxiC,mBAAoCyiC,kBAE7Bx+H,KAAK4wG,WAAWqiB,mBAAmBC,0EAUVjpB,aAC3BjqG,KAAKq8H,aAIUr8H,KAAKs8H,cAEb7G,oCAAoCxrB,wEAUjBA,aAC/B,GAAKjqG,KAAKg8H,aAIV,GAAKh8H,KAAKq0H,0BAA0BpqB,aAApC,CAOA,IAAMw0B,4BAA8Bz+H,KAAKgnH,gBAAgBrmH,KACnDi5H,aAAY,GAAApoH,OAAMxR,KAAKm8H,8BAA8B5gF,eAAzC/pC,OAAyDy4F,YAAYtpG,MACjFs7H,aAAej8H,KAAKk8H,oBACpBwC,oBAAsB1+H,KAAK2+H,4CAA4C/E,aAAcqC,cAC3Fj8H,KAAK86H,eAAemB,cAAgByC,oBAEpC1+H,KAAKizH,mBAAmBwL,kCAZpBhyG,QAAQ1U,MAAM,mBAAAvG,OAAmBy4F,YAAYtpG,KAA/B,gDACV,4IA8B6Bi+H,sBAAuB3D,YAC5D,IAAM4D,oBAAsB7+H,KAAK07H,sCAAsCkD,uBACjEE,aAAe9+H,KAAK86H,eAAe+D,qBAEzC,GAAIC,aAAa5G,YACb,OAAOl4H,KAAK++H,gCAAgCH,sBAAuB3D,YAGvE,GAAI6D,aAAarG,YACb,OAAOz4H,KAAKg/H,gCAAgCJ,sBAAuB3D,YAGvE,GAAI6D,aAAajuB,SACb,OAAO7wG,KAAKi/H,6BAA6BL,sBAAuB3D,YAGpE,GAAI6D,aAAazG,UACb,OAAOr4H,KAAKk/H,8BAA8BN,sBAAuB3D,YAGrE,MAAM,IAAI/oG,UAAU,0CAAA1gB,OAA0CstH,aAAaK,QAAvD,MAChB,6IAcwBP,sBAAuB3D,YACnD,IAAM4D,oBAAsB7+H,KAAK07H,sCAAsCkD,uBACjEQ,iBAAmBp/H,KAAKq/H,8CAC1BT,sBACAC,qBAGJ7+H,KAAK86H,eAAetoH,OAAOqsH,qBAE3B7+H,KAAK86H,eAAL,GAAAtpH,OAAAuqF,mBACO/7F,KAAK86H,gBADZ,CAEIsE,kBAFJrjC,mBAGOk/B,WAAWqE,gBAGlB,IAAMj3B,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,iBAAA+Q,OAAgCxR,KAAKk0H,4BACrC7rB,SAASnB,IAAM,yBAER,EAAC,EAAMmB,kEAccu2B,sBAAuB3D,YACnD,IAAM4D,oBAAsB7+H,KAAK07H,sCAAsCkD,uBAEvE5+H,KAAK86H,eAAetoH,OAAOqsH,qBAC3B7+H,KAAK86H,eAAiB96H,KAAK86H,eAAetpH,OAAOypH,WAAWqE,eAE5D,IAAMj3B,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,iBAAA+Q,OAAgCxR,KAAKk0H,4BACrC7rB,SAASnB,IAAM,yBAER,EAAC,EAAMmB,+DAcWu2B,sBAAuB3D,YAChD,IAAM4D,oBAAsB7+H,KAAK07H,sCAAsCkD,uBACjEW,4BAA8Bv/H,KAAKw/H,8CACrCZ,sBACAC,qBAGJ7+H,KAAK86H,eAAetoH,OAAOqsH,qBAE3B7+H,KAAK86H,eAAL,GAAAtpH,OAAAuqF,mBACO/7F,KAAK86H,gBADZ/+B,mBAEOwjC,6BAFPxjC,mBAGOk/B,WAAWqE,gBAGlB,IAAMj3B,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,iBAAA+Q,OAAgCxR,KAAKk0H,4BACrC7rB,SAASnB,IAAM,yBAER,EAAC,EAAMmB,gEAcYu2B,sBAAuB3D,YACjD,IAAM4D,oBAAsB7+H,KAAK07H,sCAAsCkD,uBAGvE,GAF0B5+H,KAAK86H,eAAe+D,qBAExBV,iBAAiBS,uBAAwB,CAC3D,IAAMa,eAAiBz/H,KAAK2+H,4CACxBC,sBACAC,qBAGJ7+H,KAAK86H,eAAetoH,OAAOqsH,qBAE3B7+H,KAAK86H,eAAL,GAAAtpH,OAAAuqF,mBACO/7F,KAAK86H,gBADZ,CAEI2E,gBAFJ1jC,mBAGOk/B,WAAWqE,gBAGlB,IAAMjzB,UAAW,GAIjB,OAHAA,UAAS5rG,IAAT,iBAAA+Q,OAAgCxR,KAAKk0H,4BACrC7nB,UAASnF,IAAM,yBAER,EAAC,EAAMmF,WAGlB,IAAMkzB,4BAA8Bv/H,KAAK0/H,+CACrCd,sBACAC,qBAGJ7+H,KAAK86H,eAAetoH,OAAOqsH,qBAE3B7+H,KAAK86H,eAAL,GAAAtpH,OAAAuqF,mBACO/7F,KAAK86H,gBADZ/+B,mBAEOwjC,6BAFPxjC,mBAGOk/B,WAAWH,iBAGlB,IAAMzyB,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,iBAAA+Q,OAAgCxR,KAAKk0H,4BACrC7rB,SAASnB,IAAM,yBAER,EAAC,EAAMmB,uDAeGg1B,iBAGjB,IAFA,IAAMsC,oBAAsB,EAAC,EAAArF,QAAA,SAAO+C,kBAE3BhhI,EAAI,EAAGA,EAAIghI,gBAAgBrgI,OAAQX,IAAK,CAC7C,IAAMujI,mBAAoB,EAAAnF,OAAA,SAAM4C,gBAAgBhhI,EAAI,GAAGob,MAAMg6G,gBAAA8C,sCACvDmI,IAAMW,gBAAgBhhI,GACtBwjI,UAAW,EAAAvF,QAAA,SAAOoC,IAAIjlH,MAAMg6G,gBAAA8C,sCAElC,GAAIsL,WAAaD,kBAQjBD,oBAAoBn8H,KAAKk5H,SARzB,CACI,IAAMoD,mBAAqBH,oBAAoB3iI,OAAS,EAClD+iI,2BAA6BrD,IAAIx3H,QAAQ26H,SAAU,IACzDF,oBAAoBG,qBAAuBC,4BAQnD,OAAOJ,oBAAoBz7H,KAAKutH,gBAAAuO,+FAmBWC,aAAcxE,UACzD,IAAMyE,mBAAqBlgI,KAAK86H,eAAeW,UACzC0E,WAAaD,mBAAmBE,gBAChCC,YAAcH,mBAAmB5C,iBACjCgD,0BAA2B,EAAA1F,qBAAA2F,+BAA8BN,aAAcE,WAAYE,aAGzF,OAFyB,IAAI1F,UAAA,QAAS2F,gGAgBID,YAAa5E,UACvD,IAAMqD,aAAe9+H,KAAK86H,eAAeW,UACnC0E,WAAarB,aAAasB,gBAC1BH,aAAenB,aAAa0B,kBAC5BF,0BAA2B,EAAA1F,qBAAA2F,+BAA8BN,aAAcE,WAAYE,aAGzF,OAFyB,IAAI1F,UAAA,QAAS2F,8EAedG,0BAA2BC,iBACnD,IAAMR,mBAAqBlgI,KAAK86H,eAAe2F,2BAE/C,GAAIP,mBAAmBhI,YACnB,MAAO,CAACl4H,KAAK2gI,+CAA+CD,gBAAiBD,4BAGjF,GAAIP,mBAAmBzH,YACnB,MAAO,GAGX,GAAIyH,mBAAmBrvB,SAGnB,OAF0B,EAAAypB,QAAA,SAAO4F,mBAAmB9nB,WAAWz3G,OAErC+/H,gBACf,CAACR,oBAGLlgI,KAAK4gI,6CAA6CF,gBAAiBD,2BAG9E,GAAIP,mBAAmB7H,UAGnB,OAF0B,EAAAiC,QAAA,SAAO4F,mBAAmB9nB,WAAWz3G,OAErC+/H,gBACf,CAACR,oBAGRA,mBAAmBlC,kBAAkB0C,iBAC9B,CAAC1gI,KAAK6gI,6CAA6CH,gBAAiBD,4BAGxEzgI,KAAK8gI,8CAA8CJ,gBAAiBD,2BAG/E,MAAM,IAAIvuG,UAAJ,+CAAA1gB,OAA6D0uH,mBAAmBf,QAAhF,yDAaiB4B,yBAA0BC,mBACjD,IAAMC,kBAAoBjhI,KAAK86H,eAAeiG,0BAE9C,GAAIE,kBAAkB/I,YAClB,MAAO,CAACl4H,KAAKq/H,8CAA8C2B,kBAAmBD,2BAGlF,GAAIE,kBAAkBxI,YAClB,MAAO,GAGX,GAAIwI,kBAAkBpwB,SAGlB,OAF2B,EAAA4pB,OAAA,SAAMwG,kBAAkB7oB,WAAWz3G,OAEnCqgI,kBAChB,CAACC,mBAGLjhI,KAAKw/H,8CAA8CwB,kBAAmBD,0BAGjF,GAAIE,kBAAkB5I,UAGlB,OAF2B,EAAAoC,OAAA,SAAMwG,kBAAkB7oB,WAAWz3G,OAEnCqgI,kBAChB,CAACC,mBAGRA,kBAAkB9C,iBAAiB6C,mBAC5B,CAAChhI,KAAK2+H,4CAA4CqC,kBAAmBD,2BAGzE/gI,KAAK0/H,+CAA+CsB,kBAAmBD,0BAGlF,MAAM,IAAI7uG,UAAJ,+CAAA1gB,OAA6DyvH,kBAAkB9B,QAA/E,4EAYoCjM,aAAcuI,UACxD,IACMyF,eADelhI,KAAK86H,eAAeW,UACL0F,uCAAuCjO,cAG3E,OAFoClzH,KAAKohI,mCAAmCF,sFAclChO,aAAcuI,UACxD,IACMyF,eADqBlhI,KAAK86H,eAAeW,UACL4F,sCAAsCnO,cAGhF,OAFoClzH,KAAKohI,mCAAmCF,uFAcjChO,aAAcuI,UACzD,IACMyF,eADoBlhI,KAAK86H,eAAeW,UACL0F,uCAAuCjO,cAGhF,OAFoClzH,KAAKohI,mCAAmCF,qFAcnCjB,aAAcxE,UACvD,IAAMyE,mBAAqBlgI,KAAK86H,eAAeW,UACzCzB,cAAgBkG,mBAAmB3C,mBACnC8C,YAAcH,mBAAmB5C,iBACjCgE,wBAAyB,EAAA1G,qBAAA2F,+BAA8BN,aAAcjG,cAAeqG,aAG1F,OAFuB,IAAI1F,UAAA,QAAS2G,4FAcIjB,YAAa5E,UACrD,IAAMwF,kBAAoBjhI,KAAK86H,eAAeW,UACxCzB,cAAgBiH,kBAAkB1D,mBAClC0C,aAAegB,kBAAkBT,kBACjCc,wBAAyB,EAAA1G,qBAAA2F,+BAA8BN,aAAcjG,cAAeqG,aAG1F,OAFuB,IAAI1F,UAAA,QAAS2G,6FAcKpO,aAAcuI,UACvD,IACMyF,eADgBlhI,KAAK86H,eAAeW,UACL4F,sCAAsCnO,cAG3E,OAFoClzH,KAAKohI,mCAAmCF,2EAc7CA,gBAC/B,OAAO,EAAAp7B,MAAA,SAAKo7B,eAAgB,SAACziB,eAAD,OAAmB,IAAIkc,UAAA,QAASlc,cAAc99G,+DAY/CqqG,aAC3B,KAAK,EAAAwvB,WAAA,SAAUxvB,aACX,MAAM,IAAI94E,UAAJ,2DAAA1gB,OAAAiiG,QAAgFzI,aAAhF,MAGV,GAAIA,YAAYx+F,QAAQ,OAASusF,iBAAA4f,cAC7B,MAAM,IAAIzmF,UAAJ,uEAAA1gB,OAAqFw5F,YAArF,MAOV,IAJA,IAAMu2B,oBAAsBv2B,YAAYvzF,MAAMg6G,gBAAAuO,wBACxCwB,oBAAsB,GAGnBnlI,EAAI,EAAGA,EAAIklI,oBAAoBvkI,OAAQX,IAAK,CACjD,IACMolI,gBADqBF,oBAAoBllI,GACJob,MAAMg6G,gBAAA8C,qCAC3CmN,aAAeD,gBAAgBjvH,OAAO,EAAG,GACzCmvH,SAAQ,CACVD,cADUlwH,OAAAuqF,oBAEP,EAAAs+B,QAAA,SAAOoH,gBAAiB,KAG/BD,oBAAoBh+H,KAAKk+H,aAAax9H,KAAKutH,gBAAA8C,sCAE3C,IAAK,IAAIzoG,EAAI,EAAGA,EAAI61G,SAAS3kI,OAAQ8uB,IAAK,CACtC,IAAM81G,uBAAwB,EAAAnH,OAAA,SAAMkH,SAAS71G,EAAI,IAC3C+1G,0BAA4BF,SAAS71G,GAAG5nB,KAAKutH,gBAAA8C,qCAEnDiN,oBAAoBh+H,KAApB,GAAAgO,OAA4BowH,sBAA5B,KAAApwH,OAAqDqwH,6BAI7D,OAAOL,sFAY+BvG,YACtC,IAAM6G,2BAA4B,EAAAh8B,MAAA,SAAK9lG,KAAKo4G,UAAW,SAACqG,eAAD,OAAmBA,cAAc99G,OAClFohI,wBAAyB,EAAAj8B,MAAA,SAAKm1B,WAAW7iB,UAAW,SAACqG,eAAD,OAAmBA,cAAc99G,OAE3F,OAAO,EAAA25H,QAAA,UAAO,EAAAC,eAAA,SAAcuH,0BAA2BC,uFAUrB7O,cAClC,OAAO,EAAAxZ,YAAA,SAAW15G,KAAK86H,eAAgB,SAACa,UAAD,OAAcA,SAAS3I,gBAAgBE,2DAe9E,OAAO,EAAAxZ,YAAA,SAAW15G,KAAK86H,eAAgB,SAACa,UAAD,OAAcA,SAAS9qB,iDAc9D,OAAO7wG,KAAK86H,eAAehuF,KAAK,SAAC6uF,UAAD,OAAcA,SAAS9qB,uDAevD,OAAO,EAAA6I,YAAA,SAAW15G,KAAK86H,eAAgB,SAACa,UAAD,OAAcA,SAAStD,iEAYrCrtB,aACzB,IAAM22B,SAAW3hI,KAAKgiI,+BAA+Bh3B,aAKrD,OAJa,EAAAlF,MAAA,SAAK67B,SAAU,SAACM,oBACzB,OAAO,IAAItH,UAAA,QAASsH,4EAcxB,MAAA,GAAAzwH,OAAAuqF,mBACO/7F,KAAK+6H,wBADZh/B,mBAEO/7F,KAAK86H,6EAoBoBkG,kBAAmBN,gBAAiBzF,YACpE,IAAMqE,cAAgBt/H,KAAK86H,eAAen0H,MAAM,GAC1Co6H,yBAA2B/gI,KAAK07H,sCAAsCsF,mBACtEP,0BAA4BzgI,KAAK07H,sCAAsCgF,iBACvEwB,0BAA4BliI,KAAKmiI,2BAA2BpB,yBAA0BC,mBACtFoB,2BAA6BpiI,KAAKqiI,4BAA4B5B,0BAA2BC,iBACzF4B,oBAAsBhD,cAAc9sH,OAAOiuH,0BAA4B,GAE7EnB,cAAc9sH,OAAOuuH,0BAErB,IAAMwB,uBAAyBjD,cAE/Bt/H,KAAK86H,eAAL,GAAAtpH,OAAAuqF,mBACOwmC,wBADPxmC,mBAEOmmC,2BAFPnmC,mBAGOk/B,WAAWqE,eAHlBvjC,mBAIOqmC,4BAJPrmC,mBAKOumC,sBAGP,IAAMj6B,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,iBAAA+Q,OAAgCxR,KAAKk0H,4BACrC7rB,SAASnB,IAAM,yBAER,EAAC,EAAMmB,yEAeqBm6B,uBAAwBvH,YAC3D,IAAMwF,0BAA4BzgI,KAAK07H,sCAAsC8G,wBACvEtC,mBAAqBlgI,KAAK86H,eAAe2F,2BAE/C,GAAIP,mBAAmBhI,YACnB,OAAOl4H,KAAKyiI,gCAAgCD,uBAAwBvH,YAGxE,GAAIiF,mBAAmBzH,YACnB,OAAOz4H,KAAK0iI,gCAAgCF,uBAAwBvH,YAGxE,GAAIiF,mBAAmBrvB,SACnB,OAAO7wG,KAAK2iI,6BAA6BH,uBAAwBvH,YAGrE,GAAIiF,mBAAmB7H,UACnB,OAAOr4H,KAAK4iI,8BAA8BJ,uBAAwBvH,YAGtE,MAAM,IAAI/oG,UAAU,0CAAA1gB,OAA0C0uH,mBAAmBf,QAA7D,MAChB,6IAawBqD,uBAAwBvH,YACpD,IAAMwF,0BAA4BzgI,KAAK07H,sCAAsC8G,wBACvEpD,iBAAmBp/H,KAAK2gI,+CAC1B6B,uBACA/B,2BAGJzgI,KAAK86H,eAAL,GAAAtpH,OAAAuqF,mBACOk/B,WAAWqE,eADlB,CAEIF,kBAFJrjC,mBAGO/7F,KAAK86H,eAAetoH,OAAOiuH,0BAA4B,KAG9D,IAAMp4B,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,iBAAA+Q,OAAgCxR,KAAKk0H,4BACrC7rB,SAASnB,IAAM,yBAER,EAAC,EAAMmB,kEAacm6B,uBAAwBvH,YACpD,IAAMwF,0BAA4BzgI,KAAK07H,sCAAsC8G,wBAE7ExiI,KAAK86H,eAAL,GAAAtpH,OAAAuqF,mBACOk/B,WAAWqE,eADlBvjC,mBAEO/7F,KAAK86H,eAAetoH,OAAOiuH,0BAA4B,KAG9D,IAAMp4B,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,iBAAA+Q,OAAgCxR,KAAKk0H,4BACrC7rB,SAASnB,IAAM,yBAER,EAAC,EAAMmB,+DAaWm6B,uBAAwBvH,YACjD,IAAMwF,0BAA4BzgI,KAAK07H,sCAAsC8G,wBACvEjD,4BAA8Bv/H,KAAK4gI,6CACrC4B,uBACA/B,2BAGJzgI,KAAK86H,eAAL,GAAAtpH,OAAAuqF,mBACOk/B,WAAWqE,eADlBvjC,mBAEOwjC,6BAFPxjC,mBAGO/7F,KAAK86H,eAAetoH,OAAOiuH,0BAA4B,KAG9D,IAAMp4B,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,iBAAA+Q,OAAgCxR,KAAKk0H,4BACrC7rB,SAASnB,IAAM,yBAER,EAAC,EAAMmB,gEAaYm6B,uBAAwBvH,YAClD,IAAMwF,0BAA4BzgI,KAAK07H,sCAAsC8G,wBAG7E,GAF2BxiI,KAAK86H,eAAe2F,2BAExBzC,kBAAkBwE,wBAAyB,CAC9D,IAAM/C,eAAiBz/H,KAAK6gI,6CACxB2B,uBACA/B,2BAGJzgI,KAAK86H,eAAL,GAAAtpH,OAAAuqF,mBACOk/B,WAAWqE,eADlB,CAEIG,gBAFJ1jC,mBAGO/7F,KAAK86H,eAAetoH,OAAOiuH,0BAA4B,KAG9D,IAAM9K,WAAW,GAIjB,OAHAA,WAASl1H,IAAT,iBAAA+Q,OAAgCxR,KAAKk0H,4BACrCyB,WAASzuB,IAAM,yBAER,EAAC,EAAMyuB,YAGlB,IAAM4J,4BAA8Bv/H,KAAK8gI,8CACrC0B,uBACA/B,2BAGJzgI,KAAK86H,eAAL,GAAAtpH,OAAAuqF,mBACOk/B,WAAWqE,eADlBvjC,mBAEOwjC,6BAFPxjC,mBAGO/7F,KAAK86H,eAAetoH,OAAOiuH,0BAA4B,KAG9D,IAAMp4B,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,iBAAA+Q,OAAgCxR,KAAKk0H,4BACrC7rB,SAASnB,IAAM,yBAER,EAAC,EAAMmB,6CAzpDd,GAAIroG,KAAK86H,eAAe99H,OAAS,EAC7B,MAAM,IAAIk1B,UAAU,kDAGxB,OAAOlyB,KAAK86H,eAAe,2CAW3B,OAAO96H,KAAK4wG,WAAWoW,sDAWvB,OAAOhnH,KAAK86H,+CAWZ,OAAK96H,KAAK49H,aAIH59H,KAAK86H,eAAe,GAHhB,0CAcX,OAAK96H,KAAKgoH,kBAINhoH,KAAK4wG,WAAWoX,kBACThoH,KAAK4wG,WAAWmjB,aAGpB/zH,KAAK69H,QAAQ7W,gBAPT,uCAkBX,OAAO,EAAA0T,SAAA,SAAQ16H,KAAK86H,eAAgB,SAAC+H,aAAclH,UAC/C,OAAOkH,aAAarxH,OAAOmqH,SAASvjB,YACrC,6tBCzJX,IAAA0qB,UAAA/0C,uBAAAvxF,QAAA,mBACAq9G,UAAA9rB,uBAAAvxF,QAAA,mBACAumI,WAAAh1C,uBAAAvxF,QAAA,oBACAo8F,eAAA7K,uBAAAvxF,QAAA,0CACAu8F,iBAAAv8F,QAAA,mCAIAwmI,mBAAAxmI,QAAA,qCAMAo+H,qBAAAp+H,QAAA,uCACA6pG,gBAAA7pG,QAAA,+lCAcqBymI,yBAKjB,SAAAA,cAAYr9H,MACR,iIADckpF,CAAA9uF,KAAAijI,eACM,iBAATr9H,QAAsB,EAAAk9H,UAAA,SAASl9H,MACtC,MAAM,IAAIssB,UAAJ,4DAAA1gB,OAA0E5L,OAGpF5F,KAAKqpH,gBAAkBtwB,iBAAA2K,eACvB1jG,KAAKypH,gBAAkB1wB,iBAAA2K,eACvB1jG,KAAKkjI,cAAgBnqC,iBAAA2K,eACrB1jG,KAAKmjI,cAAgBpqC,iBAAA2K,eACrB1jG,KAAKojI,uBAAyBx4G,OAAOioF,OAAO,GAAImwB,mBAAAK,yBAChDrjI,KAAKsjI,gBAAkB14G,OAAOioF,OAAO,GAAImwB,mBAAAK,yBACzCrjI,KAAKujI,oBAAqB,EAC1BvjI,KAAKwjI,iBAAkB,EACvBxjI,KAAKyjI,mBAAoB,EACzBzjI,KAAKqI,MAAQ,GACbrI,KAAK0jI,eAAiB,KAEtB1jI,KAAKojC,KAAKx9B,sHA6MTA,MACD,IAAIujG,QAAUvjG,KACV+9H,aAAe,GAEnB,IAAI,EAAAb,UAAA,SAASl9H,MAAO,CAChB,GAAoB,IAAhBA,KAAK5I,OACL,MAAM,IAAIk1B,UAAJ,8DAAA1gB,OAA4E5L,OAFtE,IAAA02C,MAAA6/C,eAKUv2F,KALV,GAKfujG,QALe7sD,MAAA,GAKNqnF,aALMrnF,MAAA,GAQpBt8C,KAAKqI,MAAQ8gG,QAAQjkG,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAEnDlF,KAAK4jI,qBAAqBz6B,SAC1BnpG,KAAK6jI,mBAAmBF,cACxB3jI,KAAK8jI,sDAuBL,OAZA9jI,KAAKqpH,gBAAkBtwB,iBAAA2K,eACvB1jG,KAAKypH,gBAAkB1wB,iBAAA2K,eACvB1jG,KAAKkjI,cAAgBnqC,iBAAA2K,eACrB1jG,KAAKmjI,cAAgBpqC,iBAAA2K,eACrB1jG,KAAKojI,uBAAyBx4G,OAAOioF,OAAO,GAAImwB,mBAAAK,yBAChDrjI,KAAKsjI,gBAAkB14G,OAAOioF,OAAO,GAAImwB,mBAAAK,yBACzCrjI,KAAKujI,oBAAqB,EAC1BvjI,KAAKwjI,iBAAkB,EACvBxjI,KAAKyjI,mBAAoB,EACzBzjI,KAAKqI,MAAQ,GACbrI,KAAK0jI,eAAiB,KAEf1jI,oDAWPA,KAAKujI,oBAAqB,8CAW1BvjI,KAAKwjI,iBAAkB,+CAUNr6B,SACbA,QAAQ38F,QAAQ,OAASusF,iBAAA4f,cAMzBxP,QAAQ38F,QAAQ,OAASusF,iBAAA4f,cAMzBxP,QAAQ38F,QAAQ,OAASusF,iBAAA4f,eACzB34G,KAAK+jI,sBANL/jI,KAAKgkI,oBANLhkI,KAAKikI,qEAwBTjkI,KAAKyjI,mBAAoB,yCAYzBzjI,KAAKwjI,iBAAkB,qDAWA/kB,eAGvB,OAFAz+G,KAAKkkI,4CAA4CzlB,eAE1Cz+G,KAAK0jI,eAAexd,kBAAkBzH,cAAc9Z,mEAWnC8Z,eAGxB,OAFAz+G,KAAKkkI,4CAA4CzlB,eAE1Cz+G,KAAK0jI,eAAe7kB,mBAAmBJ,cAAc9Z,wDAU5D3kG,KAAKwjI,iBAAkB,2CAavB,OAAIxjI,KAAKqI,MAAMmE,QAAQw2H,mBAAAmB,wBAA0BprC,iBAAA4f,cACtCqqB,mBAAAoB,2BAGJpkI,KAAKqI,0CAWZ,GAAKrI,KAAKyjI,kBAAV,CAIA,IAAMY,wBAA0BrkI,KAAKqI,MAAMnD,QAAQ,IAAK,IAClDo/H,iBAAmB93G,SAAS63G,wBAAyBh+B,gBAAAk+B,eAG3D,OAFyB,EAAAl+B,gBAAAqD,kBAAiB46B,uEAalB37B,UACxB,OAAO3oG,KAAKqpH,kBAAoBtwB,iBAAA2K,gBAAkB1jG,KAAKqpH,iBAAmB1gB,6DAWlDA,UACxB,OAAO3oG,KAAKypH,kBAAoB1wB,iBAAA2K,gBAAkB1jG,KAAKypH,iBAAmB9gB,0DAWrDj1C,OACrB,IAAM8wE,SAAWxkI,KAAK2+G,aAEtB,OAAO6lB,WAAazrC,iBAAA2K,gBAAkB8gC,UAAY9wE,uDAW7BA,OACrB,OAAO1zD,KAAKkrH,eAAiBnyB,iBAAA2K,gBAAkB1jG,KAAKkrH,cAAgBx3D,+CAUpE1zD,KAAKsjI,gBAAgB1wE,MAAQowE,mBAAAK,wBAAwBzwE,uCAUhDc,OACL1zD,KAAKykI,gBAAgB/wE,OACrB1zD,KAAK0kI,gBAAgBhxE,+CAUTirD,eACP,EAAAokB,WAAA,SAAUpkB,cAOf3+G,KAAKkjI,cAAgBvkB,aANjBlyF,QAAQ4tB,KAAK,oDAAA7oC,OAAoDxR,KAAKW,KAAzD,OAAA,iBAAA6Q,OACQmtG,aADR,8CAgBLuM,eACP,EAAA6X,WAAA,SAAU7X,cAOflrH,KAAKmjI,cAAgBjY,aANjBz+F,QAAQ4tB,KAAK,wDAAA7oC,OAAwDxR,KAAKW,KAA7D,OAAA,iBAAA6Q,OACQ05G,aADR,0CAgBTviB,UACR3oG,KAAK2kI,mBAAmBh8B,UACxB3oG,KAAK4kI,mBAAmBj8B,qDAUT0gB,kBACV,EAAA0Z,WAAA,SAAU1Z,iBAOXA,gBAAkB,GAAuB,IAAlBA,gBACvB58F,QAAQ4tB,KAAK,gCAAA7oC,OAAgCxR,KAAKqI,MAArC,qCAAA,6BAAAmJ,OACoB63G,gBADpB,MAMjBrpH,KAAKqpH,gBAAkBA,gBAbnB58F,QAAQ4tB,KAAK,uDAAA7oC,OAAuDxR,KAAKqI,MAA5D,OAAA,iBAAAmJ,OACQ63G,gBADR,iDAuBFI,kBACV,EAAAsZ,WAAA,SAAUtZ,iBAOXA,gBAAkB,GAAuB,IAAlBA,gBACvBh9F,QAAQ4tB,KAAK,gCAAA7oC,OAAgCxR,KAAKqI,MAArC,qCAAA,sCAAAmJ,OAC6Bi4G,gBAD7B,MAMjBzpH,KAAKypH,gBAAkBA,gBAbnBh9F,QAAQ4tB,KAAK,uDAAA7oC,OAAuDxR,KAAKqI,MAA5D,OAAA,iBAAAmJ,OACQi4G,gBADR,uDA0BIlgB,gBASrBvpG,KAAKojI,uBAAyBx4G,OAAOioF,OAAO,GAAImwB,mBAAAK,wBAAyB95B,gBACzEvpG,KAAKsjI,gBAAkB14G,OAAOioF,OAAO,GAAImwB,mBAAAK,wBAAyB95B,0DAcpDA,eAAgBD,wBAC9B,IAAM5nG,OAASkpB,OAAOioF,OAAO,GAAI7yG,KAAKojI,uBAAwB75B,gBAQ9D,OAN6B,MAAzB7nG,OAAO8nG,iBACP9nG,OAAO8nG,eAAiBF,wBAG5BtpG,KAAKsjI,gBAAkB5hI,gEAgBM6nG,gBAAoD,IAApCD,uBAAoC,EAAAzkG,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,QAAXjC,EAChElB,OAAS1B,KAAK6kI,kBAAkBt7B,eAAgBD,wBAItD,OAFAtpG,KAAK8kI,eAEEpjI,4CAUEqjI,gBACT,GAA8B,iBAAnBA,eACP,MAAM,IAAI7yG,UAAU,+CAAA,6BAAA1gB,OAAAiiG,QACoBsxB,kBAG5C/kI,KAAKsjI,gBAAgB1wE,MAAQmyE,iEAYPC,aAAa,IAAAC,uBAAA9oC,gBACT,EAAAy+B,qBAAAsK,0BAAyBF,aADhB,GAC5Br8B,SAD4Bs8B,uBAAA,GAClBE,MADkBF,uBAAA,GAGnC,GAAgB,MAAZt8B,SACA,MAAM,IAAIhsG,MAAJ,qDAAA6U,OAA+DwzH,cAG3D,MAAVG,MAMU,MAAVA,OAMJnlI,KAAKqpH,gBAAkB1gB,SACvB3oG,KAAKypH,gBAAkB9gB,UANnB3oG,KAAKqpH,gBAAkB1gB,SANvB3oG,KAAKypH,gBAAkB9gB,oDAsBZg7B,cACf,KAAI,EAAA9pB,UAAA,SAAS8pB,cAMb,IAFA,IAAMyB,sBAAwBzB,aAAalsH,MAAM,KAExCpb,EAAI,EAAGA,EAAI+oI,sBAAsBpoI,OAAQX,IAAK,CACnD,IAAM2oI,YAAcI,sBAAsB/oI,GAG1C,GAAuB,MAAnB2oI,YAAY,GACZhlI,KAAKqlI,0BAA0BL,iBAC5B,CAAA,GAAuB,MAAnBA,YAAY,GAGnB,MAAM,IAAI9yG,UAAU,8CAAA,wBAAA1gB,OACQwzH,YAAY,GADpB,MAFpBhlI,KAAKslI,uBAAuBN,8DAejBA,aAAa,IAAAO,uBAAAppC,gBACT,EAAAy+B,qBAAA4K,uBAAsBR,aADb,GACzBtxE,MADyB6xE,uBAAA,GAClBJ,MADkBI,uBAAA,GAGhC,GAAa,MAAT7xE,MACA,MAAM,IAAI/2D,MAAJ,kDAAA6U,OAA4DwzH,cAGxD,MAAVG,MAMU,MAAVA,OAMJnlI,KAAKkjI,cAAgBxvE,MACrB1zD,KAAKmjI,cAAgBzvE,OANjB1zD,KAAKkjI,cAAgBxvE,MANrB1zD,KAAKmjI,cAAgBzvE,0EA+Be+qD,eACxC,KAAMA,yBAAyBwkB,eAC3B,MAAM,IAAI/wG,UAAJ,yDAAA1gB,OAAuEitG,cAAvE,MAGV,GAAIz+G,KAAKyjI,mBAAqBhlB,cAAcwI,iBACxC,MAAM,IAAI/0F,UAAU,kIAWxB,IAAIlyB,KAAKyjI,kBAAT,CAIA,IAAMgC,YAAc7sC,eAAA,QAAc8sC,2BAA2B1lI,KAAKqI,OAElE,IAAKo9H,YACD,MAAM,IAAIvzG,UAAJ,0DAAA1gB,OAAwExR,KAAKqI,MAA7E,MAGVrI,KAAK0jI,eAAiB+B,kEA7vBtB,OAAOzlI,KAAKqpH,kBAAoBtwB,iBAAA2K,oEAWhC,OAAO1jG,KAAKypH,kBAAoB1wB,iBAAA2K,8DAWhC,OAAO1jG,KAAKwzH,8BAAgCxzH,KAAK2zH,oEAWjD,OAAO3zH,KAAK+7H,wBAA0B/7H,KAAKm0H,uEAW3C,OAAOn0H,KAAK2+G,eAAiB5lB,iBAAA2K,kEAW7B,OAAO1jG,KAAKkrH,eAAiBnyB,iBAAA2K,2DAW7B,OAAO1jG,KAAK2lI,4BAA8B3lI,KAAK4lI,kEAc/C,GAAK5lI,KAAKwjI,gBAIV,OAAOxjI,KAAKsjI,0DAcZ,OAAOtjI,KAAKujI,0DAWZ,OAAOvjI,KAAKwjI,yDAaZ,OAAOxjI,KAAKyjI,+CAWZ,OAAOzjI,KAAKqI,4CAWZ,OAAOrI,KAAK0jI,wDAWZ,IAAI1jI,KAAKinH,iBAIT,OAAOjnH,KAAK0jI,eAAe7nC,sDAS3B,OAAI77F,KAAKmnH,qBAAwDvkH,IAAtC5C,KAAKsjI,gBAAgB3kB,aACrC3+G,KAAKsjI,gBAAgB3kB,aAGzB3+G,KAAKkjI,mDASZ,OAAOljI,KAAKmjI,4jBCnPpB,IAAAn9B,sBAAAxpG,QAAA,0BAKAu8F,iBAAAv8F,QAAA,mCACA6pG,gBAAA7pG,QAAA,0TAOqBqpI,0BAKjB,SAAAA,gJAAc/2C,CAAA9uF,KAAA6lI,gBASV7lI,KAAK8lI,WAAY,EAYjB9lI,KAAKkiH,aAAelc,sBAAA6F,SAASsW,SAASC,IAStCpiH,KAAKwkH,cAAgBxe,sBAAA6F,SAAS4Y,UAAUrC,IAYxCpiH,KAAK4rG,YAAc5F,sBAAA6F,SAASC,QAAQsW,IAWpCpiH,KAAKisG,UAAYjG,sBAAA6F,SAASK,MAAMkW,IAahCpiH,KAAK2oG,SAAW5P,iBAAA2K,eAShB1jG,KAAK4lH,OAAS7sB,iBAAA2K,eAcd1jG,KAAKmoG,QAAUpP,iBAAA2K,eAWf1jG,KAAK0zD,MAAQqlC,iBAAA2K,eAWb1jG,KAAKosH,8BAA+B,EASpCpsH,KAAK+/G,UAAY,KASjB//G,KAAK+lI,aAAe,EAEpB/lI,KAAKojC,0HAoBL,OAAOpjC,sCAUHA,KAAK8lI,YAIT9lI,KAAK8lI,WAAY,EAEjB9lI,KAAKgmI,qBAAqBhgC,sBAAAuf,cAAcd,UAAWze,sBAAA6F,SAAS4Y,UAAUC,uCAUjE1kH,KAAK8lI,YAIV9lI,KAAK8lI,WAAY,EACjB9lI,KAAKgmI,qBAAqBhgC,sBAAAuf,cAAcd,UAAWze,sBAAA6F,SAAS4Y,UAAUrC,2CAU7D6jB,OACTjmI,KAAK+/G,UAAYkmB,8CAWLF,cACZ/lI,KAAK+lI,aAAeA,2DAUpB/lI,KAAKgmI,qBAAqBhgC,sBAAAuf,cAAcpD,SAAUnc,sBAAA6F,SAASsW,SAAS3D,wDAUlD7V,UAClB3oG,KAAKkmI,eAAelgC,sBAAAmgC,eAAehkB,SAAUxZ,oDAU7C3oG,KAAKgmI,qBAAqBhgC,sBAAAuf,cAAcpD,SAAUnc,sBAAA6F,SAASsW,SAASpW,gDAUpE/rG,KAAKgmI,qBAAqBhgC,sBAAAuf,cAAcpD,SAAUnc,sBAAA6F,SAASsW,SAASiD,kDAUpDQ,QAChB5lH,KAAKkmI,eAAelgC,sBAAAmgC,eAAeC,OAAQxgB,qDAU1Bzd,SACjBnoG,KAAKkmI,eAAelgC,sBAAAmgC,eAAer6B,QAAS3D,kDAU5CnoG,KAAKgmI,qBAAqBhgC,sBAAAuf,cAAczZ,QAAS9F,sBAAA6F,SAASC,QAAQC,+CAUlE/rG,KAAKgmI,qBAAqBhgC,sBAAAuf,cAAczZ,QAAS9F,sBAAA6F,SAASC,QAAQ6Y,iDAUlE3kH,KAAKgmI,qBAAqBhgC,sBAAAuf,cAAczZ,QAAS9F,sBAAA6F,SAASC,QAAQgZ,oDAUnDpxD,OACf1zD,KAAKkmI,eAAelgC,sBAAAmgC,eAAej6B,MAAOx4C,8CAU1C1zD,KAAKgmI,qBAAqBhgC,sBAAAuf,cAAcrZ,MAAOlG,sBAAA6F,SAASK,MAAMH,2CAU9D/rG,KAAKgmI,qBAAqBhgC,sBAAAuf,cAAcrZ,MAAOlG,sBAAA6F,SAASK,MAAMiZ,2CAU9DnlH,KAAKgmI,qBAAqBhgC,sBAAAuf,cAAcrZ,MAAOlG,sBAAA6F,SAASK,MAAMkZ,0DActC5J,eAAgBE,gBAAiB2qB,gBAAiBC,eAAgBC,cAE1F,IAAMC,gBAAkBzzG,KAAKw5C,IAAIivC,eAAgBE,gBAAiB2qB,iBAElErmI,KAAKi+G,sBAAsBuoB,iBAC3BxmI,KAAKymI,mBAGmB,IAApBjrB,iBACAx7G,KAAKi+G,sBAAsBlrF,KAAKw5C,IAAImvC,gBAAiB2qB,kBACrDrmI,KAAKk+G,mBAGTl+G,KAAKm+G,qBAAqBmoB,gBAC1BtmI,KAAKsrG,iBACLtrG,KAAKqiH,mBAAmBkkB,cACxBvmI,KAAK0mI,eACL1mI,KAAKoyF,gDAWMu0C,UAAWnhI,OACtBxF,KAAK2mI,WAAanhI,mDAWDohI,aAAcC,MAC/B7mI,KAAK4mI,cAAgBC,8CA7PrB,OAAO9zG,KAAKC,OAAM,EAAAqzE,gBAAAwG,kBAAiB7sG,KAAKmoG,4iBCvJzC,IAAM2+B,kBAAoB,CAC7B/6B,KAAM,OACNyS,SAAU,WACVuoB,aAAc,eACd3kB,IAAK,MACL4kB,eAAgB,iBAChB5hB,KAAM,QAWG6hB,mBAAqB,CAC9BviB,GAAI,KACJtC,IAAK,OAWI8kB,iBAAmB,CAC5Bn7B,KAAM,OACN4Y,KAAM,OACNvC,IAAK,MACL0C,QAAS,WAWAqiB,eAAiB,CAC1BJ,aAAc,eACd5hB,GAAI,KACJ/C,IAAK,MACLrW,KAAM,OACNqZ,KAAM,QAUGvZ,SAAW,CACpBsW,qDACAsC,wDACA3Y,kDACAI,6FAUyB,CACzBiW,SAAU,eACVsC,UAAW,gBACX3Y,QAAS,cACTI,MAAO,oCAUmB,CAC1BiW,SAAU,WACVikB,OAAQ,SACRt6B,QAAS,UACTI,MAAO,+ICpGX,IAAAsN,OAAAzrB,uBAAAvxF,QAAA,gBACAg1G,OAAAzjB,uBAAAvxF,QAAA,gBACAm9G,QAAA5rB,uBAAAvxF,QAAA,iBACAwxF,QAAAD,uBAAAvxF,QAAA,iBACAq2F,mBAAA9E,uBAAAvxF,QAAA,oCACAw9G,KAAAjsB,uBAAAvxF,QAAA,kCACAy9G,gBAAAlsB,uBAAAvxF,QAAA,kCACA+2F,mBAAAxF,uBAAAvxF,QAAA,8CACAwpG,sBAAAxpG,QAAA,uCACAypG,mBAAAzpG,QAAA,qCACAu8F,iBAAAv8F,QAAA,mCACA0pG,QAAA1pG,QAAA,qBACA4pG,gBAAA5pG,QAAA,kCASA6pG,gBAAA7pG,QAAA,+lCAYqB4qI,iBAOjB,SAAAA,MAAYh9B,IAAKi9B,gBACb,iIAD6Bv4C,CAAA9uF,KAAAonI,SACvBh9B,eAAe4P,KAAA,SACjB,MAAM,IAAI9nF,UAAJ,mDAAA1gB,OAAAiiG,QAAwErJ,OAGlF,KAAMi9B,0BAA0BptB,gBAAA,SAC5B,MAAM,IAAI/nF,UAAU,6CAAA,gCAAA1gB,OAAAiiG,QACuB4zB,kBAuC/C,OA9BArnI,KAAKsnI,KAAO,KAQZtnI,KAAKunI,KAAO,KAUZvnI,KAAKwoG,sBAAuB,EAU5BxoG,KAAKktG,uBAAwB,EAEtBltG,KAAKojC,KAAKgnE,IAAKi9B,wHAQrBj9B,IAAKi9B,gBAMN,OALArnI,KAAKsnI,KAAOl9B,IACZpqG,KAAKunI,KAAOF,eACZrnI,KAAKwoG,sBAAuB,EAC5BxoG,KAAKktG,uBAAwB,EAEtBltG,qCAcP,OALAA,KAAKsnI,KAAO,KACZtnI,KAAKunI,KAAO,KACZvnI,KAAKwoG,sBAAuB,EAC5BxoG,KAAKktG,uBAAwB,EAEtBltG,8CAeM2oG,SAAU6+B,SAAU1/B,qBAAsBiC,aAAc5Q,eACrE,IAAMt7B,SAAWs7B,cAAcsuC,qBAAqB9+B,SAAUoB,cAE9D,IAAKlsC,SAAS,GACV,OAAOA,SAGX,IAAMwoE,gBAAkBltC,cAAcwP,SAClC++B,gBAAkB39B,aAAa49B,+BAA+Bh/B,UAE9Db,sBAAwB4/B,kBAAoB39B,aAAa4R,wBAEzD+rB,iBAAmB,GAGvB1nI,KAAKyoG,wBAAwBtP,eAC7Bn5F,KAAKunI,KAAKtpB,sBAAsBypB,iBAChC1nI,KAAKunI,KAAKrpB,kBACVl+G,KAAKunI,KAAKnb,8BAA+B,EAGzC,IAAMwb,kBAAmB,EAAAjuB,QAAA,SAAO+tB,iBAAkB,GAC5CG,qBAAsB,EAAAzhC,gBAAA0hC,aAAY,WAAYzB,gBAAiB19B,UAC/Do/B,gBAAiB,EAAA3hC,gBAAAqF,gBAAem8B,kBAClCI,iBAAmB,GAEnBR,WACAxnI,KAAKunI,KAAKnb,8BAA+B,EAGzC4b,iBAAmB,iBAGvB,IAAM3/B,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,GAAA+Q,OAAkBq2H,oBAAlB,KAAAr2H,OAAyCo2H,kBAAzCp2H,OAA4Dw2H,kBAC5D3/B,SAASnB,IAAT,GAAA11F,OAAkBq2H,oBAAlB,KAAAr2H,OAAyCu2H,gBAAzCv2H,OAA0Dw2H,kBAEnD,EAAC,EAAM3/B,kDAeFlP,cAAemrC,iBAAkBp8B,UAAWE,aACxD,IAAM6/B,sBAAuB,EAAA5hC,gBAAAqD,kBAAiB46B,kBAC1C4D,iBAAmBD,qBAEnB7/B,cAEA8/B,kBAAmB,EAAAhiC,QAAAuD,mBAAkBtQ,cAAcgP,QAAU8/B,sBAE3C,UAAd//B,YACAggC,kBAAmB,EAAAhiC,QAAAuD,mBAAkBtQ,cAAcgP,QAAU8/B,wBAIrEjoI,KAAKyoG,wBAAwBtP,eAC7Bn5F,KAAK6pG,uBACL7pG,KAAKunI,KAAKppB,qBAAqB+pB,kBAC/BloI,KAAKunI,KAAKnpB,iBAEV,IAAM+pB,YAAa,EAAA9hC,gBAAAqF,mBAAkBw8B,kBAC/B7/B,SAAW,GAYjB,OAXAA,SAAS5nG,IAAT,eAAA+Q,OAA8B22H,YAC9B9/B,SAASnB,IAAT,eAAA11F,QAA8B,EAAA40F,gBAAAuF,eAAcw8B,aAExC//B,aACAC,SAAS5nG,IAAT,QAAA+Q,OAAuB8yH,iBAAvB,aAAA9yH,OAAmD02F,WACnDG,SAASnB,IAAT,QAAA11F,QAAuB,EAAA40F,gBAAA8W,cAAaonB,kBAApC,aAAA9yH,OAAiE02F,YAC1DA,YACPG,SAAS5nG,IAAT,QAAA+Q,OAAuB02F,UAAvB,aAAA12F,OAA4C22H,YAC5C9/B,SAASnB,IAAT,QAAA11F,OAAuB02F,UAAvB,aAAA12F,QAA4C,EAAA40F,gBAAAuF,eAAcw8B,cAGvD,EAAC,EAAM9/B,yDAWKlP,eACnBn5F,KAAKyoG,wBAAwBtP,eAC7Bn5F,KAAKunI,KAAKppB,qBAAqBhlB,cAAcgP,SAC7CnoG,KAAKunI,KAAKnpB,iBAEV,IAAM/V,SAAW,GACX+/B,gBACFjvC,cAAcsR,cAAgBxE,mBAAAc,aAAa8P,SAAW1d,cAAcsR,cAAgBxE,mBAAAc,aAAaC,QACjG,SAAW,UAIf,OAHAqB,SAAS5nG,IAAT,OAAA+Q,OAAsB42H,gBAAtB,YACA//B,SAASnB,IAAT,OAAA11F,OAAsB42H,gBAAtB,YAEO,EAAC,EAAM//B,gDAYJ30C,MAAOylC,eACjB,IAAKA,cAAcgf,MAAM6W,sBAAsBt7D,OAAQ,CACnD,IAAM24C,UAAW,GAIjB,OAHAA,UAAS5rG,IAAT,sBAAA+Q,OAAqCkiD,MAArC,6BACA24C,UAASnF,IAAT,sBAAA11F,QAAqC,EAAA40F,gBAAA4F,gBAAet4C,OAApD,6BAEO,EAAC,EAAO24C,WAGnB,IAAMk6B,aAAeptC,cAAczlC,MAC7B20E,aAAc,EAAAjiC,gBAAA0hC,aAAY,QAASvB,aAAc7yE,OAEvD1zD,KAAKunI,KAAKllB,mBAAmB3uD,OAC7B1zD,KAAKunI,KAAKe,eAGV,IAAMjgC,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,GAAA+Q,OAAkB62H,YAAlB,KAAA72H,OAAiCkiD,OACjC20C,SAASnB,IAAT,GAAA11F,OAAkB62H,YAAlB,KAAA72H,QAAiC,EAAA40F,gBAAA4F,gBAAet4C,QAEzC,EAAC,EAAM20C,wDAaI2C,YAAalb,aAAa,IAAAy4C,uBAAApsC,eACbn8F,KAAKsnI,KAAK5S,wBAAwB1pB,aADrB,GACrC5I,WADqCmmC,uBAAA,GACzB1qE,SADyB0qE,uBAAA,GAG5C,IAAKnmC,WACD,MAAO,EAAC,EAAOvkC,UAGnB79D,KAAK6pG,uBAGL,IAAMxB,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,cAAA+Q,OAA6Bs+E,YAA7B,aAAAt+E,OAAoDxR,KAAKsnI,KAAK1V,YAAYgE,cAAcr6E,cAAxF,YACA8sD,SAASnB,IAAT,cAAA11F,OAA6Bs+E,YAA7B,aAAAt+E,OAAoDxR,KAAKsnI,KAAK1V,YAAYiE,cAAct6E,cAAxF,YAEO,EAAC,EAAM8sD,0DAaM2C,YAAa9H,aAAa,IAAAslC,uBAAArsC,eACfn8F,KAAKsnI,KAAKjS,0BAA0BrqB,YAAa9H,aADlC,GACvCd,WADuComC,uBAAA,GAC3B3qE,SAD2B2qE,uBAAA,GAG9C,IAAKpmC,WACD,MAAO,EAAC,EAAOvkC,UAGnB79D,KAAKktG,uBAAwB,EAE7B,IAAMu7B,QAAUzoI,KAAKsnI,KAAKh6B,aACpBo7B,QAAU1oI,KAAKsnI,KAAK/5B,aACpBlF,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,kCAAA+Q,OAAiDi3H,QAAQltF,cAAzD,6BACA8sD,SAASnB,IAAT,kCAAA11F,OAAiDk3H,QAAQntF,cAAzD,6BAEO,EAAC,EAAM8sD,6DAWS2C,aACvB,IAAM3C,SAAWroG,KAAKsnI,KAAKn8B,2BAA2BH,aAQtD,OANI3C,SAAS,KACTroG,KAAKktG,uBAAwB,EAE7BltG,KAAK6pG,wBAGFxB,+DAamBtW,SAAUyjC,iBACpC,OAAIzjC,SAASod,aACF,EAAC,EAAO,6DAGZnvG,KAAKsnI,KAAK98B,8BAA8BgrB,iEAc3Br8B,eACpB,IAAKn5F,KAAKwoG,qBACN,MAAO,EAAC,EAAO,4CAGnB,IAAM/Y,QAAUoD,mBAAA,QAAkBkV,cAC5Bs+B,iBAAkB,EAAA1sB,QAAA,SAAOxgB,cAAcwP,UAAW,GAClD69B,gBAAkBzzG,KAAKw5C,IAAI85D,gBAAiBrmI,KAAKunI,KAAK5+B,UACtDggC,mBAAqB51G,KAAKi6B,IAAIw5E,gBAAiB/2C,QAAQo/B,uBAE7D7uH,KAAKunI,KAAKtpB,sBAAsB0qB,oBAChC3oI,KAAKunI,KAAKrpB,kBACVl+G,KAAKunI,KAAKppB,qBAAqBhlB,cAAcgP,SAC7CnoG,KAAKunI,KAAKnpB,iBACVp+G,KAAKunI,KAAKe,eAOV,MAAO,GALPtoI,KAAKwoG,sBAAuB,GAEX,8IAcIrP,eACrB,IAAIA,cAAc6T,aAMlB,MAAO,GAFPhtG,KAAKktG,uBAAwB,GAEf,0GAWG/D,SACjB,IAAIy/B,mBAAoB,EAAAp3B,OAAA,SAAMxxG,KAAKsnI,KAAKlvB,UAAW,SAACqG,eAAD,OAAmBA,cAAc0I,iBAEpF,OAAKyhB,mBAIDz/B,UACAy/B,kBAAoB5oI,KAAKsnI,KAAKuB,aAAa1/B,WAEhBy/B,kBAAkBzhB,gBAQjDyhB,kBAAkBE,iBAEX,EAAC,EAAM,CACVroI,IAAG,mCAAA+Q,OAAqCo3H,kBAAkBG,kBAC1D7hC,IAAG,mCAAA11F,OAAqC+hF,mBAAA,QAAkB6/B,iBAAiBwV,kBAAkBjoI,UAXlF,EAAC,EAAO,CACXF,IAAG,iEAAA+Q,OAAmE23F,QAAQ5tD,eAC9E2rD,IAAG,iEAAA11F,OAAmE+hF,mBAAA,QAAkB6/B,iBAAiBjqB,YAT1G,EAAC,EAAO,sHAgCnB,IAAMd,SAAW,CACjB5nG,IAAe,kCACfymG,IAAe,mCAEf,MAAO,CANPlnG,KAAKktG,uBAAwB,EAMf7E,8CAiBNlP,cAAe6vC,iBACvB,IAAIra,aAAeqa,qBAGS,IAAjBra,eACPA,aAAe3uH,KAAKsnI,KAAKhrB,oBALW,IAQhC6D,sBAA0BngH,KAAKsnI,KAA/BnnB,sBACF8oB,cAAgB9vC,cAAcsuC,qBAAqB9Y,aAAcxO,uBAEvE,IAAK8oB,cAAc,GACf,OAAOA,cAKX,GAFAta,aAAexO,sBAAsBwnB,+BAA+BhZ,cAEhEx1B,cAAcwP,SAAWgmB,aAAc,CACvC,IAAM0X,iBAAkB,EAAA7sB,OAAA,SAAMrgB,cAAcwP,UAAW,GACjDgtB,WAAW,GAIjB,OAHAA,WAASl1H,IAAT,4BAAA+Q,OAA2C60H,iBAC3C1Q,WAASzuB,IAAT,4BAAA11F,QAA2C,EAAA40F,gBAAAqF,gBAAe46B,kBAEnD,EAAC,EAAO1Q,YAGnB31H,KAAKunI,KAAKtpB,sBAAsB0Q,cAChC3uH,KAAKunI,KAAKd,kBACVzmI,KAAKunI,KAAKb,eAEV,IAAMr+B,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,8BAAA+Q,OAA6Cm9G,cAC7CtmB,SAASnB,IAAT,8BAAA11F,QAA6C,EAAA40F,gBAAAqF,gBAAekjB,eAErD,EAAC,EAAMtmB,iDAgBHlP,cAAeqiB,gBAC1B,IAAImT,aAAenT,oBAES,IAAjBmT,eACPA,aAAe3uH,KAAKsnI,KAAK7rB,qBAJa,IAOlC2E,oBAAwBpgH,KAAKsnI,KAA7BlnB,oBACF6oB,cAAgB9vC,cAAcsuC,qBAAqB9Y,aAAcvO,qBAEvE,IAAK6oB,cAAc,GACf,OAAOA,cAKX,GAFAta,aAAevO,oBAAoBunB,+BAA+BhZ,cAE9Dx1B,cAAcwP,SAAWgmB,aAAc,CACvC,IAAM0X,iBAAkB,EAAA7sB,OAAA,SAAMrgB,cAAcwP,UAAW,GACjDomB,WAAW,GAIjB,OAHAA,WAAStuH,IAAT,4BAAA+Q,OAA2C60H,iBAC3CtX,WAAS7nB,IAAT,4BAAA11F,QAA2C,EAAA40F,gBAAAqF,gBAAe46B,kBAEnD,EAAC,EAAOtX,YAGnB/uH,KAAKunI,KAAKtpB,sBAAsB0Q,cAChC3uH,KAAKunI,KAAKd,kBACVzmI,KAAKunI,KAAKb,eAEV,IAAMr+B,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,iCAAA+Q,OAAgDm9G,cAChDtmB,SAASnB,IAAT,iCAAA11F,QAAgD,EAAA40F,gBAAAqF,gBAAekjB,eAExD,EAAC,EAAMtmB,2CAcTlP,cAAegQ,QAASR,SAAUj1C,OACvC,IAAKi1C,WAAaj1C,MACd,MAAO,EAAC,EAAO,mFAGnB,IAAK6/B,mBAAA,QAAkBwmC,WAAW5wB,SAK9B,MAAO,EAAC,EAJS,CACb1oG,IAAG,mBAAA+Q,OAAqB23F,QAAQ5tD,cAA7B,KACH2rD,IAAG,kBAAA11F,OAAoB+hF,mBAAA,QAAkB6/B,iBAAiBjqB,YAKlE,IAAKnpG,KAAKsnI,KAAKtU,gBAAgB7pB,SAK3B,MAAO,EAAC,EAJS,CACb1oG,IAAG,YAAA+Q,OAAc23F,QAAQ5tD,cAAtB,yBACH2rD,IAAG,WAAA11F,OAAa+hF,mBAAA,QAAkB6/B,iBAAiBjqB,SAAhD,0BAKX,IAAMY,aAAe/pG,KAAKsnI,KAAKlnB,qBAAuBpgH,KAAKsnI,KAAKnnB,sBAC1D2J,SAAW9pH,KAAKsnI,KAAKuB,aAAa1/B,SAGxC,IAAKz1C,MAAO,CACR,IAAMw1E,eAAgB/vC,cAAcsuC,qBAAqB9+B,SAAUoB,cAEnE,OAAKm/B,eAAc,IAInBvgC,SAAWoB,aAAa49B,+BAA+Bh/B,UAEvDmhB,SAASqf,YAAYxgC,UACrB3oG,KAAKunI,KAAKtpB,sBAAsBtV,UAChC3oG,KAAKunI,KAAKd,kBAOH,EAAC,EALS,CACbhmI,IAAG,SAAA+Q,OAAW23F,QAAQ5tD,cAAnB,QAAA/pC,OAAuCm3F,UAC1CzB,IAAG,SAAA11F,OAAW+hF,mBAAA,QAAkB6/B,iBAAiBjqB,SAA9C,QAAA33F,QAA6D,EAAA40F,gBAAAqF,gBAAe9C,cAXxEugC,eAkBf,IAAKvgC,SAAU,CACX,IAAMygC,YAAajwC,cAAckwC,kBAAkB31E,OAEnD,OAAK01E,YAAW,IAIhBtf,SAASwf,SAAS51E,OAClB1zD,KAAKunI,KAAKllB,mBAAmB3uD,OAC7B1zD,KAAKunI,KAAKb,eAOH,EAAC,EALS,CACbjmI,IAAG,SAAA+Q,OAAW23F,QAAQ5tD,cAAnB,QAAA/pC,OAAuCkiD,MAAvC,MACHwzC,IAAG,SAAA11F,OAAW+hF,mBAAA,QAAkB6/B,iBAAiBjqB,SAA9C,QAAA33F,QAA6D,EAAA40F,gBAAA4F,gBAAet4C,OAA5E,aATI01E,YAgBf,IAAMH,cAAgB9vC,cAAcsuC,qBAAqB9+B,SAAUoB,cAC7Dw/B,WAAapwC,cAAckwC,kBAAkB31E,OAEnD,OAAKu1E,cAAc,GAIdM,WAAW,IAIhBzf,SAASqf,YAAYxgC,UACrBmhB,SAASwf,SAAS51E,OAClB1zD,KAAKunI,KAAKtpB,sBAAsBtV,UAChC3oG,KAAKunI,KAAKllB,mBAAmB3uD,OAC7B1zD,KAAKunI,KAAKd,kBACVzmI,KAAKunI,KAAKb,eAOH,EAAC,EALS,CACbjmI,IAAG,SAAA+Q,OAAW23F,QAAQ5tD,cAAnB,QAAA/pC,OAAuCm3F,SAAvC,SAAAn3F,OAAuDkiD,MAAvD,MACHwzC,IAAG,SAAA11F,OAAW+hF,mBAAA,QAAkB6/B,iBAAiBjqB,SAA9C,QAAA33F,QAA6D,EAAA40F,gBAAAqF,gBAAe9C,UAA5E,SAAAn3F,QAA6F,EAAA40F,gBAAA4F,gBAAet4C,OAA5G,aAZI61E,WAJAN,+CAgCN9gC,QAASz0C,MAAOm7C,kBACrB,IAAM85B,oBAAqB,EAAAnvB,OAAA,SAAM3K,kBAAmB,GAAK,IAEzD7uG,KAAKunI,KAAKppB,qBAAqBhW,SAC/BnoG,KAAKunI,KAAKnpB,iBACVp+G,KAAKunI,KAAKtpB,sBAAsB0qB,oBAChC3oI,KAAKunI,KAAKrpB,kBACVl+G,KAAKunI,KAAKllB,mBAAmB3uD,OAC7B1zD,KAAKunI,KAAKe,eAEV,IAAMjgC,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,4CAAA+Q,OAA2Dm3H,oBAC3DtgC,SAASnB,IAAT,4CAAA11F,QAA2D,EAAA40F,gBAAAqF,gBAAek9B,qBAEnE,EAAC,EAAMtgC,mDAaD49B,MAAOrgB,QACpB5lH,KAAKunI,KAAKiC,aAAavD,OACvBjmI,KAAKunI,KAAKkC,oBAAoB7jB,QAC9B5lH,KAAKunI,KAAKmC,mBAEV,IAAMrhC,SAAW,CACjB5nG,IAAe,sBACfymG,IAAe,uBAEf,MAAO,EAAC,EAAMmB,sDAcE49B,MAAOrgB,OAAQmgB,cAG/B,OAAI/lI,KAAKunI,KAAKxnB,YAAckmB,MACjB,EAAC,EAAO,2FAGfjmI,KAAKunI,KAAK3hB,SAAWA,OACd,EACH,EACA,gGAKR5lH,KAAKunI,KAAKoC,gBAAgB5D,cAK1B/lI,KAAKunI,KAAKqC,sBAEH,EAAC,EAAM,0EAeQzwC,cAAe0wC,aAAc5/B,aACnD,IAAI,EAAAjc,QAAA,SAAOic,aACP,MAAO,EAAC,EAAO,uCAGnB,IAAM6/B,mCAAqC7/B,YAAY8/B,wCAEvD,GAAI5wC,cAAckS,IAAI1C,SAAWmhC,mCAAoC,CACjE,IAAME,WAAW,GAOjB,OALAA,WAASvpI,IAAM,cAAA+Q,OAAcy4F,YAAYtpG,KAA1B,iDAAA,mDAAA6Q,OACwCs4H,oCACvDE,WAAS9iC,IAAM,cAAA11F,QAAc,EAAA40F,gBAAAkE,cAAaL,YAAYtpG,MAAvC,iDAAA,mDAAA6Q,QACwC,EAAA40F,gBAAAqF,gBAAeq+B,qCAE/D,EAAC,EAAOE,YAInB,IAAM/D,MAAQh8B,YAAYtF,cACpBihB,OAAS3b,YAAY6C,MACrBi5B,aAAe97B,YAAYggC,IAAIC,mBAC/BC,gBAAkBnqI,KAAKoqI,iBAAiBnE,MAAOrgB,QAC/CykB,iBAAmBrqI,KAAKsqI,oBAAoBrE,MAAOrgB,OAAQmgB,cAGjE,IAAKoE,gBAAgB,GACjB,OAAOA,gBAGX,IAAKE,iBAAiB,GAClB,OAAOA,iBAGXrqI,KAAK6pG,uBACL7pG,KAAKsnI,KAAK1U,iBAAiB3oB,aAC3BjqG,KAAKwoG,sBAAuB,EAE5B,IAAMH,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,WAAA+Q,OAA0Bq4H,aAAatuF,cAAvC,YAAA/pC,OAA+Dy4F,YAAYtpG,KAA3E,aACA0nG,SAASnB,IAAT,WAAA11F,OAA0Bq4H,aAAatuF,cAAvC,YAAA/pC,QAA+D,EAAA40F,gBAAAkE,cAAaL,YAAYtpG,MAAxF,aAEO,EAAC,EAAM0nG,yDAcKc,QAASI,eAAgBD,wBAAwB,IAAAihC,uBAAApuC,eACnCn8F,KAAKsnI,KAAKnU,4BAA4BhqB,QAASI,eAAgBD,wBAD5B,GAC7D9rC,QAD6D+sE,uBAAA,GACpDC,cADoDD,uBAAA,GAGpE,IAAK/sE,QACD,MAAO,CAACA,QAASgtE,eAMrBjhC,eAAiBihC,cAEjB,IAAMC,YAAa,EAAApkC,gBAAAqF,mBAAkBnC,eAAeC,eAAiBz2E,KAAK89B,IACpE65E,0BAA2B,EAAAtkC,gBAAAukC,yCAAwCphC,eAAeC,gBAClFohC,uBAAsB,GAAAp5H,OAAM+3F,eAAeN,cAArB,YAAAz3F,OAA6C+3F,eAAeL,UAA5D,SACtB2hC,kBAAiB,UAAAr5H,OAAai5H,WAAb,WACjBK,kBAAiB,UAAAt5H,QAAa,EAAA40F,gBAAAuF,eAAc8+B,YAA3B,WAGvB,MAAO,EAAC,EAAM,CACVhqI,IAAG,QAAA+Q,OAAUk5H,yBAAV,QAAAl5H,OAAyC23F,QAAQ5tD,cAAjD,KAAA/pC,OAAkEq5H,kBAAlE,MAAAr5H,OAAwFo5H,wBAC3F1jC,IAAG,QAAA11F,OAAUk5H,yBAAV,QAAAl5H,OAAyC+hF,mBAAA,QAAkB6/B,iBAAiBjqB,SAA5E,KAAA33F,OAAwFs5H,kBAAxF,MAAAt5H,OAA8Go5H,sEAarG9oB,gBAAiBjX,OAAQ+W,aACrC5hH,KAAKunI,KAAK5+B,WAAa5P,iBAAA2K,gBACvB1jG,KAAKunI,KAAKtpB,sBAAsB6D,iBAGhC9hH,KAAKunI,KAAKrlB,eAAiBlc,sBAAA6F,SAASsW,SAASC,KAC7CpiH,KAAKunI,KAAKrpB,kBAGVl+G,KAAKunI,KAAKp/B,UAAYpP,iBAAA2K,gBACtB1jG,KAAKunI,KAAKppB,qBAAqBtT,OAAOiC,OAGtC9sG,KAAKunI,KAAK37B,cAAgB5F,sBAAA6F,SAASC,QAAQsW,KAC3CpiH,KAAKunI,KAAKj8B,iBAGVtrG,KAAKunI,KAAK7zE,QAAUqlC,iBAAA2K,gBACpB1jG,KAAKunI,KAAKllB,mBAAmBT,aAG7B5hH,KAAKunI,KAAKt7B,YAAcjG,sBAAA6F,SAASK,MAAMkW,KACvCpiH,KAAKunI,KAAKjlB,mDAYJ4Q,cACV,OAAKlzH,KAAKsnI,KAAKtU,gBAAgBE,eAQ/BlzH,KAAKsnI,KAAKrU,mBAAmBC,cAC7BlzH,KAAK6pG,uBACL7pG,KAAKunI,KAAKj8B,iBAMH,EAAC,EAJS,CACb7qG,IAAG,kBAAA+Q,OAAoB0hH,cACvBhsB,IAAG,kBAAA11F,OAAoB+hF,mBAAA,QAAkB6/B,iBAAiBF,kBATnD,EAAC,EAJS,CACbzyH,IAAG,4BAAA+Q,OAA8B0hH,aAA9B,0CACHhsB,IAAG,4BAAA11F,OAA8B+hF,mBAAA,QAAkB6/B,iBAAiBF,cAAjE,2GA0BXlzH,KAAKunI,KAAKn1C,+DAWgB4Y,aAC1B,IAAM3C,SAAWroG,KAAKsnI,KAAKl8B,8BAA8BJ,aAMzD,OAJI3C,SAAS,KACTroG,KAAKktG,uBAAwB,GAG1B7E,uDAYP,IAAMA,SAAW,GAIjB,OAHAA,SAAS5nG,IAAT,kBAAA+Q,OAAiCxR,KAAKunI,KAAK5+B,UAC3CN,SAASnB,IAAT,kBAAA11F,QAAiC,EAAA40F,gBAAAqF,gBAAezrG,KAAKunI,KAAK5+B,WAEnD,EAAC,EAAMN,qDAYd,IAAMA,SAAW,GAEjB,OAAQroG,KAAKunI,KAAK37B,aACd,KAAK5F,sBAAA6F,SAASC,QAAQC,KAIlB,OAHA1D,SAAS5nG,IAAT,0BAAA+Q,OAAyCxR,KAAKunI,KAAKjD,kBACnDj8B,SAASnB,IAAT,0BAAA11F,QAAyC,EAAA40F,gBAAAuF,eAAc3rG,KAAKunI,KAAKjD,mBAE1D,EAAC,EAAMj8B,UAElB,KAAKrC,sBAAA6F,SAASC,QAAQgZ,QAIlB,OAHAzc,SAAS5nG,IAAT,6BAAA+Q,OAA4CxR,KAAKunI,KAAK3hB,QACtDvd,SAASnB,IAAT,6BAAA11F,QAA4C,EAAA40F,gBAAAuF,eAAc3rG,KAAKunI,KAAK3hB,SAE7D,EAAC,EAAMvd,UAElB,KAAKrC,sBAAA6F,SAASC,QAAQ6Y,KAClB,IAAMmF,SAAW9pH,KAAKsnI,KAAKtgB,gBACrBK,iBAAmByC,SAASnlB,cAC5BomC,QAAUh4G,KAAK8B,OAAM,EAAAwxE,gBAAAwG,kBAAiB7sG,KAAK2kG,cAAcuhB,kBAAkBmB,oBAKjF,OAHAhf,SAAS5nG,IAAT,4BAAA+Q,OAA2Cs4G,SAASif,iBAApD,QAAAv3H,OAA2Eu5H,SAC3E1iC,SAASnB,IAAT,4BAAA11F,OAA2C+hF,mBAAA,QAAkB6/B,iBAAiBtJ,SAASif,kBAAvF,QAAAv3H,QAA+G,EAAA40F,gBAAAuF,eAAco/B,UAEtH,EAAC,EAAM1iC,UAGlB,QAII,OAHAA,SAAS5nG,IAAM,qCACf4nG,SAASnB,IAAM,qCAER,EAAC,EAAMmB,sDAatB,MAAO,EAAC,EAAMroG,KAAKunI,KAAK7zE,iEAexB,OAJA1zD,KAAKsnI,KAAK78B,YAAcxE,mBAAAc,aAAa2D,MAI9B,EAAC,EAAM,8FAed,OAFA1qG,KAAKsnI,KAAK78B,YAAcxE,mBAAAc,aAAa2D,MAE9B,EAAC,EAAM,mvBCjhCtB,IAAA8G,OAAAzjB,uBAAAvxF,QAAA,gBACAk1G,UAAA3jB,uBAAAvxF,QAAA,mBACA4yH,iBAAArhC,uBAAAvxF,QAAA,4pCAQqBwuI,8CAKjB,SAAAA,sBAAc,IAAA/2H,MAmBV,qIAnBU66E,CAAA9uF,KAAAgrI,qBAmBVzb,2BAlBAt7G,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAAwb,qBAAAjuI,KAAAiD,OAkBOiU,MAAKygF,uZAxB6B06B,iBAAA,wHA4CzCpvH,KAAKirI,OAAS,mCASVC,gBACJlrI,KAAKirI,OAAOznI,KAAK0nI,mDASVA,gBACPlrI,KAAKirI,QAAS,EAAAv5B,UAAA,SAAS1xG,KAAKirI,OAAQC,mEAapC,OAAO,EAAA15B,OAAA,SAAMxxG,KAAKirI,OAAQ,CAAEE,UAAU,kDAWpBC,YAClB,OAAO,EAAA55B,OAAA,SAAMxxG,KAAKirI,OAAQ,CAAEG,WAAYA,qYCnGhD,IAAAt9C,QAAAC,uBAAAvxF,QAAA,WACA6uI,SAAAt9C,uBAAAvxF,QAAA,kBACAk1G,UAAA3jB,uBAAAvxF,QAAA,mBACA8uI,qBAAAv9C,uBAAAvxF,QAAA,0BACA+uI,gBAAAx9C,uBAAAvxF,QAAA,qBACAu8F,iBAAAv8F,QAAA,mCACAs3F,WAAAt3F,QAAA,0yBASA,IASqBgvI,+BAIjB,SAAAA,sBAAc,IAAAv3H,MAAAjU,KAkDV,qIAlDU8uF,CAAA9uF,KAAAwrI,qBAAAtyC,gBAAAl5F,KAAA,qBAwSO,SAACuhD,OAClBttC,MAAKw3H,WAAW70E,YAAYk9B,WAAAuB,UAAUuL,WAAW8qC,wBAzSvCxyC,gBAAAl5F,KAAA,yCAsT2B,SAACuhD,OAAD,OAAWttC,MAAKq/F,mCA7SrDtzG,KAAK2rI,YAAc,KAQnB3rI,KAAKyrI,YAAa,EAAA39C,QAAA,SAAEgG,WAAAuB,UAAUC,cAAcs2C,YAQ5C5rI,KAAK6rI,wBAAyB,EAAA/9C,QAAA,SAAEgG,WAAAuB,UAAUC,cAAcw2C,0BAQxD9rI,KAAK+rI,0BAA2B,EAAAj+C,QAAA,SAAEgG,WAAAuB,UAAUC,cAAc02C,4BAQ1DhsI,KAAKisI,mBAAoB,EAAAn+C,QAAA,SAAEgG,WAAAuB,UAAUC,cAAc42C,oBAOnDlsI,KAAKmsI,iBAAmB,GAEjBnsI,KAAK00F,QACPtC,kIAcL,OAFApyF,KAAK2rI,YAAc,IAAIL,qBAAA,QAEhBtrI,sCAeP,OAJAA,KAAKisI,kBAAkB7qF,GAAG,QAASphD,KAAKosI,oBACxCpsI,KAAK6rI,uBAAuBzqF,GAAG,QAASphD,KAAKqsI,wCAC7CrsI,KAAK+rI,yBAAyB3qF,GAAG,QAASphD,KAAKqsI,wCAExCrsI,uCAUPA,KAAK2rI,YAAc,+CAWLxyC,eAGd,YAAiC,IAFVn5F,KAAK2rI,YAAYW,sBAAsBnzC,cAAcnjF,mCAiBzEu2H,cAGH,IAAK,IAAIlwI,EAAI,EAAGA,EAAIkwI,aAAavvI,OAAQX,IAAK,CAC1C,IAAM88F,cAAgBozC,aAAalwI,GAEnC,GAAK88F,cAAcC,eAAnB,CAIA,IAAI8xC,eAAiBlrI,KAAK2rI,YAAYW,sBAAsBnzC,cAAcnjF,SAI5C,IAAnBk1H,iBACPA,eAAiBlrI,KAAKy2G,gBAAgBtd,gBAG1C+xC,eAAen6C,OAAOoI,yDAYdA,eACZ,IAAMqzC,aAAexsI,KAAKysI,qBACpBvB,eAAiB,IAAIK,gBAAA,QAAepyC,cAAeqzC,cAQzD,OANAxsI,KAAK2rI,YAAYt3B,QAAQ62B,iBAErB/xC,cAAcgd,eAAiBhd,cAAcC,iBAC7Cp5F,KAAK0sI,oBAAoBxB,gBAGtBA,uDAUK/xC,eACZ,IAAMwzC,WAAa3sI,KAAK2rI,YAAYW,sBAAsBnzC,cAAcnjF,IAExE,IAAK22H,WACD,MAAMhwI,MAAK,kDAAA6U,OAAmD2nF,cAAcE,WAGhFr5F,KAAKszG,iCACLq5B,WAAWC,2DAWG1B,gBACd,KAAMA,0BAA0BK,gBAAA,SAC5B,MAAM,IAAIr5G,UAAU,gDAAA,oCAAA1gB,OAAAiiG,QAC2By3B,kBAGnDA,eAAe2B,8DAUD1zC,eACd,IAAMwzC,WAAa3sI,KAAK2rI,YAAYW,sBAAsBnzC,cAAcnjF,IAExE,IAAK22H,WACD,MAAMhwI,MAAK,kDAAA6U,OAAmD2nF,cAAcE,WAG5Er5F,KAAKyrI,WAAWz0E,SAAS88B,WAAAuB,UAAUuL,WAAW8qC,uBAC9C1rI,KAAKyrI,WAAW90E,YAAYm9B,WAAAuB,UAAUuL,WAAW8qC,sBAEjD/xF,WAAW,WACPgzF,WAAWG,kBACZ,MAEHH,WAAWG,0EAiBf,IAAMC,qBAAuB/sI,KAAK2rI,YAAYqB,2BAEzCD,sBAIL/sI,KAAKitI,kBAAkBF,8DAUX5zC,eACZ,IAAM+xC,eAAiBlrI,KAAK2rI,YAAYW,sBAAsBnzC,cAAcnjF,IAEvEk1H,iBAILlrI,KAAKktI,kBAAkBhC,eAAeiC,KACtCntI,KAAK2rI,YAAYyB,WAAWlC,gBAC5BA,eAAe54C,uDAcC44C,gBAChB,KAAMA,0BAA0BK,gBAAA,SAC5B,MAAM,IAAIr5G,UAAJ,uDAAA1gB,OAAAiiG,QAA4Ey3B,kBAGtF,IAAMmC,SAAWnC,eAAe/0B,YAAcn2G,KAAK+rI,yBAA2B/rI,KAAK6rI,uBAC7EyB,eAAiBD,SAAS78E,YAEhC68E,SAASlpI,QAAQ+mI,eAAen8C,UAEhCs+C,SAAS78E,UAAU88E,eAAiB/B,gBAAA,QAAegC,qDAuCnD,IAAMC,SAAU,EAAAnC,SAAA,SAAQ,EAhVR,KAkVhB,OAAIrrI,KAAKmsI,iBAAiB3/H,QAAQghI,WAAaz0C,iBAAA4f,cACpC34G,KAAKysI,sBAGhBzsI,KAAKmsI,iBAAiB3oI,KAAKgqI,SAEpBA,mDAaOL,KACGntI,KAAKmsI,iBAAiB3/H,QAAQ2gI,OAE9Bp0C,iBAAA4f,gBAIjB34G,KAAKmsI,kBAAmB,EAAAz6B,UAAA,SAAS1xG,KAAKmsI,iBAAkBgB,meC3XhE,IAAAr/C,QAAAC,uBAAAvxF,QAAA,WACAszH,YAAA/hC,uBAAAvxF,QAAA,yBACA2xF,UAAAJ,uBAAAvxF,QAAA,uBACAixI,mBAAAjxI,QAAA,uBACA+xF,YAAA/xF,QAAA,8BACAu8F,iBAAAv8F,QAAA,mCACAs3F,WAAAt3F,QAAA,6BACAkxI,kBAAAlxI,QAAA,grCAUqBmxI,oCAejB,SAAAA,eAAYx0C,cAAey0C,UAAU,IAAA35H,MAoUjC,qIApUiC66E,CAAA9uF,KAAA2tI,iBACjC15H,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAAme,gBAAA5wI,KAAAiD,KAAM,oBAiBDk0F,UAAY/F,UAAA,QAYjBl6E,MAAKkiG,aAAc,EASnBliG,MAAK86E,SAAW,KAWhB96E,MAAKm3H,WAAajyC,cAAcnjF,GAahC/B,MAAKwoG,cAAe,EASpBxoG,MAAK45H,mBAAqB,GAa1B55H,MAAK65H,UAAY,GASjB75H,MAAK85H,cAAgB,KAcrB95H,MAAK+5H,cAAgB,GASrB/5H,MAAKg6H,kBAAoB,KAczBh6H,MAAKk5H,IAAMS,SAWX35H,MAAKi6H,WAAY,EAAAR,kBAAAS,SAAQP,SAAU,GASnC35H,MAAKm6H,SAAW,KAUhBn6H,MAAKo6H,aAAet1C,iBAAA2K,eASpBzvF,MAAKq6H,iBAAmB,KAUxBr6H,MAAKs6H,kBAAoBx1C,iBAAA2K,eASzBzvF,MAAKu6H,sBAAwB,KAU7Bv6H,MAAKw6H,oBAAsB11C,iBAAA2K,eAS3BzvF,MAAKy6H,wBAA0B,KAU/Bz6H,MAAK06H,gBAAkB,GASvB16H,MAAK26H,oBAAsB,KAU3B36H,MAAK46H,kBAAoB,GASzB56H,MAAK66H,sBAAwB,KAU7B76H,MAAK86H,kBAAoB,GASzB96H,MAAK+6H,sBAAwB,KAU7B/6H,MAAKg7H,YAAc,GASnBh7H,MAAKi7H,gBAAkB,KAUvBj7H,MAAKk7H,SAAW,GAShBl7H,MAAKm7H,SAAW,KAUhBn7H,MAAKo7H,mBAAqB,KAS1Bp7H,MAAKq7H,QAAU,KAEf/f,2BAAAt7G,MAAOA,MAAKygF,MAAMyE,eACbo2C,kBACAt7B,iBACAu7B,UACAC,UACAC,oZAxV+B5f,YAAA,gFAkXlC32B,eAAe,IAAAw2C,sBAWbx2C,cAAcy2C,eATdnzB,aAFakzB,sBAEblzB,aACApjB,SAHas2C,sBAGbt2C,SACA0Z,gBAJa48B,sBAIb58B,gBACA2J,oBALaizB,sBAKbjzB,oBACAL,iBANaszB,sBAMbtzB,iBACAC,mBAPaqzB,sBAObrzB,mBACAK,iBARagzB,sBAQbhzB,iBACAC,mBATa+yB,sBASb/yB,mBACAC,WAVa8yB,sBAUb9yB,WAgBJ,OAbA78G,KAAKy8G,aAAeA,aACpBz8G,KAAK8tI,UAAYz0C,SACjBr5F,KAAKquI,aAAet7B,gBACpB/yG,KAAKguI,cAAgBtxB,oBACrB18G,KAAKuuI,kBAAoBlyB,iBACzBr8G,KAAKyuI,oBAAsBnyB,mBAC3Bt8G,KAAK2uI,gBAAkBhyB,iBACvB38G,KAAK6uI,kBAAoBjyB,mBACzB58G,KAAKivI,YAAcpyB,WACnB78G,KAAK6tI,mBAAqB7tI,KAAK6vI,iCAAiC12C,eAChEn5F,KAAKm2G,YAAchd,cAAcgd,cACjCn2G,KAAKqvI,mBAAqBrvI,KAAK8vI,wBAAwB32C,eAEhDn5F,+CA2BP,OAdAA,KAAK+uF,UAAW,EAAAjB,QAAA,SAAE2/C,mBAAAsC,qBAClB/vI,KAAK+tI,cAAgB/tI,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUuL,WAAWovC,qBAC7DhwI,KAAKiuI,kBAAoBjuI,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUuL,WAAWqvC,0BACjEjwI,KAAKouI,SAAWpuI,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUuL,WAAWsvC,gBACxDlwI,KAAKsuI,iBAAmBtuI,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUuL,WAAWuvC,wBAChEnwI,KAAKwuI,sBAAwBxuI,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUuL,WAAWwvC,8BACrEpwI,KAAK0uI,wBAA0B1uI,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUuL,WAAWyvC,iCACvErwI,KAAK4uI,oBAAsB5uI,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUuL,WAAW0vC,+BACnEtwI,KAAK8uI,sBAAwB9uI,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUuL,WAAW2vC,iCACrEvwI,KAAKgvI,sBAAwBhvI,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUuL,WAAW4vC,iCACrExwI,KAAKkvI,gBAAkBlvI,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUuL,WAAW6vC,wBAC/DzwI,KAAKovI,SAAWpvI,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUuL,WAAW8vC,oBACxD1wI,KAAKsvI,QAAUtvI,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUuL,WAAW+vC,mBAEhD3wI,8CAgBP,OAHAA,KAAK4wI,gBAAkB5wI,KAAK6wI,SAASn+E,KAAK1yD,MAC1CA,KAAK8wI,sBAAwB9wI,KAAK+wI,eAAer+E,KAAK1yD,MAE/CA,uCAcP,OAHAA,KAAK+uF,SAAS3tC,GAAG,QAASphD,KAAK4wI,iBAC/B5wI,KAAK+uF,SAAS3tC,GAAG,WAAYphD,KAAK8wI,uBAE3B9wI,uCAmBP,OAFAA,KAAK+uF,SAASz4B,SAASt2D,KAAK6tI,oBAErB7tI,uCA8BP,OAbAA,KAAK+tI,cAAcjpH,KAAK9kB,KAAK8tI,WAC7B9tI,KAAKiuI,kBAAkBnpH,KAAK9kB,KAAKguI,eACjChuI,KAAKouI,SAAStpH,KAAK9kB,KAAKkuI,WACxBluI,KAAKsuI,iBAAiBxpH,KAAK9kB,KAAKquI,cAChCruI,KAAKwuI,sBAAsB1pH,KAAK9kB,KAAKuuI,mBACrCvuI,KAAK0uI,wBAAwB5pH,KAAK9kB,KAAKyuI,qBACvCzuI,KAAK8uI,sBAAsBhqH,KAAK9kB,KAAK6uI,mBACrC7uI,KAAK4uI,oBAAoB9pH,KAAK9kB,KAAK2uI,iBACnC3uI,KAAKgvI,sBAAsBlqH,KAAK9kB,KAAK+uI,mBACrC/uI,KAAKkvI,gBAAgBpqH,KAAK9kB,KAAKivI,aAC/BjvI,KAAKovI,SAAStqH,KAAK9kB,KAAKmvI,UACxBnvI,KAAKsvI,QAAQxqH,KAAK9kB,KAAKqvI,mBAAmB1uI,MAEnCX,uCAaP,OAHAA,KAAK+uF,SAASvtC,IAAI,QAASxhD,KAAK4wI,iBAChC5wI,KAAK+uF,SAASvtC,IAAI,WAAYxhD,KAAK8wI,uBAE5B9wI,uCA8CP,OAnCAA,KAAK63C,UACL73C,KAAK+uF,SAASn3C,SAEd53C,KAAKgW,GAAK,GACVhW,KAAKk0F,UAAY,KACjBl0F,KAAK+uF,SAAW,KAChB/uF,KAAKorI,WAAa,GAClBprI,KAAKy8G,cAAe,EACpBz8G,KAAK6tI,mBAAqB,GAC1B7tI,KAAK8tI,UAAY,GACjB9tI,KAAK+tI,cAAgB,KACrB/tI,KAAKguI,cAAgB,GACrBhuI,KAAKiuI,kBAAoB,KACzBjuI,KAAKmtI,IAAMp0C,iBAAA2K,eACX1jG,KAAKkuI,UAAY,GACjBluI,KAAKouI,SAAW,KAChBpuI,KAAKquI,aAAe,KACpBruI,KAAKsuI,iBAAmB,KACxBtuI,KAAKuuI,kBAAoBx1C,iBAAA2K,eACzB1jG,KAAKwuI,sBAAwB,KAC7BxuI,KAAKyuI,oBAAsB11C,iBAAA2K,eAC3B1jG,KAAK0uI,wBAA0B,KAC/B1uI,KAAK2uI,gBAAkB,GACvB3uI,KAAK4uI,oBAAsB,KAC3B5uI,KAAK6uI,kBAAoB,GACzB7uI,KAAK8uI,sBAAwB,KAC7B9uI,KAAK+uI,kBAAoB,GACzB/uI,KAAKgvI,sBAAwB,KAC7BhvI,KAAKivI,YAAc,GACnBjvI,KAAKkvI,gBAAkB,KACvBlvI,KAAKmvI,SAAW,GAChBnvI,KAAKovI,SAAW,KAChBpvI,KAAKqvI,mBAAqB,KAC1BrvI,KAAKsvI,QAAU,KAERtvI,oCAWJm5F,eACEn5F,KAAKgxI,cAAc73C,gBAIxBn5F,KAAKixI,iBAAiB93C,wDAUtBn5F,KAAK+uF,SAASz4B,SAASw9B,WAAAuB,UAAUuL,WAAWswC,oDAU5ClxI,KAAK+uF,SAASp4B,YAAYm9B,WAAAuB,UAAUuL,WAAWswC,iDAU/ClxI,KAAK+uF,SAAS,GAAG+9C,eAAe,CAAEqE,SAAU,SAAUpoI,MAAO,qEAWhCowF,eAC7B,OAAIA,cAAcgd,cACPriB,WAAAuB,UAAUuL,WAAW0a,UAG5BniB,cAAc+mB,eACPpsB,WAAAuB,UAAUuL,WAAW2a,WAGzBznB,WAAAuB,UAAUuL,WAAW8W,wDAYRve,eACpB,OAAIA,cAAcgd,eAAiBhd,cAAcgW,aACtC,CACHiiC,mBAAoBj4C,cAAck4C,UAClC1wI,KAAMw4F,cAAciR,IAAIU,qBAAqBnqG,MAIjDw4F,cAAcid,YACP,CACHg7B,kBAAmBj4C,cAAc6O,MAAMQ,qBACvC7nG,KAAMw4F,cAAciR,IAAIC,mBAAmB1pG,MAI5C,CACHywI,mBAAmB,EACnBzwI,KAAM,qCAeL4gD,OACLA,MAAMO,kBAEN9hD,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMuK,YAAav7F,KAAK8tI,kDAepCvsF,OACXA,MAAMO,kBAEN9hD,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMsjB,mBAAoBt0G,KAAK8tI,iDAgB5C30C,eAAe,IAAAm4C,uBASrBn4C,cAAcy2C,eAPdnzB,aAFqB60B,uBAErB70B,aACA1J,gBAHqBu+B,uBAGrBv+B,gBACAsJ,iBAJqBi1B,uBAIrBj1B,iBACAC,mBALqBg1B,uBAKrBh1B,mBACAK,iBANqB20B,uBAMrB30B,iBACAC,mBAPqB00B,uBAOrB10B,mBACAC,WARqBy0B,uBAQrBz0B,WAEE00B,WAAavxI,KAAK8vI,wBAAwB32C,eAEhD,OAAOn5F,KAAKy8G,eAAiBA,cACzBz8G,KAAKquI,eAAiBt7B,iBACtB/yG,KAAKuuI,oBAAsBlyB,kBAC3Br8G,KAAKyuI,sBAAwBnyB,oBAC7Bt8G,KAAK2uI,kBAAoBhyB,kBACzB38G,KAAK6uI,oBAAsBjyB,oBAC3B58G,KAAKivI,cAAgBpyB,YACrB78G,KAAKqvI,mBAAmB+B,oBAAsBG,WAAWH,mBACzDpxI,KAAKqvI,mBAAmB1uI,OAAS4wI,WAAW5wI,8CAcnCw4F,eAAe,IAAAq4C,uBASxBr4C,cAAcy2C,eAPdnzB,aAFwB+0B,uBAExB/0B,aACA1J,gBAHwBy+B,uBAGxBz+B,gBACAsJ,iBAJwBm1B,uBAIxBn1B,iBACAC,mBALwBk1B,uBAKxBl1B,mBACAK,iBANwB60B,uBAMxB70B,iBACAC,mBAPwB40B,uBAOxB50B,mBACAC,WARwB20B,uBAQxB30B,WAiBJ,OAdA78G,KAAKy8G,aAAeA,aACpBz8G,KAAKquI,aAAet7B,gBACpB/yG,KAAKuuI,kBAAoBlyB,iBACzBr8G,KAAKyuI,oBAAsBnyB,mBAC3Bt8G,KAAK2uI,gBAAkBhyB,iBACvB38G,KAAK6uI,kBAAoBjyB,mBACzB58G,KAAKivI,YAAcpyB,WACnB78G,KAAKqvI,mBAAqBrvI,KAAK8vI,wBAAwB32C,eAEvDn5F,KAAKsvI,QAAQ14E,YACTk9B,WAAAuB,UAAUuL,WAAW6wC,wBACpBzxI,KAAKqvI,mBAAmB+B,mBAGtBpxI,KAAK0vI,2CA1ZZ,OAAO1vI,KAAK+uF,SAAS/3B,SAAS88B,WAAAuB,UAAUuL,WAAWswC,gLA7VvC,wBARCvD,ygBCTc,o5DCRnC,IAAAn8B,OAAAzjB,uBAAAvxF,QAAA,gBACAk1I,UAAA3jD,uBAAAvxF,QAAA,mBACAo9G,UAAA7rB,uBAAAvxF,QAAA,mBACAspG,MAAA/X,uBAAAvxF,QAAA,eACA4yH,iBAAArhC,uBAAAvxF,QAAA,2BACAm1I,cAAA5jD,uBAAAvxF,QAAA,mBACAo1I,kBAAAp1I,QAAA,iCACAu8F,iBAAAv8F,QAAA,gCACA41G,oBAAA51G,QAAA,iqCAWqBq1I,4CAOjB,SAAAA,kBAAY5/C,aAAa,IAAAh+E,MAGrB,iIAHqB66E,CAAA9uF,KAAA6xI,mBACrB59H,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAAqiB,mBAAA90I,KAAAiD,KAAMiyF,eAEF,EAAAmgB,oBAAAsB,mBAAkBzhB,aAClB,MAAM,IAAI//D,UAAU,gEAAA,4CAAA1gB,OAAAiiG,QACmCxhB,eALtC,OAQrBh+E,MAAKmvB,KAAK6uD,aARWh+E,kZAPkBm7G,iBAAA,kFA0CtCn9B,aAAa,IAAAf,OAAAlxF,MACd,EAAA45G,UAAA,SAAS3nB,YAAa,SAAC6/C,mBAAD,OAAuB5gD,OAAK6gD,oBAAoBD,qDAUlEE,cACJhyI,KAAKirI,OAAOznI,KAAKwuI,sDAuBLh8H,IACZ,IAAIggG,UAAYhgG,GAAGuW,cAcnB,OAZIypF,UAAUxpG,QAAQolI,kBAAAK,gCAAkCl5C,iBAAA4f,gBAGpDlsF,QAAQ4tB,KACJ,0CAAA7oC,OAA0CwE,GAA1C,4CACA,oNAIJggG,UAAYhgG,GAAGyB,MAAMm6H,kBAAAK,8BAA8B,KAGhD,EAAAzgC,OAAA,SAAMxxG,KAAKirI,OAAQ,CAAEp7C,KAAMmmB,6CAYlC,EAAA4D,UAAA,SAAS55G,KAAKirI,OAAQ,SAAC9zB,cACnBA,aAAaxlE,sDAYDmgG,mBAChB,IAAME,aAAe,IAAIL,cAAA,QAAaG,mBAEtC9xI,KAAKq0G,QAAQ29B,oDA5Fb,IAAME,kBAAmB,EAAApsC,MAAA,SAAK9lG,KAAKirI,OAAQ,SAACjzB,SAAD,OAAaA,QAAQm6B,gBAEhE,OAAO,EAAAT,UAAA,SAASQ,2iBCjDxB,IAAAlkD,QAAAD,uBAAAvxF,QAAA,iBACA41I,mBAAArkD,uBAAAvxF,QAAA,wBACAm1I,cAAA5jD,uBAAAvxF,QAAA,mBACAu8F,iBAAAv8F,QAAA,0YAOqB61I,6BAMjB,SAAAA,kBAAYpgD,4IAAanD,CAAA9uF,KAAAqyI,mBAOrBryI,KAAKq0F,kBAAoB,IAAI+9C,mBAAA,QAAkBngD,4IAwBnC+jB,WACZ,OAAOh2G,KAAKq0F,kBAAkB+iB,gBAAgBpB,wEAebmB,cACjC,KAAMA,wBAAwBw6B,cAAA,SAC1B,MAAM,IAAIz/G,UAAU,8EAGxB,IAAMmlF,aAAeF,aAAam7B,uBAElC,OAAItyI,KAAKuyI,sBAAsBl7B,cAEpBr3G,KAAKs3G,qCAAqCH,eAGrDA,aAAaq7B,uBAAuBn7B,cAE7BA,iEAcgBrB,UAAWqB,cAClC,IAAMF,aAAen3G,KAAKo3G,gBAAgBpB,WAE1C,IAAI,EAAAhoB,QAAA,SAAOmpB,cACP,MAAM,IAAIjlF,UAAU,+EAGxBilF,aAAas7B,mBAAmBp7B,8CAchCr3G,KAAKq0F,kBAAkB1iD,sDAWL0lE,cAClB,OAAOr3G,KAAKmyI,cAAc3lI,QAAQ6qG,gBAAkBte,iBAAA4f,oDAxFpD,OAAO34G,KAAKq0F,kBAAkB89C,gaCpCtC,IAAA1gC,MAAA1jB,uBAAAvxF,QAAA,eACA47F,MAAArK,uBAAAvxF,QAAA,eACAk2I,OAAA3kD,uBAAAvxF,QAAA,gBACAo9G,UAAA7rB,uBAAAvxF,QAAA,mBACAspG,MAAA/X,uBAAAvxF,QAAA,eACA6uI,SAAAt9C,uBAAAvxF,QAAA,kBACAm2I,OAAA5kD,uBAAAvxF,QAAA,gBACAk1G,UAAA3jB,uBAAAvxF,QAAA,mBACAszH,YAAA/hC,uBAAAvxF,QAAA,sBACAo2I,mBAAAp2I,QAAA,uBACAu8F,iBAAAv8F,QAAA,gCACA41G,oBAAA51G,QAAA,mCACAo1I,kBAAAp1I,QAAA,0iDAWqBq2I,kCAOjB,SAAAA,aAAYf,mBAAmB,IAAA79H,MAG3B,iIAH2B66E,CAAA9uF,KAAA6yI,cAC3B5+H,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAAqjB,cAAA91I,KAAAiD,QAEI,EAAAoyG,oBAAA4d,oBAAmB8hB,mBACnB,MAAM,IAAI5/G,UAAU,iEAAA,6CAAA1gB,OAAAiiG,QACoCq+B,qBALjC,OAc3B79H,MAAK47E,KAAOiiD,kBAAkBjiD,KAQ9B57E,MAAKtT,MAAO,EAAA8wG,MAAA,SAAKqgC,kBAAmB,OAAQ,mBAS5C79H,MAAKikG,UAAY,UAQjBjkG,MAAK6+H,uBAAyB,CAU1BC,gBAAiB,CAACnB,kBAAAoB,0BAStB/+H,MAAKg/H,OAAS,CAMVC,QAAS,IAUbj/H,MAAKk/H,oBAAsB,GAE3Bl/H,MAAKmvB,KAAK0uG,mBA5EiB79H,6YAPO67G,YAAA,6EA8HjCgiB,mBAED9xI,KAAK6vF,MAAO,EAAA4hB,MAAA,SAAKqgC,kBAAmB,OAAQ9xI,KAAK6vF,MAAMtjE,cACvDvsB,KAAKk4G,WAAY,EAAAzG,MAAA,SAAKqgC,kBAAmB,gBAAiB9xI,KAAKk4G,WAC/Dl4G,KAAK8yI,uBAAuBC,iBAAkB,EAAAthC,MAAA,SAAKqgC,kBAAmB,2BAA4B9xI,KAAK8yI,uBAAuBC,iBAC9H/yI,KAAKizI,QAAS,EAAAxhC,MAAA,SAAKqgC,kBAAmB,UAEtC9xI,KAAKozI,6EAUU/7B,cACfr3G,KAAKqzI,wBAAwBh8B,8CAa7Br3G,KAAKmzI,oBAAsB,mDAQG,IAAZj8B,MAAY,EAAAryG,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAJ,GAC1B,MAAc,KAAVqyG,MACOl3G,KAAKszI,sCAGTtzI,KAAKuzI,gCAAgCr8B,sDAiB5C,OAFqB,EAAA07B,mBAAAY,mBAAkBxzI,KAAK8yI,uBAAuBC,gEAahD17B,cACnBr3G,KAAKmzI,oBAAoB3vI,KAAK6zG,4EAa9B,IAAMhhG,OAAQ,EAAAg1H,SAAA,SAAQ,EAAGrrI,KAAKusI,aAAavvI,OAAS,GAEpD,OAAOgD,KAAKusI,aAAal2H,+DAYGo9H,WAE5B,IAAKzzI,KAAK0zI,UAAUD,WAEhB,MAAM,IAAI92I,MAAJ,6CAAA6U,OAAuDiiI,UAAvD,+BAAAjiI,OAA8FxR,KAAK6vF,OAG7G,IAAMqnB,MAAQl3G,KAAKizI,OAAOQ,WACpBp9H,OAAQ,EAAAg1H,SAAA,SAAQ,EAAGn0B,MAAMl6G,OAAS,GAGxC,OAAO,EAAA01I,OAAA,SAAMx7B,MAAM7gG,wDAWCghG,cACfr3G,KAAKuyI,sBAAsBl7B,gBAMhCr3G,KAAKmzI,qBAAsB,EAAAzhC,UAAA,SAAS1xG,KAAKmzI,oBAAqB97B,iDAYxDo8B,WACN,OAAO,EAAAr7C,MAAA,SAAKp4F,KAAKizI,OAAQQ,yDAWPp8B,cAClB,OAAOr3G,KAAKmzI,oBAAoB3mI,QAAQ6qG,gBAAkBte,iBAAA4f,yEAY1D,EAAAiB,UAAA,SAAS55G,KAAKizI,OAAQ,SAAC/7B,QACnB,EAAA0C,UAAA,SAAS1C,MAAO,SAACy8B,iBAEbA,gBADmB,GACWA,gBADX,GACuCpnH,uDA1MlE,IAAMwlE,SAAW,GAQjB,OANA,EAAA6nB,UAAA,SAAS55G,KAAKizI,OAAQ,SAAC/7B,OACnB,IAAM08B,eAAgB,EAAA9tC,MAAA,SAAKoR,MAAO,SAACnlB,UAAD,OAAc,EAAA2gD,OAAA,SAAM3gD,YAEtDA,SAASvuF,KAATgN,MAAAuhF,SAAQgK,mBAAS63C,mBAGd,EAAAjB,OAAA,SAAM5gD,gDAab,OAAO/xF,KAAKmzI,snBC1Eb,SAAmCn7B,SACtC,KAAK,EAAA8qB,UAAA,SAAS9qB,SACV,MAAM,IAAI9lF,UAAJ,6FAAA1gB,OAAAiiG,QAC6BuE,WAKvC,IAAM67B,oBAAsB,CACxBlzI,KAAM,GACNu2G,MAAO,WAGX,OAAuB,IAAnBc,QAAQh7G,OAML82I,uCAAuC97B,QAAQ+7B,aAAcF,qBALzDA,0DAkBR,SAAsC5hD,aAEzC,KAAK,EAAA6wC,UAAA,SAAS7wC,aACV,MAAM,IAAI//D,UAAJ,iGAAA1gB,OAAAiiG,QAC6BxhB,eAKvC,IAAM4hD,oBAAsB,CACxBlzI,KAAM,GACNu2G,MAAO,IAGX,OAA2B,IAAvBjlB,YAAYj1F,OAMT82I,wCAFiB,EAAApG,kBAAAsG,eAAc/hD,aAEyB4hD,qBALpDA,qBA9Gf,IAAA/Q,UAAA/0C,uBAAAvxF,QAAA,mBACAy3I,UAAAlmD,uBAAAvxF,QAAA,mBACAo1I,kBAAAp1I,QAAA,iCACAkxI,kBAAAlxI,QAAA,sXAWA,IAAMu3I,YAAc,EASdG,aAAe,EAWrB,SAASJ,uCAAuCK,gBAAiBN,qBAG7D,GAFAA,oBAAoBlzI,MAAO,EAAAszI,UAAA,SAASE,kBAEyB,EAAzDA,gBAAgB3nI,QAAQolI,kBAAAK,8BAAoC,CAC5D,IAAMmC,aAAeD,gBAAgB18H,MAAMm6H,kBAAAK,8BAE3C4B,oBAAoBlzI,MAAO,EAAAszI,UAAA,SAASG,aAAaL,cACjDF,oBAAoB38B,MAAQk9B,aAAaF,cAG7C,OAAOL,+QC4BJ,SAA2Bd,iBAM9B,IALA,IAAI17B,aAAe,GAEbg9B,iBA9BV,SAAkCtB,iBAG9B,IAFA,IAAMsB,iBAAmB,GAEhBh4I,EAAI,EAAGA,EAAI02I,gBAAgB/1I,OAAQX,IACH,MAAjC02I,gBAAgB12I,GAAG6Q,OAAO,GAK9BmnI,iBAAiB7wI,KAAKuvI,gBAAgB12I,IAJlCowB,QAAQ4tB,KAAR,UAAA7oC,OAAuBuhI,gBAAgB12I,GAAvC,0CAOR,OAAgC,IAA5Bg4I,iBAAiBr3I,OAIdq3I,iBAHIC,uBAiBcC,CAAyBxB,iBAC5CyB,cAAe,EAAA9G,kBAAA+G,QAAOJ,kBAEnBh4I,EAAI,EAAGA,EAAIm4I,aAAax3I,OAAQX,IACrC,OAAQm4I,aAAan4I,IACjB,KAAKu1I,kBAAA8C,gCACDr9B,cAAgBs9B,qBAAqBt4I,GACrC,MACJ,KAAKu1I,kBAAAgD,iCACDv9B,eAlDL,EAAAq2B,kBAAA+G,QAAOI,OAmDF,MACJ,QACIx9B,cAAgBm9B,aAAan4I,GAIzC,OAAOg7G,cA3FX,IAAAq2B,kBAAAlxI,QAAA,iCACAo1I,kBAAAp1I,QAAA,iCAMMq4I,MAAQ,6BACRC,QAAU,aACVR,uBAAyB,CAAC1C,kBAAAoB,yBAUhC,SAAS2B,qBAAqBt4I,GAC1B,OAAU,IAANA,GACO,EAAAqxI,kBAAA+G,QAAOK,QAAQlvH,OAAO,KAG1B,EAAA8nH,kBAAA+G,QAAOK,uNCxBlB,IAAAhhD,WAAAt3F,QAAA,kTAaqBu4I,4BAMjB,SAAAA,iBAAYhmD,SAAUnpF,MA6BlB,qIA7BwBkpF,CAAA9uF,KAAA+0I,kBAQxB/0I,KAAKg1I,oBAAsBpvI,KAS3B5F,KAAKi1I,mBAAqB,KAU1Bj1I,KAAKk1I,UAAY,KAEVl1I,KAAKojC,KAAK2rD,6HAYhBA,UAID,OAHA/uF,KAAKuvI,gBAAgBxgD,UACrB/uF,KAAK+wF,OAAO/wF,KAAKg1I,qBAEVh1I,qCAeP,OAJAA,KAAKg1I,oBAAsB,KAC3Bh1I,KAAKi1I,mBAAqB,KAC1Bj1I,KAAKk1I,UAAY,KAEVl1I,6CAcK+uF,UAIZ,OAHA/uF,KAAKk1I,UAAYnmD,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAc6/C,yBACvDn1I,KAAKi1I,mBAAqBj1I,KAAKk1I,UAAUpoG,KAAKgnD,WAAAuB,UAAUC,cAAc8/C,oBAE/Dp1I,oCAaJq1I,mBACHr1I,KAAKg1I,oBAAsBK,kBAE3Br1I,KAAKi1I,mBAAmBhtF,KAAKjoD,KAAKg1I,0DAYlCh1I,KAAKk1I,UAAUt+E,YAAYk9B,WAAAuB,UAAUuL,WAAWxmF,8UC7HxD,IAAAg+E,MAAArK,uBAAAvxF,QAAA,eACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACA84I,kBAAAvnD,uBAAAvxF,QAAA,uBACA+xF,YAAA/xF,QAAA,qYAWqB+4I,sCAOjB,SAAAA,2BAAYxmD,SAAUkG,iBAAkBugD,aAmDpC,qIAnDiD1mD,CAAA9uF,KAAAu1I,4BAWjDv1I,KAAKy1I,kBAAoB,KAUzBz1I,KAAKk1I,UAAY,KASjBl1I,KAAKk0F,UAAY,KAUjBl0F,KAAK01I,WAAazgD,iBASlBj1F,KAAK21I,aAAeH,YAAYjpH,cAEzBvsB,KAAKojC,KAAK2rD,2IAgBjB,OAHA/uF,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAM+D,eAAgB/0F,KAAK41I,yBAC7C51I,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAM6kD,qBAAsB71I,KAAK81I,sBAE5C91I,uCAcP,OAHAA,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAM+D,eAAgB/0F,KAAK41I,yBAC9C51I,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAM6kD,qBAAsB71I,KAAK81I,sBAE7C91I,kCAYN+uF,UAOD,OANA/uF,KAAKk0F,UAAY/F,UAAA,QAEjBnuF,KAAK+1I,sBAAsBhnD,UAC3B/uF,KAAKi0G,iBACLj0G,KAAKoyF,SAEEpyF,qCAmBP,OARAA,KAAKg2I,iBAELh2I,KAAKk0F,UAAY,KACjBl0F,KAAKk1I,UAAY,KACjBl1I,KAAK21I,aAAe,KACpB31I,KAAKy1I,kBAAoB,KACzBz1I,KAAK01I,WAAa,KAEX11I,mDAYW+uF,UAClB,IAAMknD,mBAAqBj2I,KAAKk2I,gBAAgBl2I,KAAK21I,cAGrD,OAFA31I,KAAKy1I,kBAAoB,IAAIH,kBAAA,QAAiBvmD,SAAUknD,oBAEjDj2I,8CAgBP,OAHAA,KAAK41I,wBAA0B51I,KAAKm2I,iBAAiBzjF,KAAK1yD,MAC1DA,KAAK81I,qBAAuB91I,KAAKo2I,cAAc1jF,KAAK1yD,MAE7CA,8CAgBP,OAHAA,KAAK41I,wBAA0B,KAC/B51I,KAAK81I,qBAAuB,KAErB91I,6CAaKq2I,UAOZ,OANoBr2I,KAAKs2I,gBAAgBD,YAGrCA,SAAW,aAGRr2I,KAAK01I,WAAWW,kDAYXxmD,MACZ,OAAO,EAAAuI,MAAA,SAAKp4F,KAAK01I,WAAY7lD,+CAahB6G,iBACb,IAAM2/C,SAAW3/C,gBAAgB7G,KAAKtjE,cAChCgqH,yBAA2Bv2I,KAAKk2I,gBAAgBG,UAEtDr2I,KAAKy1I,kBAAkB1kD,OAAOwlD,kEAY9Bv2I,KAAKy1I,kBAAkBe,0aC1P/B,IAAAp+C,MAAArK,uBAAAvxF,QAAA,eACAi6I,cAAA1oD,uBAAAvxF,QAAA,mBACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACA+xF,YAAA/xF,QAAA,2BACA8xF,aAAA9xF,QAAA,+YAmPe,eAxOX,SAAAk6I,mJAAc5nD,CAAA9uF,KAAA02I,mBAKV12I,KAAKk0F,UAAY/F,UAAA,QAajBnuF,KAAK22I,mBAAqB,GAS1B32I,KAAKmjG,SAAW,GAYhBnjG,KAAK2S,QAAU,yHAcdw+E,mBAAoBa,mBAAoBxC,iBACzCxvF,KAAK22I,mBAAqBnnD,gBAE1B,IAAK,IAAInzF,EAAI,EAAGA,EAAI2D,KAAK22I,mBAAmB35I,OAAQX,IAAK,CACrD,IAAMozF,QAAUzvF,KAAK22I,mBAAmBt6I,GAExC2D,KAAK42I,aAAannD,SAGtBzvF,KAAKojG,YAAYjS,mBAAoBa,+DAiBL,IAArBnC,KAAqBomB,KAArBpmB,KAAM3jE,MAAe+pF,KAAf/pF,MAAOvrB,KAAQs1G,KAARt1G,KAGxB,GAFAkvF,KAAOA,KAAKtjE,cAERvsB,KAAK62I,WAAWhnD,MAGhB,OAFApjE,QAAQhsB,IAAR,GAAA+Q,OAAeq+E,KAAf,qBAEO,KAGX,IAAMka,aAAe,IAAI0sC,cAAA,QAAa,CAAE5mD,KAAAA,KAAM3jE,MAAAA,MAAOvrB,KAAAA,OAErDX,KAAK82I,YAAY/sC,kDAUTta,SACRzvF,KAAKmjG,SAAS1T,QAAQI,MAAQJ,wCAY9BzvF,KAAKk0F,UAAY/F,UAAA,QACjBnuF,KAAK22I,mBAAqB,GAC1B32I,KAAKmjG,SAAW,GAChBnjG,KAAK2S,QAAU,yCAWPk9E,MAA0B,IAApBknD,YAAoB,EAAAlyI,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,KAO5B,GANI7E,KAAKg3I,cAAcnnD,QACnBA,KAAOI,aAAa3B,aAAA4B,YAAYC,mBAGpCN,KAAOA,KAAKtjE,cAEPvsB,KAAKmjG,SAAStT,MAAnB,CAMA,IAAMonD,iBAAmBj3I,KAAKmjG,SAAStT,OACvC7vF,KAAK2S,QAAUskI,kBAIM7nD,QACjBpvF,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAM+D,eAAgBkiD,iBAAiBrxI,MAGlEqxI,iBAAiB3mH,IAAIymH,kBAdjBtqH,QAAQ4tB,KAAR,GAAA7oC,OAAgBq+E,KAAhB,8DAwBJ,OAAO7vF,KAAK2S,QAAQukI,0CAWZrnD,MACR,OAAKA,KAIE7vF,KAAKmjG,SAAStT,KAAKtjE,eAHfvsB,KAAK2S,8DAqBhB,OAAO3S,KAAK2S,QAAQ03F,mBAAmB1pG,2CAW7BkvF,MACV,OAAQA,OAAQ,EAAAuI,MAAA,SAAKnI,aAAc3B,aAAA4B,YAAYC,qDAWxCN,MACP,OAAO,EAAAuI,MAAA,SAAKp4F,KAAKmjG,SAAUtT,gEAUGkC,UAC9B/xF,KAAK2S,QAAQwiG,kCAAkCpjB,SAAS/7E,kaClPhE,IAAAwjG,OAAAzrB,uBAAAvxF,QAAA,gBACA69H,QAAAtsC,uBAAAvxF,QAAA,iBACA26I,QAAAppD,uBAAAvxF,QAAA,iBACAo9G,UAAA7rB,uBAAAvxF,QAAA,mBACAi1G,MAAA1jB,uBAAAvxF,QAAA,eACAspG,MAAA/X,uBAAAvxF,QAAA,eACAq2F,mBAAA9E,uBAAAvxF,QAAA,wBACA46I,eAAArpD,uBAAAvxF,QAAA,oBACAg8F,sBAAAzK,uBAAAvxF,QAAA,iCACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACA42F,gBAAArF,uBAAAvxF,QAAA,2BACA66I,eAAAtpD,uBAAAvxF,QAAA,oBACA86I,kBAAAvpD,uBAAAvxF,QAAA,8BACA+6I,qBAAAxpD,uBAAAvxF,QAAA,gCACA4xF,YAAAL,uBAAAvxF,QAAA,yBACAg7I,sBAAAh7I,QAAA,gCACA6pG,gBAAA7pG,QAAA,+BACAq8F,MAAAr8F,QAAA,gBAKAoxG,QAAApxG,QAAA,kBAOAypG,mBAAAzpG,QAAA,kCAIA49G,sBAAA59G,QAAA,qCACA+xF,YAAA/xF,QAAA,2BACA8xF,aAAA9xF,QAAA,4BACA01G,UAAA11G,QAAA,y6BAEA,IAGMi7I,oBAAsB,CACxB5mG,SAAS,EACT6mG,UAAW,EACXC,OAAQ,CAAC,EAAG,IAMKC,wBAMjB,SAAAA,eAA0B,IAAA3jI,MAAAjU,KAAdvC,QAAc,EAAAoH,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAJ,kIAAIiqF,CAAA9uF,KAAA43I,cAAA1+C,gBAAAl5F,KAAA,uBAgyBH,SAAC69D,UAEpB5pD,MAAKrO,KAAOi4D,SACZ5pD,MAAK4jI,SAAU,EACf5jI,MAAKm7E,QAAS,EAEdn7E,MAAKmvB,KAAKy6B,UACV5pD,MAAKg7E,SAAShtC,QAAQssC,YAAAyC,MAAM+D,eAAgB9gF,MAAKrO,MACjDqO,MAAKqc,QAxyBiB4oE,gBAAAl5F,KAAA,qBAgzBL,SAAAi2G,MAAoB,IAAjB6hC,WAAiB7hC,KAAjB6hC,WACpBrrH,QAAQ1U,MAAR,0BAAAvG,OAAwCyC,MAAK47E,KAA7C,MAAAr+E,OAAsDsmI,aAEtD7jI,MAAK4jI,SAAU,EACfhlD,mBAAA,QAAkBlgF,QAAQ2d,QA/yB1BtwB,KAAKivF,SAAWd,UAAA,QAWhBnuF,KAAK4F,KAAO,GAOZ5F,KAAKqqG,mBAAqB,KAO1BrqG,KAAK8qG,qBAAuB,KAS5B9qG,KAAKovF,QAAS,EASdpvF,KAAK63I,SAAU,EASf73I,KAAKW,KAAO,KASZX,KAAK6vF,KAAO,KASZ7vF,KAAKk3I,MAAQ,KAObl3I,KAAKsxC,MAAQ,KAObtxC,KAAKksB,MAAQ,KAOblsB,KAAK0jI,eAAiB,KAStB1jI,KAAK+3I,kBAAoB,KASzB/3I,KAAKg4I,cAAgB,KAOrBh4I,KAAKo3F,iBAAmB,GASxBp3F,KAAKi4I,SAAW,KAUhBj4I,KAAK67G,QAAU,GAMf77G,KAAKg1D,QAAU,CACX61C,OAAQ,KACRqtC,UAAW,MASfl4I,KAAK0sG,KAAO,CACRh5C,MAAO,GACPo5C,MAAO,GAUX9sG,KAAKm4I,YAAc,CACfzkF,MAAO,GACPo5C,MAAO,GAQX9sG,KAAKk1G,WAAa,KAOlBl1G,KAAKo4I,YAAc,KAOnBp4I,KAAK09H,YAAc,KAOnB19H,KAAKq4I,WAAa,KAElBr4I,KAAKojC,KAAK3lC,wHAgGTmI,MACD5F,KAAKW,MAAO,EAAA8wG,MAAA,SAAK7rG,KAAM,OAAQ5F,KAAKW,MACpCX,KAAK6vF,MAAO,EAAA4hB,MAAA,SAAK7rG,KAAM,OAAQ5F,KAAK6vF,MAAMtjE,cAC1CvsB,KAAKksB,OAAQ,EAAAulF,MAAA,SAAK7rG,KAAM,QAAS5F,KAAKksB,OAIjCtmB,KAAKmlD,WAIV/qD,KAAKs4I,mBAAmB1yI,KAAKmlD,UAAU,EAAAs7C,gBAAAqD,kBAAiB9jG,KAAK2yI,iBAE7Dv4I,KAAKk3I,OAAQ,EAAAzlC,MAAA,SAAK7rG,KAAM,QAAS5F,KAAKk3I,OACtCl3I,KAAKsxC,OAAQ,EAAAmgE,MAAA,SAAK7rG,KAAM,QAAS5F,KAAKsxC,OACtCtxC,KAAKw3F,aAAc,EAAAia,MAAA,SAAK7rG,KAAM,eAAe,GAC7C5F,KAAKk1G,YAAa,EAAAzD,MAAA,SAAK7rG,KAAM,aA5UP,IA6UtB5F,KAAKo4I,aAAc,EAAA3mC,MAAA,SAAK7rG,KAAM,cA5UP,KA6UvB5F,KAAK09H,aAAc,EAAAjsB,MAAA,SAAK7rG,KAAM,cA5UF,KA6U5B5F,KAAK+3I,kBAAoB,IAAIT,kBAAA,QAAiB1xI,KAAK4yI,QAASx4I,KAAK0jI,gBACjE1jI,KAAKg4I,cAAgB,IAAIX,eAAA,QAAczxI,KAAK6yI,KAAM7yI,KAAK8yI,YAAa14I,KAAK2kG,cAAe3kG,KAAK24I,eAC7F34I,KAAKm4I,YAAYzkF,MAAQ9tD,KAAK8mG,KAAKh5C,MACnC1zD,KAAKm4I,YAAYrrC,OAAQ,EAAAzG,gBAAAqD,kBAAiB9jG,KAAK8mG,KAAKI,OAEpD9sG,KAAK44I,gBAAgBhzI,KAAKyyI,YAC1Br4I,KAAK64I,cACL74I,KAAK84I,cAAclzI,KAAKqyI,UACxBj4I,KAAK+4I,0BAA0BnzI,KAAKozI,cAAepzI,KAAKqzI,iBACxDj5I,KAAKk5I,qBAAqBtzI,KAAK80G,YAC/B16G,KAAKm5I,kBAAkBvzI,KAAK8mG,MAE5B1sG,KAAKivF,SAAS7tC,GAAGmtC,YAAAyC,MAAMooD,YAAap5I,KAAKm5I,kBAAkBzmF,KAAK1yD,gDAWpDq5I,eACPA,gBACDr5I,KAAKq4I,WAAaZ,qBAGtBz3I,KAAKq4I,WAAa,CACdxnG,QAASwoG,cAAcxoG,QACvB8mG,OAAQ,IAAIn/C,sBAAA,QACR6gD,cAAc1B,OACd33I,KAAK2kG,cACL3kG,KAAK24I,eAETjB,UAAW2B,cAAc3B,sDAUd4B,eAAgBX,gBAC1B,EAAAnB,sBAAA+B,0BAAyBD,kBAI9Bt5I,KAAK0jI,eAAiB,IAAI6T,qBAAA,QAAoB+B,eAAgB,KAAMX,sDAU1DV,UAAU,IAAA/mD,OAAAlxF,KACpB,GAAKi4I,SAAL,CAKAj4I,KAAKi4I,UAAW,EAAAnyC,MAAA,SAAKmyC,SAAU,SAACuB,iBAC5B,OAAO,IAAIpC,eAAA,QACPoC,gBACAtoD,OAAKwyC,eACLxyC,OAAKwyC,eAAeiV,iBAVR,IAAAc,4BAcpBz5I,KAAKk1G,WAAa,GAdEwkC,mBAAA,EAAAC,oBAAA/2I,EAAA,IAgBpB,IAAA,IAAAg3I,MAAAC,UAA4B75I,KAAKi4I,SAAjC5yG,OAAAC,cAAAm0G,2BAAAG,MAAAC,UAAA1zH,QAAAd,MAAAo0H,2BAAA,EAA2C,CAAA,IAAhCK,cAAgCF,MAAAp0I,MACvCxF,KAAKk1G,WAAaniF,KAAKi6B,IAALx8C,MAAAuiB,KAAI,CAClB/yB,KAAKk1G,YADa1jG,OAAAuqF,oBAEf,EAAA+J,MAAA,SAAKg0C,cAActsB,KAAM,SAACusB,gBAAD,OAAoB,EAAAnsC,QAAAE,OAC5C,EAAAF,QAAAG,MAAKgsC,eAAel+C,iBAAkB3K,OAAKmnD,WAAWV,OAAO97C,yBApBrD,MAAA74F,KAAA02I,mBAAA,EAAAC,eAAA32I,IAAA,QAAA,IAAAy2I,2BAAA,MAAAI,UAAA,QAAAA,UAAA,SAAA,QAAA,GAAAH,kBAAA,MAAAC,+DA+BH/zI,MAAM,IAAAwrF,OAAApxF,KAClB4F,OAIL,EAAAg0G,UAAA,SAASh0G,KAAM,SAACo0I,UACZ,IAAMC,eAAiB,GAEnBD,SAASr5I,OACTs5I,eAAet5I,KAAOq5I,SAASr5I,MAGnCs5I,eAAenuF,QAAS,EAAAu6C,gBAAA6zC,gBAAeF,SAASluF,QAChDmuF,eAAezsB,KAAOwsB,SAASxsB,KAAKr8G,IAAI,SAAC2vG,KACrC,OAAOtoB,sBAAA,QAAqB2hD,0BAA0Br5B,IAAK1vB,OAAKsyC,eAAgBtyC,OAAKunD,iBAGzF,IAAIyB,WAAaH,eAAezsB,KAAK,GACjC6sB,WAAaJ,eAAezsB,KAAK,IAErC,EAAA5T,UAAA,SAASqgC,eAAezsB,KAAM,SAACn3E,GAC3B+jG,WAAa,CACTrnH,KAAKi6B,IAAI3W,EAAE,GAAI+jG,WAAW,IAC1BrnH,KAAKi6B,IAAI3W,EAAE,GAAI+jG,WAAW,KAE9BC,WAAa,CACTtnH,KAAKw5C,IAAIl2B,EAAE,GAAIgkG,WAAW,IAC1BtnH,KAAKw5C,IAAIl2B,EAAE,GAAIgkG,WAAW,OAIlC,IAAIC,uBAAyB,EAAC,EAAA1sC,QAAAyW,SAAO,EAAAzW,QAAA2W,MAAK61B,WAAYC,YAAa,KAE/DL,SAASO,iBACTD,uBAAyBN,SAASO,eAAeppI,IAAI,SAACklC,GAClD,OAAOmiD,sBAAA,QAAqB2hD,0BAA0B9jG,EAAG+6C,OAAKsyC,eAAgBtyC,OAAKunD,kBAI3FsB,eAAeK,uBAAyBA,uBAExClpD,OAAKgG,iBAAiB5zF,KAAKy2I,yEAYJtxC,UAC3B,OAAO,EAAAwuC,QAAA,SAAOxuC,SAAU3oG,KAAK6uH,sBAAuB7uH,KAAK27G,iEAQ3C6+B,aACTA,cAILx6I,KAAK0sG,KAAKh5C,MAAQ8mF,YAAY9mF,MAC9B1zD,KAAK0sG,KAAKI,OAAQ,EAAAzG,gBAAAqD,kBAAiB8wC,YAAY1tC,oCAQ/CiqC,aACK/2I,KAAKovF,QAMVa,aAAa3B,aAAA4B,YAAYC,kBAAoBnwF,KAAK6vF,KAGlDuD,gBAAA,QAAeqnD,8BAEfz6I,KAAK4E,MAAQwpF,YAAA,QAAW4gB,qBAExBhvG,KAAKivF,SAAShtC,QAAQssC,YAAAyC,MAAMC,mBAAmB,IAZ3CjxF,KAAKqkD,KAAK0yF,yDAwB2B,IAA3BpuC,SAA2B,EAAA9jG,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAhB7E,KAAK8uG,UAIxB4rC,0BAH2B16I,KAAK0sG,KAAKh5C,OAGmB,GAFjCi1C,SAAW3oG,KAAK8uG,WACKsL,sBAAA4S,YAAY2tB,6BAO9D,MALa,CACT7tC,MAAO9sG,KAAK0sG,KAAKI,MACjBp5C,MAAOgnF,oEAYE7vC,QACb,IAAM4V,eAAiB5V,OAAO+vC,iCAAiC56I,KAAK0sG,KAAKI,OAEzE,MAAO,CACH6T,OAAO,EAAA9nB,MAAA+nB,KAAIH,gBAAkBzgH,KAAK0sG,KAAKh5C,MACvC7wB,MAAM,EAAAg2D,MAAAjoC,KAAI6vD,gBAAkBzgH,KAAK0sG,KAAKh5C,uDAatBi1C,UAAU,IAAAkyC,sBACL76I,KAAK2sG,kBAAkBhE,UAAxCmE,MADsB+tC,sBACtB/tC,MAAOp5C,MADemnF,sBACfnnF,MACTonF,oBAAsBhuC,MAAQ/5E,KAAK89B,GAGzC,OAFmB,EAAA+8C,QAAAyW,SAAO,EAAAzW,QAAA0W,wBAAuBw2B,qBAAsBpnF,yDAajDg/D,kBAAmBI,qBACzC,IAAMzoB,mBAAqBrqG,KAAKkqG,UAAUwoB,mBACpC5nB,qBAAuB9qG,KAAKkqG,UAAU4oB,qBAE5C9yH,KAAK4yH,iBAAiBvoB,oBACtBrqG,KAAK2hH,mBAAmB7W,+DAUXb,aACbjqG,KAAKqqG,mBAAqBJ,uDAUXA,aACfjqG,KAAK8qG,qBAAuBb,+DAWLpS,UACvB,OAAIA,WAAaoO,mBAAAwR,gBAAgBC,QACtB13G,KAAKqqG,mBAGZxS,WAAaoO,mBAAAwR,gBAAgB6D,UACtBt7G,KAAK8qG,qBAGZjT,WAAaoO,mBAAAwR,gBAAgB8D,YAIjC9uF,QAAQ4tB,KAAK,0EAAA,IAAA7oC,OACLqmF,SADK,qCAAArmF,OACuCxR,KAAKqqG,mBAAmB1pG,KAD/D,MAGNX,KAAKqqG,yBAPZ,8DAmBgC0wC,kBAAmBC,sBACnD,OAAOh7I,KAAK+3I,kBAAkBznC,oCAAoCyqC,kBAAmBC,gGAgC/Er6I,MACN,OAAOX,KAAK+3I,kBAAkBkD,sBAAsBt6I,gEAUtByqI,YAC9B,OAAOprI,KAAK+3I,kBAAkB5iC,kCAAkCi2B,2DAWhEprI,KAAK+3I,kBAAkBS,QAAQ9kH,QAAQ,SAACu2E,aAAD,OAAiBA,YAAYixC,oDAQ3Dt1I,MACT,IAAMu1I,0BACW,aADXA,sBAEO,UAIPC,IAAMp7I,KACZo7I,IAAIv/B,QAAU,IAEd,EAAAjC,UAAA,SAASh0G,KAAKy1I,SAAU,SAAC/+I,GAGrB,IAAMsxH,KAAM,EAAA/0B,MAAAhkE,OAAMv4B,EAAEw1D,WAAWg9C,UAAY,MAAQ,KAE9CssC,IAAIv/B,QAAQ+R,OACbwtB,IAAIv/B,QAAQ+R,KAAO,IAGvB,IAAI0tB,UAAYh/I,EAAEi/I,SAASC,YACvBl/I,EAAEi/I,SAAS95I,OAAS05I,4BACpBG,UAAY,CAAC,CAACA,aAGdh/I,EAAEi/I,SAAS95I,OAAS05I,wBACpBG,UAAY,CAACA,aAGjB,EAAA1hC,UAAA,SAAS0hC,UAAW,SAAC9tB,MAGjB,IAAMiuB,oBAAqB,EAAA31C,MAAA,SAAK0nB,KAAM,SAACkuB,aACnC,OAAO,EAAA51C,MAAA,SAAK41C,YAAa,SAACC,OAEtB,IAAMC,aAAeD,MAAMh1I,QAAQuvC,UAGnC,OAFY,IAAIqhG,qBAAA,QAAoBqE,aAAcR,IAAIz2C,cAAey2C,IAAIzC,eAE9D98C,qBAInBu/C,IAAIv/B,QAAQ+R,KAAKpqH,KAAKi4I,8DASpB,IAAAlqD,OAAAvxF,KACLA,KAAKw3F,aAKV/I,KAAKC,IAAI8G,UAAU,CACfp+D,IAAG,2BAAA5lB,OAA6BxR,KAAK6vF,KAAKtjE,cAAvC,YACHsvH,WAAW,IACZx2H,KAAK,SAACzf,MACL,IAEI2rF,OAAKuqD,aAAal2I,MACpB,MAAO3J,GACL,MAAM,IAAIU,MAAMV,EAAEsuB,YAEvBssB,KAAK,SAACgjB,MAAOi+E,WAAYiE,aACxBtvH,QAAQ1U,MAAR,kCAAAvG,OAAgD+/E,OAAK1B,KAArD,MAAAr+E,OAA8DsmI,aAE9DvmD,OAAKsmD,SAAU,EACfhlD,mBAAA,QAAkBlgF,QAAQ2d,uCAWT,IAAA0rH,OAAAh8I,KAApB+2I,YAAoB,EAAAlyI,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,KACX7E,KAAKovF,SAITpvF,KAAK63I,SAAU,EACf73I,KAAKivF,SAAShtC,QAAQssC,YAAAyC,MAAMC,mBAAmB,GAE3C8lD,aAAeA,YAAYlnD,KAAKtjE,gBAAkBvsB,KAAK6vF,KACvD7vF,KAAKi8I,4BAA4BlF,aAMrCtoD,KAAKC,IAAI8G,UAAU,CACfp+D,IAAG,mBAAA5lB,OAAqBxR,KAAK6vF,KAAKtjE,cAA/B,SACHsvH,WAAW,IACZx2H,KAAK,SAACw4C,UAAD,OAAcm+E,OAAKE,qBAAqBr+E,YAC3ChnB,KAAK,WAAA,OAAamlG,OAAKG,mBAAL3rI,MAAAwrI,OAAIn3I,kEAyCHg5D,UAGxB79D,KAAK4F,KAAOi4D,SACZ79D,KAAK63I,SAAU,EACf73I,KAAKovF,QAAS,EAEdpvF,KAAKojC,KAAKy6B,UACV79D,KAAKswB,oDAaaqrH,MAAOhzC,UACzB,IAAK,IAAItsG,EAAI,EAAGA,EAAI2D,KAAKi4I,SAASj7I,OAAQX,IAAK,CAG3C,GAFiB2D,KAAKi4I,SAAS57I,GAElB+/I,cAAcT,MAAOhzC,UAC9B,OAAO,EAIf,OAAO,qCAUAgzC,OACP,OAAO,EAAAzpC,UAAA4C,YAAW6mC,MAAO37I,KAAK67F,oDAzpB9B,OAAO77F,KAAK0jI,eAAe50B,gDAW3B,OAAO9uG,KAAK0jI,wDAWZ,OAAO1jI,KAAK0jI,eAAe7nC,uDAW3B,OAAO77F,KAAK0jI,eAAeiV,4DAU3B,OAAO,EAAAn/B,OAAA,SAAMx5G,KAAK8uG,UAAY,KAAO,mCAcrC,OAAO,EAAAurB,QAAA,SAAOr6H,KAAK+3I,kBAAkBS,QAAS,8CAa9C,OAAOzlH,KAAKC,MAAMhzB,KAAK8uG,UAAY7I,mBAAAqZ,YAAY+8B,4FAU/C,OAAOr8I,KAAKo4I,q6BC3VpB,IAAAt+B,UAAA/rB,uBAAAvxF,QAAA,mBACAumI,WAAAh1C,uBAAAvxF,QAAA,oBACAspG,MAAA/X,uBAAAvxF,QAAA,eACAszH,YAAA/hC,uBAAAvxF,QAAA,sBACA+6I,qBAAAxpD,uBAAAvxF,QAAA,gCACAu8F,iBAAAv8F,QAAA,gCACA6pG,gBAAA7pG,QAAA,+BACAoxG,QAAApxG,QAAA,gmDAOqB8/I,mCAQjB,SAAAA,cAAY12I,KAAM22I,gBAAiB5D,eAAe,IAAA1kI,MAG9C,iIAH8C66E,CAAA9uF,KAAAs8I,eAC9CroI,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAA8sB,eAAAv/I,KAAAiD,QAEK4F,OAAS22I,mBAAoB,EAAAxZ,WAAA,SAAU4V,eAExC,MAAM,IAAIzmH,UAAU,yFAiExB,OApDAje,MAAKu5G,KAAO,GAUZv5G,MAAKuoI,aAAe,GAUpBvoI,MAAK+e,MAAQ+lE,iBAAA2K,eAUbzvF,MAAKspG,QAAUxkB,iBAAA2K,eAUfzvF,MAAKwoI,eAAiB,GAUtBxoI,MAAKqmI,uBAAyB,GAE9B/qB,2BAAAt7G,MAAOA,MAAKygF,MAAM9uF,KAAM22I,gBAAiB5D,wZA9EN7oB,YAAA,+EA8FjClqH,KAAM22I,gBAAiB5D,eASzB,OARA34I,KAAKgzB,OAAQ,EAAAqzE,gBAAAq2C,oBAAmB92I,KAAKotB,OACrChzB,KAAKu9G,SAAU,EAAAlX,gBAAAq2C,oBAAmB92I,KAAK23G,SACvCv9G,KAAKy8I,eAAiB72I,KAAK62I,eAC3Bz8I,KAAKwtH,KAAOxtH,KAAK28I,yBAAyB/2I,KAAK4nH,KAAM+uB,gBAAiB5D,eACtE34I,KAAKw8I,cAAe,EAAA12C,MAAA,SAAK9lG,KAAKwtH,KAAM,SAACn3E,GAAD,OAAOA,EAAEwlD,mBAE7C77F,KAAK48I,oBAAoBh3I,KAAM22I,gBAAiB5D,eAEzC34I,iDAGS4F,KAAM22I,gBAAiB5D,eACvC,GAAK/yI,KAAK20I,eAAV,CAOA,IAAMD,uBAAyB10I,KAAK20I,eAAeppI,IAAI,SAAC45C,UAGpD,OAF2B,IAAIwsF,qBAAA,QAAoBxsF,SAAUwxF,gBAAiB5D,eAEpD98C,mBAG9B77F,KAAKs6I,uBAAyBA,2BAb9B,CACI,IAAMuC,uBAAyB78I,KAAK88I,2CACpC98I,KAAKs6I,uBAAyB,CAACuC,4FAsBI,IAAAE,oBAAA5gD,eACpBn8F,KAAKw8I,aAAa,GADE,GAClCQ,KADkCD,oBAAA,GAC5BE,KAD4BF,oBAAA,GAAAG,qBAAA/gD,eAEpBn8F,KAAKw8I,aAAa,GAFE,GAElCW,KAFkCD,qBAAA,GAE5BE,KAF4BF,qBAAA,GAAAzD,2BAAA,EAAAC,mBAAA,EAAAC,oBAAA/2I,EAAA,IAKvC,IAAA,IAAAg3I,MAAAC,UAAoB75I,KAAKw8I,aAAzBn3G,OAAAC,cAAAm0G,2BAAAG,MAAAC,UAAA1zH,QAAAd,MAAAo0H,2BAAA,EAAuC,CAAA,IAA5BkC,MAA4B/B,MAAAp0I,MACnCw3I,KAAOjqH,KAAKw5C,IAAIywE,KAAMrB,MAAM,IAC5BwB,KAAOpqH,KAAKi6B,IAAImwF,KAAMxB,MAAM,IAC5BsB,KAAOlqH,KAAKw5C,IAAI0wE,KAAMtB,MAAM,IAC5ByB,KAAOrqH,KAAKi6B,IAAIowF,KAAMzB,MAAM,KATO,MAAA34I,KAAA02I,mBAAA,EAAAC,eAAA32I,IAAA,QAAA,IAAAy2I,2BAAA,MAAAI,UAAA,QAAAA,UAAA,SAAA,QAAA,GAAAH,kBAAA,MAAAC,gBAavC,MAAO,EACFqD,KAAOG,MAAQ,GACfF,KAAOG,MAAQ,mCASpBp9I,KAAKwtH,KAAO,GACZxtH,KAAKgzB,MAAQ+lE,iBAAA2K,eACb1jG,KAAKu9G,QAAUxkB,iBAAA2K,eACf1jG,KAAKy8I,eAAiB,yCAcZd,MAAOhzC,UACjB,QAAIA,SAAW3oG,KAAKgzB,OAAShzB,KAAKu9G,QAAU5U,WAIrC3oG,KAAKq9I,gBAAgB1B,+CAWhBA,OACZ,OAAO,EAAA/tC,QAAA2f,eAAcouB,MAAO37I,KAAKw8I,yDAWlBb,OACf,OAAO,EAAAt1C,gBAAA0f,KAAG,EAAAnY,QAAA8f,kBAAiBiuB,MAAO37I,KAAKw8I,gEAiBlBc,SAAUf,gBAAiB5D,eAChD,IAAM4E,oBAAqB,EAAAz3C,MAAA,SAAKw3C,SAAU,SAAC9vB,MACvC,OAAO,IAAI+pB,qBAAA,QAAoB/pB,KAAM+uB,gBAAiB5D,iBAMpD7mE,UAAYyrE,mBAAmBvgJ,OAAS,EACxCwgJ,2BAA6BD,mBAFhB,GAE+C1hD,iBAC5D4hD,0BAA4BF,mBAAmBzrE,WAAW+pB,iBAMhE,OAJI,EAAAie,UAAA,SAAS0jC,2BAA4BC,4BACrCF,mBAAmB3oI,MAGhB2oI,wgBCxPf,IAAAvvD,QAAAD,uBAAAvxF,QAAA,iBACAumI,WAAAh1C,uBAAAvxF,QAAA,oBACAkhJ,UAAA3vD,uBAAAvxF,QAAA,eACA4yH,iBAAArhC,uBAAAvxF,QAAA,2BACA+6I,qBAAAxpD,uBAAAvxF,QAAA,gCACA41G,oBAAA51G,QAAA,4iDAYqBmhJ,wCAQjB,SAAAA,cAAYC,QAASlF,YAAamF,qBAAsBlF,eAAe,IAAA1kI,MAGnE,iIAHmE66E,CAAA9uF,KAAA29I,eACnE1pI,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAAmuB,eAAA5gJ,KAAAiD,QAEI,EAAAguF,QAAA,SAAO4vD,WAAY,EAAA5vD,QAAA,SAAO0qD,eAAgB,EAAA1qD,QAAA,SAAO6vD,yBAA0B,EAAA9a,WAAA,SAAU4V,eACrF,MAAM,IAAIzmH,UAAU,+JAAA,GAAA1gB,OAAAiiG,QAENmqC,SAFM,MAAApsI,OAAAiiG,QAEailC,aAFb,MAAAlnI,OAAAiiG,QAEoCoqC,sBAFpC,SAAArsI,OAAAiiG,QAEuEklC,iBAG/F,IAAI,EAAAvmC,oBAAAsB,mBAAkBkqC,SAClB,MAAM,IAAI1rH,UAAU,wDAAA,4CAAA1gB,OAAAiiG,QACmCmqC,WAG3D,IAAI,EAAAxrC,oBAAAsB,mBAAkBglC,aAClB,MAAM,IAAIxmH,UAAU,4DAAA,4CAAA1gB,OAAAiiG,QACmCilC,eAG3D,KAAMmF,gCAAgCtG,qBAAA,SAClC,MAAM,IAAIrlH,UAAU,qEAAA,0DAAA1gB,OAAAiiG,QACiDoqC,wBArBN,OAwCnE5pI,MAAKygF,MAAMkpD,QAASlF,YAAamF,qBAAsBlF,eAxCY1kI,8YARhCm7G,iBAAA,+EAqFjCwuB,QAASlF,YAAamF,qBAAsBlF,eAC9C34I,KAAKirI,OAASjrI,KAAK89I,gBAAgBF,QAASlF,YAAamF,qBAAsBlF,4DAa/E,OAAO34I,KAAKirI,OAAOrP,OAAO,SAACmiB,IAAK5sI,KAC5B,OAAIA,IAAI6sI,SACGD,IAGX,GAAAvsI,OAAAuqF,mBACO5qF,IAAIwU,OADXo2E,mBAEOgiD,OAER,iDAWH,OAAO/9I,KAAKirI,OAAOrP,OAAO,SAACmiB,IAAK5sI,KAC5B,OAAIA,IAAI6sI,SACGD,IAGX,GAAAvsI,OAAAuqF,mBACOgiD,KADP,CAEI5sI,IAAIxQ,QAET,0CAWH,OAAOX,KAAKirI,OAAO95H,IAAI,SAACA,KAAD,OAASA,IAAIxQ,8CAUzBo1B,OACX/1B,KAAKirI,OAAOv3G,QAAQ,SAACviB,KACjBA,IAAI6sI,UAAYjoH,MAAM60C,SAASz5D,IAAIxQ,gDAe3Bi9I,QAASlF,YAAamF,qBAAsBlF,eACxD,OAAOiF,QAAQzsI,IAAI,SAACqF,MAChB,IAAMrF,IAAM,IAAIusI,UAAA,QAASlnI,KAAMqnI,qBAAsBlF,eAIrD,OAFAxnI,IAAI6sI,UAAYtF,YAAY9tE,SAASz5D,IAAIxQ,MAElCwQ,6CAjHX,OAAOnR,KAAKirI,OAAOpwG,KAAK,SAAC1pB,KAAD,OAAUA,IAAI6sI,wCAWtC,OAAOh+I,KAAKirI,2cCvFpB,IAAAj9C,QAAAD,uBAAAvxF,QAAA,iBACAumI,WAAAh1C,uBAAAvxF,QAAA,oBACAg+H,WAAAzsC,uBAAAvxF,QAAA,oBACAszH,YAAA/hC,uBAAAvxF,QAAA,sBACAg8F,sBAAAzK,uBAAAvxF,QAAA,iCACA+6I,qBAAAxpD,uBAAAvxF,QAAA,gCACA41G,oBAAA51G,QAAA,4iDAeqByhJ,8BAQjB,SAAAA,SAAY9sI,IAAKorI,gBAAiB5D,eAAe,IAAA1kI,MAG7C,iIAH6C66E,CAAA9uF,KAAAi+I,UAC7ChqI,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAAyuB,UAAAlhJ,KAAAiD,QAEI,EAAAguF,QAAA,SAAO78E,OAAQ,EAAA68E,QAAA,SAAOuuD,oBAAqB,EAAAxZ,WAAA,SAAU4V,eACrD,MAAM,IAAIzmH,UAAU,uHAAA,gBAAA1gB,OAAAiiG,QAEOtiG,KAFP,MAAAK,OAAAiiG,QAEsB8oC,iBAFtB,SAAA/qI,OAAAiiG,QAEoDklC,iBAG5E,IAAI,EAAAvmC,oBAAA4d,oBAAmB7+G,KACnB,MAAM,IAAI+gB,UAAU,+CAAA,6CAAA1gB,OAAAiiG,QACoCtiG,OAG5D,KAAK,EAAAqpH,WAAA,SAAUrpH,IAAIxQ,MACf,MAAM,IAAIuxB,UAAU,+CAAA,kDAAA1gB,OAAAiiG,QACyCtiG,IAAIxQ,QAGrE,IAAI,EAAAyxG,oBAAAsB,mBAAkBviG,IAAIwU,OACtB,MAAM,IAAIuM,UAAU,+CAAA,4DAAA1gB,OAAAiiG,QACmDtiG,IAAIwU,SAG/E,KAAM42H,2BAA2BhF,qBAAA,SAC7B,MAAM,IAAIrlH,UAAU,2DAAA,0DAAA1gB,OAAAiiG,QACiD8oC,mBAiCzE,OAtBAtoI,MAAK+pI,UAAW,EAUhB/pI,MAAK0R,MAAQ,GAUb1R,MAAKtT,KAAO,GAEZ4uH,2BAAAt7G,MAAOA,MAAKygF,MAAMvjF,IAAKorI,gBAAiB5D,mZAnEV7oB,YAAA,0EAkF5B3+G,IAAKorI,gBAAiB5D,eAMxB,OALA34I,KAAKg+I,UAA4B,IAAjB7sI,IAAI6sI,SACpBh+I,KAAKW,KAAOwQ,IAAIxQ,KAEhBX,KAAKk+I,eAAe/sI,IAAIwU,MAAO42H,gBAAiB5D,eAEzC34I,qCAQPA,KAAKg+I,UAAW,EAChBh+I,KAAK2lB,MAAQ,GACb3lB,KAAKW,KAAO,0CAiBDglB,MAAO42H,gBAAiB5D,eACnC34I,KAAK2lB,MAAQA,MAAMxU,IAAI,SAACtN,MACpB,IAAMs6I,8BAAgC,CAAC5B,gBAAiB5D,eAClDyF,qBAAuB,CAACv6I,KAAK,GAAIA,KAAK,IACtCw6I,mBAAqB,CAACx6I,KAAK,GAAIA,KAAK,IACpCy6I,cAAgB9lD,sBAAA,QAAqB2hD,0BAArB3pI,MAAAgoF,sBAAA,QAAA,CAClB4lD,sBADkB5sI,OAEf2sI,gCAEDI,YAAc/lD,sBAAA,QAAqB2hD,0BAArB3pI,MAAAgoF,sBAAA,QAAA,CAChB6lD,oBADgB7sI,OAEb2sI,gCAGP,MAAA,GAAA3sI,OAAAuqF,mBAAWuiD,eAAXviD,mBAA6BwiD,6eCtJzC,IAAA/sC,OAAAzjB,uBAAAvxF,QAAA,gBACAo9G,UAAA7rB,uBAAAvxF,QAAA,mBACAwxF,QAAAD,uBAAAvxF,QAAA,iBACA4yH,iBAAArhC,uBAAAvxF,QAAA,8BACAg1H,aAAAzjC,uBAAAvxF,QAAA,kBACAgiJ,yBAAAzwD,uBAAAvxF,QAAA,8BACA41G,oBAAA51G,QAAA,oqCAUqBiiJ,2CAMjB,SAAAA,iBAAYC,WAAYb,sBAAsB,IAAA5pI,MAG1C,iIAH0C66E,CAAA9uF,KAAAy+I,kBAC1CxqI,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAAivB,kBAAA1hJ,KAAAiD,QAEI,EAAAguF,QAAA,SAAO0wD,cAAe,EAAA1wD,QAAA,SAAO6vD,sBAC7B,MAAM,IAAI3rH,UAAU,4HAAA,gBAAA1gB,OAAAiiG,QAEOirC,YAFP,SAAAltI,OAAAiiG,QAEgCoqC,wBAGxD,IAAI,EAAAzrC,oBAAAsB,mBAAkBgrC,YAClB,MAAM,IAAIxsH,UAAU,8DAAA,4CAAA1gB,OAAAiiG,QACmCirC,cAXjB,OAoC1CzqI,MAAK0qI,sBAAwB,KAW7B1qI,MAAK2qI,qBAAuB,GAE5B3qI,MAAKygF,MAAMgqD,WAAYb,sBAjDmB5pI,iZANJm7G,iBAAA,kFA4EpCsvB,WAAYb,sBACd79I,KAAK2+I,sBAAwBd,qBAE7B79I,KAAK6+I,mBAAmBH,YACxB1+I,KAAK8+I,8DAUL9+I,KAAK2+I,sBAAwB,KAC7B3+I,KAAK4+I,qBAAuB,iDAaVG,qBAMlB,IALA,IAAIC,WAAa,GACbC,oBAAsBvkH,EAAAA,EACpBwkH,SAAW,GACXxyC,KAAOqyC,sBAEJ1iJ,EAAI,EAAGA,EAAI2D,KAAKirI,OAAOjuI,OAAQX,IAAK,CACzC,IAAMwuG,OAAS7qG,KAAKirI,OAAO5uI,GAE3B6iJ,SAASr0C,OAAOlqG,MAAQoyB,KAAK69B,IAAIi6C,OAAOiC,MAAQJ,KAAKI,OAASJ,KAAKh5C,MAGvE,IAAK,IAAMyrF,WAAUD,SACbA,SAASC,SAAUF,qBAEnBA,mBAAqBC,SADrBF,WAAaG,UAKrB,OAAOH,qEAeuB5T,YAC9B,IAAK,IAAI/uI,EAAI,EAAGA,EAAI2D,KAAKhD,OAAQX,IAAK,CACd2D,KAAKirI,OAAO5uI,GAEpB+wG,wBAAwBg+B,6DAUL,IAAjBphC,WAAiB,EAAAnlG,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAJ,GAC/B,OAAO,EAAA2sG,OAAA,SAAMxxG,KAAKirI,OAAQ,CAAEtqI,KAAMqpG,WAAWzuD,iBAAoB,iEAUjCw/F,kBAAmBC,sBACnD,OAAOh7I,KAAK4+I,qBAAqB7D,kBAAkBx/F,eAAey/F,qBAAqBz/F,0DAYxEw/F,kBAAmBC,sBAMlC,OAL2Bh7I,KAAKswG,oCAC5ByqC,kBACAC,sBAGsBzqC,oDAQXmuC,YAAY,IAAAxtD,OAAAlxF,MAC3B,EAAA45G,UAAA,SAAS8kC,WAAY,SAAC7zC,QAClB3Z,OAAKkuD,uBAAuB,IAAI5tB,aAAA,QAAY3mB,OAAQ,EAAG3Z,OAAKytD,wBAC5DztD,OAAKkuD,uBAAuB,IAAI5tB,aAAA,QAAY3mB,OAAQ,EAAG3Z,OAAKytD,yEAS7C10C,aACnBjqG,KAAKirI,OAAOznI,KAAKymG,iEAYjB,IAAK,IAAI5tG,EAAI,EAAGA,EAAI2D,KAAKhD,OAAQX,IAAK,CAClC,IAAMgjJ,cAAgBr/I,KAAKirI,OAAO5uI,GAElC2D,KAAK4+I,qBAAqBS,cAAc1+I,MAAQ,GAEhDX,KAAKs/I,mCAAmCD,2EAYbp1C,aAC/B,IAAK,IAAI5tG,EAAI,EAAGA,EAAI2D,KAAKhD,OAAQX,IAAK,CAClC,IAAMkjJ,iBAAmBv/I,KAAKirI,OAAO5uI,GAEjC4tG,YAAYtpG,OAAS4+I,iBAAiB5+I,OACtCX,KAAK4+I,qBAAqB30C,YAAYtpG,MAAM4+I,iBAAiB5+I,MAAQ,IAAI69I,yBAAA,QACrEv0C,YACAs1C,oDA9KZ,OAAOv/I,KAAKirI,yeCjFpB,IAAAzxB,OAAAzrB,uBAAAvxF,QAAA,gBACAk1G,UAAA3jB,uBAAAvxF,QAAA,mBACAszH,YAAA/hC,uBAAAvxF,QAAA,yBACA+6I,qBAAAxpD,uBAAAvxF,QAAA,mCACAypG,mBAAAzpG,QAAA,qCACA6xF,kBAAA7xF,QAAA,oCACAu8F,iBAAAv8F,QAAA,mCACA0pG,QAAA1pG,QAAA,qBAIAq8F,MAAAr8F,QAAA,mBAIA29G,YAAA39G,QAAA,yBAIA4pG,gBAAA5pG,QAAA,kCACA6pG,gBAAA7pG,QAAA,gqCAaqBgjJ,iCASjB,SAAAA,cAAqD,IAAAvrI,MAAzCxW,QAAyC,EAAAoH,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAA/B,GAAI8H,IAA2B,EAAA9H,UAAA7H,OAAA6H,UAAA,QAAAjC,EAAtBi7I,qBAAsB,EAAAh5I,UAAA7H,OAAA6H,UAAA,QAAAjC,EAAA,qIAAAksF,CAAA9uF,KAAAw/I,cACjDvrI,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAAgwB,aAAAziJ,KAAAiD,QAOK69I,qBAAuB,KAQ5B5pI,MAAKyvH,eAAiB,KAStBzvH,MAAKtT,KAAO,GASZsT,MAAK64F,OAAS,IAOd74F,MAAK6gD,MAAQ,EAMb7gD,MAAKg2H,IAAM,CACPp5F,SAAS,EACT4uG,aAAa,EAAAp5C,gBAAAyS,IAAG,IAEhBoxB,oBAAoB,EAAA7jC,gBAAAqD,kBAAiB,IAQzCz1F,MAAKjX,OAAS,KAMdiX,MAAKyrI,iBAAkB,EAAAr5C,gBAAAyS,IAAG,GAY1B7kG,MAAKsjC,MAAQ,GASbtjC,MAAKguG,0BAA4B,KAEjChuG,MAAKygF,MAAMj3F,QAASkP,IAAKkxI,sBAxFwB5pI,4YAThB67G,YAAA,oFA4GjC9vH,KAAKu3C,MAAQ,GACbv3C,KAAKiiH,0BAA4B,mCA+D/Br8G,KAAM+G,IAAKkxI,sBASb,GARA79I,KAAK69I,qBAAuBA,qBAC5B79I,KAAKW,KAAOiF,KAAKjF,KAAKgM,KAGlB/G,KAAKkvD,QACL90D,KAAK80D,MAAQlvD,KAAKkvD,MAAMnoD,MAGxB/G,KAAK+G,IAAK,CACV,IAAMgzI,aAAuB,IAARhzI,IACjB,EACA,EAEEizI,SAAW,IAAIrI,qBAAA,QACjB3xI,KAAK+G,IAAIA,KACT3M,KAAK69I,qBACL79I,KAAK69I,qBAAqBlF,eAExBkH,QAAU,IAAItI,qBAAA,QAChB3xI,KAAK+G,IAAIgzI,cACT3/I,KAAK69I,qBACL79I,KAAK69I,qBAAqBlF,eAI9B34I,KAAK0jI,eAAiBkc,SACtB5/I,KAAKhD,QAAS,EAAAqpG,gBAAAyS,IAAG8mC,SAAS/gC,mBAAmBghC,UAC7C7/I,KAAK8sG,MAAQ8yC,SAAS15B,kBAAkB25B,SAGxCj6I,KAAKqkI,MACLjqI,KAAKiqI,IAAIp5F,QAAUjrC,KAAKqkI,IAAIt9H,MAG5B/G,KAAKk6I,eACL9/I,KAAKiqI,IAAIwV,aAAc,EAAAp5C,gBAAAyS,IAAGlzG,KAAKk6I,aAAanzI,OAG5C/G,KAAKm6I,aACL//I,KAAKiqI,IAAIC,oBAAqB,EAAA7jC,gBAAAqD,kBAAiB9jG,KAAKm6I,WAAWpzI,qDAuBjDqvF,SAAUkuC,oBACvBA,qBACDA,mBAAqBlqI,KAAKiqI,IAAIC,oBAGlCluC,SAAWjpE,KAAKi6B,IAAI,EAAGgvC,UACvB,IAAMgkD,MAAO,EAAAnnD,MAAAonD,MAAI,EAAApnD,MAAAoV,KAAIi8B,qBAGrB,OAAOlqI,KAAK8uG,UAAakxC,MAAO,EAAA35C,gBAAA65C,OAAMlkD,4EAWtC,OAAOh8F,KAAK6jH,uBAAsB,EAAAxd,gBAAAyS,IAAGzqB,kBAAA2xB,kBAAkBC,iGAWvD,IAAMkgC,2BAA6BngJ,KAAKogJ,0CAGxC,OAFiC,EAAA5mC,OAAA,SAAM2mC,4BAA6B,0CAepE,OAAO,EAAA/5C,gBAAAkE,cAAatqG,KAAKW,iDAUVyqI,YACfprI,KAAKu3C,MAAM/zC,KAAK4nI,4DAUIA,YACpBprI,KAAKu3C,OAAQ,EAAAm6D,UAAA,SAAS1xG,KAAKu3C,MAAO6zF,sDAWpBA,YACd,OAAOprI,KAAKusG,yBAAyB6+B,cAAgBryC,iBAAA2K,6DAWnC0nC,YAClB,OAAqD,IAA9CprI,KAAKusG,yBAAyB6+B,6DAWhBA,YACrB,OAAOprI,KAAKu3C,MAAM/qC,QAAQ4+H,qEAYGiV,WAC7B,OAAO,EAAAlmC,YAAAuG,yBAAwB1gH,KAAK8sG,MAAOuzC,sDAU5BlnD,eACf,IAAMmnD,gBAAiB,EAAAnmC,YAAAyJ,WAAUzqB,cAAen5F,KAAK67F,iBAAkB77F,KAAK8sG,OAEtE8Z,qBAD+B,EAAA/tB,MAAAoV,MAAI,EAAA5H,gBAAA0f,IAAGu6B,eAAe,MACCr6C,mBAAAqZ,YAAYuH,8DAClE05B,yBAA+C,EAApBD,eAAe,GAEhD,OAAO15B,qBAAuB25B,gFAWHC,qBAG3B,OAFmB,EAAA3nD,MAAAoV,MAAI,EAAA/H,QAAAwK,cAAa8vC,oBAAqBxgJ,KAAK8sG,QAE1C7G,mBAAAqZ,YAAYmhC,iGAvQhC,OAAOzgJ,KAAK0jI,eAAe7nC,uDAW3B,OAAO77F,KAAK0jI,2CAWZ,OAAO1jI,KAAK0jI,eAAe5iB,sCAS3B,OAAO9gH,KAAK0jI,eAAe50B,WAAa9uG,KAAK69I,qBAAqB/uC,gDAWlE,OAAO,EAAA5I,QAAAuD,mBAAkBzpG,KAAK8sG,MAAQ/5E,KAAK89B,qpBCnMnD,QAAAkpD,gBAAAv9G,QAAA,sDACA6pG,gBAAA7pG,QAAA,kCAKAq8F,MAAAr8F,QAAA,mBACA0pG,QAAA1pG,QAAA,qBACA29G,YAAA39G,QAAA,yBACAoxG,QAAApxG,QAAA,qBACAypG,mBAAAzpG,QAAA,6TAOqBkkJ,mCAOjB,SAAAA,wBAAYrB,cAAeE,kBACvB,iIADyCzwD,CAAA9uF,KAAA0gJ,0BACpCrB,gBAAkBE,iBACnB,MAAM,IAAIrtH,UAAU,kFAQxBlyB,KAAK2gJ,KAAM,EAAA5mC,WAAA,SAAU,4BAOrB/5G,KAAK4gJ,cAAgB,IAOrB5gJ,KAAK6gJ,eAAiB,IAOtB7gJ,KAAK8gJ,YAAa,EAOlB9gJ,KAAKuwG,UAAW,EAOhBvwG,KAAKwwG,mBAAqB,IAE1BxwG,KAAK+gJ,4BAA4B1B,cAAeE,mKAWxBF,cAAeE,kBACvC,IAAM/5H,QAAS,EAAA20F,YAAAyJ,WAAUy7B,cAAeE,iBAAiB1jD,iBAAkBwjD,cAAcvyC,OAEzF9sG,KAAK4gJ,cAAe,EAAA/nD,MAAAoV,KAAIzoF,OAAO,IAC/BxlB,KAAK6gJ,eAAgB,EAAAhoD,MAAAoV,KAAIzoF,OAAO,IAChCxlB,KAAK8gJ,YAAa,EAAAlzC,QAAAozC,eACd3B,cAAcxjD,iBACdwjD,cAAcvyC,MACdyyC,iBAAiB1jD,iBACjB0jD,iBAAiBzyC,OAErB9sG,KAAKuwG,UAAW,EAAA1X,MAAAoV,MAAI,EAAA/H,QAAAwK,cAAa2uC,cAAcvyC,MAAOyyC,iBAAiBzyC,SAAU,EAAAzG,gBAAAqD,kBAAiB,IAClG1pG,KAAKwwG,kBAAoBxwG,KAAKihJ,oFAqB9B,IAAI/wC,oBAAsBjK,mBAAAwJ,WAAWU,oBAC/B+wC,8BAA+B,EAAA76C,gBAAA65C,OAAMlgJ,KAAK4gJ,cAahD,OAXoC,MAAhCM,8BAAwCA,8BAAgC,KAExEhxC,qBAAsB,EAAA7J,gBAAAyS,IAAG,GACa,KAA/BooC,8BAAuCA,8BAAgC,KAE9EhxC,qBAAsB,EAAA7J,gBAAAyS,IAAG,KACa,KAA/BooC,8BAAuCA,8BAAgC,MAE9EhxC,qBAAsB,EAAA7J,gBAAAyS,IAAG,IAGtB5I,sDAQPlwG,KAAK4gJ,cAAgB,IACrB5gJ,KAAK6gJ,eAAiB,IACtB7gJ,KAAK8gJ,YAAa,EAClB9gJ,KAAKuwG,UAAW,EAChBvwG,KAAKwwG,mBAAqB,kgBC7IlC,QAAAuJ,gBAAAv9G,QAAA,8UASqB2kJ,0BAKjB,SAAAA,gJAAcryD,CAAA9uF,KAAAmhJ,gBAQVnhJ,KAAK2gJ,KAAM,EAAA5mC,WAAA,WAQX/5G,KAAKirI,OAAS,uHAwBd,MAAM,IAAI/4G,UAAU,0GAapB,MAAM,IAAIA,UAAU,yGA3BpB,OAAOlyB,KAAKirI,OAAOjuI,oUCxC3B,IAAA+8G,WAAAhsB,uBAAAvxF,QAAA,oBACAg+H,WAAAzsC,uBAAAvxF,QAAA,8XASqB4kJ,qBACjB,SAAAA,YAAqC,IAAzBC,UAAyB,EAAAx8I,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAb,2IAAaiqF,CAAA9uF,KAAAohJ,WACjC,IAAME,iBAAmBthJ,KAAKuhJ,eAAeF,WAS7CrhJ,KAAK2gJ,KAAM,EAAA5mC,WAAA,SAAUunC,iIAcrB,MAAM,IAAIpvH,UAAU,+GAapB,MAAM,IAAIA,UAAU,sHAWTmvH,WACX,KAAK,EAAA7mB,WAAA,SAAU6mB,WACX,MAAM,IAAInvH,UAAU,6FAIxB,MAAA,GAAA1gB,OAAU6vI,UAAV,8UCjER,IAAAte,WAAAh1C,uBAAAvxF,QAAA,oBACAu9G,WAAAhsB,uBAAAvxF,QAAA,oBACAg7I,sBAAAh7I,QAAA,0BAMA0pG,QAAA1pG,QAAA,kBACA6pG,gBAAA7pG,QAAA,+BAOAu8F,iBAAAv8F,QAAA,gCACAglJ,mBAAAhlJ,QAAA,kCAKAoxG,QAAApxG,QAAA,40BAQqBilJ,gCAiBjB,SAAAA,uBAAoE,IAAxDjG,YAAwD,EAAA32I,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAA1C,GAAI68I,UAAsC,EAAA78I,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAA1B,KAAM0zI,eAAoB,EAAA1zI,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAH,EAC7D,iIADgEiqF,CAAA9uF,KAAAyhJ,wBAC3D,EAAAjK,sBAAA+B,0BAAyBiC,aAC1B,MAAM,IAAItpH,UAAU,yEAAA,yCAAA1gB,OACyBgqI,YADzB,MAQxBx7I,KAAK2gJ,KAAM,EAAA5mC,WAAA,SAAU,mBASrB/5G,KAAK2hJ,SAAW,EAShB3hJ,KAAK4hJ,UAAY,EASjB5hJ,KAAK8uG,UAAY,EAQjB9uG,KAAK6hJ,mBAAqBH,UAQ1B1hJ,KAAK8hJ,eAAiBvJ,eAEtBv4I,KAAKojC,KAAKo4G,oIA4ETA,aACDx7I,KAAK2hJ,UAAW,EAAAt7C,gBAAA07C,iBAAgBvG,YAAYgG,mBAAAQ,qBAAqBC,WACjEjiJ,KAAK4hJ,WAAY,EAAAv7C,gBAAA07C,iBAAgBvG,YAAYgG,mBAAAQ,qBAAqBE,YAGf,MAA/C1G,YAAYgG,mBAAAQ,qBAAqBG,aACjCniJ,KAAK8uG,WAAY,EAAAzI,gBAAA6zC,gBAAesB,YAAYgG,mBAAAQ,qBAAqBG,yDAYrDp3F,UAChB,OAAOA,SAASm7D,kBAAkBlmH,gDAkBpB+qD,UACd,IAAMq3F,IAAK,EAAA/7C,gBAAAqD,kBAAiB1pG,KAAK2hJ,UAC3BU,IAAK,EAAAh8C,gBAAAqD,kBAAiB3+C,SAAS42F,UAC/BW,IAAK,EAAAj8C,gBAAAqD,kBAAiB3+C,SAAS62F,UAAY5hJ,KAAK4hJ,WAChDrtH,EAAIxB,KAAK6tF,IAAI0hC,IAAMvvH,KAAK69B,IAAIyxF,IAC5B/tH,EAAIvB,KAAK69B,IAAIwxF,IAAMrvH,KAAK6tF,IAAIyhC,IAAMtvH,KAAK6tF,IAAIwhC,IAAMrvH,KAAK69B,IAAIyxF,IAAMtvH,KAAK69B,IAAI0xF,IACzEC,EAAIxvH,KAAKyvH,MAAMjuH,EAAGD,GAExB,OAAO,EAAA4xE,QAAAuD,mBAAkB84C,EAAIviJ,KAAK8hJ,2DAWnB/2F,UACf,IAAM03F,EAAI1pD,iBAAA2pD,kBAAkBC,gBACtBP,IAAK,EAAA/7C,gBAAAqD,kBAAiB1pG,KAAK2hJ,UAC3BU,IAAK,EAAAh8C,gBAAAqD,kBAAiB3+C,SAAS42F,UAC/BiB,IAAK,EAAAv8C,gBAAAqD,kBAAiB3+C,SAAS42F,SAAW3hJ,KAAK2hJ,UAC/CW,IAAK,EAAAj8C,gBAAAqD,kBAAiB3+C,SAAS62F,UAAY5hJ,KAAK4hJ,WAChDllJ,EAAIq2B,KAAK6tF,IAAIgiC,GAAK,GAAK7vH,KAAK6tF,IAAIgiC,GAAK,GACnC7vH,KAAK69B,IAAIwxF,IAAMrvH,KAAK69B,IAAIyxF,IACxBtvH,KAAK6tF,IAAI0hC,GAAK,GAAKvvH,KAAK6tF,IAAI0hC,GAAK,GAIzC,OAFUG,GADA,EAAI1vH,KAAKyvH,MAAMzvH,KAAK8vH,KAAKnmJ,GAAIq2B,KAAK8vH,KAAK,EAAInmJ,2EAeXquI,QAAS/uC,UAAU,IAAA8mD,uBAAA3mD,eAC1Cn8F,KAAK+iJ,0CAA0ChY,QAAS/uC,UADd,GAI7D,OAF6B,IAAIylD,qBAAqB,CAFOqB,uBAAA,GAAAA,uBAAA,IAEK9iJ,KAAK6hJ,mBAAoB7hJ,KAAK8hJ,kFAkB1D/W,QAAS/uC,UAC/C,IAAMymD,EAAI1pD,iBAAA2pD,kBAAkBC,gBACtBJ,EAAIxX,QAAU/qI,KAAK8hJ,eAEnBkB,EADIhnD,SACIymD,EACRL,IAAK,EAAA/7C,gBAAAqD,kBAAiB1pG,KAAK2hJ,UAC3BsB,IAAK,EAAA58C,gBAAAqD,kBAAiB1pG,KAAK4hJ,WAC3BS,GAAKtvH,KAAKoxF,KAAKpxF,KAAK6tF,IAAIwhC,IAAMrvH,KAAK69B,IAAIoyF,GAAKjwH,KAAK69B,IAAIwxF,IAAMrvH,KAAK6tF,IAAIoiC,GAAKjwH,KAAK69B,IAAI2xF,IAClFW,GAAKD,GAAKlwH,KAAKyvH,MAAMzvH,KAAK6tF,IAAI2hC,GAAKxvH,KAAK6tF,IAAIoiC,GAAKjwH,KAAK69B,IAAIwxF,IAAKrvH,KAAK69B,IAAIoyF,GAAKjwH,KAAK6tF,IAAIwhC,IAAMrvH,KAAK6tF,IAAIyhC,KAI3G,MAAO,EAHK,EAAAh8C,gBAAAwG,kBAAiBw1C,KACjB,EAAAh8C,gBAAAwG,kBAAiBq2C,4CAYlB5J,gBACX,KAAK,EAAA9B,sBAAA+B,0BAAyBD,gBAC1B,OAAO,IAAIpnH,UAAU,2EAAA,gBAAA1gB,OACD8nI,iBAGxBt5I,KAAK2hJ,SAAWrI,eAAekI,mBAAAQ,qBAAqBC,UACpDjiJ,KAAK4hJ,UAAYtI,eAAekI,mBAAAQ,qBAAqBE,sEAWtBnX,QAAS/uC,UACxC,IAAMmnD,gBAAkBnjJ,KAAK+iJ,0CAA0ChY,QAAS/uC,UAEhFh8F,KAAK6gH,eAAesiC,sEAYpB,OAAKnjJ,KAAKojJ,wBAIH3B,qBAAqBtH,0BAA0Bn6I,KAAK8gH,IAAK9gH,KAAK6hJ,mBAAoB7hJ,KAAK8hJ,gBAHnFN,mBAAA6B,wEAgBX,OAAmC,OAA5BrjJ,KAAK6hJ,+CA7OZ,MAAO,CACH7hJ,KAAK2hJ,SACL3hJ,KAAK4hJ,yCAYT,MAAO,CACH5hJ,KAAK4hJ,UACL5hJ,KAAK2hJ,gDAUT,OAAO3hJ,KAAK8hJ,wDAUZ,OAAO9hJ,KAAKsjJ,uDAWZ,OAAOtjJ,KAAK67F,iBAAiB2lD,mBAAA+B,+BAA+BC,wCAW5D,OAAOxjJ,KAAK67F,iBAAiB2lD,mBAAA+B,+BAA+BE,6LAmM/CtJ,0BAA4B,SAACqB,YAAa92C,kBAAmBi0C,eAC9E,IAAK6C,cAAgB92C,qBAAsB,EAAAq+B,WAAA,SAAU4V,eACjD,MAAM,IAAIzmH,UAAU,+IAIxB,IAAMyvH,UAAW,EAAAt7C,gBAAA07C,iBAAgBvG,YAAYgG,mBAAAQ,qBAAqBC,WAC5DL,WAAY,EAAAv7C,gBAAA07C,iBAAgBvG,YAAYgG,mBAAAQ,qBAAqBE,YAC7DwB,iBAAkB,EAAAlM,sBAAAmM,8BACpBj/C,kBACAA,kBAAkBi9C,SAClBC,WAEEgC,iBAAkB,EAAApM,sBAAAqM,8BACpBn/C,kBACAi9C,SACAj9C,kBAAkBk9C,WAhB0EkC,uBAkB/E,EAAAtM,sBAAAuM,wBAAuBL,gBAAiBE,gBAAiBjL,eAE1E,MAAO,CApByFmL,sBAkBxFxvH,EAlBwFwvH,sBAkBrFvvH,IAiBfktH,qBAAqB78C,4CAA8C,SAACo/C,SAAUt/C,mBAC1E,IAAKs/C,WAAat/C,kBACd,MAAM,IAAIxyE,UAAU,iKAIxB,IAAM+xH,iBAAkB,EAAAr2C,QAAAsW,SAAQ8/B,UAC1BhoD,UAAW,EAAAqK,gBAAA0f,KAAG,EAAAnY,QAAAE,MAAKk2C,WAGzB,OAFoBt/C,kBAAkBq+C,0CAA0CkB,gBAAiBjoD,6WCzZrG,QAAAkoD,4BAAA1nJ,QAAA,6DACAglJ,mBAAAhlJ,QAAA,8kCAWqB2nJ,oDAiBjB,SAAAA,sBAAoE,IAAAlwI,MAAxDunI,YAAwD,EAAA32I,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAA1C,GAAI68I,UAAsC,EAAA78I,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAA1B,KAAM0zI,eAAoB,EAAA1zI,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAH,EAAG,qIAAAiqF,CAAA9uF,KAAAmkJ,sBAChElwI,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAA20B,qBAAApnJ,KAAAiD,KAAMw7I,YAAakG,UAAWnJ,kBAazB6L,kBAAoB5C,mBAAA6B,wBAEzBpvI,MAAKowI,8BAhB2DpwI,oZAjBvBiwI,uBAAA,gGAqFrB,IAAA,IAAAv3H,KAAA9nB,UAAA7H,OAANuK,KAAM,IAAAyd,MAAA2H,MAAAC,KAAA,EAAAA,KAAAD,KAAAC,OAANrlB,KAAMqlB,MAAA/nB,UAAA+nB,MACpBH,QAAQ4tB,KAAR,2EAAA7oC,OAAwFjK,KAAxF,6DAWA,IAAKvH,KAAKojJ,wBACN,OAAO5B,mBAAA6B,wBAGXrjJ,KAAKokJ,kBAAoBF,uBAAA,QAAqB/J,0BAC1Cn6I,KAAK8gH,IACL9gH,KAAK6hJ,mBACL7hJ,KAAK8hJ,0DA9DT,OAAO9hJ,KAAK6hJ,4DAWZ,OAAO7hJ,KAAKokJ,4CAWZ,OAAOpkJ,KAAKokJ,kBAAkB5C,mBAAA+B,+BAA+BC,wCAW7D,OAAOxjJ,KAAKokJ,kBAAkB5C,mBAAA+B,+BAA+BE,miBCvFrE,QAAAz1D,aAAAxxF,QAAA,mDACAu8F,iBAAAv8F,QAAA,gCAIA0pG,QAAA1pG,QAAA,8TAOgD,SAAC8nJ,YAAD,OAAgBvrD,iBAAAkkC,MAAMsnB,kBAAkBziJ,KAAKwiJ,kDAUjD,SAAC5/C,kBAAmBi9C,SAAUC,WACtE,IAAIttH,GAAI,EAAA4xE,QAAAs+C,iBACJ9/C,kBAAkBi9C,SAClBj9C,kBAAkBk9C,UAClBD,SACAC,WAOJ,OAJIl9C,kBAAkBk9C,UAAYA,YAC9BttH,IAAM,GAGHA,wCAaiC,SAACowE,kBAAmBi9C,SAAUC,WACtE,IAAIrtH,GAAI,EAAA2xE,QAAAs+C,iBACJ9/C,kBAAkBi9C,SAClBj9C,kBAAkBk9C,UAClBD,SACAC,WAQJ,OAJIl9C,kBAAkBi9C,SAAWA,WAC7BptH,IAAM,GAGHA,kCAY2B,SAACkwH,UAAWC,UAAW/L,eACzD,IAAMx8I,EAAI42B,KAAKyvH,MAAMkC,UAAWD,WAAa9L,cACvC38I,EAAI+2B,KAAK8vH,KAAM4B,UAAYA,UAAcC,UAAYA,WAK3D,MAAO,CACHpwH,EAJMt4B,EAAI+2B,KAAK69B,IAAIz0D,GAKnBo4B,EAJMv4B,EAAI+2B,KAAK6tF,IAAIzkH,sCAea,SAACm9I,gBACrC,IAAMl8E,aAAc,EAAA4wB,QAAA,SAAOsrD,gBACrBqL,sBAAkD,IAA1BrL,eAAet8I,QAA0C,IAA1Bs8I,eAAet8I,OACtE4nJ,6BAA+BnxC,QAAO6lC,eAAe,MAAtB7lC,QAAoC6lC,eAAe,IAExF,IAAKl8E,aAAeunF,wBAA0BC,6BAC1C,OAAO,EAGX,IAAMjD,SAAWrI,eAAe,GAC1BsI,UAAYtI,eAAe,GAEjC,GAAwB,iBAAbqI,SACP,OAAO,EACJ,GAAwB,iBAAbA,SAOlB,OAAO,EANH,IAAMkD,2BAA6B,CAAC,IAAK,KAAKr4I,QAAQm1I,SAAS,GAAGpmG,iBAAmBw9C,iBAAA4f,cAC/EmsC,yBAA2B,CAAC,IAAK,KAAKt4I,QAAQo1I,UAAU,GAAGrmG,iBAAmBw9C,iBAAA4f,cAEpF,OAAOksC,4BAA8BC,iQC9G7C,QAAAtsD,2BAAAh8F,QAAA,oGAS8C,SAACuoJ,qBAC3C,OAAO,IAAIvsD,sBAAA,QACPusD,oBAAoBjkC,IACpBikC,oBAAoBrgD,kBACpBqgD,oBAAoBpM,kLCb5B,IAAA7qD,QAAAC,uBAAAvxF,QAAA,WACAwoJ,YAAAj3D,uBAAAvxF,QAAA,qBACAmxG,SAAA5f,uBAAAvxF,QAAA,kBACA47F,MAAArK,uBAAAvxF,QAAA,eACAyoJ,UAAAl3D,uBAAAvxF,QAAA,mBACAq2F,mBAAA9E,uBAAAvxF,QAAA,iCACA+7F,kBAAAxK,uBAAAvxF,QAAA,uBACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACA42F,gBAAArF,uBAAAvxF,QAAA,2BACAm8F,aAAA5K,uBAAAvxF,QAAA,+BACA+2F,mBAAAxF,uBAAAvxF,QAAA,2CACA4xF,YAAAL,uBAAAvxF,QAAA,yBACA0pG,QAAA1pG,QAAA,kBACAq8F,MAAAr8F,QAAA,gBAIAoxG,QAAApxG,QAAA,kBAOAypG,mBAAAzpG,QAAA,kCAIA0oJ,iBAAA1oJ,QAAA,gCAIA2oJ,QAAA3oJ,QAAA,uBACA+xF,YAAA/xF,QAAA,2BACAu8F,iBAAAv8F,QAAA,gCAKAs8F,qBAAAt8F,QAAA,oCACAi1H,gBAAAj1H,QAAA,+BACAkxI,kBAAAlxI,QAAA,iCACA6pG,gBAAA7pG,QAAA,oxBAUqB4oJ,4BAOjB,SAAAA,iBAAYr2D,SAAU4G,mBAAoBD,YA0JtC,qIA1JkD5G,CAAA9uF,KAAAolJ,kBAOlDplJ,KAAK65F,SAAU,EAAA/L,QAAA,SAAE/gE,QAUjB/sB,KAAK+uF,SAAWA,SAOhB/uF,KAAKy5F,oBAAsB9D,mBAO3B31F,KAAK+5F,YAAcrE,WAOnB11F,KAAKk0F,UAAY/F,UAAA,QAOjBnuF,KAAK8Q,SAAW,GAUhB9Q,KAAKqlJ,eAAgB,EASrBrlJ,KAAKslJ,sBAAuB,EAc5BtlJ,KAAKulJ,mBAAoB,EASzBvlJ,KAAKwlJ,qBAAsB,EAS3BxlJ,KAAKylJ,sBAAuB,EAS5BzlJ,KAAK0lJ,4BAA6B,EASlC1lJ,KAAK2lJ,mBAAoB,EASzB3lJ,KAAK4lJ,oBAAqB,EAS1B5lJ,KAAK6lJ,oBAAqB,EAW1B7lJ,KAAK8lJ,wBAAyB,EAS9B9lJ,KAAK+lJ,MAAQ,KAEN/lJ,KAAK00F,QACPuf,iBACA7hB,+HAYL,OAFApyF,KAAKgmJ,UAAU5yD,gBAAA,QAAeiS,cAAcvM,qBAAAqI,kBAAkB8kD,QAEvDjmJ,8CA6BP,OAnBAA,KAAKkmJ,yBAA2BlmJ,KAAKw0G,kBAAkB9hD,KAAK1yD,MAC5DA,KAAKmmJ,2BAA6BnmJ,KAAKy0G,oBAAoB/hD,KAAK1yD,MAChEA,KAAKomJ,4BAA8BpmJ,KAAKqmJ,qBAAqB3zF,KAAK1yD,MAClEA,KAAKsmJ,4BAA8BtmJ,KAAKumJ,qBAAqB7zF,KAAK1yD,MAClEA,KAAKwmJ,6BAA+BxmJ,KAAKymJ,sBAAsB/zF,KAAK1yD,MACpEA,KAAK0mJ,0BAA4B1mJ,KAAK2mJ,mBAAmBj0F,KAAK1yD,MAC9DA,KAAK4mJ,yBAA2B5mJ,KAAK6mJ,kBAAkBn0F,KAAK1yD,MAC5DA,KAAK8mJ,uBAAyB9mJ,KAAK+mJ,gBAAgBr0F,KAAK1yD,MACxDA,KAAKgnJ,gCAAkChnJ,KAAKinJ,yBAAyBv0F,KAAK1yD,MAC1EA,KAAKknJ,uBAAyBlnJ,KAAKmnJ,gBAAgBz0F,KAAK1yD,MACxDA,KAAKonJ,wBAA0BpnJ,KAAKqnJ,iBAAiB30F,KAAK1yD,MAC1DA,KAAK41I,wBAA0B51I,KAAKm2I,iBAAiBzjF,KAAK1yD,MAC1DA,KAAKsnJ,wBAA0BtnJ,KAAKunJ,iBAAiB70F,KAAK1yD,MAC1DA,KAAKwnJ,yBAA2BxnJ,KAAKynJ,kBAAkB/0F,KAAK1yD,MAC5DA,KAAK0nJ,2BAA6B1nJ,KAAK2nJ,oBAAoBj1F,KAAK1yD,MAChEA,KAAK4nJ,iBAAmB5nJ,KAAKm2F,cAAczjC,KAAK1yD,MAEhDA,KAAK6nJ,iBAAmB7nJ,KAAKgmJ,UAAUtzF,KAAK1yD,MAErCA,sCA6BP,OApBAA,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMuI,gBAAiBv5F,KAAKkmJ,0BAC9ClmJ,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMyK,kBAAmBz7F,KAAKmmJ,4BAChDnmJ,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMwiB,gCAAiCxzG,KAAKomJ,6BAC9DpmJ,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAM82D,aAAc9nJ,KAAKsmJ,6BAC3CtmJ,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAM+2D,cAAe/nJ,KAAKwmJ,8BAC5CxmJ,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMkG,oBAAqBl3F,KAAK0mJ,2BAClD1mJ,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMg3D,gBAAiBhoJ,KAAK4mJ,0BAC9C5mJ,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMi3D,cAAejoJ,KAAK8mJ,wBAC5C9mJ,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMmG,wBAAyBn3F,KAAKgnJ,iCACtDhnJ,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMk3D,eAAgBloJ,KAAKknJ,wBAC7ClnJ,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMm3D,gBAAiBnoJ,KAAKonJ,yBAC9CpnJ,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMuG,eAAgBv3F,KAAKsnJ,yBAC7CtnJ,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMo3D,iBAAkBpoJ,KAAKwnJ,0BAC/CxnJ,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMq3D,mBAAoBroJ,KAAK0nJ,4BACjD1nJ,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAM+D,eAAgB/0F,KAAK41I,yBAC7C51I,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMs3D,UAAWtoJ,KAAK6nJ,kBACxC96H,OAAOuf,iBAAiB,SAAUtsC,KAAK4nJ,kBAEvC5nJ,KAAK+uF,SAASz4B,SAASt2D,KAAK+lJ,MAAMwC,WAE3BvoJ,uCA0BP,OAlBAA,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMuI,gBAAiBv5F,KAAKkmJ,0BAC/ClmJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMyK,kBAAmBz7F,KAAKmmJ,4BACjDnmJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMwiB,gCAAiCxzG,KAAKqmJ,sBAC/DrmJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAM82D,aAAc9nJ,KAAKumJ,sBAC5CvmJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAM+2D,cAAe/nJ,KAAKymJ,uBAC7CzmJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMkG,oBAAqBl3F,KAAK2mJ,oBACnD3mJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMg3D,gBAAiBhoJ,KAAK4mJ,0BAC/C5mJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMi3D,cAAejoJ,KAAK+mJ,iBAC7C/mJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMmG,wBAAyBn3F,KAAKinJ,0BACvDjnJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMk3D,eAAgBloJ,KAAKmnJ,iBAC9CnnJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMm3D,gBAAiBnoJ,KAAKqnJ,kBAC/CrnJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMuG,eAAgBv3F,KAAKunJ,kBAC9CvnJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMo3D,iBAAkBpoJ,KAAKwnJ,0BAChDxnJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMq3D,mBAAoBroJ,KAAK0nJ,4BAClD1nJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAM+D,eAAgB/0F,KAAK41I,yBAC9C51I,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMs3D,UAAWtoJ,KAAKgmJ,WACzCj5H,OAAO0tB,oBAAoB,SAAUz6C,KAAK4nJ,kBAEnC5nJ,KAAKsyF,4CAoBZ,OAZAtyF,KAAK65F,QAAU,KACf75F,KAAK+uF,SAAW,KAChB/uF,KAAK8Q,SAAW,GAChB9Q,KAAKqlJ,eAAgB,EACrBrlJ,KAAKslJ,sBAAuB,EAC5BtlJ,KAAKulJ,mBAAoB,EACzBvlJ,KAAKylJ,sBAAuB,EAC5BzlJ,KAAK0lJ,4BAA6B,EAClC1lJ,KAAK2lJ,mBAAoB,EACzB3lJ,KAAK4lJ,oBAAqB,EAC1B5lJ,KAAK6lJ,oBAAqB,EAEnB7lJ,2CAYPA,KAAKwoJ,WAAWtD,iBAAAuD,YAAYC,QAC5B1oJ,KAAKwoJ,WAAWtD,iBAAAuD,YAAYE,mDASd,IAAA10I,MAAAjU,KAEd25C,WAAW,WACP1lC,MAAK20I,mBACN,6CAmBH,IAAK,IAAMC,cAPP7oJ,KAAKqlJ,eACL9sD,kBAAA,QAAiBuwD,qBACb9oJ,KAAK65F,QAAQ/tC,SACb9rD,KAAK65F,QAAQhwC,SAII7pD,KAAK8Q,SAAU,CACpC,IAAM1K,QAAUpG,KAAK8Q,SAAS+3I,YAC9BziJ,QAAQ2iJ,OAAOj9F,OAASysC,kBAAA,QAAiBzsC,OACzC1lD,QAAQ2iJ,OAAOl/F,MAAQ0uC,kBAAA,QAAiB1uC,MAExC7pD,KAAKgpJ,aAAaH,YAGtB7oJ,KAAK4oJ,6DAkBL,GAAK5oJ,KAAKslJ,sBAAyBl3D,YAAA,QAAWsE,eAA9C,CAIA,GAAI1yF,KAAKulJ,kBAAmB,CAIxB,IAAM0D,gBAAkBjpJ,KAAKkpJ,wBAAwBhE,iBAAAuD,YAAYC,QAEjE1oJ,KAAKmpJ,oBAAoBF,iBACzBjpJ,KAAKopJ,cAAcH,iBACnBjpJ,KAAKqpJ,aAAaJ,iBAClBjpJ,KAAKspJ,wBAAwBL,iBAC7BjpJ,KAAKupJ,aAAaN,iBAClBjpJ,KAAKwpJ,2BAA2BP,iBAChCjpJ,KAAKypJ,UAAUR,iBACfjpJ,KAAK0pJ,WAAWT,iBAChBjpJ,KAAK2pJ,2BAA2BV,iBAChCjpJ,KAAK4pJ,8BAA8BX,iBACnCjpJ,KAAK6pJ,kBAAkBZ,iBACvBjpJ,KAAK8pJ,kBAAkBb,iBAG3B,IAAMc,iBAAmB/pJ,KAAKkpJ,wBAAwBhE,iBAAAuD,YAAYE,SAElE3oJ,KAAKmpJ,oBAAoBY,kBACzB/pJ,KAAKgqJ,6BAA6BD,kBAClC/pJ,KAAKiqJ,qBAAqBF,kBAC1B/pJ,KAAKkqJ,wBAAwBH,kBAC7B/pJ,KAAKmqJ,iBAAiBJ,kBAEtB/pJ,KAAKslJ,sBAAuB,EAC5BtlJ,KAAKulJ,mBAAoB,0DAazB,OAAO,EAAAN,UAAA,SAAS72D,YAAA,QAAWg8D,qBAAuB,IAAM,IAAM,wCAWvDzpJ,MACP,IAAM0pJ,eAAc,eAAA74I,OAAkB7Q,KAAlB,sBAEpBX,KAAK+uF,SAAS97E,OAAOo3I,gBAErBrqJ,KAAK8Q,SAASnQ,OAAQ,EAAAmtF,QAAA,SAAA,IAAAt8E,OAAM7Q,KAAN,YAAqBkwB,IAAI,GAAGvd,WAAW,2CAQpDu1I,YACT,IAAMyB,iBAAmBv9H,OAAOu9H,kBAAoB,EAC9CC,cAAgBvqJ,KAAK8Q,SAAS+3I,YAEpC,KAAIyB,kBAAoB,GAAxB,CAIA,IAAME,gBAAiB,EAAA18D,QAAA,SAAA,IAAAt8E,OAAM+4I,cAAcxB,OAAO/yI,KAAM6a,IAAI,IAE5D,EAAAi9D,QAAA,SAAE08D,gBAAgBv8G,KAAK,SAAUsqD,kBAAA,QAAiBzsC,OAASw+F,mBAC3D,EAAAx8D,QAAA,SAAE08D,gBAAgB9sG,IAAI,SAAU66C,kBAAA,QAAiBzsC,SACjD,EAAAgiC,QAAA,SAAE08D,gBAAgBv8G,KAAK,QAASsqD,kBAAA,QAAiB1uC,MAAQygG,mBACzD,EAAAx8D,QAAA,SAAE08D,gBAAgB9sG,IAAI,QAAS66C,kBAAA,QAAiB1uC,OAEhD0gG,cAAcxsG,MAAMusG,iBAAkBA,+DAWtBG,IAChBA,GAAGC,UAAU,EAAG,EAAGnyD,kBAAA,QAAiB1uC,MAAO0uC,kBAAA,QAAiBzsC,kDAgB9C2+F,GAAIxgD,YAAa48B,MAC/B,IAAM8jB,cAA+F,GAAhF,EAAA9xD,MAAAhkE,OAAM0jE,kBAAA,QAAiBqyD,6BAA6B3gD,YAAYjtG,OAAS,IACtF8vG,MAA4B7C,YAA5B6C,MAAOjR,iBAAqBoO,YAArBpO,iBACTgvD,qBAAuBtyD,kBAAA,QAAiBuyD,mDAAmDjvD,kBAOjG,GALA4uD,GAAGM,OACHN,GAAGO,UAAHx6I,MAAAi6I,GAAE1uD,mBAAc8uD,uBAChBJ,GAAGQ,OAAOn+C,OAGL+5B,KAQE,CACH,IAAK58B,YAAYggC,IAAIp5F,QAGjB,YAFA45G,GAAGS,UAKPT,GAAGU,YAAcnrJ,KAAK+lJ,MAAM/lD,MAAMorD,2BAClCX,GAAGY,UAAY,EAEfZ,GAAGa,YACHb,GAAGc,OAAO,EAAG,GACbd,GAAGe,OAAO,EAAGjzD,kBAAA,QAAiBqyD,6BAA6B3gD,YAAYggC,IAAIwV,cAC3EgL,GAAGgB,cApBHhB,GAAGU,YAAc,OACjBV,GAAGY,UAAY,IAEfZ,GAAGa,YACHb,GAAGc,OAAO,EAAG,GACbd,GAAGe,OAAO,EAAGb,cACbF,GAAGgB,SAiBPhB,GAAGS,mDAeUT,GAAIxgD,aACjB,IAAMyhD,SAAU,EAAA7yD,MAAAhkE,OAAM0jE,kBAAA,QAAiBqyD,6BAA6B3gD,YAAYjtG,OAAS,IAAM,GACvF8vG,MAA4B7C,YAA5B6C,MAAOjR,iBAAqBoO,YAArBpO,iBACTgvD,qBAAuBtyD,kBAAA,QAAiBuyD,mDAAmDjvD,kBAGjG4uD,GAAGM,OACHN,GAAGkB,UAAY,SACflB,GAAGmB,aAAe,SAClBnB,GAAGO,UAAHx6I,MAAAi6I,GAAE1uD,mBAAc8uD,uBAChBJ,GAAGQ,OAAOn+C,OACV29C,GAAGO,UAAU,EAAGU,QAPG,IAQnBjB,GAAGQ,QAAQn+C,OACX29C,GAAGoB,SAAS5hD,YAAYtpG,KAAM,EAAG,GACjC8pJ,GAAGS,+CAcMT,IACT,GAAKzqJ,KAAKylJ,qBAAV,CAIAgF,GAAGM,OACH/qJ,KAAK8rJ,4CAA4CrB,IACjDA,GAAGsB,KAAO,0BACVtB,GAAGU,YAAcnrJ,KAAK+lJ,MAAM/lD,MAAMgsD,OAClCvB,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM/lD,MAAMgsD,OAChCvB,GAAGY,UAAY,EAMf,IAJA,IAAMthD,aAAelX,mBAAA,QAAkBkV,cAI9B1rG,EAAI,EAAGA,EAAI0tG,aAAayuC,QAAQx7I,OAAQX,IAC7C2D,KAAKksJ,kBAAkBzB,GAAI1gD,aAAayuC,QAAQn8I,GAAG,IAAI,GACvD2D,KAAKksJ,kBAAkBzB,GAAI1gD,aAAayuC,QAAQn8I,GAAG,IAAI,GAI3D,IAAK,IAAIkpC,GAAI,EAAGA,GAAIwkE,aAAayuC,QAAQx7I,OAAQuoC,KAC7CvlC,KAAKksJ,kBAAkBzB,GAAI1gD,aAAayuC,QAAQjzG,IAAG,IAAI,GAG3DklH,GAAGS,qDAcWT,IACd,GAAKzqJ,KAAKylJ,qBAAV,CAIA,IAAM17C,aAAelX,mBAAA,QAAkBkV,cAEvC0iD,GAAGM,OACH/qJ,KAAK8rJ,4CAA4CrB,IACjDA,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM/lD,MAAMmsD,cAEhC,IAAK,IAAI9vJ,EAAI,EAAGA,EAAI0tG,aAAayuC,QAAQx7I,OAAQX,IAC7C2D,KAAKosJ,iBAAiB3B,GAAI1gD,aAAayuC,QAAQn8I,GAAG,IAClD2D,KAAKosJ,iBAAiB3B,GAAI1gD,aAAayuC,QAAQn8I,GAAG,IAGtDouJ,GAAGS,qDAcWT,IACdA,GAAGM,OAEH,IAGMsB,UAAW,EAAAxzD,MAAAhkE,QAAM,EAAAwxE,gBAAA0f,IAAG,EAAIxtB,kBAAA,QAAiBx6C,MAAQ,KACjDuuG,UAAW,EAAAjmD,gBAAAyS,IAAGuzC,UACdE,WAAY,EAAA1zD,MAAAhkE,OAAM0jE,kBAAA,QAAiBqyD,6BAA6B0B,WAChEE,gBAAkBj0D,kBAAA,QAAiB1uC,MANzB,GAQhB4gG,GAAGsB,KAAO,0BACVtB,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM/lD,MAAMysD,aAChChC,GAAGU,YAAcnrJ,KAAK+lJ,MAAM/lD,MAAMysD,aAClChC,GAAGY,UAAY,EACfZ,GAAGkB,UAAY,SACflB,GAAGa,YACHb,GAAGc,OAAOiB,gBAbM,IAchB/B,GAAGe,OAAOgB,gBAAiBtmG,IAC3BukG,GAAGe,OAAOgB,gBAAkBD,UAAWrmG,IACvCukG,GAAGe,OAAOgB,gBAAkBD,UAhBZ,IAiBhB9B,GAAGgB,SACHhB,GAAGoB,SAAH,GAAAr6I,OACO66I,SADP,OAEIG,gBAA8B,GAAZD,UAClBrmG,IAEJukG,GAAGS,yDAegBT,GAAIjuD,UACvB,IAAMkwD,kBAAoBn0D,kBAAA,QAAiBuyD,mDAAmDtuD,SAASX,kBAEvG4uD,GAAGM,OACHN,GAAGO,UAAHx6I,MAAAi6I,GAAE1uD,mBAAc2wD,oBAChBjC,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM/lD,MAAM2sD,SAChClC,GAAGmC,yBAA2B,cAC9BnC,GAAGY,UAAY,EACfZ,GAAGa,YACHb,GAAGc,OAAO,GAAI,GACdd,GAAGe,OAAO,EAAG,GACbf,GAAGe,QAAQ,EAAG,GACdf,GAAGoC,YACHpC,GAAGqC,OACHrC,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM/lD,MAAM+sD,SAChCtC,GAAGkB,UAAY,SACflB,GAAGmB,aAAe,MAClBnB,GAAGoB,SAASrvD,SAAS77F,KAAM,EAAG,GAC9B8pJ,GAAGS,6DAcoBT,IACvB,GAAKzqJ,KAAKylJ,qBAAV,CAIAgF,GAAGM,OACH/qJ,KAAK8rJ,4CAA4CrB,IAEjDA,GAAGuC,SAAW,QACdvC,GAAGsB,KAAO7G,iBAAA+H,iBAEV,IAAK,IAAI5wJ,EAAI,EAAGA,EAAIk3F,mBAAA,QAAkB25D,UAAUlwJ,OAAQX,IAAK,CACzD,IAAMmgG,SAAWjJ,mBAAA,QAAkB25D,UAAU7wJ,GAE7C2D,KAAKmtJ,uBAAuB1C,GAAIjuD,UAGpCiuD,GAAGS,6CAeGT,IACN,GAAKzqJ,KAAK2lJ,kBAAV,CAIA,IAAMyH,UAAY,GACZC,SAAW95D,mBAAA,QAAkB+5D,kBAAkB77B,gBAAAyI,eAAeC,KAEpEswB,GAAGM,OACH/qJ,KAAK8rJ,4CAA4CrB,IACjDA,GAAGU,YAAcnrJ,KAAK+lJ,MAAM/lD,MAAMm6B,IAClCswB,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM/lD,MAAMm6B,IAChCswB,GAAG8C,YAAY,CAAC,EAAG,KACnB9C,GAAGsB,KAAO,iCAEV,IAAK,IAAI1vJ,EAAI,EAAGA,EAAIgxJ,SAASrwJ,OAAQX,IAAK,CAItC,IAHA,IAAMmxJ,IAAMH,SAAShxJ,GACjBoxJ,yBAA0B,EAErB3hI,EAAI,EAAGA,EAAI0hI,IAAI7nI,MAAM3oB,OAAQ8uB,IAClC9rB,KAAK0tJ,mCAAmCjD,GAAI+C,IAAI7nI,MAAMmG,IAG1D,IAAK,IAAI6hI,GAAI,EAAGA,GAAIH,IAAII,MAAM5wJ,OAAQ2wJ,KAAK,CACvC,IAAM10B,SAAWu0B,IAAII,MAAMD,IAErB10B,YAAYm0B,YACdA,UAAUn0B,UAAY,IAG1Bm0B,UAAUn0B,UAAUz1H,KAApB,GAAAgO,OAA4Bg8I,IAAIrmH,WAAhC,KAAA31B,OAA8CynH,WAE9Cw0B,yBAA0B,EAG9B,GAAIA,wBAAyB,CAAA,IACjBI,YAAgBL,IAAhBK,YAEFA,eAAeT,YACjBA,UAAUS,aAAe,IAG7BT,UAAUS,aAAarqJ,KAAKgqJ,IAAIrmH,aAKxC,IAAK,IAAMoc,OAAO6pG,UAAW,CACzB,IAAMU,iBAAmBV,UAAU7pG,KAC7BkiF,YAAclyC,mBAAA,QAAkBw6D,uBAAuBxqG,KAE7DvjD,KAAKguJ,UAAUvD,GAAIhlB,YAAaqoB,kBAGpCrD,GAAGS,8CAcIT,IACP,GAAKzqJ,KAAK4lJ,mBAAV,CAIA,IAAMqI,UAAY16D,mBAAA,QAAkB+5D,kBAAkB77B,gBAAAyI,eAAeE,MAC/DgzB,UAAY,GAElB3C,GAAGM,OACH/qJ,KAAK8rJ,4CAA4CrB,IACjDA,GAAGU,YAAcnrJ,KAAK+lJ,MAAM/lD,MAAMo6B,KAClCqwB,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM/lD,MAAMo6B,KAChCqwB,GAAG8C,YAAY,CAAC,EAAG,KACnB9C,GAAGsB,KAAO,iCACVtB,GAAGkB,UAAY,QAEf,IAAK,IAAItvJ,EAAI,EAAGA,EAAI4xJ,UAAUjxJ,OAAQX,IAAK,CAGvC,IAFA,IAAM6xJ,KAAOD,UAAU5xJ,GAEdyvB,EAAI,EAAGA,EAAIoiI,KAAKvoI,MAAM3oB,OAAQ8uB,IACnC9rB,KAAK0tJ,mCAAmCjD,GAAIyD,KAAKvoI,MAAMmG,IAJpB,IAO/BqiI,aAAiBD,KAAjBC,aAEFA,gBAAgBf,YAClBA,UAAUe,cAAgB,IAG9Bf,UAAUe,cAAc3qJ,KAAK0qJ,KAAK/mH,YAItC,IAAK,IAAMoc,OAAO6pG,UAAW,CACzB,IAAMU,iBAAmBV,UAAU7pG,KAC7BkiF,YAAclyC,mBAAA,QAAkBw6D,uBAAuBxqG,KAE7DvjD,KAAKguJ,UAAUvD,GAAIhlB,YAAaqoB,kBAGpCrD,GAAGS,sEAe4BT,GAAI2D,mBACnC,KAAIA,kBAAkBpxJ,OAAS,GAA/B,CAIA,IAAMqxJ,kBAAoB91D,kBAAA,QAAiBuyD,mDAAmDsD,kBAAkB,IAEhH3D,GAAGa,YACHb,GAAGc,OAAH/6I,MAAAi6I,GAAE1uD,mBAAWsyD,oBAEb,IAAK,IAAIryC,EAAI,EAAGA,EAAIoyC,kBAAkBpxJ,OAAQg/G,IAAK,CAC/C,IAAMngB,iBAAmBuyD,kBAAkBpyC,GACrClY,eAAiBvL,kBAAA,QAAiBuyD,mDAAmDjvD,kBAE3F4uD,GAAGe,OAAHh7I,MAAAi6I,GAAE1uD,mBAAW+H,iBAGjB2mD,GAAGgB,4CAiBGhB,GAAI5uD,iBAAkByyD,QAAyB,IAAjBx/F,WAAiB,EAAAjqD,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAJ,GAC3Ci/F,eAAiBvL,kBAAA,QAAiBuyD,mDAAmDjvD,kBACvFqV,GAAsB,UAAjBu5C,GAAGkB,WAAyB,GAAK,GAErB,WAAjBlB,GAAGkB,YACHz6C,GAAK,GAGT,IAAK,IAAI8K,EAAI,EAAGA,EAAIsyC,OAAOtxJ,OAAQg/G,IAAK,CACpC,IAAMuyC,SAAWD,OAAOtyC,GAClBwyC,oBAAsB1qD,eAAe,GAAKoN,GAC1Cu9C,oBAAsB3qD,eAAe,GAAMh1C,WAAaktD,EAE9DyuC,GAAGoB,SAAS0C,SAAUC,oBAAqBC,uEAgB1BhE,GAAItxD,eACzB,GAAK/F,gBAAA,QAAes7D,qCAAqCv1D,eAAzD,CAIAsxD,GAAGM,OALqC,IAOhC3gD,IAA0BjR,cAA1BiR,IAAKvO,iBAAqB1C,cAArB0C,iBACP8yD,wBAA0BvkD,IAAIC,mBAAmBukD,cACjDC,uBAAyBt2D,kBAAA,QAAiBuyD,mDAAmDjvD,kBACnG4uD,GAAGU,YAAcnrJ,KAAK+lJ,MAAM+I,aAAaC,8BACzCtE,GAAGY,UAAY,EAEfZ,GAAGO,UAAHx6I,MAAAi6I,GAAE1uD,mBAAc8yD,yBAChBpE,GAAGQ,OAAO0D,yBACVlE,GAAGa,YAEH,IAEM0D,cAAgBz2D,kBAAA,QAAiBqyD,6BADZ,OAG3BH,GAAGc,QAJwB,GAIKyD,eAChCvE,GAAGe,OALwB,GAKIwD,eAC/BvE,GAAGgB,SAEHhB,GAAGS,8DAiBoBT,GAAIwE,kBAAkB,IAEvCC,eADoBD,iBAAlB91D,cAC6Bg2D,YAGrC,GAAKD,eAAe,GAApB,CAIA,IAAI/D,YAAcnrJ,KAAK+lJ,MAAM+I,aAAaM,cAEtCF,eAAe,KACf/D,YAAcnrJ,KAAK+lJ,MAAM+I,aAAaO,gBAG1C5E,GAAGU,YAAcA,YAEjBV,GAAGa,YACHb,GAAG6E,IAAI,EAAG,EAAG/2D,kBAAA,QAAiBqyD,8BAA6B,EAAAvkD,gBAAAyS,IAf1C,IAeyD,GAAG,EAAA5S,QAAAqpD,QAC7E9E,GAAGgB,oDAeWhB,GAAIwE,kBAClB,GAAKA,iBAAiBO,QAAtB,CAIA,IAAMC,SAAWR,iBAAiBS,WAClCjF,GAAGU,YAAcnrJ,KAAK+lJ,MAAM+I,aAAaa,KAEzClF,GAAGa,YACHb,GAAG6E,IAAI,EAAG,EAAG/2D,kBAAA,QAAiBqyD,8BAA6B,EAAAvkD,gBAAAyS,IAAG22C,WAAY,GAAG,EAAAvpD,QAAAqpD,QAC7E9E,GAAGgB,yDAegBhB,GAAIwE,kBAAkB,IACjC91D,cAAkB81D,iBAAlB91D,cAER,GAAKA,cAAc4b,YAAnB,CAIA01C,GAAGM,OAGH,IAAMhmI,MAAqC,EAA7B82B,KAAKr+C,MAAM67F,SAASr8F,QAAcm8F,cAAcwK,cAAc9nD,KAAKr+C,MAAM67F,UACnF4yD,UAAYjsJ,KAAK+lJ,MAAM+I,aAAac,0BAEpCz2D,cAAcC,iBACd6yD,UAAYjsJ,KAAK+lJ,MAAM+I,aAAae,0BAGxCpF,GAAGwB,UAAYA,UAIf,IAFA,IAAM6D,gBAAkB32D,cAAc8hB,wBAE7B5+G,EAAI,EAAGA,EAAIyzJ,gBAAgB9yJ,OAAQX,IAAK,CAC7C,IAAM0uD,SAAWouC,cAAc8hB,wBAAwB5+G,GACjDynG,eAAiBvL,kBAAA,QAAiBw3D,mDAAmDhlG,UAE3F0/F,GAAGa,YACHb,GAAG6E,IAAH9+I,MAAAi6I,GAAE1uD,mBACK+H,gBADLtyF,OAAA,CAEE+mF,kBAAA,QAAiBqyD,6BAA6B5qJ,KAAK+lJ,MAAM+I,aAAakB,uBACtE,GACA,EAAA9pD,QAAAqpD,UAEJ9E,GAAGoC,YACHpC,GAAGqC,OAoBP,OAjBArC,GAAGS,UACHT,GAAGM,OAEC+E,gBAAgB9yJ,OAASgD,KAAK+lJ,MAAM+I,aAAamB,iBAGjD92D,cAAc8hB,wBAA0B60C,gBAAgBnpJ,MACpDmpJ,gBAAgB9yJ,OAASgD,KAAK+lJ,MAAM+I,aAAamB,eACjDH,gBAAgB9yJ,SAIpBm8F,cAAciX,yBACdpwG,KAAKkwJ,yBAAyBzF,GAAItxD,eAI9B/F,gBAAA,QAAe6N,KAAK7hD,OAAO8hD,gBAAgB,uBAC/C,IAAK,SACDlhG,KAAKmwJ,wBAAwB1F,GAAItxD,cAAep0E,OAEhD,MACJ,IAAK,WACGA,OACA/kB,KAAKmwJ,wBAAwB1F,GAAItxD,cAAep0E,OAQ5D,IAAM8pI,uBAAyBt2D,kBAAA,QAAiBw3D,mDAC5C52D,cAAc0C,kBAGlB4uD,GAAGO,UAAHx6I,MAAAi6I,GAAE1uD,mBAAc8yD,yBAEhB7uJ,KAAKowJ,yBAAyB3F,GAAItxD,eAClCn5F,KAAKqwJ,kBAAkB5F,GAAIwE,kBAC3BjvJ,KAAKswJ,2BAA2B7F,GAAIwE,kBAEpC,IAAIsB,oBAAsBvwJ,KAAK+lJ,MAAM+I,aAAa0B,UAG9CzrI,QACAwrI,oBAAsBvwJ,KAAK+lJ,MAAM+I,aAAa2B,oBAIlDhG,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM+I,aAAaA,aACvCrE,GAAGa,YACHb,GAAG6E,IAAI,EAAG,EAAG/2D,kBAAA,QAAiBqyD,6BAA6B2F,qBAAsB,GAAG,EAAArqD,QAAAqpD,QACpF9E,GAAGqC,OAEHrC,GAAGS,4DAgBkBT,GAAItxD,eACzB,IAAIA,cAAcqW,IAAlB,CAIAi7C,GAAGM,OAEHN,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM+I,aAAa4B,sBACvCjG,GAAGU,YAAcnrJ,KAAK+lJ,MAAM+I,aAAa4B,sBAEzC,IACMC,kBADsB3wJ,KAAK+5F,YAAY62D,UACG73D,iBAAAimB,KAAK6xC,oBAC/CC,eAAgB,EAAAzqD,gBAAAyS,IAAG3f,cAAcqhB,YAAcm2C,mBAC/CI,mBAAoB,EAAAnjD,QAAA0W,wBAAuBnrB,cAAc6X,aACzDggD,yBAA0B,EAAApjD,QAAAyW,QAAO0sC,kBAAmBD,eACpDG,sBAAwB14D,kBAAA,QAAiBqyD,6BAA6BoG,wBAAwB,IAC9FE,sBAAwB34D,kBAAA,QAAiBqyD,6BAA6BoG,wBAAwB,IAEpGvG,GAAGa,YACHb,GAAGc,OAAO,EAAG,GACbd,GAAGe,OAAOyF,uBAAwBC,uBAClCzG,GAAGgB,SACHhB,GAAGS,qHAsDiBT,GAAItxD,cAAepoD,UACvC,IAAIooD,cAAcuc,aAA6C,IAA9BtnB,YAAA,QAAW+iE,eAA5C,CAIA,IAAIC,YAAa,EACXC,aAAe,GACfC,UAAW,EAAAtM,YAAA,SAAW7rD,cAAciR,KACpCmnD,MAAO,EAAAvM,YAAA,SAAW7rD,eAExBo4D,KAAKnnD,IAAMknD,SACXC,KAAKv2C,WAAY,EACjB5sB,YAAA,QAAWojE,4CAEX,IAAK,IAAIn1J,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACzBk1J,KAAKxgE,SAEL,IAAM0gE,WAAaF,KAAKnhD,yBAA2BmhD,KAAKnnD,IAAI+kB,eAAiBlpB,mBAAAc,aAAayX,SAI1F,GAFA6yC,aAAa7tJ,KAAb,GAAAgO,OAAAuqF,mBAAsBw1D,KAAK11D,kBAA3B,CAA6C41D,cAEzCA,YAAcF,KAAK5oD,SAAW,IAC9B,MAIRva,YAAA,QAAWsjE,8CAEXjH,GAAGM,OAGH,IAAII,YAAcnrJ,KAAK+lJ,MAAM+I,aAAa6C,uBAEtCx4D,cAActB,WAAaoO,mBAAAwR,gBAAgB6D,UAEvC6vC,YADAp6G,SACc/wC,KAAK+lJ,MAAM+I,aAAa8C,qBAExB5xJ,KAAK+lJ,MAAM+I,aAAa+C,yBAEnC9gH,WACPo6G,YAAcnrJ,KAAK+lJ,MAAM+I,aAAagD,oBAG1CrH,GAAGU,YAAcA,YACjBV,GAAGmC,yBAA2B,SAC9BnC,GAAGY,UAAY,EACfZ,GAAGa,YAEH,IAAK,IAAIyG,IAAI,EAAGA,IAAIV,aAAar0J,OAAQ+0J,MAAK,CAC1C,IAAMC,MAAQX,aAAaU,KACrBE,YAAaD,MAAM,GACnBE,cAAgB35D,kBAAA,QAAiBw3D,mDAAmDiC,QAEtFC,aAAeb,WAcT,IAANW,IACAtH,GAAGc,OAAO2G,cAAc,GAAIA,cAAc,IAE1CzH,GAAGe,OAAO0G,cAAc,GAAIA,cAAc,KAhB1CzH,GAAGe,OAAO0G,cAAc,GAAIA,cAAc,IAE1CzH,GAAGgB,SACHhB,GAAGU,YAAcnrJ,KAAK+lJ,MAAM+I,aAAaqD,mCACzC1H,GAAGY,UAAY,EACfZ,GAAGa,YACHb,GAAGc,OAAO2G,cAAc,GAAIA,cAAc,IAE1Cd,YAAa,GAYrB3G,GAAGgB,SAKHhB,GAAGS,oDAcUT,IAAI,IAAAv5D,OAAAlxF,KACjB,GAAK24F,aAAA,QAAYoE,SAAjB,CAIA,IAAMq1D,aAAez5D,aAAA,QAAY05D,gBAEjC5H,GAAGM,OACH/qJ,KAAK8rJ,4CAA4CrB,IAEjD2H,aAAa1+H,QAAQ,SAAC4+H,UAClBphE,OAAKqhE,qBAAqB9H,GAAI6H,UAC9BphE,OAAKshE,uBAAuB/H,GAAI6H,YAGpC7H,GAAGS,0DAegBT,GAAI6H,UAMvB,IALA,IAAI51B,IAAM41B,SAASG,SACbl+I,OAAS,GAID,MAAPmoH,KAAa,CAEhB,GAAmB,OAAfA,IAAI4xB,QAAyC,IAAtB5xB,IAAI4xB,OAAOtxJ,OAAc,CAChD,IAAM+tD,SAAWwtC,kBAAA,QAAiBw3D,mDAAmDrzB,IAAIg2B,UAEzFn+I,OAAO/Q,KAAK,CACR8wB,EAAGy2B,SAAS,GACZx2B,EAAGw2B,SAAS,GACZujG,OAAQ5xB,IAAI4xB,SAIpB5xB,IAAMA,IAAIv2G,KAIQ,IAAlB5R,OAAOvX,SAIXytJ,GAAGM,OAGHN,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM/lD,MAAM2yD,mBAChClI,GAAGsB,KAAO/rJ,KAAK+lJ,MAAM6M,WAAWC,UAEhCt+I,OAAOmf,QAAQ,SAACld,MAAS,IACb8d,EAAiB9d,KAAjB8d,EAAGC,EAAc/d,KAAd+d,EAAG+5H,OAAW93I,KAAX83I,OACRxiG,OAAU,GAAqB,GAAKwiG,OAAOtxJ,OAM3C6sD,MAAS,GALOykG,OAAO1yB,OAAO,SAACk3B,UAAWh7D,OAC5C,IAAMi7D,SAAWtI,GAAGuI,YAAYl7D,OAAOjuC,MAEvC,OAAO92B,KAAKi6B,IAAI8lG,UAAWC,WAC5B,GAGHtI,GAAGwI,SAAS3+H,EAAGC,EAAGs1B,MAAOiC,UAI7B2+F,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM/lD,MAAMkzD,aAEhC3+I,OAAOmf,QAAQ,SAACld,MAAS,IACb83I,OAAW93I,KAAX83I,OACFh6H,EAAI9d,KAAK8d,EA/CE,EAgDXC,EAAI/d,KAAK+d,EAAI,GAEnB+5H,OAAO56H,QAAQ,SAAC7vB,KAAMwS,OAClBo0I,GAAGoB,SAAShoJ,KAAMywB,EAAGC,EAAK,GAAKle,WAIvCo0I,GAAGS,wDAecT,GAAI6H,UAAU,IACvBa,YAAgBb,SAAhBa,YACJz2B,IAAM41B,SAASG,SACbW,WAAa76D,kBAAA,QAAiBw3D,mDAAmDrzB,IAAI22B,YACrFC,cAAgB/6D,kBAAA,QAAiBw3D,mDAAmDrzB,IAAIg2B,UAU9F,GARAjI,GAAGM,OAEHN,GAAGU,YAAcnrJ,KAAK+lJ,MAAM/lD,MAAMuzD,aAElC9I,GAAGa,YAIiB,OAAhB6H,YAAsB,CAAA,IAElBK,MACAL,YADAK,MAAO7b,OACPwb,YADOxb,OAAQ8b,WACfN,YADeM,WAAYC,UAC3BP,YAD2BO,UAAWC,WACtCR,YADsCQ,WAEpC5oG,SAAWwtC,kBAAA,QAAiBw3D,mDAAmDpY,QAC/Eic,OAASr7D,kBAAA,QAAiBqyD,6BAA6B+I,YAG7DlJ,GAAG6E,IAAIvkG,SAAS,GAAIA,SAAS,GAAI6oG,OAAQH,WAAa1gI,KAAK89B,GAAK,EAAG6iG,UAAY3gI,KAAK89B,GAAK,GAAI2iG,OAQjG,IAJA/I,GAAGc,OAAO6H,WAAW,GAAIA,WAAW,IACpC3I,GAAGe,OAAO8H,cAAc,GAAIA,cAAc,IAG5B,MAAP52B,KAAa,CAAA,IACRv2G,KAASu2G,IAATv2G,KACF0tI,QAASt7D,kBAAA,QAAiBqyD,6BAA6BluB,IAAIk3B,QAC3DE,UAAYv7D,kBAAA,QAAiBw3D,mDAAmDrzB,IAAIq3B,UAE1F,GAAa,OAAT5tI,KAEAskI,GAAGe,OAAOsI,UAAU,GAAIA,UAAU,QAC/B,CAEH,IAAME,UAAYz7D,kBAAA,QAAiBw3D,mDAAmD5pI,KAAKusI,UAE3FjI,GAAGwJ,MAAMH,UAAU,GAAIA,UAAU,GAAIE,UAAU,GAAIA,UAAU,GAAIH,SACjEpJ,GAAGe,OAAOwI,UAAU,GAAIA,UAAU,IAGtCt3B,IAAMv2G,KAGVskI,GAAGgB,SAEHhB,GAAGS,uDAecT,IACjBA,GAAGsB,KAAO7G,iBAAA+H,iBACVxC,GAAGM,OACH/qJ,KAAK8rJ,4CAA4CrB,IAIjD,IAFA,IAAMyJ,kBAAoBl0J,KAAK+5F,YAAYnD,sBAAsBu9D,MAExD93J,EAAI,EAAGA,EAAI63J,kBAAkBl3J,OAAQX,IAC1C2D,KAAKo0J,uBAAuB3J,GAAIyJ,kBAAkB73J,IAGtDouJ,GAAGS,+DAgBsBT,GAAIwE,kBAAkB,IACvC91D,cAAkB81D,iBAAlB91D,cAER,GAAKA,cAAc4b,cAAe5b,cAAcqW,IAAhD,CAIAi7C,GAAGM,OAEH,IACIhmI,OAAQ,EAGqB,EAA7B82B,KAAKr+C,MAAM67F,SAASr8F,QAAcm8F,cAAcwK,cAAc9nD,KAAKr+C,MAAM67F,YACzEt0E,OAAQ,GAGZ,IAAIsvI,MAAQl7D,cAAcC,eACtBp5F,KAAK+lJ,MAAM6M,WAAW0B,cACtBt0J,KAAK+lJ,MAAM6M,WAAW2B,kBAEtBxvI,QACAsvI,MAAQr0J,KAAK+lJ,MAAM6M,WAAW4B,eAGlC/J,GAAGmB,aAAe,SAzB6B,IA2BzC6I,yBAA6BxF,iBAA7BwF,yBAEFA,2BAA6B17D,iBAAA2K,iBAC7B+wD,yBAA2Bz0J,KAAK+lJ,MAAM6M,WAAW8B,kBAGrD,IAAIC,gBAAkB,CAClB5hI,KAAK6tF,KAAI,EAAAva,gBAAAqD,kBAAiB+qD,4BACzB1hI,KAAK69B,KAAI,EAAAy1C,gBAAAqD,kBAAiB+qD,4BAIE,QAA7BA,2BACAE,gBAAkB,CAAC,EAAG,IAI1B,IAAMC,oBAAsBr8D,kBAAA,QAAiBuyD,mDACzC3xD,cAAc0C,kBAEZg5D,aAAe70J,KAAK80J,uBAAuB7F,iBAAiB8F,uBAC5DC,YAAc,CAChBJ,oBAAoB,GAAMD,gBAAgB,GAAK30J,KAAK+lJ,MAAM6M,WAAWqC,8BACrEL,oBAAoB,GAAMD,gBAAgB,GAAK30J,KAAK+lJ,MAAM6M,WAAWqC,+BAEnEC,UAAY,CACdN,oBAAoB,GAAKD,gBAAgB,IAAME,aAAe70J,KAAK+lJ,MAAM6M,WAAWuC,8BACpFP,oBAAoB,GAAKD,gBAAgB,IAAME,aAAe70J,KAAK+lJ,MAAM6M,WAAWuC,+BAElFC,4BAA8B,CAChCR,oBAAoB,GAAKD,gBAAgB,GAAKE,aAC9CD,oBAAoB,GAAKD,gBAAgB,GAAKE,cAGlDpK,GAAGa,YACHb,GAAGc,OAAH/6I,MAAAi6I,GAAauK,aACbvK,GAAGe,OAAHh7I,MAAAi6I,GAAayK,WACbzK,GAAGU,YAAckJ,MACjB5J,GAAGgB,SAEH,IAAM4J,8BAAgCpG,iBAAiBqG,yBAAyBF,6BAEhF3K,GAAGO,UAAHx6I,MAAAi6I,GAAE1uD,mBAAcs5D,gCAEhBr1J,KAAKu1J,qBAAqB9K,GAAItxD,eAG9B,IAEMq8D,SAAWvG,iBAAiBwG,uBAC9BC,SAAWzG,iBAAiB0G,kCAE5B31J,KAAK41J,iCACLF,SAAWzG,iBAAiB4G,qCAGhC,IAAM5J,UAAY9yD,cAAcC,eAC5Bp5F,KAAK+lJ,MAAM6M,WAAW0B,cACtBt0J,KAAK+lJ,MAAM6M,WAAW2B,kBAE1B9J,GAAGwB,UAAYA,UAGfxB,GAAGsB,KAAO/rJ,KAAK+lJ,MAAM6M,WAAWC,UAChCpI,GAAGkB,UAAY,OACflB,GAAGoB,SAAS2J,SAnFM,EAmFKx1J,KAAK+lJ,MAAM6M,WAAWkD,YAAwB,GACrErL,GAAGoB,SAAS6J,SApFM,EAoFK11J,KAAK+lJ,MAAM6M,WAAWkD,WAAwBC,GACrEtL,GAAGsB,KAAO7G,iBAAA+H,iBAEVxC,GAAGS,wDAecT,GAAItxD,eACrB,GAAKn5F,KAAK+lJ,MAAM6M,WAAWoD,SAA3B,CAMA,IAAMnsG,MAAQ7pD,KAAK+lJ,MAAM6M,WAAWqD,MAC9BC,UAAYl2J,KAAK+lJ,MAAM6M,WAAWkD,WAElChqG,OAAS9rD,KAAK+lJ,MAAM6M,WAAWrlB,OAC/B4oB,WAAan2J,KAAK+lJ,MAAM6M,WAAWwD,YAKnCC,UAAYvqG,OAAS,EACrBwqG,YAAcD,UAAY,EAC1BE,OAASF,UAJMG,IAKf95J,EAAI65J,OAASD,YAEbG,oBAAsB1jI,KAAK2jI,KAPZF,IAOqB95J,GAEpCi6J,SAAW5jI,KAAK89B,GAAK,GACvB9rC,OAAQ,EAGqB,EAA7B82B,KAAKr+C,MAAM67F,SAASr8F,QAAcm8F,cAAcwK,cAAc9nD,KAAKr+C,MAAM67F,YACzEt0E,OAAQ,GAIZ,IAAI6xI,IAAM52J,KAAK+lJ,MAAM6M,WAAWiE,yBAC5BC,MAAQ92J,KAAK+lJ,MAAM6M,WAAWmE,wBAC9BC,KAAOh3J,KAAK+lJ,MAAM6M,WAAWqE,2BAC7B5C,MAAQr0J,KAAK+lJ,MAAM6M,WAAW2B,kBAiBlC,GAfIp7D,cAAcC,iBACdw9D,IAAM52J,KAAK+lJ,MAAM6M,WAAWsE,qBAC5BJ,MAAQ92J,KAAK+lJ,MAAM6M,WAAWuE,oBAC9BH,KAAOh3J,KAAK+lJ,MAAM6M,WAAWwE,uBAC7B/C,MAAQr0J,KAAK+lJ,MAAM6M,WAAW0B,cAE1BvvI,QACA6xI,IAAM52J,KAAK+lJ,MAAM6M,WAAWyE,qBAC5BP,MAAQ92J,KAAK+lJ,MAAM6M,WAAW0E,oBAC9BN,KAAOh3J,KAAK+lJ,MAAM6M,WAAW2E,uBAC7BlD,MAAQr0J,KAAK+lJ,MAAM6M,WAAW4B,iBAKjCr7D,cAAc6O,MAAMQ,sBAAwBxoG,KAAK+lJ,MAAM6M,WAAWoD,SASnE,OAPAvL,GAAGwB,UAAY6K,MACfrM,GAAGwI,UAAUiD,WAAYC,WAAYtsG,MAAOiC,QAG5C2+F,GAAGwB,UAAa9yD,cAActB,WAAaoO,mBAAAwR,gBAAgB6D,UAAa07C,KAAOJ,SAC/EnM,GAAGwI,UAAUiD,UA9CA,GA8CuBC,WA9CvB,EA8C6CrqG,QAM9D2+F,GAAGM,OAGHN,GAAGwB,UAAY6K,MACfrM,GAAGa,YACHb,GAAGc,QAAQ2K,UAAWC,YACtB1L,GAAGe,OAAO0K,UAAWC,YACrB1L,GAAGe,OAAO0K,WAAYC,YACtB1L,GAAGe,QAAQ0K,WAAYC,YACvB1L,GAAGe,QAAQ0K,WAAYK,QACvB9L,GAAG6E,KAAK4G,UA7DaM,KA8DhBF,YAAaD,UAAY,EA9DTG,IA+DjBC,oBAAsB1jI,KAAK89B,GAAK,EAChC,GACJ45F,GAAGe,OAAoB6K,UAAY,EAAxBH,UAA2BI,aACtC7L,GAAG6E,KAAK4G,UAlEaM,IAmEjBF,YACAD,UAAY,EApEKG,IAqEjB,EACAzjI,KAAK89B,GAAK,EAAI4lG,qBAClBhM,GAAGoC,YACHpC,GAAGqC,OAGHrC,GAAGO,WAAWkL,UA3EOM,IA2EmB,GACxC/L,GAAGY,UA7Ec,EA8EjBZ,GAAGU,YAAcyL,IACjBnM,GAAGa,YACHb,GAAG6E,IAAI,GAAIgH,YAAaD,UAAY,GAAIM,SAAU5jI,KAAK89B,GAAK8lG,UAAU,GACtElM,GAAGc,OAAO,GAAI8K,UAAY,GAC1B5L,GAAGe,OAAO,GAAI2K,YACd1L,GAAGgB,SACHhB,GAAGa,YACHb,GAAG6E,IAAI,EAAGgH,YAAaD,UAAY,EAAGM,SAAU5jI,KAAK89B,GAAK8lG,UAC1DlM,GAAGc,OAAO,EAAG8K,UAtFI,GAuFjB5L,GAAGe,OAAO,EAAG2K,YACb1L,GAAGgB,SAECtyD,cAAciX,0BAEdq6C,GAAGwB,UAAYoI,MACf5J,GAAGa,YACHb,GAAG6E,IAAI,EAAG,EAAG+G,UAAY,EAAG,EAAa,EAAVtjI,KAAK89B,IACpC45F,GAAGqC,QAGPrC,GAAGO,UAAUkL,UAjGQM,IAiGkB,GAEvC/L,GAAGa,YACHb,GAAGgB,SAEHhB,GAAGS,2DAciBT,IACpB,IAAMyJ,kBAAoBl0J,KAAK+5F,YAAYnD,sBAAsBu9D,MAEjE1J,GAAGM,OACH/qJ,KAAK8rJ,4CAA4CrB,IAEjD,IAAK,IAAIpuJ,EAAI,EAAGA,EAAI63J,kBAAkBl3J,OAAQX,IAC1C2D,KAAKw3J,6BAA6B/M,GAAIyJ,kBAAkB73J,IAG5DouJ,GAAGS,6DAcoBT,IACvBA,GAAGM,OAGH/qJ,KAAK8rJ,4CAA4CrB,IACjDzqJ,KAAKy3J,oBAAoBhN,IACzBzqJ,KAAK03J,gBAAgBjN,IAErBA,GAAGS,8EAaqCT,IACxCA,GAAGO,WACC,EAAAnyD,MAAAhkE,OAAM0jE,kBAAA,QAAiB29D,YACvB,EAAAr9D,MAAAhkE,OAAM0jE,kBAAA,QAAiB49D,iFAca1L,IACxCA,GAAGO,YACE,EAAAnyD,MAAAhkE,OAAM0jE,kBAAA,QAAiB29D,aACvB,EAAAr9D,MAAAhkE,OAAM0jE,kBAAA,QAAiB49D,qDAehB1L,IACZ,IAAM1gD,aAAelX,mBAAA,QAAkBkV,cACjC4vD,qBAAuBp/D,kBAAA,QAAiBw3D,mDAC1ChmD,aAAasuC,WAAWV,OAAO97C,kBAE7B+7D,aAAe53J,KAAK63J,4BAA4B9tD,cAEtD,GAAqB,IAAjB6tD,aAAJ,CAIAnN,GAAGM,OAEHN,GAAGqN,UAAY,EACfrN,GAAGU,YAAcnrJ,KAAK+lJ,MAAM/lD,MAAM+3D,iBAGlC,IAAK,IAAI17J,EAAI,EAAGA,EAAIu7J,aAAyC,EAA1B7tD,aAAamL,WAAgB74G,IAC5DouJ,GAAGa,YACHb,GAAG6E,IAAH9+I,MAAAi6I,GAAE1uD,mBAAQ47D,sBAARnmJ,OAAA,CAA8BomJ,aAAer/D,kBAAA,QAAiBx6C,MAAQ1hD,EAAG,GAAG,EAAA6pG,QAAAqpD,UAC9E9E,GAAGgB,SAGPhB,GAAGS,uDAcaT,IAChBA,GAAGM,OAEH,IAAMt7D,QAAUoD,mBAAA,QAAkBkV,cAClC0iD,GAAGU,YAAcnrJ,KAAK+lJ,MAAM/lD,MAAMg4D,mBAClCvN,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM/lD,MAAMi4D,cAEhC,IAAK,IAAI57J,EAAI,EAAGA,EAAIozF,QAAQwoD,SAASj7I,OAAQX,IAAK,CAC9C,IAAM47I,SAAWxoD,QAAQwoD,SAAS57I,GAElC2D,KAAKk4J,kBAAkBzN,GAAIxS,SAASuE,cAAc,GAOtDiO,GAAGS,gEAcuBT,IAC1B,GAAKzqJ,KAAKwlJ,oBAAV,CAIAiF,GAAGM,OAEH,IAAMt7D,QAAUoD,mBAAA,QAAkBkV,cAClC0iD,GAAGU,YAAc,2BACjBV,GAAGwB,UAAY,2BACfxB,GAAGsB,KAAO,0BACVtB,GAAGkB,UAAY,SACflB,GAAGmB,aAAe,SAElB,IAAK,IAAIvvJ,EAAI,EAAGA,EAAIozF,QAAQwoD,SAASj7I,OAAQX,IAAK,CAC9C,IAAM47I,SAAWxoD,QAAQwoD,SAAS57I,GAElCouJ,GAAGM,OAEH/qJ,KAAK8rJ,4CAA4CrB,IAEjDzqJ,KAAKk4J,kBAAkBzN,GAAIxS,SAASuE,cAAc,GAElD,IAAM2b,mBAAoB,EAAAzqB,kBAAAS,SAAQp7G,KAAKC,MAAMilH,SAASjlH,MAAQ,KAAM,GAC9DolI,gBAAiB,EAAA1qB,kBAAAS,SAAQp7G,KAAK06B,KAAKwqF,SAAS16B,QAAU,KAAM,GAC5D/yG,QAAO,GAAAgH,OAAM2mJ,kBAAN,KAAA3mJ,OAA2B4mJ,eAA3B,OAAA5mJ,OAA+CnV,EAA/C,KAEbouJ,GAAGS,UACHT,GAAGM,OAEH/qJ,KAAK8rJ,4CAA4CrB,IAhBH,IAAAhR,2BAAA,EAAAC,mBAAA,EAAAC,oBAAA/2I,EAAA,IAmB9C,IAAA,IAAAg3I,MAAAC,UAAoC5B,SAASqC,uBAA7Cj1G,OAAAC,cAAAm0G,2BAAAG,MAAAC,UAAA1zH,QAAAd,MAAAo0H,2BAAA,EAAqE,CAAA,IAA1D4e,sBAA0Dze,MAAAp0I,MACjExF,KAAKguJ,UAAUvD,GAAI4N,sBAAuB,CAAC7tJ,WApBD,MAAAxH,KAAA02I,mBAAA,EAAAC,eAAA32I,IAAA,QAAA,IAAAy2I,2BAAA,MAAAI,UAAA,QAAAA,UAAA,SAAA,QAAA,GAAAH,kBAAA,MAAAC,gBAuB9C8Q,GAAGS,UAGPT,GAAGS,+DAcqBnhD,cACxB,IAAMuuD,UAAYllE,gBAAA,QAAeiS,cAAcvM,qBAAAqI,kBAAkBo3D,aAC3DC,WAA2B,YAAdF,UACbG,kBAAoB1uD,aAAasuC,WAEvC,MAAkB,QAAdigB,WAAwBE,aAA4C,IAA9BC,kBAAkB5nH,QACjD,EAGN2nH,YAIE,EAAAnyD,gBAAAyS,IAAG2/C,kBAAkB/gB,YAHjB,EAAArxC,gBAAAyS,IAAGtsF,SAAS8rI,UAAWjyD,gBAAAk+B,0DAsBpBkmB,GAAIjO,cAA2B,IAAbsQ,OAAa,EAAAjoJ,UAAA7H,aAAA4F,IAAAiC,UAAA,KAAAA,UAAA,GAC7C4lJ,GAAGa,YAEH,IAAK,IAAIjvJ,EAAI,EAAGA,EAAImgJ,aAAax/I,OAAQX,IAAK,CAC1C,IAAMq8J,iBAAmBlc,aAAangJ,GAChCs8J,eAAiBpgE,kBAAA,QAAiBuyD,mDAAmD4N,kBAE3FjO,GAAGe,OAAHh7I,MAAAi6I,GAAE1uD,mBAAW48D,iBAGjBlO,GAAGoC,YACHpC,GAAGgB,SAECqB,MACArC,GAAGqC,uDAiBarC,GAAImO,aAAc9pD,WAItC,IAAM+pD,MAAK,QAAArnJ,OAAWxR,KAAK+lJ,MAAM+S,QAAQC,MAAMjqD,YAE/C27C,GAAGM,OAEHN,GAAGU,YAAH,GAAA35I,OAAoBqnJ,MAApB,MAAArnJ,OAA8BxR,KAAK+lJ,MAAM+S,QAAQE,eAAjD,KACAvO,GAAGwB,UAAH,GAAAz6I,OAAkBqnJ,MAAlB,MAAArnJ,OAA4BxR,KAAK+lJ,MAAM+S,QAAQG,aAA/C,KAEA,IAAK,IAAI58J,EAAI,EAAGA,EAAIu8J,aAAa57J,OAAQX,IAAK,CAC1C,IAAM68J,aAAeN,aAAav8J,GAElCouJ,GAAGa,YAEH,IAAK,IAAIx/H,EAAI,EAAGA,EAAIotI,aAAal8J,OAAQ8uB,IAAK,CAG1C,IAFA,IAAMqtI,YAAcD,aAAaptI,GAExBkwF,EAAI,EAAGA,EAAIm9C,YAAYn8J,OAAQg/G,IAAK,CACzC,IAAMlY,eAAiBvL,kBAAA,QAAiBuyD,mDAAmDqO,YAAYn9C,IAE7F,IAANA,EACAyuC,GAAGc,OAAH/6I,MAAAi6I,GAAE1uD,mBAAW+H,iBAMb2mD,GAAGe,OAAHh7I,MAAAi6I,GAAE1uD,mBAAW+H,iBAQrB2mD,GAAGoC,YAGPpC,GAAGqC,OACHrC,GAAGgB,SAGPhB,GAAGS,8DAeqBT,GAAI2O,eAC5B3O,GAAGM,OACHN,GAAGsB,KAAO7G,iBAAA+H,iBACVxC,GAAGY,UAAY,EAQf,IANA,IACQxhG,MAAU0uC,kBAAA,QAAV1uC,MACAiC,OAAWysC,kBAAA,QAAXzsC,OAICzvD,EAAI,EAAGA,GAAK+8J,cAAe/8J,GAAK,IAAM,CAC3CouJ,GAAGM,OAIHN,GAAGO,UACCnhG,MAAQ,EAAI,KAAOuvG,cAAgB/8J,GAAK,IAAtB,IACjByvD,OAAS,EAbH,GAagB,IAE3B2+F,GAAGa,YACHb,GAAG3oF,KAAK,EAAG,EAAGu3F,GAZC,GAaf5O,GAAGoC,YAIH,IAAK,IAAI/gI,EAAI,EAAGA,GAAKzvB,EAAGyvB,GAAK,IACzB2+H,GAAGwB,UAAH,QAAAz6I,OAAuBxR,KAAK+lJ,MAAM+S,QAAQC,MAAMjtI,GAAhD,MAAAta,OAAuDxR,KAAK+lJ,MAAM+S,QAAQG,aAA1E,KACAxO,GAAGqC,OAGPrC,GAAGU,YAAH,QAAA35I,OAAyBxR,KAAK+lJ,MAAM+S,QAAQC,MAAM18J,GAAlD,MAAAmV,OAAyDxR,KAAK+lJ,MAAM+S,QAAQE,eAA5E,KACAvO,GAAGgB,SAGH,IAAM6N,iBAAmB,CAAC,EAAG,IAAM,IAAO,KAAO,IAAO,KAAO,KAAO1sH,OAAO,SAAC20E,KAC1E,OAAOA,IAAM63C,cAAgB,OAGjC,GAAI/8J,IAAM+8J,eAAiBE,iBAAiB9sJ,QAAQnQ,KAAO08F,iBAAA4f,cAAe,CACtE8xC,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM/lD,MAAM2sD,SAChClC,GAAGkB,UAAY,SACflB,GAAGmB,aAAe,MAClB,IAAM9mI,KAAa,IAANzoB,EAAU,MAAV,GAAAmV,OAAqBnV,EAArB,KAEbouJ,GAAGoB,SAAS/mI,KAAMu0I,KAAqB7zI,IAG3CilI,GAAGS,UAGPT,GAAGS,+CAcMT,IACT,IAAMh7D,QAAUoD,mBAAA,QAAkBkV,cAC5BwxD,eAAiB9pE,QAAQosB,QAC3Bu9C,cAAgB,EAEpB,GAAKp5J,KAAK6lJ,oBAA6D,IAAvCj7H,OAAO8R,KAAK68H,gBAAgBv8J,OAA5D,CAeA,IAAK,IAAM8xG,aAXX27C,GAAGM,OACH/qJ,KAAK8rJ,4CAA4CrB,IAGjDA,GAAGU,YAAcnrJ,KAAK+lJ,MAAM/lD,MAAM2sD,SAGlClC,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM/lD,MAAM2sD,SAChClC,GAAGY,WAAY,EAAAxyD,MAAAkI,OAAM,GAAMxI,kBAAA,QAAiBx6C,MAAQ,GAAK,GACzD0sG,GAAGuC,SAAW,QAEUuM,eAEpB,GAAKA,eAAeh0J,eAAeupG,WAAnC,CAIA,IAAM8pD,aAAeW,eAAezqD,WAEhCA,UAAY,IAAM9uG,KAAK8lJ,wBACvBr5H,QAAQ4tB,KAAK,GAAA7oC,OAAGi+E,QAAQI,KAAX,gCACT,6CAEJ7vF,KAAK8lJ,wBAAyB,IAKlCsT,cAAgBrmI,KAAKi6B,IAAIosG,cAAetqD,WAExC9uG,KAAKw5J,wBAAwB/O,GAAImO,aAAc9pD,YAG7B,IAAlBsqD,eACAp5J,KAAKy5J,4BAA4BhP,GAAI2O,eAGzC3O,GAAGS,2DAciBT,IACpB,GAAKzqJ,KAAK0lJ,2BAAV,CAIA+E,GAAGM,OACH/qJ,KAAK8rJ,4CAA4CrB,IAEjDA,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM/lD,MAAM05D,oBAChCjP,GAAGU,YAAcnrJ,KAAK+lJ,MAAM/lD,MAAM05D,oBAClCjP,GAAGY,UAAYt4H,KAAKi6B,IAAIurC,kBAAA,QAAiBx6C,MAAQ,EAAG,GACpD0sG,GAAGuC,SAAW,QACdvC,GAAGsB,KAAO7G,iBAAA+H,iBACVxC,GAAGkB,UAAY,SACflB,GAAGmB,aAAe,MAIlB,IAFA,IAAM7hD,aAAelX,mBAAA,QAAkBkV,cAE9B1rG,EAAI,EAAGA,EAAI0tG,aAAa3S,iBAAiBp6F,OAAQX,IAAK,CAC3D,IAAM6/G,KAAOnS,aAAa3S,iBAAiB/6F,GACrCs9J,sBAAwBz9C,KAAKsR,KAEnCxtH,KAAKk4J,kBAAkBzN,GAAIkP,uBAAuB,GAIlD,IAFA,IAAM7tG,OAASowD,KAAKpwD,SAAWpxB,EAAAA,EAAW,MAA3B,MAAAlpB,OAAyE,GAAhCuhB,KAAK06B,KAAKyuD,KAAKpwD,OAAS,MAEvEhgC,EAAI,EAAGA,EAAIowF,KAAKo+B,uBAAuBt9I,OAAQ8uB,IAAK,CACzD,IAAMg4E,eAAiBvL,kBAAA,QAAiBuyD,mDACpC5uC,KAAKo+B,uBAAuBxuH,IAE5B8tI,cAAgB,EAEpB,GAAI19C,KAAKv7G,KAAM,CACXi5J,cAAgB,EAChB,IAAMC,uBAAyB,CAAC/1D,eAAe,GAAIA,eAAe,GAAK81D,eAEvEnP,GAAGoB,SAAHr7I,MAAAi6I,GAAE,CAAUvuC,KAAKv7G,MAAf6Q,OAAwBqoJ,yBAG9B,IAAMC,sBAAwB,CAACh2D,eAAe,GAAIA,eAAe,GAAK81D,eAEtEnP,GAAGoB,SAAHr7I,MAAAi6I,GAAE,CAAU3+F,QAAVt6C,OAAqBsoJ,yBAI/BrP,GAAGS,iDAcOT,IACV,IAAM1gD,aAAelX,mBAAA,QAAkBkV,cAGlCgC,aAAaiuC,cAAc+hB,iBAIhCtP,GAAGM,OACH/qJ,KAAK8rJ,4CAA4CrB,IAEjDA,GAAGU,YAAcnrJ,KAAK+lJ,MAAM/lD,MAAMg6D,UAClCvP,GAAGY,UAAYt4H,KAAKi6B,IAAI,EAAGurC,kBAAA,QAAiBx6C,MAAQ,IACpD0sG,GAAGuC,SAAW,QACdvC,GAAGsB,KAAO7G,iBAAA+H,iBAEVxC,GAAGa,YAEWvhD,aAAaiuC,cAAciiB,qBAEnCvmI,QAAQ,SAACwmI,SACX,IAAMC,iBAAmB,CAACD,QAAQ,GAAIA,QAAQ,IACxCE,eAAiB7hE,kBAAA,QAAiBuyD,mDAAmDqP,kBACrFE,eAAiB,CAACH,QAAQ,GAAIA,QAAQ,IACtCI,aAAe/hE,kBAAA,QAAiBuyD,mDAAmDuP,gBAEzF5P,GAAGc,OAAH/6I,MAAAi6I,GAAE1uD,mBAAWq+D,iBACb3P,GAAGe,OAAHh7I,MAAAi6I,GAAE1uD,mBAAWu+D,iBAGjB7P,GAAGgB,SACHhB,GAAGS,gEAesBT,IACzB,IAAIr3D,gBAAA,QAAemnE,cAAnB,CAIA,IAAMlhE,SAAWx9C,KAAKr+C,MAAM67F,SAAS99C,cAErC,GAAwB,IAApB89C,SAASr8F,OAAb,CAMA,IAAM+0F,UAAW,EAAA4b,SAAA,SAAQ3tG,KAAKy5F,oBAAoB1H,SAAS7hF,KAAM,SAACrT,GAC9D,OAAOA,EAAE8mG,cAActK,WAAax8F,EAAEk4G,cACvC,GAEH,GAAKhjB,SAAL,CAIA,IAAMyoE,aAAe,CAAC,EAAG,GACnBC,WAAa,CAACliE,kBAAA,QAAiB1uC,MAAO0uC,kBAAA,QAAiBzsC,QACvD4uG,iBAAmB16J,KAAK26J,kBAAkB5oE,SAAS8J,kBAEzD4uD,GAAGM,OAGHN,GAAGU,YAAcnrJ,KAAK+lJ,MAAM/lD,MAAM46D,aAClCnQ,GAAGwB,UAAYjsJ,KAAK+lJ,MAAM/lD,MAAM66D,aAChCpQ,GAAGkB,UAAY,SACflB,GAAGmB,aAAe,SAKlB,IAAK,IAAIzjD,QAAU,EAAGA,SAAW,IAAKA,UAAW,CAG7C,IAAM2yD,eAAgB,EAAAltD,QAAAmtD,wBAAuB5yD,SAI7C2yD,cAAc,IAAMA,cAAc,GAGlC,IAAM5yE,cAAe,EAAA0lB,QAAAotD,iCACjBN,iBACAI,cACAN,aACAC,YAGJ,GAAKvyE,aAAL,CAQA,IAAI+yE,QAAU,EAEV9yD,QAAU,GAAM,IAChB8yD,QAAU9yD,QAAU,IAAO,EAAI,GAAK,IAGxC,IAAM+yD,WAAa/yD,QAAU,IAAO,EAAI,EAAI,EAGtCgzD,YAAa,EAAAvtD,QAAAyW,QAAOy2C,eAAgBG,SACpCG,eAAiBlzE,aACjBmzE,cAAe,EAAAztD,QAAA2W,MAAK62C,eAAgBD,YAU1C,GAPA1Q,GAAGY,UAAY6P,WACfzQ,GAAGa,YACHb,GAAGc,OAAH/6I,MAAAi6I,GAAE1uD,mBAAWq/D,iBACb3Q,GAAGe,OAAHh7I,MAAAi6I,GAAE1uD,mBAAWs/D,eACb5Q,GAAGgB,SAGCtjD,QAAU,IAAO,EAArB,CAKAsiD,GAAGsB,KAAO5jD,QAAU,IAAO,EACvB,+BACA+8C,iBAAA+H,iBAEJ,IAAMnoI,KAAI,GAAAtT,OAAM6kB,OAAO8xE,SAASmzD,SAAS,EAAG,MACtCC,UAAY9Q,GAAGuI,YAAYluI,MAAM+kC,MAGvC4gG,GAAGoB,SACC/mI,KACAu2I,aAAa,GAAKP,cAAc,IAAMS,UAAY,EAAI,GACtDF,aAAa,GAAwB,EAAnBP,cAAc,MAIxCrQ,GAAGS,6DAYiBvqJ,MACpB,OAAOX,KAAK8Q,SAASnQ,gDA+BP66J,mBAOdA,kBAAoB,CAChBjjE,kBAAA,QAAiBqyD,6BAA6B4Q,kBAAkB,KAC/DjjE,kBAAA,QAAiBqyD,6BAA6B4Q,kBAAkB,KAGrE,IAAMC,4BAA8B,CAACljE,kBAAA,QAAiBiN,MAAOjN,kBAAA,QAAiBmN,OACxEg2D,mCAAqC,CAACnjE,kBAAA,QAAiB29D,UAAW39D,kBAAA,QAAiB49D,YACnFwF,qCAAsC,EAAA/tD,QAAA2W,MAAKm3C,mCAAoCD,6BAErF,OAAO,EAAA7tD,QAAA2W,MAAKo3C,oCAAqCH,kEAY9BzG,uBACnB,OAAOA,sBACH/0J,KAAK+lJ,MAAM6M,WAAWgJ,+BACtB57J,KAAK+lJ,MAAM6M,WAAWiJ,gCACtB77J,KAAK+lJ,MAAM6M,WAAWuC,6BACtBn1J,KAAK+lJ,MAAM6M,WAAWqC,2EAe1Bj1J,KAAK87J,oEAeL97J,KAAK4oJ,kEAeL5oJ,KAAK4oJ,8DAeL5oJ,KAAKwlJ,qBAAuBxlJ,KAAKwlJ,oBAEjCxlJ,KAAK4oJ,4DAeL5oJ,KAAKylJ,sBAAwBzlJ,KAAKylJ,qBAElCzlJ,KAAK4oJ,qEAeL5oJ,KAAK0lJ,4BAA8B1lJ,KAAK0lJ,2BAExC1lJ,KAAK4oJ,4DAeL5oJ,KAAK2lJ,mBAAqB3lJ,KAAK2lJ,kBAE/B3lJ,KAAK4oJ,6DAeL5oJ,KAAK4lJ,oBAAsB5lJ,KAAK4lJ,mBAEhC5lJ,KAAK4oJ,6DAeL5oJ,KAAK6lJ,oBAAsB7lJ,KAAK6lJ,mBAEhC7lJ,KAAK4oJ,4DAcSmT,UACdlpE,mBAAA,QAAkBkV,cAAciwC,cAAcgkB,eAAeD,UAE7D/7J,KAAK4oJ,gEAeL5oJ,KAAK4oJ,+DAiBL5oJ,KAAKslJ,sBAAuB,4CAiB5BtlJ,KAAKulJ,mBAAoB,EAEzBvlJ,KAAK87J,iEAaL97J,KAAK87J,mEAaL97J,KAAK87J,kEAeYjgE,kBACjB,IAAMogE,UAAW,EAAApjE,MAAAhkE,OAAM0jE,kBAAA,QAAiBqyD,6BAA6B/uD,iBAAiB,KAChFqgE,SAAU,EAAArjE,MAAAhkE,OAAM0jE,kBAAA,QAAiBqyD,6BAA6B/uD,iBAAiB,KAErFtD,kBAAA,QAAiBkF,UAAUw+D,QAASC,oDAgBpCl8J,KAAK4oJ,oDAkBCuT,YACD,EAAA/jE,MAAA,SAAK+sD,QAAAc,MAAOkW,YAOE,OAAfn8J,KAAK+lJ,OACL/lJ,KAAK+uF,SAASp4B,YAAY32D,KAAK+lJ,MAAMwC,WAGzCvoJ,KAAK+lJ,MAAQZ,QAAAc,MAAMkW,WAEnBn8J,KAAK+uF,SAASz4B,SAASt2D,KAAK+lJ,MAAMwC,WAClCvoJ,KAAK4oJ,mBAbDn8H,QAAQ1U,MAAR,oDAAAvG,OAAkE2qJ,UAAlE,m9BC7uFZ,IAAA/jE,MAAArK,uBAAAvxF,QAAA,eACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACAq8F,MAAAr8F,QAAA,gBACA+xF,YAAA/xF,QAAA,2BACA0oJ,iBAAA1oJ,QAAA,gCAKA8xF,aAAA9xF,QAAA,4BACAu8F,iBAAAv8F,QAAA,m2BAkbe,eA3ZX,SAAA4/J,mBA2FI,qIA3FUttE,CAAA9uF,KAAAo8J,kBAMVp8J,KAAKk0F,UAAY/F,UAAA,QAUjBnuF,KAAKq8J,QAAUtjE,iBAAA2K,eAUf1jG,KAAKs8J,OAASvjE,iBAAA2K,eAUd1jG,KAAKwlG,MAAQzM,iBAAA2K,eAUb1jG,KAAK0lG,MAAQ3M,iBAAA2K,eAUb1jG,KAAKu8J,cAAgBxjE,iBAAA2K,eAUrB1jG,KAAKw8J,UAAYzjE,iBAAA2K,eAUjB1jG,KAAKy8J,UAAY1jE,iBAAA2K,eAajB1jG,KAAK08J,OAAS3jE,iBAAA2K,eAEP1jG,KAAK00F,8HAiDZ10F,KAAKq8J,QAAUnX,iBAAAyX,oBAAoBpvB,OACnCvtI,KAAKs8J,OAASpX,iBAAAyX,oBAAoB1G,MAClCj2J,KAAKwlG,MAAQ0/C,iBAAA0X,IAAIC,EACjB78J,KAAK0lG,MAAQw/C,iBAAA0X,IAAIE,EACjB98J,KAAKu8J,cAAgBrX,iBAAA6X,MAAMC,QAC3Bh9J,KAAKy8J,UAAYvX,iBAAA6X,MAAME,IACvBj9J,KAAKw8J,UAAYtX,iBAAA6X,MAAMG,IACvBl9J,KAAK08J,OAAS18J,KAAKm9J,yEAQnBn9J,KAAKq8J,QAAUtjE,iBAAA2K,eACf1jG,KAAKs8J,OAASvjE,iBAAA2K,eACd1jG,KAAKwlG,MAAQzM,iBAAA2K,eACb1jG,KAAK0lG,MAAQ3M,iBAAA2K,eACb1jG,KAAKu8J,cAAgBxjE,iBAAA2K,eACrB1jG,KAAKw8J,UAAYzjE,iBAAA2K,eACjB1jG,KAAKy8J,UAAY1jE,iBAAA2K,eACjB1jG,KAAK08J,OAAS3jE,iBAAA2K,oEAYW05D,gBACzB,OAAOA,eAAiBp9J,KAAK08J,2EAaWpoI,EAAGC,GAK3C,MAFyB,CAFCv0B,KAAK08F,4BAA4BpoE,EAAIt0B,KAAKwlG,OAC1CxlG,KAAK08F,4BAA4BnoE,EAAIv0B,KAAK0lG,wEAehCpxE,EAAGC,GAIvC,MAAO,CAHiBD,EAAIt0B,KAAKk2J,WACR3hI,EAAIv0B,KAAKm2J,gEAaVkH,YACxB,OAAOA,WAAar9J,KAAK08J,kFAcsB7gE,kBAAkB,IAAAuoD,kBAAAjoD,eAClDN,iBADkD,GAC1DvnE,EAD0D8vH,kBAAA,GACvD7vH,EADuD6vH,kBAAA,GAMjE,MAFwB,CAFRpkJ,KAAK4qJ,6BAA6Bt2H,GAAKt0B,KAAKwlG,OACH,EAAxCxlG,KAAK4qJ,6BAA6Br2H,GAAWv0B,KAAK0lG,kFAoBpB7J,kBAC/C,IAAMyhE,gBAAkBt9J,KAAK+vJ,mDAAmDl0D,kBAGhF,MAFwB,EAAC,EAAAhD,MAAAhkE,OAAMyoI,gBAAgB,KAAK,EAAAzkE,MAAAhkE,OAAMyoI,gBAAgB,kDAezDC,WAAYC,WAC7Bx9J,KAAKq8J,QAAUkB,WAAarY,iBAAAyX,oBAAoBc,qBAChDz9J,KAAKs8J,OAASkB,4CAWRlpI,EAAGC,GACTv0B,KAAKwlG,MAAQlxE,EACbt0B,KAAK0lG,MAAQnxE,EAEbv0B,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAM82D,+CAU7B9nJ,KAAK09J,aAFa,qCAYlB19J,KAAK09J,aAFa,uCAYlB19J,KAAK08J,OAAS18J,KAAKu8J,cAEnBv8J,KAAK29J,kBACL39J,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAM+2D,gFAc7B,OAAK,EAAA3vD,MAAA,SAAKnI,aAAc3B,aAAA4B,YAAY0tE,YAIhB3tE,aAAa4tE,QAAQvvE,aAAA4B,YAAY0tE,YAH1C1Y,iBAAA6X,MAAMC,kDAgBjB/sE,aAAa6tE,QAAQxvE,aAAA4B,YAAY0tE,WAAY59J,KAAK08J,6CAWzCqB,UAEL/9J,KAAK08J,OADLqB,SACchrI,KAAKw5C,IAAIvsE,KAAK08J,OAASxX,iBAAA6X,MAAMiB,cAAeh+J,KAAKw8J,WAKrDzpI,KAAKi6B,IAAIhtD,KAAK08J,OAASxX,iBAAA6X,MAAMiB,cAAeh+J,KAAKy8J,+CAmBvDsB,UAER,IAAME,WAAY,EAAAplE,MAAAhkE,OAAM70B,KAAK08F,4BAA4B18F,KAAKwlG,QACxD04D,WAAY,EAAArlE,MAAAhkE,OAAM70B,KAAK08F,4BAA4B18F,KAAK0lG,QAE9D1lG,KAAKm+J,aAAaJ,UAIlB,IAAMK,UAAW,EAAAvlE,MAAAhkE,OAAM70B,KAAK4qJ,6BAA6BqT,YACnDI,UAAW,EAAAxlE,MAAAhkE,OAAM70B,KAAK4qJ,6BAA6BsT,YAEzDl+J,KAAKy9F,UAAU2gE,SAAUC,UACzBr+J,KAAK29J,kBACL39J,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAM+2D,8CApT7B,OAAO/nJ,KAAKq8J,2CAQZ,OAAO,EAAAxjE,MAAAhkE,OAAM70B,KAAKq8J,QAAU,iCAQ5B,OAAOr8J,KAAK08J,qCAQZ,OAAO18J,KAAKs8J,yCAQZ,OAAO,EAAAzjE,MAAAhkE,OAAM70B,KAAKs8J,OAAS,oeCpKnC,IAAAxuE,QAAAC,uBAAAvxF,QAAA,WACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACAs3F,WAAAt3F,QAAA,0BACA8xF,aAAA9xF,QAAA,4BACA+xF,YAAA/xF,QAAA,qYAOqB8hK,+BAKjB,SAAAA,oBAAYlqE,6IAActF,CAAA9uF,KAAAs+J,qBAOtBt+J,KAAKwK,QAAU,KAQfxK,KAAKo0F,aAAe,KAQpBp0F,KAAKu+J,oBAAsB,KAQ3Bv+J,KAAKw+J,eAAiB,KAStBx+J,KAAKy+J,iBAAmB,KAQxBz+J,KAAKk0F,UAAY,KAEjBl0F,KAAKojC,KAAKgxD,oIAUTA,cAWD,OAVAp0F,KAAKwK,QAAU,oBACfxK,KAAKo0F,aAAeA,aACpBp0F,KAAKk0F,UAAY/F,UAAA,QAEjBnuF,KAAKuvI,kBACLvvI,KAAKw+J,eAAev2G,KAAKjoD,KAAKwK,SAC9BxK,KAAK0+J,kBACL1+J,KAAKoyF,SACLpyF,KAAK2+J,uBAEE3+J,qCAmBP,OAVAA,KAAKwK,QAAU,KACfxK,KAAKo0F,aAAe,KACpBp0F,KAAKu+J,oBAAsB,KAC3Bv+J,KAAKw+J,eAAiB,KACtBx+J,KAAKy+J,iBAAmB,KACxBz+J,KAAKk0F,UAAY,KAEjBl0F,KAAKg2I,iBACLh2I,KAAK63C,UAEE73C,sCAQPA,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAM4tE,iBAAkB5+J,KAAK6+J,6DAQ/C7+J,KAAKy+J,iBAAiBj9G,IAAI+sC,YAAAyC,MAAM4tE,iBAAkB5+J,KAAK6+J,qEAgBvD,OAJA7+J,KAAKu+J,qBAAsB,EAAAzwE,QAAA,SAAEgG,WAAAuB,UAAUC,cAAcwpE,qBACrD9+J,KAAKw+J,gBAAiB,EAAA1wE,QAAA,SAAEgG,WAAAuB,UAAUC,cAAcypE,mBAChD/+J,KAAKy+J,kBAAmB,EAAA3wE,QAAA,SAAEgG,WAAAuB,UAAUC,cAAcspE,kBAE3C5+J,+CAcP,OAFAA,KAAK6+J,0BAA4B7+J,KAAKg/J,mBAAmBtsG,KAAK1yD,MAEvDA,8CAeP,OAFAA,KAAK6+J,0BAA4B,KAE1B7+J,oDAaY,IAAAiU,MAAAjU,KAKMA,KAAKo0F,aAAanwF,IAJ3B,CACZmzB,IAAK,wBACLykH,WAAW,IAIEx2H,KAAK,SAACzf,MACnBqO,MAAKzJ,QAAU5E,KAAKq5J,UACpBhrJ,MAAKirJ,4DAYTl/J,KAAKm/J,UAAW,EAChBn/J,KAAKw+J,eAAev2G,KAAKjoD,KAAKwK,SAE1BxK,KAAKo/J,qBACLp/J,KAAKg/J,kEAcTh/J,KAAKy+J,iBAAiB7nG,YAAYk9B,WAAAuB,UAAUuL,WAAWswC,QACvDlxI,KAAKu+J,oBAAoB3nG,YAAYk9B,WAAAuB,UAAUuL,WAAWxmF,kDAY1D,IAAMilJ,kBAAoBpvE,aAAa3B,aAAA4B,YAAYovE,kBAC7CC,eAAiBv/J,KAAK41B,QACtB4pI,uBAAyBH,oBAAsBE,eAMrD,OAJIC,yBACAvvE,aAAa3B,aAAA4B,YAAYovE,kBAAoBC,gBAG1CC,kcChPf,QAAA15D,WAAAtpG,QAAA,iDACAw8F,gBAAAx8F,QAAA,uTAsBqBijK,yBAQjB,SAAAA,gBAA2D,IAA/C/9D,QAA+C,EAAA78F,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAArC,GAAI66J,YAAiC,EAAA76J,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAnB,GAAIw0F,SAAe,EAAAx0F,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAJ,kIAAIiqF,CAAA9uF,KAAAy/J,eAYvDz/J,KAAK0hG,QAAUA,QAWf1hG,KAAK0/J,YAAcA,YAUnB1/J,KAAKq5F,SAAWA,yHAgBhB,OAAIr5F,KAAK0hG,UAAY1I,gBAAA2I,oBAAoBC,SAC9B5hG,KAAK0/J,YAAY,GAAGn4J,MAGxB,EAAAu+F,MAAA,SAAK9lG,KAAK0/J,YAAa,SAACh+D,SAAD,OAAaA,QAAQi+D,sWCpF3D,IAAAC,4BAAApjK,QAAA,msBAeqBqjK,gCAKjB,SAAAA,uBAAuB,IAAXl/J,KAAW,EAAAkE,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAJ,kIAAIiqF,CAAA9uF,KAAA6/J,sBAOnB7/J,KAAKW,KAAOA,KAeZX,KAAK8/J,mBAAqBF,4BAAAG,4BAA4Bp/J,MAetDX,KAAKuH,KAAO,oIA4BZ,QAAuC,IAA5BvH,KAAK8/J,mBAIhB,OAAO9/J,KAAK8/J,mBAAmBE,SAAShgK,KAAKuH,0CAc7CvH,KAAKuH,KAAOvH,KAAK8/J,mBAAmB1hK,MAAM4B,KAAKuH,0CAhC/C,MAAA,CACIvH,KAAKW,MADT6Q,OAAAuqF,mBAEO/7F,KAAKuH,oZC9DpB,IAAA8+F,gBAAA7pG,QAAA,kCACAyjK,oBAAAzjK,QAAA,iCAYA0jK,iBAAA1jK,QAAA,kMAqBO,IAAMwxB,KAAO,SAACzmB,MAAD,OAAUA,wBASvB,IAAM44J,cAAgB,SAAC54J,MAAD,MAAU,EAAC,EAAA8+F,gBAAA+5D,uBAAsB74J,4CAS9D,IA+Maw4J,sbAA2BM,CAAA,GA/ML,CAE/BnpB,MAAO,CACH8oB,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEXgmF,KAAM,CACFgsD,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEX+1C,MAAO,CACHi8F,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEXuyI,MAAO,CACHP,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEXwyI,SAAU,CACNR,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAIXgvC,MAAO,CACHgjG,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEX06E,eAAgB,CACZs3D,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEXyyI,OAAQ,CACJT,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEX0yI,kBAAmB,CACfV,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEXq/E,QAAS,CACL2yD,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEX2yI,YAAa,CACTX,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEX4yI,oBAAqB,CACjBZ,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEX6yI,WAAY,CACRb,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEX8yI,mBAAoB,CAChBd,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEX+yI,qBAAsB,CAClBf,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEXgzI,iBAAkB,CACdhB,SAAUC,oBAAAK,uBACVliK,MAAO4vB,MAEX+8E,SAAU,CACNi1D,SAAUC,oBAAAK,uBACVliK,MAAO4vB,OAasB,CACjCyhE,QAAS,CACLuwE,SAAUC,oBAAAgB,wBACV7iK,MAAO4vB,MAEXkzI,OAAQ,CACJlB,SAAUC,oBAAAgB,wBACV7iK,MAAO4vB,MAEXmzI,oBAAqB,CACjBnB,SAAUC,oBAAAgB,wBACV7iK,MAAO4vB,MAEXi8G,IAAK,CACD+1B,SAAUC,oBAAAgB,wBACV7iK,MAAO8hK,iBAAAkB,WAEXC,KAAM,CACFrB,SAAUC,oBAAAqB,2BACVljK,MAAO4vB,MAEXuzI,cAAe,CACXvB,SAAUC,oBAAAgB,wBACV7iK,MAAO4vB,MAEXqvF,KAAM,CACF2iD,SAAUC,oBAAAgB,wBAGV7iK,MAAO+hK,eAEXqB,QAAS,CACLxB,SAAUC,oBAAAgB,wBACV7iK,MAAO4vB,MAEXyzI,MAAO,CACHzB,SAAUC,oBAAAgB,wBACV7iK,MAAO4vB,MAEXw/H,IAAK,CACDwS,SAAUC,oBAAAgB,wBACV7iK,MAAO4vB,MAEX0lC,MAAO,CACHssG,SAAUC,oBAAAgB,wBAGV7iK,MAAO+hK,eAEXjS,KAAM,CACF8R,SAAUC,oBAAAgB,wBACV7iK,MAAO4vB,OAcsB,CACjC0zI,KAAM,CACF1B,SAAUC,oBAAAqB,2BACVljK,MAAO4vB,MAEX2zI,WAAY,CACR3B,SAAUC,oBAAAqB,2BACVljK,MAAO4vB,MAKX26E,SAAU,CACNq3D,SAAUC,oBAAA2B,kBACVxjK,MAAO8hK,iBAAA2B,gBAEXlhD,MAAO,CACHq/C,SAAUC,oBAAA6B,kBACV1jK,MAAO8hK,iBAAA6B,gBAEXx+G,IAAK,CACDy8G,SAAUC,oBAAA+B,aACV5jK,MAAO4vB,MAEXm6E,QAAS,CACL63D,SAAUC,oBAAAgC,iBACV7jK,MAAO8hK,iBAAAgC,eAEXh/F,KAAM,CACF88F,SAAUC,oBAAAkC,cACV/jK,MAAO8hK,iBAAAkC,YAEX30D,OAAQ,CACJuyD,SAAUC,oBAAAoC,gBACVjkK,MAAO4vB,MAEXs0I,SAAU,CACNtC,SAAUC,oBAAAqB,2BACVljK,MAAO8hK,iBAAAqC,gBAEXz5D,eAAgB,CACZk3D,SAAUC,oBAAAuC,0BACVpkK,MAAO8hK,iBAAAuC,wBAEX75D,YAAa,CACTo3D,SAAUC,oBAAAuC,0BACVpkK,MAAO8hK,iBAAAuC,mVCpBR,SAAkCC,cACrC,OAAO,EAAAC,UAAA,SAASh7D,qBAAsB,SAACjG,SAAD,OAAwD,IAA3CA,QAAQ1xF,QAAQxD,QAAQk2J,sEA9O/E,QAAAC,eAAAnmK,QAAA,qDAoBO,IAAMmrG,qBAAuB,CAChC3qC,MAAO,CACHhtD,QAAS,CAAC,SACV03F,aAAc,WACdk7D,iBAAiB,GAErB1rB,MAAO,CACHlnI,QAAS,CAAC,SACV03F,aAAc,GACdk7D,iBAAiB,GAErBnzE,QAAS,CACLz/E,QAAS,CAAC,WACV03F,aAAc,GACdk7D,iBAAiB,GAErBj6D,SAAU,CACN34F,QAAS,CAAC,IAAK,WAAY,IAAK,QAAS,IAAK,WAC9C03F,aAAc,cACdk7D,iBAAiB,GAErB5uD,KAAM,CACFhkG,QAAS,CAAC,QACV03F,aAAc,GACdk7D,iBAAiB,GAErB7+F,MAAO,CACH/zD,QAAS,CAAC,SACV03F,aAAc,GACdk7D,iBAAiB,GAErBl6D,eAAgB,CACZ14F,QAAS,CAAC,MAAO,kBACjB03F,aAAc,oBACdk7D,iBAAiB,GAErBh6D,YAAa,CACT54F,QAAS,CAAC,cAAe,OACzB03F,aAAc,iBACdk7D,iBAAiB,GAErBjiD,MAAO,CACH3wG,QAAS,CAAC,QAAS,KAAM,KACzB03F,aAAc,WACdk7D,iBAAiB,GAErBnC,OAAQ,CACJzwJ,QAAS,CAAC,MAAO,SAAU,QAC3B03F,aAAc,YACdk7D,iBAAiB,GAErB95D,eAAgB,CACZ94F,QAAS,CAAC,iBAAkB,OAC5B03F,aAAc,oBACdk7D,iBAAiB,GAErB1B,OAAQ,CACJlxJ,QAAS,CAAC,MAAO,SAAU,MAC3B03F,aAAc,YACdk7D,iBAAiB,GAErBjB,WAAY,CACR3xJ,QAAS,CAAC,WAAY,aAAc,WAAY,SAAU,MAC1D03F,aAAc,0BACdk7D,iBAAiB,GAErBzB,oBAAqB,CACjBnxJ,QAAS,CAAC,KACV03F,aAAc,yBACdk7D,iBAAiB,GAErBr/G,IAAK,CACDvzC,QAAS,CAAC,IAAK,MAAO,SACtB03F,aAAc,SACdk7D,iBAAiB,GAErBlC,kBAAmB,CACf1wJ,QAAS,CAAC,OACV03F,aAAc,uBACdk7D,iBAAiB,GAErBz6D,QAAS,CACLn4F,QAAS,CAAC,KAAM,IAAK,UAAW,IAAK,QACrC03F,aAAc,aACdk7D,iBAAiB,GAErB1/F,KAAM,CACFlzD,QAAS,CAAC,QACV03F,aAAc,UACdk7D,iBAAiB,GAErB34B,IAAK,CACDj6H,QAAS,CAAC,IAAK,IAAK,OACpB03F,aAAc,SACdk7D,iBAAiB,GAErBvB,KAAM,CACFrxJ,QAAS,CAAC,QACV03F,aAAc,UACdk7D,iBAAiB,GAErBrB,cAAe,CACXvxJ,QAAS,CAAC,KACV03F,aAAc,mBACdk7D,iBAAiB,GAErBrC,MAAO,CACHvwJ,QAAS,CAAC,SACV03F,aAAc,GACdk7D,iBAAiB,GAErBvlD,KAAM,CACFrtG,QAAS,CAAC,QACV03F,aAAc,GACdk7D,iBAAiB,GAErBpB,QAAS,CACLxxJ,QAAS,CAAC,UAAW,MACrB03F,aAAc,aACdk7D,iBAAiB,GAErBnB,MAAO,CACHzxJ,QAAS,CAAC,SACV03F,aAAc,WACdk7D,iBAAiB,GAErBjC,YAAa,CACT3wJ,QAAS,CAAC,MACV03F,aAAc,iBACdk7D,iBAAiB,GAErBhC,oBAAqB,CACjB5wJ,QAAS,CAAC,OACV03F,aAAc,yBACdk7D,iBAAiB,GAErB9B,mBAAoB,CAChB9wJ,QAAS,CAAC,OACV03F,aAAc,wBACdk7D,iBAAiB,GAErB5B,iBAAkB,CACdhxJ,QAAS,CAAC,OACV03F,aAAc,sBACdk7D,iBAAiB,GAErB/B,WAAY,CACR7wJ,QAAS,CAAC,MACV03F,aAAc,gBACdk7D,iBAAiB,GAErB7B,qBAAsB,CAClB/wJ,QAAS,CAAC,MACV03F,aAAc,0BACdk7D,iBAAiB,GAErB73D,SAAU,CACN/6F,QAAS,CAAC,MACV03F,aAAc,cACdk7D,iBAAiB,GAErBpV,IAAK,CACDx9I,QAAS,CAAC,OACV03F,aAAc,SACdk7D,iBAAiB,GAErBlvG,MAAO,CACH1jD,QAAS,CAAC,IAAK,IAAK,OAAQ,KAAM,SAClC03F,aAAc,WACdk7D,iBAAiB,GAErBn1D,OAAQ,CACJz9F,QAAS,CAAC,KAAM,UAChB03F,aAAc,YACdk7D,iBAAiB,GAErB1U,KAAM,CACFl+I,QAAS,CAAC,QACV03F,aAAc,UACdk7D,iBAAiB,GAErBv1D,QAAS,CACLr9F,QAAS,CAAC,IAAK,MAAO,KAAM,WAC5B03F,aAAc,aACdk7D,iBAAiB,GAErBlB,KAAM,CACF1xJ,QAAS,CAAC,OAAQ,IAAK,QACvB03F,aAAc,UACdk7D,iBAAiB,GAErBN,SAAU,CACNtyJ,QAAS,CAAC,WAAY,MACtB03F,aAAc,GACdk7D,iBAAiB,GAErBpC,SAAU,CACNxwJ,QAAS,CAAC,YACV03F,aAAc,GACdk7D,iBAAiB,uEASD,CAAC,WAAY,gKCpOrC,IAAAC,UAAA90E,uBAAAvxF,QAAA,mBACAo9G,UAAA7rB,uBAAAvxF,QAAA,mBACAg+H,WAAAzsC,uBAAAvxF,QAAA,oBACAspG,MAAA/X,uBAAAvxF,QAAA,eACAsmK,OAAA/0E,uBAAAvxF,QAAA,gBACAumK,sBAAAh1E,uBAAAvxF,QAAA,4CACA2pG,oBAAA3pG,QAAA,yCAIAw8F,gBAAAx8F,QAAA,kCACAwmK,eAAAj1E,uBAAAvxF,QAAA,8nBASA,IAwCqBymK,yBAMjB,SAAAA,gBAAqC,IAAzBC,mBAAyB,EAAAr+J,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAJ,GAC7B,iIADiCiqF,CAAA9uF,KAAAijK,iBAC5B,EAAAzoC,WAAA,SAAU0oC,oBAGX,MAAM,IAAIhxI,UAAJ,0EAAA1gB,OAAAiiG,QAA+FyvD,sBAczGljK,KAAK0hG,QAAU,GAUf1hG,KAAKq5F,SAAW,GAWhBr5F,KAAK0/J,YAAc,GAEnB1/J,KAAKmjK,wBAAwBD,mBAAmB32I,kIAQhD,OAAO,IAAIy2I,eAAA,QAAchjK,KAAK0hG,QAAS1hG,KAAK0/J,YAAa1/J,KAAKq5F,0DAa1C6pE,oBACpB,IACME,+BAAiCF,mBAAmBzrJ,MA9GnC,KA8GiEm1B,OAAO,SAACzwC,GAAD,OAAOA,IAChGknK,4BAA8BD,+BAFL,GAIzBE,oBAAqB,EAAAR,OAAA,SAAMM,gCAE7BpjK,KAAKujK,iBAAiBF,6BACtBrjK,KAAKwjK,yBAAyBJ,gCAKlCpjK,KAAKyjK,oCAAoCJ,4BAA6BC,qEAUjDA,oBACrB,IAEMI,aAAc,EAAAv9D,oBAAAw9D,0BAAyBL,mBAFxB,IAGfM,YAAcN,mBAFH,GAGXO,qBAAuB,IAAId,sBAAA,QAAqBW,kBAI3B,IAAhBE,aACPC,qBAAqBt8J,KAAK/D,KAAKogK,aAGnC5jK,KAAK0hG,QAAUgiE,YACf1jK,KAAK0/J,YAAYl8J,KAAKqgK,sBAEtB7jK,KAAK8jK,gGAQ2BT,4BAA6BC,oBAC7DtjK,KAAK0hG,QAAU1I,gBAAA2I,oBAAoBC,SACnC5hG,KAAKq5F,SAAWgqE,4BAChBrjK,KAAK0/J,YAAc1/J,KAAK+jK,kBAAkBT,oBAE1CtjK,KAAK8jK,8EAsBSR,oBAId,IAHA,IACIO,qBADEnE,YAAc,GAGXrjK,EAAI,EAAGA,EAAIinK,mBAAmBtmK,OAAQX,IAAK,CAChD,IAAM2nK,aAAeV,mBAAmBjnK,GAClCqnK,aAAc,EAAAv9D,oBAAAw9D,0BAAyBK,cAE7C,QAAoC,IAAzBH,qBAAsC,CAC7C,QAA2B,IAAhBH,YACP,SAGJG,qBAAuB,IAAId,sBAAA,QAAqBW,iBAC7C,CACH,QAA2B,IAAhBA,YAA6B,CACpCG,qBAAqBt8J,KAAK/D,KAAKwgK,cAE/B,SAGJtE,YAAYl8J,KAAKqgK,sBAEjBA,qBAAuB,IAAId,sBAAA,QAAqBW,cAOxD,OAFAhE,YAAYl8J,KAAKqgK,uBAEV,EAAAhB,UAAA,SAASnD,yEAWhB,IAAMuE,iBAAmBjkK,KAAKkkK,4BAEA,EAA1BD,iBAAiBjnK,SACjB,EAAA48G,UAAA,SAASqqD,iBAAkB,SAAClsJ,OACxB,MAAMA,4DAcd,IAAMosJ,sBAAuB,EAAAr+D,MAAA,SAAK9lG,KAAK0/J,YAAa,SAACh+D,SACjD,QAAuB,IAAZA,QACP,OAAO,KAGX,IAAM0iE,aAAe1iE,QAAQ2iE,eAE7B,GAAID,aAGA,OAAOA,aAGX1iE,QAAQ4iE,cAGZ,OAAO,EAAAzB,UAAA,SAASsB,+DAaHd,6BACb,IAAMK,aAAc,EAAAv9D,oBAAAw9D,0BAAyBN,6BAE7C,YAA2B,IAAhBK,aAIJv9D,oBAAAwB,qBAAqB+7D,aAAad,8wBCzSjD,QAAAnpD,iBAAAj9G,QAAA,uDACAyjK,oBAAAzjK,QAAA,wBACAu8F,iBAAAv8F,QAAA,mCACA6pG,gBAAA7pG,QAAA,kCAeA,IAAM+nK,sCACc,gBADdA,kCAEU,YAFVA,gCAGQ,UAHRA,8BAIM,2BAUa,SAACh9J,MAAD,MAAU,CAAC,KAAMA,KAAK,4BASjB,SAACA,MAM3B,MAAO,EALU,EAAA8+F,gBAAAq2C,oBAAmBn1I,KAAK,SAGC,IAAZA,KAAK,oCAYD,SAACA,MACnC,OAAuB,IAAhBA,KAAKvK,OAAe,EAAC,EAAAqpG,gBAAAq2C,oBAAmBn1I,KAAK,KAAO,IAaxD,IAAMi9J,oBAAsB,SAACt8D,WAChC,IAAIu8D,oBAAsBv8D,UAQ1B,MANkB,MAAdA,UACAu8D,oBAAsB,OACD,MAAdv8D,YACPu8D,oBAAsB,SAGnBA,2FAYkB,SAACl9J,MAC1B,IAEIm9J,eAAgB,EAEpB,OAAQn9J,KAAKvK,QACT,KAAK,EAKD,MAAO,CAHK,MACF,EAAAqpG,gBAAA+5D,uBAAsB74J,KAAK,IAETm9J,eAChC,KAAK,EAKD,OAJAA,cAAmC,IAAnBn9J,KAAK,GAAGvK,QAAmC,IAAnBuK,KAAK,GAAGvK,OAIzC,CAHKwnK,oBAAoBj9J,KAAK,KAC3B,EAAA8+F,gBAAA+5D,uBAAsB74J,KAAK,IAETm9J,eAChC,QACI,MAAM,IAAI/nK,MAAM,oDAarB,IAAMgoK,eAAiB,SAACv/H,KAAD,OAAS2zD,iBAAAkkC,MAAM2nC,cAAc9iK,KAAKsjC,4CAkBzD,IAAMy/H,sBAAwB,SAACpjK,KAAM8F,MACxC,IAAK,IAAIlL,EAAI,EAAGA,EAAIkL,KAAKvK,OAAQX,IAAK,CAClC,IAAM+oC,IAAM79B,KAAKlL,GAEjB,OAAQoF,MACJ,KAAK8iK,sCACD,KAAK,EAAAtE,oBAAA6E,wBAAuB1/H,KACxB,SAIJ,OAAOo/H,oBAAoBp/H,KAC/B,KAAKm/H,kCACD,IAAKI,eAAev/H,KAChB,SAGJ,OAAOA,IACX,KAAKm/H,gCACD,IAAI,EAAAtE,oBAAA6E,wBAAuB1/H,MAAQu/H,eAAev/H,KAC9C,SAGJ,OAAOA,IACX,KAAKm/H,8BACD,KAAK,EAAAtE,oBAAA8E,qBAAoB3/H,KACrB,SAGJ,OAAO,EAAAihE,gBAAA+5D,uBAAsBh7H,KACjC,QACI,OAAO,MAInB,OAAO,6EAce,SAAC79B,MAEvB,IAAM4hG,QAAU07D,sBAAsBN,gCAAiCh9J,MAcvE,MAAO,EAbe,EAAAkyG,YAAA,SAClBorD,sBAAsBN,sCAAuCh9J,MAC7D,OAEc,EAAAkyG,YAAA,SACdorD,sBAAsBN,kCAAmCh9J,MACzD,MAO8B4hG,SALnB,EAAAsQ,YAAA,SACXorD,sBAAsBN,8BAA+Bh9J,MACrD,+BAcsB,WAAe,IAAdA,KAAc,EAAA1C,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,GAGlC,OAAoB,IAAhB0C,KAAKvK,OACE,CAHkB,GAQtB,EACH,EAAAqpG,gBAAA+5D,uBAAsB74J,KAAK,6BAWL,WAO1B,IAPyC,IAGrCohG,SACAj1C,MAJuBnsD,KAAc,EAAA1C,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,GAC5B0+C,IAAMh8C,KAAK,GAMRlL,EAAI,EAAGA,EAAIkL,KAAKvK,OAAQX,IACI,MAA7BkL,KAAKlL,GAAG,GAAGkwB,cACXo8E,UAAW,EAAAtC,gBAAAq2C,oBAAmBn1I,KAAKlL,GAAGyE,WACjC8kB,OAAO,IACwB,MAA7Bre,KAAKlL,GAAG,GAAGkwB,gBAClBmnC,OAAQ,EAAA2yC,gBAAA+5D,uBAAsB74J,KAAKlL,GAAGyE,WACjC8kB,OAAO,KAIpB,MAAO,CAAC29B,IAAKolD,SAAUj1C,0tBChQ3B,IAAAsxG,QAAAj3E,uBAAAvxF,QAAA,iBACAg+H,WAAAzsC,uBAAAvxF,QAAA,oBACAo9G,UAAA7rB,uBAAAvxF,QAAA,mBACA6pG,gBAAA7pG,QAAA,kCACA2pG,oBAAA3pG,QAAA,yCACAyoK,gBAAAzoK,QAAA,oBACAu8F,iBAAAv8F,QAAA,omBAYsC,WAClC,GAAoB,KAD6B,EAAAqI,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,IACjC7H,OACL,OAAOioK,gBAAAC,cAAcC,iDAWU,WACnC,GAAoB,KAD8B,EAAAtgK,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,IAClC7H,OACL,OAAOioK,gBAAAC,cAAcE,mBAWtB,IAAM9D,2BAA6B,WACtC,GAAkB,GADmC,EAAAz8J,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,IACrC7H,OACL,OAAOioK,gBAAAC,cAAcG,sFAWtB,IAAMC,0BAA4B,WAAe,IAAd/9J,KAAc,EAAA1C,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,GAC7C,GAAI0C,KAAKvK,OAAS,GAAmB,EAAduK,KAAKvK,OACxB,OAAOioK,gBAAAC,cAAcK,wHAWe,WAAe,IAAdh+J,KAAc,EAAA1C,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,GAChD,GAAoB,IAAhB0C,KAAKvK,QAA8B,EAAduK,KAAKvK,OAC1B,OAAOioK,gBAAAC,cAAcM,8DAWe,WAAe,IAAdj+J,KAAc,EAAA1C,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,GAChD,GAAoB,IAAhB0C,KAAKvK,QAAgC,IAAhBuK,KAAKvK,OAC1B,OAAOioK,gBAAAC,cAAcO,8DAWe,WAAe,IAAdl+J,KAAc,EAAA1C,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,GAChD,GAAoB,IAAhB0C,KAAKvK,QAAgC,IAAhBuK,KAAKvK,OAC1B,OAAOioK,gBAAAC,cAAcQ,yBAkBtB,IAAM9D,kBAAoB,WAAe,IAAdr6J,KAAc,EAAA1C,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,GAC/B8gK,eAAiBL,0BAA0B/9J,MAEjD,GAAIo+J,eACA,OAAOA,eAGX,IAAMC,kBAAmB,EAAAv/D,gBAAA+5D,uBAAsB74J,KAAK,IAEpD,OAAI,EAAAy9J,QAAA,SAAOY,kBACAX,gBAAAC,cAAcW,wBAGL,IAAhBt+J,KAAKvK,QAAgBmpG,oBAAA2/D,SAASt5J,QAAQjF,KAAK,MAAQwxF,iBAAA4f,cAC5CssD,gBAAAC,cAAca,2BADzB,iFAiBqC,WAAe,IAAdx+J,KAAc,EAAA1C,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,GACvC8gK,eAAiBrE,2BAA2B/5J,MAElD,OAAIo+J,iBAIgB,IAAhBp+J,KAAKvK,OACE4kK,kBAAkBr6J,WAD7B,yBAYwB,WAAe,IACnCy+J,aADqBz+J,KAAc,EAAA1C,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,GAGhC,OAAI0C,KAAKvK,OAAS,EACPioK,gBAAAC,cAAce,yBAGzB,EAAArsD,UAAA,SAASryG,KAAM,SAAC69B,MACP,EAAAo1F,WAAA,SAAUp1F,MAAS4gI,eACpBA,aAAef,gBAAAC,cAAcgB,kBAIjCF,mBAAJ,IAaG,IAAMjB,oBAAsB,SAACv/J,OAEhC,IAAKuzF,iBAAAkkC,MAAMkpC,mBAAmBrkK,KAAK0D,OAC/B,OAAO,EAGX,IAAMogH,QAAS,EAAAvf,gBAAA+5D,uBAAsB56J,OAErC,OAAiB,GAAVogH,QAAeA,QAAU,qDAU7B,IAAMk/C,uBAAyB,SAACt/J,OACnC,MAAiB,SAAVA,OACO,MAAVA,OACU,UAAVA,OACU,MAAVA,sFAmBwB,WAAe,IAGvCogK,iBAHyBr+J,KAAc,EAAA1C,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,GAC5B7H,OAAWuK,KAAXvK,OACF2oK,eAAiBL,0BAA0B/9J,MAGjD,GAAIo+J,eACA,OAAOA,eAGX,OAAQ3oK,QACJ,KAAK,EACD,IAAK+nK,oBAAoBx9J,KAAK,IAC1B,OAAO09J,gBAAAC,cAAckB,6BAGzB,MACJ,KAAK,EAGD,GAFAR,kBAAmB,EAAAv/D,gBAAA+5D,uBAAsB74J,KAAK,KAEzCu9J,uBAAuBv9J,KAAK,IAC7B,OAAO09J,gBAAAC,cAAcmB,yBAGzB,GAAuB,IAAnB9+J,KAAK,GAAGvK,SAAiB+nK,oBAAoBx9J,KAAK,IAClD,OAAO09J,gBAAAC,cAAckB,6BAGzB,IAAI,EAAApB,QAAA,SAAOY,kBACP,OAAOX,gBAAAC,cAAcoB,uBAGzB,GAAIV,iBAAmB,EACnB,OAAOX,gBAAAC,cAAcqB,qCAGzB,MAGJ,QACI,MAAM,IAAI5pK,MAAM,0EAqBC,WAAe,IAAd4K,KAAc,EAAA1C,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,GACjC,GAAkB,EAAd0C,KAAKvK,OACL,OAAOioK,gBAAAC,cAAcsB,wBAGzB,IAAK,IAAInqK,EAAI,EAAGA,EAAIkL,KAAKvK,OAAQX,IAC7B,KAAK,EAAAm+H,WAAA,SAAUjzH,KAAKlL,IAChB,OAAO4oK,gBAAAC,cAAcgB,wCAYF,WAAe,IAAd3+J,KAAc,EAAA1C,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,GACnC,OAAoB,IAAhB0C,KAAKvK,OACEioK,gBAAAC,cAAcE,kBAGpBrsE,iBAAAkkC,MAAMwpC,iBAAiB3kK,KAAKyF,KAAK,SAAtC,EACW09J,gBAAAC,cAAcwB,0CAgBI,WAAe,IAAdn/J,KAAc,EAAA1C,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAP,GACrC,GAAoB,IAAhB0C,KAAKvK,QAAgC,IAAhBuK,KAAKvK,OAC1B,OAAOioK,gBAAAC,cAAcQ,wBASzB,IAX4C,IAOxC/8D,SACAj1C,MAHGy1C,QALqChN,eAK1B50F,KAL0B,GAAA,GAWnClL,EAAI,EAAGA,EAAIkL,KAAKvK,OAAQX,IACH,iBAAfkL,KAAKlL,GAAG,KACkB,MAA7BkL,KAAKlL,GAAG,GAAGkwB,cACXo8E,SAAWphG,KAAKlL,GAAGyE,WAAW8kB,OAAO,GACD,MAA7Bre,KAAKlL,GAAG,GAAGkwB,gBAClBmnC,MAAQnsD,KAAKlL,GAAGyE,WAAW8kB,OAAO,KAK9C,KAAK,EAAA40G,WAAA,SAAUrxB,SACX,OAAO87D,gBAAAC,cAAcgB,eAGzB,GAAIv9D,WACAA,UAAW,EAAAtC,gBAAA+5D,uBAAsBz3D,WAE7B,EAAAq8D,QAAA,SAAOr8D,WACP,OAAOs8D,gBAAAC,cAAcW,wBAI7B,GAAInyG,QACAA,OAAQ,EAAA2yC,gBAAA+5D,uBAAsB1sG,QAE1B,EAAAsxG,QAAA,SAAOtxG,QACP,OAAOuxG,gBAAAC,cAAcyB,qBAI7B,GAAoB,IAAhBp/J,KAAKvK,OAAc,CACnB,GAAgB,MAAZ2rG,SACA,OAAOs8D,gBAAAC,cAAcW,wBAClB,GAAa,MAATnyG,MACP,OAAOuxG,gBAAAC,cAAcyB,8WCpXjC,IAAMC,YAAc,mBAOdC,mBAAkB,GAAAr1J,OAAMo1J,YAAN,WASX1B,cAAgB,CACzBC,gBAAe,GAAA3zJ,OAAKq1J,mBAAL,qCACfzB,kBAAiB,GAAA5zJ,OAAKq1J,mBAAL,mCACjBC,eAAc,GAAAt1J,OAAKq1J,mBAAL,oCACdE,iBAAgB,GAAAv1J,OAAKq1J,mBAAL,sCAChBxB,uBAAsB,GAAA7zJ,OAAKq1J,mBAAL,mCACtBG,yBAAwB,GAAAx1J,OAAKq1J,mBAAL,sCACxBL,wBAAuB,GAAAh1J,OAAKq1J,mBAAL,qCACvBZ,uBAAsB,GAAAz0J,OAAKq1J,mBAAL,oCACtBtB,sBAAqB,GAAA/zJ,OAAKq1J,mBAAL,mCACrBrB,wBAAuB,GAAAh0J,OAAKq1J,mBAAL,2CACvBpB,wBAAuB,GAAAj0J,OAAKq1J,mBAAL,qCACvBnB,wBAAuB,GAAAl0J,OAAKq1J,mBAAL,qCACvBd,sBAAqB,GAAAv0J,OAAKo1J,YAAL,mEACrBf,wBAAuB,GAAAr0J,OAAKo1J,YAAL,+BACvBD,qBAAoB,GAAAn1J,OAAKo1J,YAAL,4BACpBN,uBAAsB,GAAA90J,OAAKo1J,YAAL,8BACtBR,6BAA4B,GAAA50J,OAAKo1J,YAAL,yCAC5BL,qCAAoC,GAAA/0J,OAAKo1J,YAAL,0CACpCV,eAAc,GAAA10J,OAAKo1J,YAAL,sBACdP,yBAAwB,GAAA70J,OAAKo1J,YAAL,8FACxBK,qCAAoC,GAAAz1J,OAAKo1J,YAAL,kFACpCF,eAAc,GAAAl1J,OAAKo1J,YAAL,iOC5ClB,IAAAtsC,QAAAvsC,uBAAAvxF,QAAA,iBACA47F,MAAArK,uBAAAvxF,QAAA,eACA0qK,OAAAn5E,uBAAAvxF,QAAA,gBACAk1G,UAAA3jB,uBAAAvxF,QAAA,mBACA2qK,SAAAp5E,uBAAAvxF,QAAA,kBACA4qK,iBAAA5qK,QAAA,qBAKA6qK,gBAAA7qK,QAAA,wYAGA,IAAM8qK,qBAAuB,CAAC,KAAM,KAAM,KAAM,MAQ3BC,6BAMjB,SAAAA,kBAAY7lE,wIAAS5S,CAAA9uF,KAAAunK,mBASjBvnK,KAAKwnK,kBAAoB,GASzBxnK,KAAKynK,iBAAmB,GASxBznK,KAAK0nK,gBAAkB,GAEvB1nK,KAAK00F,MAAMgN,8HAUTA,SACF,IAAMimE,QAAS,EAAAj2D,UAAA,SAAShQ,QAAQnmD,cAAc9jC,MAAM,KAAM,IAE1DzX,KAAKwnK,mBAAoB,EAAAN,OAAA,SAAMS,QAC/B3nK,KAAK0nK,gBAAkB1nK,KAAK4nK,wBAAwBD,QACpD3nK,KAAKynK,iBAAmBznK,KAAK6nK,yBAAyBF,yDAWjCjmE,SACrB,OAAiE,KAA7D,EAAAylE,SAAA,SAAQC,iBAAAU,kBAAkBt7J,QAAQxM,KAAK0nK,kBAChC,EAAAh2D,UAAA,SAAShQ,QAAS1hG,KAAKwnK,mBAG3B9lE,QAAQlvF,OAAO,EAAGkvF,QAAQ1kG,OAAS,mDAWtB0kG,SACpB,IAAMqmE,cAAe,EAAAztC,QAAA,SAAO54B,SAE5B,OAAI,EAAAtJ,MAAA,SAAKgvE,iBAAAY,kBAAmBD,cACjBX,iBAAAY,kBAAkBD,eAGuB,IAAhDT,qBAAqB96J,QAAQu7J,cACtBX,iBAAAa,kBAAkBC,iBAGR,MAAjBH,aACOX,iBAAAa,kBAAkBE,YAGwC,IAAjEJ,aAAav7J,QAAQ66J,gBAAAe,wCAAiDL,aAAa/qK,OAAS,EACrFoqK,iBAAAa,kBAAkBI,gBAGN,IAAnB3mE,QAAQ1kG,OACDoqK,iBAAAa,kBAAkBK,eAGtBlB,iBAAAa,kBAAkBE,qrBCnH1B,IAAMH,kBAAoB,CAC7BO,GAAI,qBACJC,KAAM,UACNC,GAAI,QACJC,GAAI,6DAUD,IAAMZ,iBAAmB,CAC5BQ,eAAgB,gBAChBJ,iBAAkB,kBAClBG,gBAAiB,gBACjBF,WAAY,iBAQHF,4aAAiB5H,CAAA,6CAEvB2H,sVC7BwB,CAC3BtwD,QAAS,UACT4D,UAAW,YACXC,WAAY,mCAUY,CASxB7Q,MAAO,QASPC,KAAM,OAQNkM,QAAS,UAST7P,QAAS,UAUT2b,MAAO,QAUPC,OAAQ,SAUR7W,KAAM,OAUNsS,QAAS,UAUTG,SAAU,WAWVqE,QAAS,+BAUc,CASvBiK,0CAA2C,IAU3CpN,gEAAiE,IAUjEmI,uCAAwC,EAUxCF,qCAAsC,GAWtCd,8DAA+D,SAW/D45B,wDAAyD,SAUzD/3B,oDAAqD,SAUrD2zB,6CAA8C,IAY9CjyB,6BAA8B,GAS9B/G,sBAAuB,IASvB+C,UAAW,YASX7G,uBAAwB,GASxBkN,qBAAsB,GAStBk8C,0BAA2B,0BAUL,CAStBp3D,OAAQ,OASRpB,oBAAqB,MASrBT,YAAa,sCAUuB,CACpCk5D,MAAO,CACHn4C,OAAQ,IACRC,QAAQ,EACRW,OAAQ,IAEZw3C,OAAQ,CACJp4C,OAAQ,IACRC,QAAQ,EACRW,OAAQ,IAEZV,MAAO,CACHF,OAAQ,IACRC,QAAQ,EACRW,OAAQ,SAEZT,MAAO,CACHH,OAAQ,IACRC,QAAQ,EACRW,OAAQ,8BAWW,CACvBy3C,SAAU,IACVprD,IAAK,IACLqrD,OAAQ,IACRC,OAAQ,IACRC,UAAW,sTCjV6B,oCAQL,+CASS,4CASD,iPC5Bd,CAO7BC,2BAA4B,IAQ5BC,2BAA4B,IAQ5BC,iCAAkC,IAUlCnpD,+BAAgC,EAUhC6C,yBAA0B,IAQ1BumD,wBAAyB,IAEzBt4C,wBAAyB,CACrBG,KAAM,IACNC,KAAM,KACNH,KAAM,4CAW+B,CASzCxS,SAAU,MAUVlD,UAAW,MAUXguD,MAAO,oCAUyB,wWC1GK,CACrC1nE,SAAU,WACV2nE,OAAQ,UAQL,IAAMC,mBAAqB,CAC9BC,SAAU,CACNC,WAAY,mCACZC,QAAS,gCACTC,UAAW,mCAEfC,OAAQ,CACJC,QAAS,8BACTC,MAAO,4EASR,IAAMC,4BAA8Bp/I,OAAOrW,OAAOi1J,mBAAmBC,iHAO9B,CAC1CjvE,QAAS,kBACTyvE,MAAO,wDAQiC,CACxCH,QAAS,UACTI,UAAW,YACXH,MAAO,qCAQwB,CAC/BI,WAAY,MACZC,YAAa,QACbC,UAAW,OACXC,UAAW,yPC1DY,CAUvB5hB,OAAQ,SAWRC,QAAS,oCAOmB,sDAMG,CAC/Bpb,OAAQ,IACR0oB,MAAO,IACPwH,qBAAsB,kBAOL,CAEjBO,cAAe,GACfhB,QAAS,EACTC,IAAK,EACLC,IAAK,iBAOU,CACfL,EAAG,EACHC,EAAG,iKC3DoB,CAOvBniB,4BAA6B,KAc7B1tB,mCAAoC,gLCfnB,CAQjB7Y,aAAc,eAOdrf,eAAgB,iBAOhBw1E,yBAA0B,2BAW1B9uE,kBAAmB,oBAYnBvE,oBAAqB,sBAOrBszE,0BAA2B,4BAW3B1iB,aAAc,eAYd72D,kBAAmB,oBASnBw5E,oBAAqB,sBASrBC,oBAAqB,sBAWrBh9D,gBAAiB,kBASjBY,yBAA0B,2BAS1BkF,gCAAiC,kCAUjCvV,mBAAoB,qBAUpB1E,gBAAiB,kBASjBgC,YAAa,cASb+Y,mBAAoB,qBASpBg0C,UAAW,YASXqiB,gBAAiB,kBASjB31E,cAAe,gBAOf6gD,qBAAsB,uBAOtBmS,gBAAiB,kBAOjB4W,iBAAkB,mBAOlB3W,cAAe,gBASf2iB,aAAc,eAOdzzE,wBAAyB,0BAOzB+wD,eAAgB,iBAOhBC,gBAAiB,kBAOjB5wD,eAAgB,iBAOhBszE,eAAgB,iBAShBC,gBAAiB,kBAOjB1iB,iBAAkB,mBAOlBC,mBAAoB,qBAUpB0iB,QAAS,UAOT3xB,YAAa,cASb2O,cAAe,wCAGW,CAQ1B/gD,QAAS,UASTwX,SAAU,WASVkF,eAAgB,iBAShBb,QAAS,UASTxJ,SAAU,WASVmV,cAAe,4LCvXnB,IAAAjgC,YAAA/xF,QAAA,gBACAw8F,gBAAAx8F,QAAA,oBAUa2kG,kBAAoB,CAC7BC,eAAgB,gBAChB4pE,kBAAmB,kBACnBC,qBAAsB,qBACtBC,4BAA6B,2BAC7BC,kBAAmB,kBACnB7lE,iBAAkB,iBAClB8lE,6BAA8B,aAC9B7S,YAAa,aACb8S,aAAc,cACdplB,MAAO,QACP3vC,iBAAkB,mBAYTg1D,mBAAqB,CAC9B,CACI3qK,mDAAwBslJ,MACxBzxG,aAAc,UACd+2H,YAAa,cACb9pK,KAAM,SACN+pK,qBAAsBj9E,YAAAyC,MAAMs3D,UAC5BmjB,WAAY,CACR,CACIC,aAAc,UACdlmK,MAAO,WAEX,CACIkmK,aAAc,UACdlmK,MAAO,WAEX,CACIkmK,aAAc,YACdlmK,MAAO,eAInB,CACI7E,KAAMwgG,kBAAkBmV,iBACxB9hE,aAAc,SACd+2H,YAAa,+BACb9pK,KAAM,SACN+pK,qBAAsB,KACtBC,WAAY,CACR,CACIC,aAAc,oBACdlmK,MAAO,UAEX,CACIkmK,aAAc,kBACdlmK,MAAO,UAInB,CACI7E,KAAMwgG,kBAAkBC,eACxB5sD,aAAc,UACd+2H,YAAa,iBACb9pK,KAAM,SACN+pK,qBAAsB,KACtBC,WAAY,CACR,CACIC,aAAc,UACdlmK,MAAO,WAEX,CACIkmK,aAAc,aACdlmK,MAAO,YAInB,CACI7E,KAAMwgG,kBAAkB+pE,4BACxB12H,aAAc,aACd+2H,YAAa,4CACbI,KAAM,gGACNlqK,KAAM,SACN+pK,qBAAsB,KACtBC,WAAY,CACR,CACIC,aAAc,aACdlmK,MAAO,cAEX,CACIkmK,aAAc,MACdlmK,MAAO,OAEX,CACIkmK,aAAc,KACdlmK,MAAO,QAInB,CACI7E,KAAMwgG,kBAAkBiqE,6BACxB52H,aAAc,UACd+2H,YAAa,oDACb9pK,KAAM,SACN+pK,qBAAsB,KACtBC,WAAY,CACR,CACIC,aAAc,gBACdlmK,MAAO,mDAEX,CACIkmK,aAAc,gBACdlmK,MAAO,mBAEX,CACIkmK,aAAc,wBACdlmK,MAAO,yBAEX,CACIkmK,aAAc,cACdlmK,MAAO,eAEX,CACIkmK,aAAc,UACdlmK,MAAO,aAInB,CACI7E,KAAMwgG,kBAAkB8pE,qBACxBz2H,aAAc,WACd+2H,YAAa,+BACb9pK,KAAM,SACN+pK,qBAAsB,KACtBC,WAAY,CACR,CACIC,aAAc,SACdlmK,MAAO,UAEX,CACIkmK,aAAc,WACdlmK,MAAO,YAEX,CACIkmK,aAAc,QACdlmK,MAAO,WAInB,CACI7E,KAAMwgG,kBAAkBkqE,aACxB72H,aAAc,MACd+2H,YAAa,6BACbI,KAAM,6JACNlqK,KAAM,SACN+pK,qBAAsB,KACtBC,WAAY,CACR,CACIC,aAAc,MACdlmK,MAAO,OAEX,CACIkmK,aAAc,KACdlmK,MAAO,QAInB,CACI7E,KAAMwgG,kBAAkBmE,iBACxB9wD,aAAc,QACd+2H,YAAa,iBACbI,KAAM,sEACNlqK,KAAM,SACN+pK,qBAAsB,KACtBC,WAAY,CACR,CACIC,aAAc,aACdlmK,MAAO,QAEX,CACIkmK,aAAc,cACdlmK,MAAO,WAInB,CACI7E,KAAMwgG,kBAAkBo3D,YACxB/jH,aAAc,UACd+2H,YAAa,cACbI,KAAM,2CACNlqK,KAAM,SACN+pK,qBAAsBj9E,YAAAyC,MAAMq3D,mBAC5BojB,WAAY,CACR,CACIC,aAAc,UACdlmK,MAAO,WAEX,CACIkmK,aAAc,MACdlmK,MAAO,OAEX,CACIkmK,aAAc,OACdlmK,MAAO,GAEX,CACIkmK,aAAc,OACdlmK,MAAO,GAEX,CACIkmK,aAAc,OACdlmK,MAAO,GAEX,CACIkmK,aAAc,QACdlmK,MAAO,IAEX,CACIkmK,aAAc,QACdlmK,MAAO,IAEX,CACIkmK,aAAc,QACdlmK,MAAO,MAInB,CACI7E,KAAMwgG,kBAAkBgqE,kBACxB32H,aAAc,IACd+2H,YAAa,qBACbI,KAAM,uEACNlqK,KAAM,SACN+pK,qBAAsBj9E,YAAAyC,MAAMw5E,0BAC5BiB,WAAY,CACR,CACIC,aAAc,sBACdlmK,MAAOwzF,gBAAA4yE,mBAAmBC,UAE9B,CACIH,aAAc,iCACdlmK,MAAOwzF,gBAAA4yE,mBAAmBE,aAE9B,CACIJ,aAAc,kBACdlmK,MAAOwzF,gBAAA4yE,mBAAmBG,aAItC,CACIprK,KAAMwgG,kBAAkB6pE,kBACxBx2H,aAAc,IACd+2H,YAAa,oBACbI,KAAM,oEACNlqK,KAAM,SACN+pK,qBAAsBj9E,YAAAyC,MAAMu5E,yBAC5BpsH,KAAM,MACN6tH,kBARJ,SAQsBC,QACd,IAAMC,OAAS/gH,WAAW8gH,QAE1B,OAAQzsJ,OAAO6jD,MAAM6oG,SAAoB,EAATA,sUC1QxB,CAChBjtD,oBAAqB,KACrBO,oBAAqB,GACrB2sD,yBAA0B,KAC1Btb,oBAAqB,EAAI,GACzBjoC,sBAAuB,GACvBwjD,2BAA4B,IAC5B9lD,oBAAqB,EAAI,KACzBgG,sBAAuB,EAAI,GAC3B+/C,2BAA4B,IAC5BC,yBAA0B,EAAI,KAC9BC,2BAA4B,EAAI,IAChCC,2BAA4B,oBAUX,CACjBC,qBAAsB,yBACtBloB,kBAAmB,UACnBrnB,WAAY,QACZ0nC,cAAe,6DACf8H,SAAU,oEACVC,kBAAmB,4BACnBC,GAAI,OACJzvC,WAAY,MACZgpC,mBAAoB,aACpBM,iBAAkB,yBAClBoG,QAAS,mBACT1C,WAAY,iCAUiB,CAS7B2C,gBAAiB,QASjBnqB,gBAAiB,KASjBoqB,wBAAyB,8BAYE,yBASD,8TC7FC,CAC3BxyE,SAAU,WACVyF,MAAO,2BAYc,CAErBxB,aAAc,cACdC,cAAe,eACfuuE,WAAY,YACZC,YAAa,aACbtuE,MAAO,QACPP,OAAQ,SACR+B,IAAK,MACLrB,QAAS,SACTE,UAAW,WAEXQ,aAAc,iBACdC,QAAS,YACTC,aAAc,iBACdH,WAAY,eACZX,UAAW,cAEXM,WAAY,YACZG,SAAU,UACVD,YAAa,aACbE,WAAY,YAEZK,GAAI,KACJE,GAAI,KACJqtE,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJttE,GAAI,KACJutE,GAAI,KACJC,GAAI,KACJC,IAAK,MACLC,IAAK,MACLC,IAAK,MAELztE,UAAW,sCAUiB,CAE5BtB,MAAO,GACPP,OAAQ,GACR+B,IAAK,EACLrB,QAAS,GACTE,UAAW,GAEXQ,aAAc,IACdC,QAAS,IACTC,aAAc,IACdH,WAAY,IAEZL,WAAY,GACZG,SAAU,GACVD,YAAa,GACbE,WAAY,GAEZK,GAAI,IACJE,GAAI,IACJqtE,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJttE,GAAI,IACJutE,GAAI,IACJC,GAAI,IACJC,IAAK,IACLC,IAAK,IACLC,IAAK,IAELztE,UAAW,gCAMmB,CAC9B4rE,SAAU,WACVC,YAAa,eACbC,UAAW,oCAUmB,CAC9B5mE,KAAM,OACNwoE,OAAQ,SACR3oE,MAAO,kCAYqB,CAC5BrH,WAAY,EACZE,aAAc,EACdE,YAAa,+BAUkB,CAC/BsF,MAAO,QACPJ,QAAS,UACTT,KAAM,OACNO,MAAO,QACPN,MAAO,QACPgB,KAAM,OACNd,SAAU,WACVf,SAAU,WACVU,SAAU,0JCpJK,CACfnT,MAAO,EACPy+E,KAAM,EACNC,QAAS,EACTC,MAAO,EACPC,MAAO,6PCH4B,CAAC,EAAG,gCASP,CAMhC9rB,SAAU,EAOVC,UAAW,EAOXC,UAAW,0CAU+B,CAM1CsB,YAAa,EAObD,aAAc,2QCpDoB,sBASd,CAQpBjsB,OAAQ,SASRF,OAAQ,SAWRG,UAAW,yDAUoC,2BAOrB,CAC1B2C,IAAK,MACLC,KAAM,0PCxD2C,oCASd,CACnCz6G,EAAG,IACHC,EAAG,GACHjgB,EAAG,GACHH,EAAG,IACHD,EAAG,IACHtC,EAAG,IACHwC,EAAG,IACHG,EAAG,IACHF,EAAG,8KCzBP,QAAAsuK,iBAAAxxK,QAAA,2NAaO,IAAMokG,WAAa,CACtBswC,OAAQ,SACR32C,SAAU,WACV66C,mBAAoB,uBACpB64B,aAAc,eACdC,kBAAmB,oBACnBC,4BAA6B,iCAC7BC,eAAgB,SAChBC,QAAS,SACTlsD,SAAU,WACVzK,QAAS,UACT42D,SAAU,WACVC,SAAU,WACVzP,oBAAqB,wBACrBC,kBAAmB,eACnByP,kBAAmB,oBACnBntE,mBAAoB,aACpBotE,QAAS,UACTnzD,UAAW,YACXozD,YAAa,cACb7tE,OAAQ,SACR8tE,YAAa,cACbC,cAAe,gBACfC,eAAgB,gBAChBC,WAAY,aACZhjE,QAAS,UACTijE,OAAQ,SACRhjE,KAAM,OACN5G,KAAM,OACNU,aAAc,iBACdmpE,aAAc,cACdC,QAAS,UACTC,SAAU,WACVC,KAAM,OACNC,eAAgB,gBAChBh1J,KAAM,OACNi1J,eAAgB,gBAChBC,eAAgB,iBAChBC,uBAAwB,0BACxBC,uBAAwB,0BACxBj0D,WAAY,aACZk0D,OAAQ,SACRC,KAAM,OACN1qE,MAAO,QACPgnD,OAAQ,SACR2jB,QAAS,UACTC,QAAS,UACT1jE,MAAO,QACP+jC,yBAA0B,8BAC1BO,gCAAiC,mCACjCF,8BAA+B,iCAC/BxE,yBAA0B,4BAC1BsE,6BAA8B,iCAC9BJ,oBAAqB,yBACrBE,eAAgB,oBAChBK,gCAAiC,mCACjCvE,2BAA4B,8BAC5BqE,gCAAiC,mCACjCI,uBAAwB,2BACxB/E,qBAAsB,yBACtB+F,uBAAwB,wBACxBf,mBAAoB,wBACpBC,kBAAmB,uBACnBR,uBAAwB,4BACxBjE,mBAAoB,uBACpBN,WAAY,eACZikC,MAAO,QACPC,eAAgB,iBAChBj6B,qBAAsB,uBACtBmS,gBAAiB,kBACjB4W,iBAAkB,qBAClB3W,cAAe,gBACf9wD,wBAAyB,0BACzByzE,aAAc,eACdvzE,YAAa,cACb04E,cAAe,gBACfC,aAAc,eACdz4E,eAAgB,iBAChBszE,eAAgB,iBAChBC,gBAAiB,kBACjB1iB,iBAAkB,mBAClB6nB,KAAM,OACNC,eAAgB,gDAUb,IAAMC,IAAM,CACfC,cAAe,kBACfj7B,wBAAyB,yBACzBk7B,eAAgB,iBAChBC,aAAc,eACdC,mBAAoB,qBACpBC,oBAAqB,sBACrBC,oBAAqB,sBACrBC,sBAAuB,wBACvBn7E,SAAU,WACVo7E,MAAO,QACPn2E,QAAS,UACTo2E,QAAS,UACT1hF,IAAK,MACL2hF,eAAgB,iBAChBpB,OAAQ,SACRqB,eAAgB,iBAChBxuE,SAAU,WACVyuE,qBAAsB,0BACtBC,MAAO,QACPC,UAAW,YACXC,QAAS,2BASb,IA0BM57E,waAAa+qE,CAAA,IAzBY,EAAA2N,YAAA,SAAWptE,WAAY,SAACp7F,OAC/C,MAAA,IAAAgM,OAAWhM,UAYK,EAAAwoK,YAAA,SAAWmC,IAAK,SAAC3qK,OACjC,MAAA,IAAAgM,OAAWhM,UAyBN6vF,UAAY,CACrBuL,WAAAA,WACAuvE,IAAAA,IACA76E,cAAAA,wSC7KkB,CAClB,OACA,SACA,QACA,oBACA,2BACA,8CAQuB,wBAOC,2BAOA,uBAOA,oKCnCD,CACvBnF,iBAAkB,mBAClBmvE,iBAAkB,mBAClB6R,mBAAoB,qBACpBC,eAAgB,iBAChBxT,WAAY,kJCVhB,IAAAyT,OAAA70K,QAAA,0BACA80K,QAAA90K,QAAA,0BACA+0K,QAAA/0K,QAAA,4BAEaypJ,MAAQ,CACjBurB,QAASH,OAAAI,cACTzU,QAASsU,QAAAI,cACTC,UAAWJ,QAAAK,+QCFM,CACjBC,gBAAiB,0BACjBC,mBAAoB,0BACpBC,WAAY,0BACZC,kBAAmB,yBACnBC,YAAa,0BACbC,iBAAkB,wBAClBC,oBAAqB,wBACrBC,UAAW,wBACXC,eAAgB,wBAChBC,QAAS,uBACTC,QAAS,sBACTC,YAAa,2BACbC,WAAY,oBACZC,oBAAqB,wBACrBC,YAAa,2BACbC,SAAU,wBACVC,YAAa,qBACbC,WAAY,uBACZC,IAAK,2BACLC,OAAQ,2BACRC,MAAO,2BACPC,SAAU,2BACVC,YAAa,mKC5BjB,IAAAC,OAAA52K,QAAA,YAYa62K,iBAAmB,CAO5BC,oCAAqC,EASrCpc,qBAAsBkc,OAAAra,MAAM8Y,gBAS5Bhb,yBAA0Buc,OAAAra,MAAM8Y,gBAShCxa,qBAAsB+b,OAAAra,MAAM8Y,gBAS5B1a,oBAAqBic,OAAAra,MAAM8Y,gBAS3B9a,wBAAyBqc,OAAAra,MAAM8Y,gBAS/Bva,oBAAqB8b,OAAAra,MAAM8Y,gBAS3Bza,uBAAwBgc,OAAAra,MAAM8Y,gBAS9B5a,2BAA4Bmc,OAAAra,MAAM8Y,gBASlCta,uBAAwB6b,OAAAra,MAAM8Y,gBAS9B7b,UAAU,EAQVI,YAAa,GAQbN,WAAY,GAQZvoB,OAAQ,GASRmnB,iBAAkB,IASlBmH,iCAAkC,GASlCD,+BAAgC,GAUhC2X,cAAe,EASfpe,8BAA+B,EAS/BF,8BAA+B,EAQ/Bue,2BAA4B,EAQ5B3gB,UAAW,0BASXyB,cAAe8e,OAAAra,MAAMka,MASrB1e,kBAAmB6e,OAAAra,MAAM0Z,WASzBje,cAAe4e,OAAAra,MAAMka,MAQrBhd,MAAO,6MC/OX,IAAAmd,OAAA52K,QAAA,YAQai3K,mBAAqB,CAS9B5jB,yBAA0BujB,OAAAra,MAAMwZ,QAShC3iB,0BAA2BwjB,OAAAra,MAAMwZ,QAQjCviB,sBAAuB,GAQvBC,eAAgB,EAQhBS,sBAAuB0iB,OAAAra,MAAMka,MAS7BnhB,mBAAoBshB,OAAAra,MAAMga,IAS1BphB,uBAAwByhB,OAAAra,MAAMia,OAS9BphB,qBAAsBwhB,OAAAra,MAAM8Y,gBAS5BhgB,yBAA0BuhB,OAAAra,MAAM+Y,mBAShC3f,mCAAoCihB,OAAAra,MAAMga,IAS1CjkB,aAAcskB,OAAAra,MAAMuZ,QAQpB9hB,UAAW,GAQXC,mBAAoB,GAQpBrB,cAAegkB,OAAAra,MAAMkZ,YAQrB5iB,eAAgB+jB,OAAAra,MAAM+Z,WAQtBnjB,KAAMyjB,OAAAra,MAAMkZ,YASZyB,uCAAuC,EAQvC3kB,8BAA+BqkB,OAAAra,MAAM+Z,kNCjKzC,IAAAM,OAAA52K,QAAA,YAQam3K,YAAc,CAQvB1b,cAAemb,OAAAra,MAAMoa,YAQrBnb,mBAAoBob,OAAAra,MAAMoa,YAQ1BS,WAAYR,OAAAra,MAAM8a,SASlBjZ,aAAcwY,OAAAra,MAAM6Z,SASpB/X,aAAcuY,OAAAra,MAAM6Z,SAUpBkB,iBAAkBV,OAAAra,MAAMga,IAQxBpmB,SAAUymB,OAAAra,MAAM6Z,SAQhB7lB,SAAUqmB,OAAAra,MAAM6Z,SAQhBmB,uBAAwB,EAQxBC,mBAAoB,GAQpBrhB,mBAAoBygB,OAAAra,MAAMoa,YAQ1B5f,aAAc6f,OAAAra,MAAM4Z,YAQpBzf,aAAckgB,OAAAra,MAAM4Z,YAQpB5a,iBAAkBqb,OAAAra,MAAM8Z,YAQxBnZ,oBAAqB0Z,OAAAra,MAAM8Z,YAQ3BznB,2BAA4BgoB,OAAAra,MAAM6Z,SAQlCzmB,cAAeinB,OAAAra,MAAM6Z,SAQrB5mB,OAAQonB,OAAAra,MAAMka,MAQd94C,IAAKi5C,OAAAra,MAAM8Y,gBAQXz3C,KAAMg5C,OAAAra,MAAMga,IAQZtmB,aAAc2mB,OAAAra,MAAM0Z,WASpBzY,UAAWoZ,OAAAra,MAAM6Z,0NCvLQ,CAOzB5Z,eAAgB,EAQhBC,aAAc,EAcdF,MAAO,CACH15F,EAAG,eACH40G,IAAM,eACNC,IAAM,eACNC,IAAM,eACNC,IAAM,eACNC,IAAM,eACNC,IAAM,eACNC,IAAM,eACNC,IAAM,eACNC,IAAM,eACNC,IAAO,eACPC,KAAO,eACPC,KAAO,eACPC,KAAO,eACPC,KAAO,eACPC,KAAO,eACPC,KAAO,eACPC,KAAO,eACPC,KAAO,eACPC,KAAO,eACPC,IAAO,eACPC,KAAO,eACPC,KAAO,eACPC,KAAO,eACPC,KAAO,eACPC,KAAO,+JC7Df,IAAArC,OAAA52K,QAAA,YAQak5K,gBAAkB,CAQ3BC,qBAAsBvC,OAAAra,MAAMka,MAQ5B2C,eAAgBxC,OAAAra,MAAMka,MAQtB4C,kBAAmBzC,OAAAra,MAAMka,MAQzB6C,gBAAiB1C,OAAAra,MAAM2Z,oBAQvBqD,gBAAiB3C,OAAAra,MAAM0Z,gNChD3B,IAAAuD,WAAAx5K,QAAA,uBACAy5K,aAAAz5K,QAAA,yBACA05K,OAAA15K,QAAA,mBACA25K,SAAA35K,QAAA,qBACA45K,UAAA55K,QAAA,sBAOao1K,gBAAkB,CAC3BrpB,UAAW,yBACXqK,WAAYojB,WAAA3C,iBACZvkB,aAAcmnB,aAAAxC,mBACdzzE,MAAOk2E,OAAAvC,YACP7a,QAASqd,SAAAE,cACTC,UAAWF,UAAAV,uUCZM,CACjB7B,SAAU,qBACVtB,QAAS,2BACTgE,QAAS,2BACTC,QAAS,2BACTC,QAAS,2BACTC,mBAAoB,2BACpBC,WAAY,2BACZC,KAAM,yBACNC,SAAU,yBACVC,SAAU,yBACVC,SAAU,yBACVtE,WAAY,sBACZuE,qBAAsB,4BACtBC,oBAAqB,2BACrBC,qBAAsB,4BACtB1E,YAAa,yBACb2E,aAAc,uBACdnE,OAAQ,2BACRoE,OAAQ,2BACRC,OAAQ,2BACRC,OAAQ,2BACRC,OAAQ,2BACRC,cAAe,uBACfzE,IAAK,2BACL0E,SAAU,2BACVC,SAAU,2BACVxE,SAAU,2BACVyE,SAAU,2BACVC,SAAU,2BACVC,SAAU,2BACV5E,MAAO,2KCpCX,IAAAG,OAAA52K,QAAA,YAEa62K,iBAAmB,CAC5BC,oCAAqC,EACrCpc,qBAAsBkc,OAAAra,MAAMqe,OAC5BvgB,yBAA0Buc,OAAAra,MAAMia,OAChC3b,qBAAsB+b,OAAAra,MAAMwe,OAC5BpgB,oBAAqBic,OAAAra,MAAM+d,SAC3B/f,wBAAyBqc,OAAAra,MAAM8d,SAC/Bvf,oBAAqB8b,OAAAra,MAAMge,SAC3B3f,uBAAwBgc,OAAAra,MAAMwd,QAC9Btf,2BAA4Bmc,OAAAra,MAAMwZ,QAClChb,uBAAwB6b,OAAAra,MAAM0d,QAC9BrgB,YAAa,GACbN,WAAY,GACZE,UAAU,EACVzoB,OAAQ,GACRmnB,iBAAkB,IAClBmH,iCAAkC,GAClCD,+BAAgC,GAChC2X,cAAe,EACfpe,6BAA8B,EAC9BF,8BAA+B,EAC/Bue,2BAA4B,EAC5B3gB,UAAW,0BACXyB,cAAe8e,OAAAra,MAAMma,SACrB3e,kBAAmB6e,OAAAra,MAAM0e,SACzBjjB,cAAe4e,OAAAra,MAAM8e,SACrB5hB,MAAO,6MC5BX,IAAAmd,OAAA52K,QAAA,YAEai3K,mBAAqB,CAC9B5jB,yBAA0BujB,OAAAra,MAAMka,MAChCrjB,0BAA2BwjB,OAAAra,MAAM4d,WACjC3mB,sBAAuB,GACvBC,eAAgB,GAChBS,sBAAuB0iB,OAAAra,MAAMka,MAC7BnhB,mBAAoBshB,OAAAra,MAAMse,OAC1B1lB,uBAAwByhB,OAAAra,MAAMia,OAC9BphB,qBAAsBwhB,OAAAra,MAAMyd,QAC5B3kB,yBAA0BuhB,OAAAra,MAAMwZ,QAChCpgB,mCAAoCihB,OAAAra,MAAMga,IAC1CjkB,aAAcskB,OAAAra,MAAM4d,WACpBnmB,UAAW,GACXC,mBAAoB,IACpBrB,cAAegkB,OAAAra,MAAM0e,SACrBpoB,eAAgB+jB,OAAAra,MAAMga,IACtBpjB,KAAMyjB,OAAAra,MAAMyZ,YACZkB,uCAAuC,EACvC3kB,8BAA+BqkB,OAAAra,MAAMue,8MCpBzC,IAAAlE,OAAA52K,QAAA,YAEam3K,YAAc,CACvB1b,cAAemb,OAAAra,MAAMie,qBACrBhf,mBAAoBob,OAAAra,MAAMme,qBAC1BtD,WAAYR,OAAAra,MAAM0Z,WAClB7X,aAAcwY,OAAAra,MAAM4d,WACpB9b,aAAcuY,OAAAra,MAAMka,MACpBa,iBAAkBV,OAAAra,MAAM6d,KACxBjqB,SAAUymB,OAAAra,MAAMma,SAChBnmB,SAAUqmB,OAAAra,MAAMma,SAChBa,uBAAwB,EACxBC,mBAAoB,GAQpBrhB,mBAAoBygB,OAAAra,MAAMoe,aAQ1B5jB,aAAc6f,OAAAra,MAAMyZ,YAQpBtf,aAAckgB,OAAAra,MAAMka,MAEpBlb,iBAAkBqb,OAAAra,MAAMke,oBACxBvd,oBAAqB0Z,OAAAra,MAAM2d,mBAC3BtrB,2BAA4BgoB,OAAAra,MAAMoe,aAClChrB,cAAeinB,OAAAra,MAAM6e,SACrB5rB,OAAQonB,OAAAra,MAAM2e,SACdv9C,IAAKi5C,OAAAra,MAAMyd,QACXp8C,KAAMg5C,OAAAra,MAAMga,IACZtmB,aAAc2mB,OAAAra,MAAM6e,SACpB5d,UAAWoZ,OAAAra,MAAMyZ,6NC9CQ,CACzBxZ,eAAgB,EAChBC,aAAc,GACdF,MAAO,CACH15F,EAAG,iBACH40G,IAAM,gBACNC,IAAM,gBACNC,IAAM,gBACNC,IAAM,eACNC,IAAM,eACNC,IAAM,+JCVd,IAAAlB,OAAA52K,QAAA,YAEak5K,gBAAkB,CAC3BC,qBAAsBvC,OAAAra,MAAMye,cAC5B5B,eAAgBxC,OAAAra,MAAM4e,SACtB9B,kBAAmBzC,OAAAra,MAAM4e,SACzB7B,gBAAiB1C,OAAAra,MAAM8a,SACvBkC,gBAAiB3C,OAAAra,MAAM4e,4MCP3B,IAAA3B,WAAAx5K,QAAA,uBACAy5K,aAAAz5K,QAAA,yBACA05K,OAAA15K,QAAA,mBACA25K,SAAA35K,QAAA,qBACA45K,UAAA55K,QAAA,sBAOai1K,cAAgB,CACzBlpB,UAAW,uBACXqK,WAAYojB,WAAA3C,iBACZvkB,aAAcmnB,aAAAxC,mBACdzzE,MAAOk2E,OAAAvC,YACP7a,QAASqd,SAAAE,cACTC,UAAWF,UAAAV,mUCZM,CACjB7D,gBAAiB,0BACjBC,mBAAoB,0BACpBC,WAAY,0BACZC,kBAAmB,yBACnBC,YAAa,wBACbC,iBAAkB,wBAClBC,oBAAqB,wBACrBC,UAAW,wBACXC,eAAgB,wBAChBG,YAAa,yBACbE,oBAAqB,wBACrBK,IAAK,2BACLC,OAAQ,2BACRC,MAAO,2BACPC,SAAU,2KCpBd,IAAAE,OAAA52K,QAAA,YAYa62K,iBAAmB,CAO5BC,oCAAqC,EASrCpc,qBAAsBkc,OAAAra,MAAM8Y,gBAS5Bhb,yBAA0Buc,OAAAra,MAAM8Y,gBAShCxa,qBAAsB+b,OAAAra,MAAM8Y,gBAS5B1a,oBAAqBic,OAAAra,MAAM8Y,gBAS3B9a,wBAAyBqc,OAAAra,MAAM8Y,gBAS/Bva,oBAAqB8b,OAAAra,MAAM8Y,gBAS3Bza,uBAAwBgc,OAAAra,MAAM8Y,gBAS9B5a,2BAA4Bmc,OAAAra,MAAM8Y,gBASlCta,uBAAwB6b,OAAAra,MAAM8Y,gBAS9B7b,UAAU,EAQVI,YAAa,GAQbN,WAAY,GAQZvoB,OAAQ,GASRmnB,iBAAkB,IASlBmH,iCAAkC,GASlCD,+BAAgC,GAUhC2X,cAAe,EASfpe,8BAA+B,EAS/BF,8BAA+B,EAQ/Bue,2BAA4B,EAQ5B3gB,UAAW,0BASXyB,cAAe8e,OAAAra,MAAMka,MASrB1e,kBAAmB6e,OAAAra,MAAMka,MASzBze,cAAe4e,OAAAra,MAAMka,MAQrBhd,MAAO,6MC/OX,IAAAmd,OAAA52K,QAAA,YAQai3K,mBAAqB,CAS9B5jB,yBAA0BujB,OAAAra,MAAMma,SAShCtjB,0BAA2BwjB,OAAAra,MAAMma,SAQjCljB,sBAAuB,GAQvBC,eAAgB,EAQhBS,sBAAuB0iB,OAAAra,MAAMka,MAS7BnhB,mBAAoBshB,OAAAra,MAAMga,IAS1BphB,uBAAwByhB,OAAAra,MAAMia,OAS9BphB,qBAAsBwhB,OAAAra,MAAM8Y,gBAS5BhgB,yBAA0BuhB,OAAAra,MAAM+Y,mBAShC3f,mCAAoCihB,OAAAra,MAAMga,IAS1CjkB,aAAcskB,OAAAra,MAAMka,MAQpBziB,UAAW,GAQXC,mBAAoB,IAQpBrB,cAAegkB,OAAAra,MAAMqZ,UAQrB/iB,eAAgB+jB,OAAAra,MAAMga,IAQtBpjB,KAAMyjB,OAAAra,MAAMyZ,YASZkB,uCAAuC,EAQvC3kB,8BAA+BqkB,OAAAra,MAAMga,2MCjKzC,IAAAK,OAAA52K,QAAA,YAQam3K,YAAc,CAQvB1b,cAAemb,OAAAra,MAAMoZ,oBAQrBna,mBAAoBob,OAAAra,MAAMqZ,UAQ1BwB,WAAYR,OAAAra,MAAMsZ,eASlBzX,aAAcwY,OAAAra,MAAMmZ,iBASpBrX,aAAcuY,OAAAra,MAAMmZ,iBAUpB4B,iBAAkBV,OAAAra,MAAMga,IAQxBpmB,SAAUymB,OAAAra,MAAMkZ,YAQhBllB,SAAUqmB,OAAAra,MAAMkZ,YAQhB8B,uBAAwB,EAQxBC,mBAAoB,GAQpBrhB,mBAAoBygB,OAAAra,MAAMmZ,iBAQ1B3e,aAAc6f,OAAAra,MAAM8Y,gBAQpB3e,aAAckgB,OAAAra,MAAMka,MAQpBlb,iBAAkBqb,OAAAra,MAAMqZ,UAQxB1Y,oBAAqB0Z,OAAAra,MAAMiZ,kBAQ3B5mB,2BAA4BgoB,OAAAra,MAAMmZ,iBAQlC/lB,cAAeinB,OAAAra,MAAMgZ,WAQrB/lB,OAAQonB,OAAAra,MAAMka,MAQd94C,IAAKi5C,OAAAra,MAAM8Y,gBAQXz3C,KAAMg5C,OAAAra,MAAMga,IAQZtmB,aAAc2mB,OAAAra,MAAMka,MASpBjZ,UAAWoZ,OAAAra,MAAMkZ,6NCvLQ,CAOzBjZ,eAAgB,EAQhBC,aAAc,GAcdF,MAAO,CACH15F,EAAG,iBACH40G,IAAM,gBACNC,IAAM,gBACNC,IAAM,gBACNC,IAAM,gBACNC,IAAM,gBACNC,IAAM,eACNC,IAAM,eACNC,IAAM,eACNC,IAAM,eACNC,IAAO,eACPC,KAAO,gBACPC,KAAO,gBACPC,KAAO,gBACPC,KAAO,gBACPC,KAAO,gBACPC,KAAO,gBACPC,KAAO,gBACPC,KAAO,gBACPC,KAAO,gBACPC,IAAO,gBACPC,KAAO,eACPC,KAAO,eACPC,KAAO,eACPC,KAAO,eACPC,KAAO,+JC7Df,IAAArC,OAAA52K,QAAA,YAQak5K,gBAAkB,CAQ3BC,qBAAsBvC,OAAAra,MAAMka,MAQ5B2C,eAAgBxC,OAAAra,MAAMka,MAQtB4C,kBAAmBzC,OAAAra,MAAMka,MAQzB6C,gBAAiB1C,OAAAra,MAAM2Z,oBAQvBqD,gBAAiB3C,OAAAra,MAAMka,yMChD3B,IAAA+C,WAAAx5K,QAAA,uBACAy5K,aAAAz5K,QAAA,yBACA05K,OAAA15K,QAAA,mBACA25K,SAAA35K,QAAA,qBACA45K,UAAA55K,QAAA,sBAOak1K,cAAgB,CACzBnpB,UAAW,uBACXqK,WAAYojB,WAAA3C,iBACZvkB,aAAcmnB,aAAAxC,mBACdzzE,MAAOk2E,OAAAvC,YACP7a,QAASqd,SAAAE,cACTC,UAAWF,UAAAV,uVCZgB,CAY3BtgF,SAAU,WAWV0iF,qBAAsB,uBAatBh1E,QAAS,UAUTi1E,SAAU,WAQVz1E,SAAU,WAQVpK,SAAU,WAQV8/E,OAAQ,4gBCpEgB,wCASe,yBASf,IASrB,IAAM30C,wBAA0B,CACnC75B,oBAAgB5mG,EAChBsmG,UAAW,OACXyV,kBAAc/7G,EACdgwD,OAAQ,EACRq2C,cAAe,kGAUqB,iCAUJ,uBASV,4BASO,gCASI,iCASD,uCAOM,0CASF,mCAUF,0ICzHtC,IAAAnb,QAAAC,uBAAAvxF,QAAA,WACAy7K,sBAAAlqF,uBAAAvxF,QAAA,qYAqBqB07K,6BACjB,SAAAA,kBAAY/jF,4IAAarF,CAAA9uF,KAAAk4K,mBACrBl4K,KAAKm0F,YAAcA,YACnBn0F,KAAKm4K,WAAY,EACjBn4K,KAAKo4K,iBAAmB,GACxBp4K,KAAKq4K,kBAAoB,GACzBr4K,KAAKs4K,cAAgB,sHAarB76K,SACA,IAAIlB,EAAI,IAAI07K,sBAAA,QAAqBx6K,SAEjC,GAAIlB,EAAE66B,OAAOp3B,KAAKs4K,eAGd,IAFA/7K,EAAIyD,KAAKs4K,cAAc/7K,EAAE66B,MAEnBykH,YAAe77I,KAAKs4K,cAAc/7K,EAAE66B,KAAKykH,UAAY,CACvD,IAAMpxH,IAAMqjE,QAAA,QAAE9oD,QAAQzoC,EAAE66B,IAAKp3B,KAAKo4K,mBAEvB,EAAP3tJ,KACAzqB,KAAKq4K,kBAAkB70K,KAAKxD,KAAKo4K,iBAAiB5lK,OAAOiY,IAAK,UAItEzqB,KAAKs4K,cAAc/7K,EAAE66B,KAAO76B,GAEtBs/I,UACF77I,KAAKq4K,kBAAkB70K,KAAKjH,EAAE66B,KAE9Bp3B,KAAKo4K,iBAAiB50K,KAAKjH,EAAE66B,KAQrC,OAJKp3B,KAAKm4K,WACNn4K,KAAKu4K,YAGFh8K,EAAE67C,SAASxB,8CASlB,OAAI52C,KAAKq4K,kBAAkBr7K,QACvBgD,KAAKqkD,KAAKrkD,KAAKq4K,kBAAkB5vK,UAE1B,KACAzI,KAAKo4K,iBAAiBp7K,SAC7BgD,KAAKqkD,KAAKrkD,KAAKo4K,iBAAiB3vK,UAEzB,gCAYV2uB,KAAK,IAAAnjB,MAAAjU,KACAzD,EAAIyD,KAAKs4K,cAAclhJ,KAE7B02D,QAAA,QAAEtvB,QAAQjiE,EAAE66B,KACP/R,KAAK,SAACzf,KAAMkyI,WAAYj+E,OACrBt9D,EAAE67C,SAAS3B,QAAQ7wC,KAAMkyI,WAAYj+E,SAExChjB,KAAK,SAACgjB,MAAOi+E,WAAYiE,aACtBx/I,EAAE67C,SAAS1B,OAAOmjB,MAAOi+E,WAAYiE,eAExC5jG,OAAO,kBACGlkC,MAAKqkK,cAAc/7K,EAAE66B,2VC3G5C,IAAA02D,QAAAC,uBAAAvxF,QAAA,WACAi1G,MAAA1jB,uBAAAvxF,QAAA,iHAQI,SAAAg8K,qBAAY/6K,wIAASqxF,CAAA9uF,KAAAw4K,sBACjBx4K,KAAKo3B,IAAM35B,QAAQ25B,IACnBp3B,KAAK67I,WAAY,EAAApqC,MAAA,SAAKh0G,QAAS,aAAa,GAC5CuC,KAAKyB,KAAO,OACZzB,KAAKo4C,SAAW01C,QAAA,QAAE91C,4KCb1B,IAAA6gD,MAAAr8F,QAAA,gBACAu8F,iBAAAv8F,QAAA,oTAUA,aA2de,eA3cX,SAAAi8K,aAqJI,qIArJU3pF,CAAA9uF,KAAAy4K,YAWVz4K,KAAK04K,sBAAwB,EAY7B14K,KAAK24K,mBAAqB,EA+B1B34K,KAAK44K,gBAAkB,EAUvB54K,KAAK64K,qBAAuB,EAW5B74K,KAAK84K,WAAa,EAqBlB94K,KAAK+4K,4BAA8B,EAcnC/4K,KAAKg5K,WAAY,EAQjBh5K,KAAKi5K,wBAA0B,EAS/Bj5K,KAAKk5K,gBAAkB,EAoBvBl5K,KAAKm5K,gBAAkB,EAEhBn5K,KAAK00F,wHAoFZ,OAAO10F,qCAUPA,KAAK04K,sBAAwB,EAC7B14K,KAAK24K,mBAAqB,EAC1B34K,KAAK44K,gBAAkB,EACvB54K,KAAK64K,qBAAuB,EAC5B74K,KAAK84K,WAAa,EAClB94K,KAAK+4K,4BAA8B,EACnC/4K,KAAKg5K,WAAY,EACjBh5K,KAAKi5K,wBAA0B,EAC/Bj5K,KAAKk5K,gBAAkB,EACvBl5K,KAAKm5K,gBAAkB,gEAkBvB,OAAIn5K,KAAKo5K,UAAYp5K,KAAKq5K,yCACf,EAGJr5K,KAAKs5K,8EAoBZt5K,KAAK+4K,2BAA6B/4K,KAAK44K,gBACvC54K,KAAK44K,gBAvTiC,wEAqUtC54K,KAAK44K,gBAAkB54K,KAAK+4K,2BAC5B/4K,KAAK+4K,4BAA8B,mCAkB9BQ,WACDA,YAAcv5K,KAAKg5K,YAIvBh5K,KAAKg5K,UAAYO,kDAcjB,OAAOv5K,KAAK24K,mBAAqB34K,KAAK84K,YAAe,mCAcrD,IAAyC,IAArC94K,KAAK+4K,2BAAT,CAIA,IAAM9mH,YAAcjyD,KAAKw5K,gBAEzBx5K,KAAKy5K,kBACLz5K,KAAK05K,wBAAwBznH,aAC7BjyD,KAAK25K,oEAaYC,cACbA,aAAe,IAInB55K,KAAKm5K,gBAAkBS,wDAevB55K,KAAK24K,oBAAsB,kDAcP1mH,aACD,EACHA,YAAcjyD,KAAK64K,uBAG/B74K,KAAK64K,qBAAuB5mH,aAGhCjyD,KAAK44K,gBAAkB3mH,YAAcjyD,KAAKi5K,wBAC1Cj5K,KAAKi5K,wBAA0BhnH,YAC/BjyD,KAAK04K,uBAAyB14K,KAAKsrH,oFAcnCtrH,KAAK84K,WAAa/lJ,KAAK8B,OAAM,EAAAgkE,MAAA0xB,yBAAwB,EAAGvqH,KAAKm5K,gBAAiB,GAAI,GAAI,qEAetF,OAAyB,GAAlBn5K,KAAKs5K,WAA2C,IAAzBt5K,KAAKm5K,kBAA8D,IAArCn5K,KAAK+4K,wEAxSjE,OAAO/4K,KAAK04K,mEAcZ,OAAQ,IAAInyI,MAAQglD,kDAUpB,OAAQ,IAAIhlD,MAAQglD,UAAYwN,iBAAAimB,KAAKwtD,6DAiBrC,IAAMqN,gCAAkC75K,KAAK44K,gBAAkB54K,KAAKm5K,gBAEpE,OAAOpmJ,KAAKw5C,IAAIstG,gCAAiC,sCAQjD,OAAO75K,KAAKg5K,iDAYZ,OAAOh5K,KAAKm5K,wXCzPpB,IAAArrF,QAAAC,uBAAAvxF,QAAA,WACAo9G,UAAA7rB,uBAAAvxF,QAAA,mBACA47F,MAAArK,uBAAAvxF,QAAA,eACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACA22F,cAAApF,uBAAAvxF,QAAA,oBACAs9K,aAAA/rF,uBAAAvxF,QAAA,kBACA4xF,YAAAL,uBAAAvxF,QAAA,yBACAq8F,MAAAr8F,QAAA,gBACA+xF,YAAA/xF,QAAA,2BACAs8F,qBAAAt8F,QAAA,oCACAu8F,iBAAAv8F,QAAA,gCACAu3F,iBAAAv3F,QAAA,gCACAs3F,WAAAt3F,QAAA,0BACA2oJ,QAAA3oJ,QAAA,6XAOA,IAAMu9K,yBAA2B,CAC7BtsD,eAAgB,IAChB/V,QAAS,GACTnI,WAAY,IACZ+L,UAAW,GACX0+D,6BAA8B,GAC9BC,4BAA6B,GAC7BC,WAAY,GACZC,0BAA2B,EAC3BC,yBAA0B,GAC1BC,4BAA6B,GAC7BC,sCAAuC,GACvCC,sBAAuB,GACvBC,iBAAkB,IAClBC,uBAAwB,KAOfnrE,YAAc,CACvBme,cAAe,gBACf/V,QAAS,UACTnI,UAAW,YACX+L,UAAW,YACX0+D,4BAA6B,8BAC7BC,2BAA4B,6BAC5BC,UAAW,YACXC,yBAA0B,2BAC1BC,wBAAyB,0BACzBC,2BAA4B,6BAY5BC,qCAAsC,uCACtCC,qBAAsB,uBACtBC,gBAAiB,kBACjBC,sBAAuB,yDAO3B,IAAMC,wBAA0B,CAC5BjtD,cAAe,0CACf/V,QAAS,+BACTnI,UAAW,6BACX+L,UAAW,wCACX0+D,4BAA6B,2CAC7BC,2BAA4B,0CAC5BC,UAAW,4BACXC,yBAA0B,wCAC1BC,wBAAyB,uCACzBC,2BAA4B,4CAC5BC,qCAAsC,kDACtCC,qBAAsB,gDACtBC,gBAAiB,4CACjBC,sBAAuB,kEAkjBZ,eAxiBX,SAAAE,iBAAc,kBAAA1mK,MAAAjU,oIAAA8uF,CAAA9uF,KAAA26K,sBA6hBF,SAACxe,YACJ,EAAA/jE,MAAA,SAAK+sD,QAAAc,MAAOkW,WAMjBloJ,MAAK8xI,MAAQZ,QAAAc,MAAMkW,WALf1vI,QAAQ1U,MAAR,oDAAAvG,OAAkE2qJ,UAAlE,YA/hBM,mBAAAn8J,4GASVA,KAAKihG,KAAO,GACZjhG,KAAKihG,KAAK25E,SAAU,EACpB56K,KAAKihG,KAAK45E,UAAY,EACtB76K,KAAKihG,KAAK5+C,OAAS,GACnBriD,KAAKihG,KAAK65E,SAAW,GACrB96K,KAAKihG,KAAK85E,WAAa,EACvB/6K,KAAKihG,KAAK+5E,MAAQ,EAClBh7K,KAAKihG,KAAK7hD,OAAS,IAAI06H,aAAA,QACvB95K,KAAK+lJ,MAAQZ,QAAAc,MAAM+W,QAEnBh9J,KAAKk0F,UAAY/F,UAAA,+HAQjB,OAAOnuF,KAAKqvF,gBACP4rF,iBACA7oF,iDAcL,OAHApyF,KAAKk7K,qBAAuBl7K,KAAKm7K,cAAczoH,KAAK1yD,MACpDA,KAAKo7K,sBAAwBp7K,KAAKq7K,eAAe3oH,KAAK1yD,MAE/CA,8CAcP,OAAOA,sCAQF,IAAAkxF,OAAAlxF,KAcL,OAbAA,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMs3D,UAAWtoJ,KAAKgmJ,WAExCj5H,OAAOuf,iBAAiB,OAAQtsC,KAAKk7K,sBACrCnuJ,OAAOuf,iBAAiB,QAAStsC,KAAKo7K,uBAEtC95I,SAASgL,iBAAiB,mBAAoB,WAC1C,MAAiC,WAA7BhL,SAASg6I,gBACFpqF,OAAKgqF,uBAGThqF,OAAKkqF,0BAGTp7K,KAAKu7K,yDAWZ,OAFAv7K,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMs3D,UAAWtoJ,KAAKgmJ,WAElChmJ,KAAKsyF,4CA0BZ,OAXAtyF,KAAKihG,KAAO,GACZjhG,KAAKihG,KAAK25E,SAAU,EAEpB56K,KAAKihG,KAAK45E,UAAY,EACtB76K,KAAKihG,KAAK5+C,OAAS,GACnBriD,KAAKihG,KAAK65E,SAAW,GACrB96K,KAAKihG,KAAK85E,WAAa,EACvB/6K,KAAKihG,KAAK+5E,MAAQ,EAClBh7K,KAAKihG,KAAK7hD,OAAS,IAAI06H,aAAA,QACvB95K,KAAK+lJ,MAAQZ,QAAAc,MAAM+W,QAEZh9J,oDASY,IAAAoxF,OAAApxF,MACnB,EAAA45G,UAAA,SAAStK,YAAa,SAACksE,UAAWl2K,KAC9B8rF,OAAK6P,KAAK5+C,OAAO/8C,KAAO,6CAYfk2K,WACb,KAAK,EAAApjF,MAAA,SAAKkX,YAAaksE,WACnB,MAAM,IAAItpJ,UAAJ,qEAAA1gB,OAAmFgqK,YAG7Fx7K,KAAKihG,KAAK5+C,OAAOm5H,YAAc,EAC/Bx7K,KAAKihG,KAAK+5E,OAASjB,yBAAyByB,WAE5Cx7K,KAAKy7K,mBACLz7K,KAAK07K,mBAAmBF,6DASxB,IAAMG,YAAcvtF,YAAA,QAAW4gB,qBAAuBjW,iBAAAimB,KAAKC,oBAG3D,OAFqBj/G,KAAKihG,KAAK+5E,MAAQW,kEASb,IAAApqF,OAAAvxF,MAE1B,EAAA45G,UAAA,SAAS55G,KAAKihG,KAAK5+C,OAAQ,SAACm5H,UAAWl2K,KACnCisF,OAAK0P,KAAK5+C,OAAO/8C,KAAO,IAI5BtF,KAAKihG,KAAK+5E,MAAQ,EAElBh7K,KAAKy7K,2DASOG,WACZ,GAAkB,IAAdA,WAGG,KAAIA,UAAY,GAAhB,CAIPxtF,YAAA,QAAWytF,qBAAqBD,WAChCzoF,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgB2N,QAAS,WAAY84E,WAE9D,IAAME,eAAgB,EAAAhuF,QAAA,SAAEgG,WAAAuB,UAAUC,cAAcs5E,eAE9B,IAAdgN,WACAE,cAAcnlH,YAAYm9B,WAAAuB,UAAUuL,WAAW+uE,SAC/CmM,cAAcnlH,YAAYm9B,WAAAuB,UAAUuL,WAAWgvE,SAC/CkM,cAAcjgI,KAAK,QAAS,uBACrB+/H,UAAY,GACnBE,cAAcnlH,YAAYm9B,WAAAuB,UAAUuL,WAAWgvE,SAC/CkM,cAAcxlH,SAASw9B,WAAAuB,UAAUuL,WAAW+uE,SAC5CmM,cAAcjgI,KAAK,QAAS,wBAE5BigI,cAAcnlH,YAAYm9B,WAAAuB,UAAUuL,WAAW+uE,SAC/CmM,cAAcxlH,SAASw9B,WAAAuB,UAAUuL,WAAWgvE,SAC5CkM,cAAcjgI,KAAK,QAAS,0BAtB5B77C,KAAK+7K,sEAoCwB,GAA7B3tF,YAAA,QAAW+iE,eACXnxJ,KAAK6iG,gBAAgB,GACgB,IAA9BzU,YAAA,QAAW+iE,eAClBnxJ,KAAK6iG,gBAAgB,GAErB7iG,KAAK6iG,gBAAgB,wCASzBzU,YAAA,QAAW4tF,UAAS,GAEpB,IAAMC,qBAAsB,EAAAnuF,QAAA,SAAEgG,WAAAuB,UAAUC,cAAcs1E,cAEtDqR,oBAAoB3lH,SAASw9B,WAAAuB,UAAUuL,WAAWswC,QAClD+qC,oBAAoBhuI,KAAK,QAAS,sBAClC,EAAA6/C,QAAA,SAAE,QAAQx3B,SAASw9B,WAAAuB,UAAUuL,WAAW6uE,+CAQxCrhF,YAAA,QAAW4tF,UAAS,GAEpB,IAAMC,qBAAsB,EAAAnuF,QAAA,SAAEgG,WAAAuB,UAAUC,cAAcs1E,cAEtDqR,oBAAoBtlH,YAAYm9B,WAAAuB,UAAUuL,WAAWswC,QACrD+qC,oBAAoBhuI,KAAK,QAAS,qBAClC,EAAA6/C,QAAA,SAAE,QAAQn3B,YAAYm9B,WAAAuB,UAAUuL,WAAW6uE,oDAQ3C,GAAIrhF,YAAA,QAAWgrF,SAIX,OAHAjmF,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgB2N,QAAS,QAAS,cAC3D9iG,KAAKk8K,eAKT/oF,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgB2N,QAAS,QAAS,QAC3D9iG,KAAKm8K,mDASL,OAAQn8K,KAAKihG,KAAK25E,SAAWxsF,YAAA,QAAWgrF,gDASxC,OAAQp5K,KAAKu6J,cAA4C,EAA5BnsE,YAAA,QAAW+iE,oDAY/BirB,eAAgBtnH,MAAO5b,KAAMtzC,MACtC,IACMy2K,YAAc,CAACD,eADFhuF,YAAA,QAAW4gB,qBAAuBl6C,MACJlvD,KAAMkvD,OAAO,EAAO5b,MAIrE,OAFAl5C,KAAKihG,KAAK65E,SAASt3K,KAAK64K,aAEjBA,kDAYGpkI,KAAM6c,MAAO5b,KAAMtzC,MAC7B,IAAMkuD,GAAK,CAAC7b,KAAMm2C,YAAA,QAAW4gB,qBAAuBl6C,MAAOlvD,KAAMkvD,OAAO,EAAM5b,MAI9E,OAFAl5C,KAAKihG,KAAK65E,SAASt3K,KAAKswD,IAEjBA,wCAUElB,OACT5yD,KAAKihG,KAAK65E,SAAStoK,OAAOxS,KAAKihG,KAAK65E,SAAStuK,QAAQomD,OAAQ,2CAa7D5yD,KAAKihG,KAAK65E,SAAW,8CASrB,GAAI96K,KAAKihG,KAAK+5E,QAAUh7K,KAAKihG,KAAK85E,WAAlC,CAIA,IAAMuB,eAAgB,EAAAxuF,QAAA,SAAEgG,WAAAuB,UAAUC,cAAc07E,OAEhDsL,cAAcx3J,MAAK,EAAA+zE,MAAAhkE,OAAM70B,KAAKihG,KAAK+5E,QAG/Bh7K,KAAKihG,KAAK+5E,OAAS,IACnBsB,cAAchmH,SAASw9B,WAAAuB,UAAUuL,WAAWsuE,UAE5CoN,cAAc3lH,YAAYm9B,WAAAuB,UAAUuL,WAAWsuE,UAGnDlvK,KAAKihG,KAAK85E,WAAa/6K,KAAKihG,KAAK+5E,kDAQlBz5H,OACf,IAAIg7H,OAASxC,yBAAyBx4H,OAElCg7H,OAAS,IACTA,OAAM,kDAAA/qK,OAAqD+qK,OAArD,YAGV,IAAMt0H,MAAO,EAAA6lC,QAAA,SAAA,OAAAt8E,OAASkpK,wBAAwBn5H,OAAjC,MAAA/vC,OAA4C+qK,OAA5C,UACPlvC,UAAW,EAAAv/C,QAAA,SAAEgG,WAAAuB,UAAUC,cAAc27E,WAE3C5jC,SAASp6H,OAAOg1C,MAChBolF,SAAS78E,UAAU68E,SAASx8G,IAAI,GAAG2rJ,mDAQnC,IAAMC,cAAe,EAAA3uF,QAAA,SAAE,SAElB9tF,KAAKu6J,eAAiBkiB,aAAazlH,SAAS88B,WAAAuB,UAAUuL,WAAW6uE,SAClEgN,aAAa9lH,YAAYm9B,WAAAuB,UAAUuL,WAAW6uE,QAGlDzvK,KAAK08K,sDAUL,IAFA,IAAMC,gBAAkBvuF,YAAA,QAAW4gB,qBAE1B3yG,EAAI2D,KAAKihG,KAAK65E,SAAS99K,OAAS,EAAQ,GAALX,EAAQA,IAAK,CACrD,IAAIugL,yBAA0B,EACxB5nH,QAAUh1D,KAAKihG,KAAK65E,SAASz+K,GAC7Boa,SAAWu+C,QAAQ,GACnB6nH,cAAgB7nH,QAAQ,GACxB8nH,kBAAoB9nH,QAAQ,GAC5B+nH,cAAgB/nH,QAAQ,GACxBgoH,aAAehoH,QAAQ,GAEP6nH,cAAlBF,kBACAlmK,SAAS1Z,KAAKi4D,QAAQ,GAAI8nH,mBAC1BF,yBAA0B,EAEtBI,eACAhoH,QAAQ,GAAK6nH,cAAgBE,cAC7BH,yBAA0B,IAI9BA,0BACA58K,KAAKihG,KAAK65E,SAAStoK,OAAOnW,EAAG,GAC7BA,GAAK,uCAUb+xF,YAAA,QAAW4tF,UAAS,yCAcViB,YACV,OAAOj9K,KAAKihG,KAAK7hD,OAAO8hD,gBAAgB+7E,yEAcPlrF,UACjC,IAAMmrF,kBAAoBl9K,KAAKqlG,cAAcvM,qBAAAqI,kBAAkB+pE,6BAC3DiS,mBAA2C,QAAtBD,kBAMzB,MAJ0B,eAAtBA,oBACAC,mBAAqBn9K,KAAK+lJ,MAAM+I,aAAa4kB,uCAG1CyJ,oBAAsBprF,SAASqkB,kDAS5B70D,OACVvhD,KAAKihG,KAAK25E,SAAU,EAIpBxsF,YAAA,QAAWytF,qBAAqB,GAChCztF,YAAA,QAAW4tF,UAAS,GAGpB,IAAMF,eAAgB,EAAAhuF,QAAA,SAAEgG,WAAAuB,UAAUC,cAAcs5E,eAEhDkN,cAAcnlH,YAAYm9B,WAAAuB,UAAUuL,WAAW+uE,SAC/CmM,cAAcnlH,YAAYm9B,WAAAuB,UAAUuL,WAAWgvE,SAC/CkM,cAAcjgI,KAAK,QAAS,6DASjB0F,OACXvhD,KAAKihG,KAAK25E,SAAU,GAGhB,EAAA9sF,QAAA,SAAE,QAAQ92B,SAAS88B,WAAAuB,UAAUuL,WAAW6uE,SAI5CrhF,YAAA,QAAW4tF,UAAS,upBC7mB5B,IAAAhuF,QAAAD,uBAAAvxF,QAAA,iBACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACA22F,cAAApF,uBAAAvxF,QAAA,oBACAs8F,qBAAAt8F,QAAA,oCACAu3F,iBAAAv3F,QAAA,0YAOqB4gL,uBAKjB,SAAAA,6IAActuF,CAAA9uF,KAAAo9K,aAMVp9K,KAAKk0F,UAAY/F,UAAA,QAQjBnuF,KAAKq9K,SAAW,GAYhBr9K,KAAKs9K,2IAUL,IAAK,IAAIjhL,EAAI,EAAGA,EAAIy8F,qBAAAwyE,mBAAmBtuK,OAAQX,IAAK,CAChD,IAAM+iD,OAAS05C,qBAAAwyE,mBAAmBjvK,GAElC2D,KAAKu9K,UAAUn+H,2CASbo+H,aACN,IAAMC,iBAAmBz9K,KAAK09K,iBAAiBF,YAAY78K,MACrDg9K,kBAAoB7wJ,OAAOmjE,aAAa4tE,QAAQ4f,kBAElDG,aADJ59K,KAAKq9K,SAASG,YAAY78K,MAAQ68K,aACJhpI,cAEzB,EAAAw5C,QAAA,SAAO2vF,qBACRC,YAAcD,mBAGlB39K,KAAKw9K,YAAY78K,MAAQi9K,sDASzB,OAAO59K,KAAKq9K,iDAWA18K,MACZ,OAAOX,KAAKW,8CAaAA,KAAM6E,OAClBxF,KAAKW,MAAQ6E,MACb,IAAMi4K,iBAAmBz9K,KAAK09K,iBAAiB/8K,MAS/C,OAPAmsB,OAAOmjE,aAAa6tE,QAAQ2f,iBAAkBj4K,OAC9C2tF,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgB4iF,SAAUp3K,KAAM6E,OAErDxF,KAAKq9K,SAAS18K,MAAM6qK,sBACpBxrK,KAAKk0F,UAAUjyC,QAAQjiD,KAAKq9K,SAAS18K,MAAM6qK,qBAAsBhmK,OAG9DA,+CAWMy3K,YACb,MAAA,mBAAAzrK,OAA0ByrK,wiBCnIlC,IAAA9uF,UAAAJ,uBAAAvxF,QAAA,oBACA42F,8XAAA10F,CAAAlC,QAAA,qBACAm3F,cAAA5F,uBAAAvxF,QAAA,uBACA6pG,gBAAA7pG,QAAA,+BACA+xF,YAAA/xF,QAAA,2BACA6xF,kBAAA7xF,QAAA,iCACAwpG,sBAAAxpG,QAAA,0ZAKqBqhL,2BACjB,SAAAA,gBAAYloF,mJAAoB7G,CAAA9uF,KAAA69K,iBAS5B79K,KAAKy5F,oBAAsB9D,mBAE3B31F,KAAKojC,OACAisD,gBACA+C,6HAIL,OAAOpyF,6CAaP,OAJAA,KAAK89K,mBAAqB99K,KAAK+9K,YAAYrrH,KAAK1yD,MAChDA,KAAKg+K,kBAAoBh+K,KAAKi+K,WAAWvrH,KAAK1yD,MAC9CA,KAAKk+K,uBAAyBl+K,KAAKm+K,gBAAgBzrH,KAAK1yD,MAEjDA,sCAaP,OAJAmuF,UAAA,QAAS/sC,GAAGmtC,YAAA6qB,eAAeoF,SAAUx+G,KAAK89K,oBAC1C3vF,UAAA,QAAS/sC,GAAGmtC,YAAA6qB,eAAeC,SAAUr5G,KAAKg+K,mBAC1C7vF,UAAA,QAAS/sC,GAAGmtC,YAAA6qB,eAAeoV,cAAexuH,KAAKk+K,wBAExCl+K,uCAaP,OAJAmuF,UAAA,QAAS3sC,IAAI+sC,YAAA6qB,eAAeoF,SAAUx+G,KAAK89K,oBAC3C3vF,UAAA,QAAS3sC,IAAI+sC,YAAA6qB,eAAeC,SAAUr5G,KAAKg+K,mBAC3C7vF,UAAA,QAAS3sC,IAAI+sC,YAAA6qB,eAAeoV,cAAexuH,KAAKk+K,wBAEzCl+K,yCAQCm5F,eACRn5F,KAAKo+K,oCAAoCjlF,kDAclCA,cAAe8Q,aACtBjqG,KAAKq+K,WAAWllF,cAAe,UAC/Bn5F,KAAKs+K,uBAAuBnlF,cAAe8Q,YAAa,kDAQ5C9Q,eACRA,cAAcid,YACdp2G,KAAKu+K,0BAA0BplF,eAK/BA,cAAckS,IAAIO,cAAgB5F,sBAAA6F,SAASC,QAAQ6Y,KAMvD3kH,KAAKw+K,6BAA6BrlF,eAL9Bn5F,KAAKy+K,gCAAgCtlF,iEAgBnBA,eACtBA,cAAcmlB,UAAU,oCAAqCjwB,kBAAAkwB,8BAA8BC,UAAU,GACrGprB,gBAAA,QAAeic,iBAAiBjc,gBAAAkc,YAAYme,oEASnBt0B,eACzBA,cAAcmlB,UAAU,gCAAiCjwB,kBAAAkwB,8BAA8BjD,WACvFloB,gBAAA,QAAeic,iBAAiBjc,gBAAAkc,YAAYgM,mEAShBniB,eAC5BA,cAAcmlB,UAAU,8CAA+CjwB,kBAAAkwB,8BAA8BjD,WAAW,GAChHloB,gBAAA,QAAeic,iBAAiBjc,gBAAAkc,YAAYirE,yDASrCphF,cAAe50E,QACtB,IACMmoF,KAAOvT,cAAculF,oBAGT,IAAdhyE,KAAKiU,OACLvtB,gBAAA,QAAeic,iBAAiBjc,gBAAAkc,YAAY0qE,6BAC5CrmF,cAAA,QAAa6N,OAAb,GAAAhwF,OAAuB2nF,cAAcE,SAArC,KAAA7nF,OAAiD+S,OAAjD,0BANc,IAOO,IAAdmoF,KAAKiU,QACZvtB,gBAAA,QAAeic,iBAAiBjc,gBAAAkc,YAAY6qE,0BAC5CxmF,cAAA,QAAa6N,OAAb,GAAAhwF,OAAuB2nF,cAAcE,SAArC,KAAA7nF,OAAiD+S,OAAjD,oBATc,IAYdmoF,KAAK7pE,OAAS,IACduwD,gBAAA,QAAeic,iBAAiBjc,gBAAAkc,YAAY2qE,4BAC5CtmF,cAAA,QAAa6N,OAAb,GAAAhwF,OAAuB2nF,cAAcE,SAArC,KAAA7nF,OAAiD+S,OAAjD,yBAdc,IAePmoF,KAAK7pE,OAAS,IACrBuwD,gBAAA,QAAeic,iBAAiBjc,gBAAAkc,YAAY8qE,yBAC5CzmF,cAAA,QAAa6N,OAAb,GAAAhwF,OAAuB2nF,cAAcE,SAArC,KAAA7nF,OAAiD+S,OAAjD,mBAjBc,mDA4BC40E,cAAe8Q,YAAa1lF,QAC/C,IAAMo6J,iBAAmB10E,YAAYgY,0BAGrC,GAAK08D,mBAAoBA,iBAAiB7nE,kCAInB,EAAAzQ,gBAAA6c,OAAM/pB,cAAcgqB,mBAAmBw7D,mBACrCxlF,cAAcgf,MAAMiL,4CAA4Cu7D,iBAAiBxmE,QAEjEwmE,iBAAiBxvE,cAAc,CAGpE/b,gBAAA,QAAeic,iBAAiBjc,gBAAAkc,YAAYmrE,uBAC5C9mF,cAAA,QAAa6N,OAAO,GAAAhwF,OAAG2nF,cAAcE,SAAjB,KAAA7nF,OAA6B+S,OAA7B,8CAChB,kCAJc,gEAeU40E,eAChC,GAAKA,cAAcylF,mBAAnB,CAMAjrF,cAAA,QAAa6N,OAAb,GAAAhwF,OAAuB2nF,cAAcE,SAArC,4CAFkB,GAGlBjG,gBAAA,QAAeic,iBAAiBjc,gBAAAkc,YAAYgrE,gGAUfnhF,eAG7BxF,cAAA,QAAa6N,OAAb,GAAAhwF,OAAuB2nF,cAAcE,SAArC,iEAFkB,GAGlBjG,gBAAA,QAAeic,iBAAiBjc,gBAAAkc,YAAY+qE,kiBC5OpD,IAAAvsF,QAAAC,uBAAAvxF,QAAA,WACAqiL,KAAA9wF,uBAAAvxF,QAAA,4FAEAA,QAAQ,OAAOoxF,eAQLgM,gBAAAA,OAAQ,EAAA9L,QAAA,SAAE,aAEJ,IAAI+wF,KAAA,QAAIjlF,oMCbxB,IAAA9L,QAAAC,uBAAAvxF,QAAA,WACAkxI,kBAAAlxI,QAAA,iCACA6pG,gBAAA7pG,QAAA,+BACAq2F,mBAAA9E,uBAAAvxF,QAAA,iCACAsiL,oBAAA/wF,uBAAAvxF,QAAA,yBACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACAu8F,iBAAAv8F,QAAA,gCACA+xF,YAAA/xF,QAAA,2BACAuiL,qBAAAviL,QAAA,yBACAypG,mBAAAzpG,QAAA,wYAOA,IAAMwiL,gCAEW,8BAFXA,+BAIU,6BAJVA,oCAMe,kCANfA,oCAQe,kCASAC,iCAMjB,SAAAA,sBAAYlwF,UAkGR,qIAlGkBD,CAAA9uF,KAAAi/K,uBAQlBj/K,KAAK+uF,SAAWA,SAShB/uF,KAAKk/K,UAAY,KASjBl/K,KAAKm/K,eAAiB,KAStBn/K,KAAKo/K,WAAa,KASlBp/K,KAAKq/K,eAAiB,KAStBr/K,KAAKs/K,UAAY,KAOjBt/K,KAAKu/K,UAAYxmF,iBAAA2K,eAOjB1jG,KAAK8uG,UAAY,GAOjB9uG,KAAK6vF,KAAO,GAMZ7vF,KAAKw/K,mBAAqB,KAO1Bx/K,KAAK0sG,KAAO,GASZ1sG,KAAKk0F,UAAY/F,UAAA,QAEVnuF,KAAKojC,OACPmsG,kBACAt7B,iBACA7hB,SACAwC,4IAuBL,OAZA50F,KAAKk/K,WAAY,EAAApxF,QAAA,SAAEixF,qBAAAU,uBACnBz/K,KAAKm/K,eAAiBn/K,KAAKk/K,UAAUpyI,KAAKkyI,qCAC1Ch/K,KAAKo/K,WAAap/K,KAAKk/K,UAAUpyI,KAAKkyI,iCACtCh/K,KAAKq/K,eAAiBr/K,KAAKk/K,UAAUpyI,KAAKkyI,qCAC1Ch/K,KAAKs/K,UAAYt/K,KAAKk/K,UAAUpyI,KAAKkyI,gCACrCh/K,KAAKu/K,UAAYxmF,iBAAA2K,eACjB1jG,KAAK8uG,UAAY,GACjB9uG,KAAK6vF,KAAO,GACZ7vF,KAAKw/K,mBAAqB,IAAIV,oBAAA,QAC9B9+K,KAAK0sG,KAAO,GACZ1sG,KAAKk0F,UAAY/F,UAAA,QAEVnuF,+CAgBP,OAFAA,KAAK+uF,SAAS97E,OAAOjT,KAAKk/K,WAEnBl/K,8CAaP,OAHAA,KAAK41I,wBAA0B51I,KAAK40F,gBAAgBliC,KAAK1yD,MACzDA,KAAK0/K,qBAAuB1/K,KAAK2/K,aAAajtH,KAAK1yD,MAE5CA,sCAcP,OAHAA,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAM+D,eAAgB/0F,KAAK41I,yBAC7C51I,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMooD,YAAap5I,KAAK0/K,sBAEnC1/K,uCAcP,OAHAA,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAM+D,eAAgB/0F,KAAK41I,yBAC9C51I,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMooD,YAAap5I,KAAK0/K,sBAEpC1/K,qCAkBP,OATAA,KAAK+uF,SAAW,KAChB/uF,KAAKk/K,UAAY,KACjBl/K,KAAKu/K,UAAY,KACjBv/K,KAAK8uG,UAAY,KACjB9uG,KAAK6vF,KAAO,KACZ7vF,KAAKw/K,mBAAqB,KAC1Bx/K,KAAK0sG,KAAO,KACZ1sG,KAAKk0F,UAAY,KAEVl0F,+CAaP,IAAMyvF,QAAUoD,mBAAA,QAAkBkV,cAC5Bs4C,UAAYttH,KAAK8B,OAAM,EAAAwxE,gBAAAwG,kBAAiBpd,QAAQid,KAAKI,QAE3D9sG,KAAK0sG,KAAO1sG,KAAK4/K,yBAAyB,CAAElsH,MAAO+7B,QAAQid,KAAKh5C,MAAOo5C,MAAOuzC,YAC9ErgJ,KAAKu/K,UAAYv/K,KAAK6/K,8BAA8BpwF,QAAQid,KAAKh5C,OACjE1zD,KAAK8uG,UAAL,GAAAt9F,OAAoBi+E,QAAQqf,WAC5B9uG,KAAK6vF,KAAOJ,QAAQI,KAAKt0C,cAEzBv7C,KAAK8/K,+CASItlC,aACTx6I,KAAK0sG,KAAO1sG,KAAK4/K,yBAAyB,CAAElsH,MAAO8mF,YAAY9mF,MAAOo5C,MAAO0tC,YAAY1tC,QAEzF9sG,KAAK8/K,gDAUL,IAAMC,QAAU//K,KAAKw/K,mBAAmBQ,oBAExChgL,KAAKo/K,WAAWt6J,KAAKi7J,0DAiBArzE,MACrB,IACQh5C,MAAUg5C,KAAVh5C,MACAo5C,MAAUJ,KAAVI,MACFmzE,UAAW,EAAAvyC,kBAAAS,SAASrhC,OAAS,IAAM,GACnCozE,UAAW,EAAAxyC,kBAAAS,SAAQz6E,MAAO,GAE1BysH,aAAezsH,MAAQ3gC,KAAK+B,SAC5BsrJ,WAAY,EAAA1yC,kBAAAS,SAAQp7G,KAAK8B,MAAM6+B,MAAQysH,cAAe,GAE5D,OAAIA,aAToB,EAUpB,GAAA3uK,OAAUyuK,SAAV,KAAAzuK,OAAsB0uK,UAG1B,GAAA1uK,OAAUyuK,SAAV,KAAAzuK,OAAsB0uK,SAAtB,MAAA1uK,OAAmC4uK,iEAYTC,WAG1B,OAFiBp6E,mBAAAqZ,YAAYqpD,0BAA6B0X,UAAYttJ,KAAK+B,SAAW,KAEtEsvE,QAAQ,qCAWxBpkG,KAAKs/K,UAAUx6J,KAAf,GAAAtT,OAAuBxR,KAAK6vF,KAA5B,KAAAr+E,OAAoCxR,KAAK0sG,OACzC1sG,KAAKm/K,eAAer6J,KAApB,GAAAtT,OAA4BxR,KAAK6vF,KAAjC,KAAAr+E,OAAyCxR,KAAKu/K,YAC9Cv/K,KAAKq/K,eAAev6J,KAApB,GAAAtT,OAA4BxR,KAAK6vF,KAAjC,KAAAr+E,OAAyCxR,KAAK8uG,umBCvVtD,QAAA1gB,iBAAA5xF,QAAA,2DACA4pG,gBAAA5pG,QAAA,+BACAu8F,iBAAAv8F,QAAA,wTAMqB8jL,8BAKjB,SAAAA,qBASI,qIATUxxF,CAAA9uF,KAAAsgL,oBAOVtgL,KAAKkyD,UAAY,EAEVlyD,KAAK00F,gIAWZ,OAFA10F,KAAKkyD,UAAYlyD,KAAKugL,yBAEfvgL,qCAoCP,OAFAA,KAAKkyD,UAAY,EAEVlyD,iDAWP,IAAMwgL,0BAA4BpyF,YAAA,QAAW4gB,qBAAuBjW,iBAAAimB,KAAKqtD,2BACnEoU,UAAY,IAAIl6I,KAAKvmC,KAAKkyD,UAAYsuH,2BACtCE,OAAQ,EAAAt6E,gBAAAu6E,gBAAeF,UAAUG,WAAY,GAC7CC,SAAU,EAAAz6E,gBAAAu6E,gBAAeF,UAAUK,aAAc,GACjDC,SAAU,EAAA36E,gBAAAu6E,gBAAeF,UAAUO,aAAc,GAGvD,MAFe,GAAAxvK,OAAMkvK,OAANlvK,OAAcqvK,QAAd,KAAArvK,OAAyBuvK,2DAzCxC,OAAO,IAAIx6I,MAAOglD,2DAWlB,IAAM01F,KAAO,IAAI16I,KAGjB,OAFY06I,KAAK11F,UAAa01F,KAAKC,oBAAsBnoF,iBAAAimB,KAAKotD,sdCjDjC,08BCPrC,IAAAh0E,MAAArK,uBAAAvxF,QAAA,eACA2kL,YAAApzF,uBAAAvxF,QAAA,oYAoKe,eA/IX,SAAA4kL,0IAActyF,CAAA9uF,KAAAohL,UASVphL,KAAKqhL,QAAU,mHAQfrhL,KAAKqhL,QAAU,8BAahBC,UAAW7qK,UACNzW,KAAK6vB,IAAIyxJ,WACTthL,KAAKqhL,QAAQC,WAAWC,YAAY9qK,WAKxCzW,KAAKqhL,QAAQC,WAAa,IAAIH,YAAA,QAAWG,WAEzCthL,KAAKwhL,aAAaF,UAAW7qK,uCAgB7B6qK,UAAW7qK,UACNzW,KAAK6vB,IAAIyxJ,aAIdthL,KAAKyhL,gBAAgBH,UAAW7qK,UAE5BzW,KAAKqhL,QAAQC,WAAWI,UAAU1kL,OAAS,GAC3CgD,KAAK2hL,gBAAgBL,4CAerBA,WACJ,GAAKthL,KAAK6vB,IAAIyxJ,WAAd,CADwB,IAAA,IAKhBI,UAAc1hL,KAAKqhL,QAAQC,WAA3BI,UALgB/0J,KAAA9nB,UAAA7H,OAANuK,KAAM,IAAAyd,MAAA,EAAA2H,KAAAA,KAAA,EAAA,GAAAC,KAAA,EAAAA,KAAAD,KAAAC,OAANrlB,KAAMqlB,KAAA,GAAA/nB,UAAA+nB,MAOxB,IAAK,IAAIvwB,EAAI,EAAGA,EAAIqlL,UAAU1kL,OAAQX,IAClCqlL,UAAUrlL,GAAVmU,MAAAkxK,UAAgBn6K,mCAWpB+5K,WACA,OAAO,EAAAlpF,MAAA,SAAKp4F,KAAKqhL,QAASC,gDAYjBA,UAAW7qK,UACpBzW,KAAKqhL,QAAQC,WAAWC,YAAY9qK,kDAYxB6qK,UAAW7qK,UACvBzW,KAAKqhL,QAAQC,WAAWM,eAAenrK,kDAc3B6qK,kBACLthL,KAAKqhL,QAAQC,2UCjK5B,IAAAvoF,iBAAAv8F,QAAA,wTASqBqlL,sBAKjB,SAAAA,WAAYlhL,qIAAMmuF,CAAA9uF,KAAA6hL,YAQd7hL,KAAKW,KAAO,GASZX,KAAK0hL,UAAY,GAEjB1hL,KAAKojC,KAAKziC,mHAQTA,MACDX,KAAKW,KAAOA,uCAQZX,KAAKW,KAAO,GACZX,KAAK0hL,UAAY,uCAUTI,UACJ9hL,KAAK+hL,YAAYD,WAIrB9hL,KAAK0hL,UAAUl+K,KAAKs+K,iDAUTA,UACX,GAAK9hL,KAAK+hL,YAAYD,UAAtB,CAIA,IAAMzrK,MAAQrW,KAAK0hL,UAAUl1K,QAAQs1K,UACrC9hL,KAAK0hL,UAAUlvK,OAAO6D,MAAO,wCAWrByrK,UACR,OAAO9hL,KAAK0hL,UAAUl1K,QAAQs1K,YAAc/oF,iBAAA4f,6aC9FpD,IAAA9f,MAAAr8F,QAAA,UACA6pG,gBAAA7pG,QAAA,+BAQa+yJ,IAAM,WACf,OAAiB,EAAVx8H,KAAK89B,yCAWY,SAACn0D,EAAGmK,GAG5B,IAAIq+B,QAAS,EAEb,IAJAxoC,GAAI,EAAA2pG,gBAAAwG,kBAAiBnwG,KACrBmK,GAAI,EAAAw/F,gBAAAwG,kBAAiBhmG,IAGV,CACPq+B,QAAS,EACT,IAAM1Q,KAAO93B,EAEbA,EAAImK,EACJA,EAAI2tB,KAGR,IAAIhP,QAAS,EAAAqzE,MAAAmpF,KAAItlL,EAAImK,EAAG,KAWxB,OAVa,IAAT2e,SACAA,QAAU,KAGV0f,SACA1f,SAAW,GAGfA,QAAS,EAAA6gF,gBAAAqD,kBAAiBlkF,mCAUG,SAACy8J,SAC9B,OAAe,GAAXA,QACOA,QAAU,IAGd,IAAOA,QAAU,+BAQK,SAACC,SAC9B,OAAe,GAAXA,QACOA,QAAU3yB,MAGdA,MAAS2yB,QAAU3yB,+BAmBC,SAAC4yB,cAAeC,eAAgBC,YAAaC,cAExE,IACMC,sBAAuB,EAAAl8E,gBAAAqD,kBAAiBy4E,eACxCK,oBAAqB,EAAAn8E,gBAAAqD,kBAAiB24E,aACtCI,kBAAmB,EAAAp8E,gBAAAqD,kBAAiBy4E,cAAgBE,aACpDK,mBAAoB,EAAAr8E,gBAAAqD,kBAAiB04E,eAAiBE,cAGtD5lL,EAAIq2B,KAAK4qF,IAAI5qF,KAAK6tF,IAAI6hE,iBAAmB,GAAI,GAC9C1vJ,KAAK69B,IAAI2xH,sBAAwBxvJ,KAAK69B,IAAI4xH,oBAAsBzvJ,KAAK4qF,IAAI5qF,KAAK6tF,IAAI8hE,kBAAoB,GAAI,GAK/G,OAFiC,EAAI3vJ,KAAKyvH,MAAMzvH,KAAK8vH,KAAKnmJ,GAAIq2B,KAAK8vH,KAAK,EAAInmJ,IAXpD,mMC5ErB,SAAaR,GAChB,OAAO62B,KAAKk7E,IAAI/xG,gBAQb,SAAaA,GAChB,OAAOA,EAAE0/H,OAAO,SAACl/H,EAAGmK,GAAJ,OAAUnK,EAAImK,IAAK3K,EAAEc,oBAOlC,SAAaN,GAChB,OAAOq2B,KAAK6tF,IAAIlkH,gBAOb,SAAaA,GAChB,OAAOq2B,KAAK69B,IAAIl0D,gBAOb,SAAaA,GAChB,OAAOq2B,KAAKktH,IAAIvjJ,eAQb,SAAYR,GAAe,IAAZqP,OAAY,EAAA1G,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAH,EAC3B,OAAOkuB,KAAKC,MAAM92B,EAAIqP,QAAUA,wBAQ7B,SAAiBopB,IAAKC,MACzB,OAAO7B,KAAKC,MAAMD,KAAK+B,UAAYF,KAAOD,IAAM,IAAMA,eAQnD,SAAWt4B,GACd,OAAc,IAANA,EAAW,GAAK,uDAqCrB,SAAyBmJ,MAAOm9K,eACnC,IAAMC,WAAaD,cAAgBnjK,OAAOqjK,QACpCC,WAAaH,cAAgBnjK,OAAOqjK,QAE1C,OAAOE,SAASv9K,MAAOo9K,WAAYE,qCAWhC,WAAoC,IAAXt9K,MAAW,EAAAX,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAH,EACpC,IAAK,EAAAk+H,WAAA,SAAUv9H,OAIf,OAAOqvB,MAAMrvB,MAAQ,GAHjB,MAAM,IAAI0sB,UAAJ,kDAAA1gB,OAAAiiG,QAAuEjuG,sBAa9E,SAAaw9K,WAAYC,aAC5B,OAASD,WAAaC,YAAeA,aAAeA,gDAwDjD,SAAgBz9K,MAAO09K,WAAYC,YACtC,IAAMC,iBAAmBF,WAAaC,YAAc,EAEpD,GAAI39K,OAAS09K,YAAuBC,YAAT39K,MACvB,OAAOA,MAGX,GAAIA,MAAQ49K,gBACR,OAAOF,WAGX,OAAOC,4CAmCJ,SAAiCE,UAAWC,YAAaC,UAAWC,UAAWC,WAGlF,OAAO1iF,OArBgB2iF,WAmBuBL,UAnBXM,WAmBsBL,YAnBVM,WAmBuBL,UAnBXM,WAmBsBL,UAnBVM,WAmBqBL,UAlBrFI,YAAcC,WAAaD,aAAeF,WAAaD,aAAeE,WAAaF,aAoBxDF,UAAWC,WArBjD,IAA2BC,WAAYC,WAAYC,WAAYC,WAAYC,kDA8BpE,WAGH,IAHsD,IAAZ9mL,OAAY,EAAA6H,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAH,EAC7CW,MAAQ,GAELnJ,EAAI,EAAGA,EAAIW,OAAQX,IAAK,CAC7B,IAAM0nL,aAAc,EAAA14C,SAAA,SAAQ,EAAG,GAE/B7lI,MAAMhC,KAAKugL,aAGf,OAAO,EAAAr2C,kBAAAS,SAAQ3oI,MAAMtB,KAAK,IAAKlH,SA5QnC,IAAA+lI,WAAAh1C,uBAAAvxF,QAAA,oBACA6uI,SAAAt9C,uBAAAvxF,QAAA,kBACAkxI,kBAAAlxI,QAAA,sXAMO,SAASq4B,MAAM34B,GAAe,IAAZ84G,OAAY,EAAAnwG,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAH,EAC9B,OAAOkuB,KAAK8B,MAAM34B,EAAI84G,QAAUA,OAoF7B,SAAS+tE,SAASv9K,MAAOw+K,OAAQC,QACpC,GAAaA,OAATD,OAAiB,CACjB,IAAME,UAAYF,OAClBA,OAASC,OACTA,OAASC,UAGb,OAAOF,QAAUx+K,OAASA,OAASy+K,OA2DhC,SAASljF,MAAMx0B,IAAK43G,cAA8B,IACjD3vJ,KADiCw4B,IAAgB,EAAAnoD,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAV61B,EAAAA,EAG3C,KAAK,EAAAqoG,WAAA,SAAUohD,cACX,MAAM,IAAIjyJ,UAAU,6DAGxB,OAAI86B,MAAQtyB,EAAAA,EACEypJ,aAAN53G,IACOA,IAGJ43G,cAGDn3H,IAANuf,MACA/3C,KAAOw4B,IACPA,IAAMuf,IACNA,IAAM/3C,MAGA2vJ,aAAN53G,IACOA,IAGPvf,IAAMm3H,aACCn3H,IAGJm3H,wPCpLe,SAACznL,EAAGmK,GAC1B,IAAMytB,EAAI53B,EAAE,GAAKmK,EAAE,GACb0tB,EAAI73B,EAAE,GAAKmK,EAAE,GAEnB,OAAOksB,KAAK8vH,KAAMvuH,EAAIA,EAAMC,EAAIA,qJCwB7B,SAAmCm/B,MAAO0wH,WAG7C,OAAQ1wH,MAAQA,OAFS,MAEoB3gC,KAAKktH,IAAImkC,gKA4CnD,SAAwB9lC,cAAeC,aAC1C,OAAO,EAAA3wC,QAAAsW,UAAQ,EAAAtW,QAAAG,MAAKwwC,YAAaD,mCAiB9B,SAAmBvsD,SAAU3tD,QAAkC,IAA1BigJ,kBAA0B,EAAAx/K,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,KACvDw/K,oBACDA,kBAAoBtyF,SAASoW,SAGjC,IAAM3iF,OAAS,CAAC,EAAG,EAAG,GAChB8+J,QAAS,EAAA12E,QAAAG,MAAK3pE,OAAQ2tD,SAAS8J,kBAC/B0oF,iBAAkB,EAAA32E,QAAAsW,SAAQogE,QAMhC,OAJA9+J,OAAO,IAAK,EAAAooF,QAAAE,MAAKw2E,QACjB9+J,OAAO,GAAKA,OAAO,IAAK,EAAAqzE,MAAA+nB,KAAIyjE,kBAAoBE,iBAChD/+J,OAAO,GAAKA,OAAO,IAAK,EAAAqzE,MAAAjoC,KAAIyzH,kBAAoBE,iBAEzC/+J,gDAgDJ,SAAyCusE,SAAUyyF,yBACtD,IAAMC,kBAAoB1yF,SAASqY,IAAI2pB,aAEvC,IAAKhiC,SAASqY,IAAI4d,mBAAqBy8D,kBAAkBx9D,iBACrD,OAAO,EAJoE,IAUzE7K,cAAkBrqB,SAAlBqqB,cAEFA,cAAgB,IAChBA,gBAAiB,EAAAlW,QAAAqpD,QAGrB,IAAMm1B,SAAWz+E,mBAAAqZ,YAAY8G,UACvBu+D,iBAxDV,SAAoCC,6BAA8BC,iCAC9D,IAAIF,kBAAmB,EAAA/2E,QAAAsW,UAAQ,EAAAtW,QAAAG,MAAK62E,6BAA8BC,kCAG9DF,iBAAmB,IACnBA,mBAAoB,EAAAz+E,QAAAqpD,QAGxB,OAAOo1B,iBAgDkBG,CACrBL,kBAAkB5oF,iBAClB2oF,wBAAwB3oF,kBAEtBkpF,aA3CV,SAAyCz+C,eAAgBq+C,kBACrD,IAAII,cAAe,EAAAlsF,MAAAoV,MAAI,EAAA5H,gBAAAwG,kBAAiBy5B,iBAAkB,EAAAjgC,gBAAAwG,kBAAiB83E,mBAExD,IAAfI,eACAA,aAAe,IAAMA,cAGzB,OAAO,EAAA1+E,gBAAAqD,kBAAiBq7E,cAoCHC,CAAgC5oE,cAAeuoE,kBAGpE,OAFiCM,6BAA6BlzF,SAASyoB,YAAakqE,SAAUK,+CAW3F,SAAiCG,YAAa7kC,WACjD,OAAO,EAAAxnD,MAAAoV,MAAI,EAAA/H,QAAAwK,cAAaw0E,YAAa7kC,aApMzC,IAAAxnD,MAAAr8F,QAAA,UAKA0pG,QAAA1pG,QAAA,YAIAoxG,QAAApxG,QAAA,YAKA6pG,gBAAA7pG,QAAA,+BAIAypG,mBAAAzpG,QAAA,kCAsCO,SAAS2oL,yBAAyBzxH,MAAOgxH,UAC5C,OAAOhxH,OAAoB,IAAXgxH,SAAiB,IAa9B,SAASO,6BAA6BvxH,MAAOgxH,SAAUK,cAG1D,OAFqBI,yBAAyBzxH,MAAOgxH,UAE/B3xJ,KAAKktH,IAAmB,GAAf8kC,qkBCzEnC,IAAAnrE,UAAA7rB,uBAAAvxF,QAAA,mBACAspG,MAAA/X,uBAAAvxF,QAAA,eACAq8F,MAAAr8F,QAAA,UAMA0pG,QAAA1pG,QAAA,YACA6pG,gBAAA7pG,QAAA,4fAOO,IAAMsxG,KAAO,SAACz3D,GACjB,IACI,OAAOtjB,KAAK8vH,KAAMxsG,EAAE,GAAKA,EAAE,GAAOA,EAAE,GAAKA,EAAE,IAC7C,MAAOrzC,KACLypB,QAAQ1U,MAAR,4BAAAvG,OAA0C6kC,EAA1C,WAAA7kC,OAAqDxO,0CAWtC,SAACqzC,GACpB,OAAOtjB,KAAKyvH,MAAMnsG,EAAE,GAAIA,EAAE,KAWvB,IAAM03D,KAAO,SAACq3E,GAAIC,IACrB,IAKI,IAJA,IAAMhvI,EAAI,GACJ8uF,MAAQpyG,KAAKw5C,IAAI64G,GAAGpoL,OAAQqoL,GAAGroL,QAG5BX,EAAI,EAAGA,EAAI8oI,MAAO9oI,IACvBg6C,EAAE7yC,KAAK4hL,GAAG/oL,GAAKgpL,GAAGhpL,IAGtB,OAAOg6C,EACT,MAAOrzC,KACLypB,QAAQ1U,MAAR,8BAAAvG,OAA4C4zK,GAA5C,UAAA5zK,OAAuD6zK,GAAvD,YAAA7zK,OAAoExO,0BAarE,IAAMsiL,MAAQ,SAACjvI,EAAGr5C,QACrB,IAAMs3B,EAAI+hB,EAAE,GACN9hB,EAAI8hB,EAAE,GACNy2D,MAAQ/5E,KAAKyvH,MAAMluH,EAAGC,GAM5B,OAJKv3B,SACDA,OAAS,GAGN,EACH,EAAA67F,MAAA+nB,KAAI9T,OAAS9vG,QACb,EAAA67F,MAAAjoC,KAAIk8C,OAAS9vG,6BAUd,IAAMsnH,uBAAyB,SAACihE,eAInC,OAFAA,eAAgB,EAAAr/E,QAAAuD,mBAAkB87E,eAE3B,EACH,EAAA1sF,MAAA+nB,KAAI2kE,gBACJ,EAAA1sF,MAAAjoC,KAAI20H,sGAU0B,SAACA,eACnC,OAAOjhE,wBAAuB,EAAAje,gBAAAqD,kBAAiB67E,iBAM5C,IAAMhhE,KAAO,SAAC6gE,GAAIC,IAErB,IAKI,IAJA,IAAMhvI,EAAI,GACJ8uF,MAAQpyG,KAAKw5C,IAAI64G,GAAGpoL,OAAQqoL,GAAGroL,QAG5BX,EAAI,EAAGA,EAAI8oI,MAAO9oI,IACvBg6C,EAAE7yC,KAAK4hL,GAAG/oL,GAAKgpL,GAAGhpL,IAGtB,OAAOg6C,EACT,MAAOrzC,KACLypB,QAAQ1U,MAAR,6BAAAvG,OAA2C4zK,GAA3C,UAAA5zK,OAAsD6zK,GAAtD,WAAA7zK,OAAkExO,0BA+CnE,IAAMqhH,OAAS,SAACmhE,QAASxwE,QAC5B,OAAO,EAAAlP,MAAA,SAAK0/E,QAAS,SAACnvI,GAAD,OAAOA,EAAI2+D,gCAsBpC,IAAMywE,KAAO,SAAPA,KAAQL,GAAIC,GAAmBK,IACjC,OAAuC,IAAnC3yJ,KAAKw5C,IAAI64G,GAAGpoL,OAAQqoL,GAAGroL,QAEfooL,GAAG,GAAKC,GAAG,GAAOD,GAAG,GAAKC,GAAG,GACgB,IAA9CtyJ,KAAKw5C,IAAI64G,GAAGpoL,OAAQqoL,GAAGroL,OAAQ0oL,GAAG1oL,SAAiB0oL,GAGtDN,GAAG,GACHK,KAAK,CAACJ,GAAG,GAAIA,GAAG,IAAK,CAACK,GAAG,GAAIA,GAAG,KAAON,GAAG,GAC1CK,KAAK,CAACJ,GAAG,GAAIA,GAAG,IAAK,CAACK,GAAG,GAAIA,GAAG,KAAON,GAAG,GAC1CK,KAAK,CAACJ,GAAG,GAAIA,GAAG,IAAK,CAACK,GAAG,GAAIA,GAAG,UANjC,GAiBLC,IAAM,SAANA,IAAOP,GAAIC,IACb,OAAuC,IAAnCtyJ,KAAKw5C,IAAI64G,GAAGpoL,OAAQqoL,GAAGroL,QAEhB2oL,IAAI,CAACP,GAAG,GAAIA,GAAG,GAAI,GAAI,CAACC,GAAG,GAAIA,GAAG,GAAI,IAAI,GAGd,IAAnCtyJ,KAAKw5C,IAAI64G,GAAGpoL,OAAQqoL,GAAGroL,QAEhB,CACHyoL,KAAK,CAACL,GAAG,GAAIA,GAAG,IAAK,CAACC,GAAG,GAAIA,GAAG,MAC/BI,KAAK,CAACL,GAAG,GAAIA,GAAG,IAAK,CAACC,GAAG,GAAIA,GAAG,KACjCI,KAAK,CAACL,GAAG,GAAIA,GAAG,IAAK,CAACC,GAAG,GAAIA,GAAG,WALxC,iBAaiB,SAACnD,QAAS7rI,GACtBA,IACDA,EAAI,CAAC,EAAG,IAGZ,IAAM/hB,EAAI+hB,EAAE,GACN9hB,EAAI8hB,EAAE,GACNuvI,IAAK,EAAA/sF,MAAAjoC,MAAKsxH,SACV2D,IAAK,EAAAhtF,MAAA+nB,MAAKshE,SAEhB,MAAO,CACH5tJ,EAAIsxJ,GAAKrxJ,EAAIsxJ,GACbvxJ,EAAIuxJ,GAAKtxJ,EAAIqxJ,2BAQQ,SAACE,KAAMC,KAAMC,KAAMC,KAAMC,eAC7CA,gBAEDA,cAAgB,GAGpB,IAAMrpL,EAAIipL,KACJ9wJ,EAAIgxJ,KACJhqL,EAAIsoH,uBAAuByhE,MAC3BpvJ,EAAI2tF,uBAAuB2hE,MAC3B9pL,GAAI,EAAA08F,MAAAoV,KAAI03E,IAAI53E,KAAK/4E,EAAGn4B,GAAI85B,GAAKgvJ,IAAI3pL,EAAG26B,IACpCwvJ,QAAS,EAAAttF,MAAAoV,KAAI03E,IAAI53E,KAAKu3E,MAAMtwJ,GAAIswJ,MAAMzoL,IAAK85B,GAAKgvJ,IAAI3pL,EAAG26B,IACvDyvJ,QAAS,EAAAvtF,MAAAoV,KAAI03E,IAAI53E,KAAKu3E,MAAMtwJ,GAAIswJ,MAAMzoL,IAAKb,GAAK2pL,IAAI3pL,EAAG26B,IAE7D,OAAI,EAAAkiE,MAAAoV,KAAI03E,IAAI3pL,EAAG26B,KAAM,EAAAkiE,MAAAoV,KAAI03E,IAAI,CAAC,EAAG,GAAIrhE,wBAAuB,EAAAje,gBAAAqD,kBAAiBw8E,kBAOpD,IALAP,IACjB53E,KAAKu3E,MAAMtwJ,GAAIswJ,MAAMzoL,IACrBb,GAUc,GAAVmqL,QAAeA,QAAU,GAAiB,GAAVC,QAAeA,QAAU,GAE1D7hE,KAAK1nH,EAAGwnH,OAAOroH,EAAGG,KAWjC,IAmCauxH,iBAAmB,SAACiuB,MAAOnuB,MACpC,IAAM64D,OAAQ,EAAAvgF,MAAA,SAAK0nB,KAAM,SAAC84D,QAASjqL,GAC/B,IAAM0sB,MAAc,IAAN1sB,EAAUmxH,KAAKxwH,OAASX,GAAK,EACrCkqL,QAAU/4D,KAAKzkG,MACfy9J,KAAOz4E,KAAKw4E,QAASD,SAE3B,GAAmB,IAAfx4E,KAAK04E,MACL,OAAO14E,KAAKC,KAAK4tC,MAAO2qC,UAI5B,IA9CQjwI,EAuDJ2lE,EACAlwF,EAVE26J,KA7CH,GADKpwI,EA8CYmwI,MA7Cb,GAAInwI,EAAE,IA8CPqwI,GAAK/qC,MAAM,GACXgrC,GAAKF,KAAK,GACVG,GAAKN,QAAQ,GACbO,GAAKL,KAAK,GACVM,GAAKnrC,MAAM,GACXorC,GAAKN,KAAK,GACVO,GAAKV,QAAQ,GACbW,GAAKT,KAAK,GAYhB,OARW,IAAPO,GAEA/qE,GAAKgrE,IADLl7J,GAAK86J,GAAKF,GAAKC,GAAKK,GAAKD,GAAKJ,GAAKG,GAAKC,KAAOJ,GAAKM,GAAKF,GAAKF,KAChDI,GAAKH,IAAMC,GACX,IAAPJ,KAEP3qE,GAAK4qE,IADL96J,GAAKk7J,GAAKF,GAAKC,GAAKH,GAAKD,GAAKI,GAAKL,GAAKC,KAAOI,GAAKF,GAAKF,GAAKM,KAChDJ,GAAKH,IAAMC,IAGzB76J,EAAI,GAAS,EAAJA,IAAUA,EACZiH,KAAKw5C,IACRuhC,KAAKC,KAAK4tC,MAAO2qC,UACjBx4E,KAAKC,KAAK4tC,MAAO4qC,WAIlBz4E,KAAKuW,OAAOoiE,KAAMzqE,MAG7B,OAAOjpF,KAAKw5C,IAAL/7D,MAAAuiB,KAAIgpE,mBAAQsqF,mDAIhB,IAAM94D,cAAgB,SAACouB,MAAOurC,IAGjC,IAAM5yJ,EAAIqnH,MAAM,GACVpnH,EAAIonH,MAAM,GACZ7vH,EAAIo7J,GAAGlqL,OAAS,EAChBm/G,QAAS,EAiBb,OAdA,EAAAvC,UAAA,SAASstE,GAAI,SAAC15D,KAAMnxH,GAChB,IAAM8qL,GAAK35D,KAAK,GACV45D,GAAK55D,KAAK,GACV65D,GAAKH,GAAGp7J,GAAG,GACXw7J,GAAKJ,GAAGp7J,GAAG,GACQyI,EAAL6yJ,IAAkB7yJ,EAAL+yJ,IAAahzJ,GAAK+yJ,GAAKF,KAAO5yJ,EAAI6yJ,KAAOE,GAAKF,IAAMD,KAGjFhrE,QAAUA,QAGdrwF,EAAIzvB,IAGD8/G,mEAUmB,SAACw/B,MAAO4rC,OAElC,IAAIprE,QAAS,EAoBb,OAlBA,EAAAvC,UAAA,SAAS2tE,MAAO,SAACC,KAAMxrE,GAGnB,GAAIuR,cAAcouB,MAAO6rC,MAOrB,OANU,IAANxrE,IAEAG,QAAS,GAIN,CACHA,QAAQ,EACRngB,SAAU0xB,iBAAiBiuB,MAAO6rC,SAMvC,CACHrrE,OAAQA,OACRngB,SAAU0xB,iBAAiBiuB,MAAO4rC,MAAM,MASzC,IAAME,aAAe,SAACvrE,MACzB,OAAO,EAAApW,MAAA,SAAKoW,KAAKsR,KAAM,SAACn3E,GAAD,OAAOA,EAAEwlD,4EAMP,SAAC8/C,MAAOz/B,MACjC,OAAOqR,cAAcouB,MAAO8rC,aAAavrE,gDAoBE,SAAC7rD,IAAK9mB,IAAKm+I,QAASC,UAC/D,IAIIxrL,EACAm4B,EACAC,EANEm7B,KAAOg4H,QAAQ,GACf98H,MAAQ88H,QAAQ,GAAKC,SAAS,GAC9B9wK,IAAM6wK,QAAQ,GACdE,OAASF,QAAQ,GAAKC,SAAS,GAQrC,GAHAp+I,IAAM+7I,MAAM/7I,MAGR,EAAAsvD,MAAAkI,OAAMrxC,KAAMW,IAAI,GAAIzF,SAAWyF,IAAI,KAAM,EAAAwoC,MAAAkI,OAAMlqF,IAAKw5C,IAAI,GAAIu3H,UAAYv3H,IAAI,GAKhF,OAAI9mB,IAAI,GAAK,IACTptC,GAAK0a,IAAMw5C,IAAI,IAAM9mB,IAAI,GACzBjV,EAAI+7B,IAAI,GAAK9mB,IAAI,GAAKptC,GAElB,EAAA08F,MAAAkI,OAAMrxC,KAAMp7B,EAAGs2B,SAAWt2B,GACnB,CAACA,EAAGzd,KAKN,EAAT0yB,IAAI,KACJptC,GAAKyrL,OAASv3H,IAAI,IAAM9mB,IAAI,GAC5BjV,EAAI+7B,IAAI,GAAK9mB,IAAI,GAAKptC,GAElB,EAAA08F,MAAAkI,OAAMrxC,KAAMp7B,EAAGs2B,SAAWt2B,GACnB,CAACA,EAAGszJ,QAKfr+I,IAAI,GAAK,IACTptC,GAAKuzD,KAAOW,IAAI,IAAM9mB,IAAI,GAC1BhV,EAAI87B,IAAI,GAAK9mB,IAAI,GAAKptC,GAElB,EAAA08F,MAAAkI,OAAMlqF,IAAK0d,EAAGqzJ,UAAYrzJ,GACnB,CAACm7B,KAAMn7B,GAKT,EAATgV,IAAI,KACJptC,GAAKyuD,MAAQyF,IAAI,IAAM9mB,IAAI,GAC3BhV,EAAI87B,IAAI,GAAK9mB,IAAI,GAAKptC,GAElB,EAAA08F,MAAAkI,OAAMlqF,IAAK0d,EAAGqzJ,UAAYrzJ,GACnB,CAACq2B,MAAOr2B,QALvB,4OCrgBJ,IAAA2xE,QAAA1pG,QAAA,kBACA29G,YAAA39G,QAAA,sBACA01G,UAAA11G,QAAA,4SASqBqrL,2BAOjB,SAAAA,gBAAY9zB,UAA0C,IAAhCH,OAAgC,EAAA/uJ,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAvB,EAAGijL,YAAoB,EAAAjjL,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,oIAAMiqF,CAAA9uF,KAAA6nL,iBAUlD7nL,KAAK+nL,SAAW,KAUhB/nL,KAAK+zJ,SAAWA,SAWhB/zJ,KAAKkyG,UAAY,KAUjBlyG,KAAKsuJ,OAAS,KAWdtuJ,KAAKgoL,UAAY,KAWjBhoL,KAAKioL,MAAQ,KAWbjoL,KAAKkoL,UAAYJ,YAWjB9nL,KAAK6zJ,QAAUD,OAEf5zJ,KAAK00F,MAAMozF,gIA+FTA,aACkB,OAAhBA,cACAA,YAAYG,MAAQjoL,MAEfmoL,4EAgBT,IAAMvjL,MAAQ5E,KAAKqzJ,WACb1mJ,IAAM3M,KAAK+zJ,SAEjB/zJ,KAAKgoL,UAAY,EACZpjL,MAAM,GAAK+H,IAAI,IAAM,GACrB/H,MAAM,GAAK+H,IAAI,IAAM,GAE1B3M,KAAK+nL,UAAW,EAAA5tE,YAAAiuE,gBAAexjL,MAAO+H,KACtC3M,KAAKkyG,WAAY,EAAAA,UAAA4C,YAAWlwG,MAAO+H,+CAcnC,IAAMkxH,QAAU79H,KAAKmmB,KAErB,GAAgB,OAAZ03G,QACA,OAAO,EAMX,IAAM7tB,GAAKhwG,KAAK+qI,QACV96B,GAAKjwG,KAAKmmB,KAAK4kH,QAAUh4G,KAAK89B,GAC9Bw3H,WAAat1J,KAAKw5C,IAAIvsE,KAAKg8F,SAAU6hC,QAAQ7hC,UAAY,EACzDssF,kBAAoBv1J,KAAKk7E,KAAI,EAAA/H,QAAAwK,cAAaV,GAAIC,KAGpD,OAFoB,EAAIl9E,KAAKyvH,MAAMxiJ,KAAK6zJ,QAASw0B,aAE1CC,kDA7IP,OAAOtoL,KAAK+nL,0CAWZ,OAAO/nL,KAAKkyG,2CAWZ,OAAOlyG,KAAKgoL,uCAWZ,OAAOhoL,KAAKioL,uCAWZ,OAAOjoL,KAAKkoL,yCAWZ,IAAMt0B,OAAS5zJ,KAAK6zJ,QAGpB,OAAe,IAAXD,OACOA,OAGJ5zJ,KAAKuoL,kBAAoB30B,OAAS,qCAWzC,OAA0B,OAAnB5zJ,KAAKkoL,UAAqB,KAAOloL,KAAKkoL,UAAUn0B,uXC7L/D,IAAAhuD,QAAAhY,uBAAAvxF,QAAA,iBACA0pG,QAAA1pG,QAAA,kBACA29G,YAAA39G,QAAA,sBACA01G,UAAA11G,QAAA,oBACA6pG,gBAAA7pG,QAAA,+BAKAgsL,iBAAAz6F,uBAAAvxF,QAAA,sBACAo1G,eAAA7jB,uBAAAvxF,QAAA,8BACAisL,UAAA16F,uBAAAvxF,QAAA,kCACAw8F,gBAAAx8F,QAAA,+BACAu8F,iBAAAv8F,QAAA,whCAYqBksL,uBAOjB,SAAAA,YAAYlrI,sIAAOsxC,CAAA9uF,KAAA0oL,aAYf1oL,KAAK2oL,QAAU,GAWf3oL,KAAK4oL,OAASprI,MAEdx9C,KAAK00F,2JAuFAlvF,OACLxF,KAAK6oL,qBAAqBrjL,OAE1BxF,KAAK2oL,QAAQnlL,KAAKgC,+CAUN,IAAAyO,MAAAjU,KACZ,IAAKA,KAAK8oL,QACN,OAAO,KAFC,IAMJ/2F,SAAa/xF,KAAb+xF,SACFyoB,YAA2B,OAAbzoB,SAAoB,KAAOA,SAASyoB,YAClD24C,YAAcnzJ,KAAK+oL,8BACnBC,WAAUjtF,mBAAO/7F,KAAK2oL,SACxB/0B,OAAS,EAEO,OAAhBT,aAAwBnzJ,KAAKipL,gBAC7Br1B,OAAST,YAAYQ,YAIzB,IAAMu1B,cAAgB,CAClBpB,YAAa,KACbqB,cAAe,EACfC,cAAe,GAKnB,GAAoB,OAAhBj2B,YAAsB,CAAA,IACdr+B,UAAcq+B,YAAdr+B,UAERo0D,cAAcG,UAAYv0D,UAE1Bk0D,WAAW,GAAKl0D,UAIpB,IAAMs+B,WAAapzJ,KAAKspL,qBAAqBN,WAAWvgL,SAClD8gL,WAAa,IAAIf,iBAAA,QAAgBp1B,YA+CvC,OA9CA81B,cAAcpB,YAAcyB,WAE5BP,WAAWptD,OAAO,SAAC4tD,WAAY7tC,MAAOtlI,OAAU,IACpCyxK,YAAgB0B,WAAhB1B,YACFqB,cAAiCK,WAAjCL,cAAeC,cAAkBI,WAAlBJ,cACf1sD,IAAM,IAAI8rD,iBAAA,QACZv0K,MAAKq1K,qBAAqB3tC,OAC1BiY,OACAk0B,aAEE/8C,SAAU,EAAA1kC,gBAAAqF,mBAAkBgxB,IAAIqO,SAClC/uC,UAAW,EAAAqK,gBAAA0f,IAAG2W,IAAI1gC,UAClB5rC,SAAW,EAYf,GATc,IAAV/5C,OAA+B,OAAhB88I,cACfn3D,WAAY,EAAAqK,gBAAA0f,IAAGotC,YAAYs2B,YAGX,OAAhBjvE,cACApqD,UAAW,EAAA21C,QAAA,SAAQ/J,SAAWwe,YAAezhB,iBAAAimB,KAAKQ,oBAAqB,IAI5D,EAAXxjB,SAAc,CACd,IAAMsyD,OAAS,CACXr6I,MAAKy1K,YAAY1tF,SAAU5rC,SAAU26E,UAGzCo+C,eAAiBntF,SACjBotF,eAAgB,EAAArjF,QAAA,SAAOqjF,cAAgBh5H,SAAU,GAE7C+4H,gBAAkBntF,UAClBsyD,OAAO9qJ,KAAKyQ,MAAKy1K,YAAYP,cAAeC,gBAGhD1sD,IAAI4xB,OAASA,OAGjB,MAAO,CACHw5B,YAAaprD,IACbysD,cAAAA,cACAC,cAAAA,gBAELF,eAEI,CACH/1B,YAAAA,YACAV,SAAU82B,WAAWpjK,gDAYzBnmB,KAAK2oL,QAAQ/zK,oDASK,IAGV5X,OAAWgD,KAAK2oL,QAAhB3rL,OAEK,EAATA,QACAgD,KAAK2oL,QAAQn2K,OAAOxV,OAAS,EAAG,oCAc/BwgD,OACLx9C,KAAK4oL,OAASprI,8CAaFh4C,OACZxF,KAAK6oL,qBAAqBrjL,OAErBxF,KAAK28F,aAIL38F,KAAK8oL,QAMV9oL,KAAK2oL,QAAQ3oL,KAAK2oL,QAAQ3rL,OAAS,GAAKwI,MALpCxF,KAAK68F,SAASr3F,8DAmBlB,IAAKxF,KAAK2pL,oBACN,OAAO,KAFe,IAKlB53F,SAAa/xF,KAAb+xF,SAER,GAAiB,OAAbA,SACA,OAAO,KARe,IA6CtB63F,UAlCIpvE,YAA6BzoB,SAA7ByoB,YAAaxJ,YAAgBjf,SAAhBif,YAEf2iD,YAAa,EAAAttD,gBAAAyS,IAAG0B,aAAekqE,GAAgB3xJ,KAAK89B,KACpDjsD,MAAQmtF,SAAS8J,iBACjBt4C,IAAMvjD,KAAK6pL,4BAA4B,GAGvCC,cAAe,EAAA3vE,YAAAiuE,gBAAexjL,MAAO2+C,KACrCiwG,OAAQ,EAAAttD,QAAAuD,mBAAkBqgF,aAAe94E,aAAej+E,KAAK89B,GAC7Dq3C,UAAYsrD,MAAQ,GAAK,EAGzBu2B,gBAAkB/4E,YAAe9I,UAAYn1E,KAAK89B,GAAK,EACvD8mF,OAAS,CACX/yI,MAAM,GAAM+uJ,WAAa5gI,KAAK6tF,IAAImpE,iBAClCnlL,MAAM,GAAM+uJ,WAAa5gI,KAAK69B,IAAIm5H,kBAIhCC,oBAAqB,EAAA7vE,YAAAiuE,gBAAezwC,OAAQp0F,KAC5C0mI,qBAAsB,EAAA/3E,UAAA4C,YAAW6iC,OAAQp0F,KACzC2mI,eAAiBF,mBAAsB9hF,UAAYn1E,KAAKoxF,KAAKwvC,WAAas2B,qBAG1Ex2B,WAAas2B,gBAAkBh3J,KAAK89B,GACpC6iG,UAAYw2B,eAAkBhiF,UAAYn1E,KAAK89B,GAAK,EAGpDikE,UAAY,CACd6iB,OAAO,GAAMgc,WAAa5gI,KAAK6tF,IAAI8yC,WACnC/b,OAAO,GAAMgc,WAAa5gI,KAAK69B,IAAI8iG,YAYvC,OANIk2B,UADAp2B,MACYE,UAAYD,WAEZA,WAAaC,UAItB,CACHF,MAAAA,MACAG,WAAAA,WACA81B,UALc91B,YAAa,EAAAztD,QAAAuD,mBAAkBmgF,WAM7Cn2B,WAAAA,WACAC,UAAAA,UACA/b,OAAAA,OACA7iB,UAAAA,+CAeI94B,SAAU5rC,UAA0B,IAAhB26E,QAAgB,EAAAlmI,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,KAClCizF,MAAK,GAAAtmF,OAAMwqF,SAASmuF,YAAY,GAA3B,OAUT,OARiB,IAAb/5H,WACA0nC,OAAK,KAAAtmF,OAAS4+C,SAASg0C,QAAQ,GAA1B,SAGO,OAAZ2mC,UACAjzC,OAAK,KAAAtmF,OAASu5H,QAAT,QAGFjzC,0DAWiBzhF,OACxB,IAAMslI,MAAQ37I,KAAK2oL,QAAQtyK,OAE3B,OAAOrW,KAAKspL,qBAAqB3tC,oDAWhBA,OACjB,OAAOA,MAAM9/C,kBAAoB8/C,mDAUhBn2I,OACjB,KAAMA,iBAAiBwf,OAASxf,iBAAiBosG,eAAA,SAAiBpsG,iBAAiBijL,UAAA,SAC/E,MAAM,IAAIv2J,UAAJ,mBAAA1gB,OAAAiiG,QAAwCjuG,OAAxC,wFA3XV,OAAKxF,KAAK28F,YAAgB38F,KAAK2oL,QAAQ,aAAc/2E,eAAA,QAI9C5xG,KAAK2oL,QAAQ,GAHT,qCAcX,OAA6B,EAAtB3oL,KAAK2oL,QAAQ3rL,0CAYpB,OAA+B,IAAxBgD,KAAK2oL,QAAQ3rL,mDAYpB,OAAOgD,KAAK4oL,SAAW5vF,gBAAA4yE,mBAAmBE,aACtC9rK,KAAK4oL,SAAW5vF,gBAAA4yE,mBAAmBG,gDAYvC,OAAO/rK,KAAK4oL,SAAW5vF,gBAAA4yE,mBAAmBG,skBCvHlD,IAAA59E,UAAAJ,uBAAAvxF,QAAA,oBACA4tL,aAAAr8F,uBAAAvxF,QAAA,kBACA42F,gBAAArF,uBAAAvxF,QAAA,2BACA+xF,YAAA/xF,QAAA,2BACAw8F,gBAAAx8F,QAAA,+BACAs8F,qBAAAt8F,QAAA,uZAkTe,eApSX,SAAA6tL,6IAAcv7F,CAAA9uF,KAAAqqL,aAUVrqL,KAAKsqL,aAAe,KAQpBtqL,KAAKk0F,UAAY/F,UAAA,QAYjBnuF,KAAKuqL,OAAS,GAWdvqL,KAAK4oL,OAAS,KAEd5oL,KAAK00F,QACAuf,iBACA7hB,0HAgDL,OAFApyF,KAAKwqL,SAASp3F,gBAAA,QAAeiS,cAAcvM,qBAAAqI,kBAAkBgqE,oBAEtDnrK,8CAYP,OAFAA,KAAKyqL,gCAAkCzqL,KAAK0qL,yBAAyBh4H,KAAK1yD,MAEnEA,uCAWP,OAFAA,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMw5E,0BAA2BxqK,KAAKyqL,iCAElDzqL,sCAWP,OAFAA,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMw5E,0BAA2BxqK,KAAKyqL,iCAEjDzqL,qCAQPA,KAAKuqL,OAAS,GACdvqL,KAAKsqL,aAAe,sCAef9kL,OACLxF,KAAK2qL,uBAEL3qL,KAAKsqL,aAAaztF,SAASr3F,+CAW3B,OAAOxF,KAAKuqL,OAAO3uD,OAAO,SAAC1rH,KAAMrO,MAK7B,OAJIA,KAAKinL,SACL54K,KAAK1M,KAAK3B,KAAKwwJ,iBAGZniJ,MACR,sCAUHlQ,KAAK2qL,uBAIL3qL,KAAKsqL,aAAaM,kBAGb5qL,KAAKsqL,aAAaxB,SACnB9oL,KAAKuqL,OAAO31K,MAGhB5U,KAAKsqL,aAAe,mDAUpBtqL,KAAK2qL,uBAEL3qL,KAAKsqL,aAAaxtF,6DAUlB,GAAI98F,KAAKg9F,YACL,MAAM,IAAIrgG,MAAM,gEAGpB,IAAMkF,KAAO,IAAIuoL,aAAA,QAAYpqL,KAAK4oL,QAElC5oL,KAAKuqL,OAAO/mL,KAAK3B,MACjB7B,KAAKsqL,aAAezoL,sCAaf27C,OACL,IAAMqtI,QAAUjgK,OAAO8R,KAAKs8D,gBAAA4yE,oBAAoB/wI,KAAK,SAACmhF,GAClD,OAAOhjB,gBAAA4yE,mBAAmB5vD,KAAOx+D,QAGrCx9C,KAAK4oL,OAASiC,QAAUrtI,MAAQw7C,gBAAA4yE,mBAAmBC,SAEnD7rK,KAAKuqL,OAAO72J,QAAQ,SAAC7xB,MAAD,OAAUA,KAAK2oL,SAAShtI,iDAahCh4C,OACZxF,KAAK2qL,uBAEL3qL,KAAKsqL,aAAa1tF,gBAAgBp3F,wDAebg4C,OACrBx9C,KAAKwqL,SAAShtI,sDAUd,IAAKx9C,KAAKg9F,YACN,MAAMrgG,MAAK,oDAAA6U,OAAqDxR,KAAKg9F,+CApOzE,OAA8B,IAAvBh9F,KAAKuqL,OAAOvtL,0CAYnB,OAAOgD,KAAKg9F,aAAeh9F,KAAKsqL,aAAa3tF,+CAW7C,OAA6B,OAAtB38F,KAAKsqL,0dClGpB,IAAA1wE,UAAA7rB,uBAAAvxF,QAAA,mBACAq9G,UAAA9rB,uBAAAvxF,QAAA,mBACAspG,MAAA/X,uBAAAvxF,QAAA,eACA+2F,mBAAAxF,uBAAAvxF,QAAA,wBACA25H,eAAApoC,uBAAAvxF,QAAA,qDACAu8F,iBAAAv8F,QAAA,0YAEqBsuL,uBACjB,SAAAA,YAAYj7F,KAAMk7F,UACd,iIADwBj8F,CAAA9uF,KAAA8qL,cACpB,EAAAjxE,UAAA,SAAShqB,MACT,MAAM,IAAI39D,UAAU,0EAGxB,IAAI,EAAA2nF,UAAA,SAASkxE,UACT,MAAM,IAAI74J,UAAJ,4CAAA1gB,OAA0Dq+E,KAA1D,yBAGV7vF,KAAKgrL,mBAAqB,GAE1BhrL,KAAKirL,MAAQ,GAEbjrL,KAAKojC,KAAKysD,KAAMk7F,wHAoBfl7F,KAAMk7F,UAMP,OALA/qL,KAAKgrL,mBAAqBD,SAC1B/qL,KAAKirL,MAAQp7F,KAEb7vF,KAAKkrL,wCAAwCH,UAEtC/qL,qCAOP,OAHAA,KAAKgrL,mBAAqB,GAC1BhrL,KAAKirL,MAAQ,GAENjrL,qEAG6B+qL,UAAU,IAAA92K,MAAAjU,MAC9C,EAAA45G,UAAA,SAASmxE,SAAU,SAAC5hF,SAChB,IAAK5V,mBAAA,QAAkBwmC,WAAW5wB,SAC9B,MAAM,IAAIj3E,UAAU,yBAAA1gB,OAAyB23F,QAAzB,UAAA,WAAA33F,OACLyC,MAAKg3K,MADA,+FAQCjyD,UAAWC,UACxC,GAAID,YAAcC,SAAlB,CAMA,IAAMkyD,gBAAkBnrL,KAAKgrL,mBAAmBx+K,QAAQwsH,WAClDoyD,eAAiBprL,KAAKgrL,mBAAmBx+K,QAAQysH,UAEvD,GAAIkyD,kBAAoBpyF,iBAAA4f,cAAxB,CAMA,GAAIyyE,iBAAmBryF,iBAAA4f,cAAvB,CAMA,IAAMoyE,SAAW/qL,KAAKqrL,6BAA6BF,gBAAiBC,gBAGpE,OAFuB,EAAAtlF,MAAA,SAAKilF,SAAU,SAAC5hF,SAAD,OAAa,IAAIgtB,eAAA,QAAchtB,WANjE18E,QAAQ1U,MAAR,2BAAAvG,OAAyCxR,KAAKirL,MAA9C,4BAAAz5K,OAA8EynH,SAA9E,WANAxsG,QAAQ1U,MAAR,4BAAAvG,OAA0CxR,KAAKirL,MAA/C,4BAAAz5K,OAA+EwnH,UAA/E,WATAvsG,QAAQ1U,MAAM,2FAiCXoxF,SACP,OAAOnpG,KAAKgrL,mBAAmBx+K,QAAQ28F,WAAapQ,iBAAA4f,mEAK3B2yE,WAAYC,UACrC,GAAID,aAAeC,SACf,MAAM,IAAIr5J,UAAU,wDAGxB,IAAMs5J,cAAgBz4J,KAAKk7E,IAAIs9E,SAAWD,YAAc,EAExD,OAAeA,WAAXC,SACOvrL,KAAKgrL,mBAAmBrkL,QAAQ6L,OAAO84K,WAAYE,eAGvDxrL,KAAKgrL,mBAAmBrkL,QAAQ6L,OAAO+4K,SAAUC,eAAet1I,oDAxFvE,OAAOl2C,KAAKgrL,gDAIZ,OAAOhrL,KAAKirL,sdCpCpB,IAAAz5E,OAAAzjB,uBAAAvxF,QAAA,gBACAo9G,UAAA7rB,uBAAAvxF,QAAA,mBAGA4yH,iBAAArhC,uBAAAvxF,QAAA,2BACA01G,UAAA11G,QAAA,oBACAisL,UAAA16F,uBAAAvxF,QAAA,smDAqMe,+qBAxLa4yH,iBAAA,kFASfq8D,QAAS/mF,mBACM,IAAhB1kG,KAAKhD,QAKLgD,KAAK0rL,cAGT1rL,KAAK2rL,wBAAwBF,QAAS/mF,yDAUtC1kG,KAAK4rL,kBAEL5rL,KAAKirI,OAAS,8CAUC4gD,UACf,KAAMA,oBAAoBpD,UAAA,SACtB,MAAM,IAAIv2J,UAAU,mDAGxBlyB,KAAKirI,OAAOznI,KAAKqoL,gDAWP1iF,SACV,OAAKA,UAIY,EAAAqI,OAAA,SAAMxxG,KAAKirI,OAAQ,CAAEtqI,KAAMwoG,QAAQ5tD,iBAHzC,oDAeQ4tD,SACnB,IAAM3M,SAAWx8F,KAAKqpG,cAAcF,SAEpC,OAAK3M,SAIEA,SAASX,iBAHL,8CAcEsN,SACb,IAAM3M,SAAWx8F,KAAKqpG,cAAcF,SAEpC,OAAK3M,SAIEA,SAASsvF,OAHL3iF,QAAQ58E,oDAcTw+B,UAA+B,IAArBghI,YAAqB,EAAAlnL,UAAA7H,aAAA4F,IAAAiC,UAAA,IAAAA,UAAA,GACzC,OAAO7E,KAAKirI,OAAOrP,OAAO,SAACowD,WAAYzoI,KAAQ,IAAA0oI,YAAA9vF,eACjB6vF,WADiB,GACtCr3E,QADsCs3E,YAAA,GAC7BjwF,SAD6BiwF,YAAA,GAErCp3E,GAAI,EAAA3C,UAAA4C,YAAWvxD,IAAIs4C,iBAAkB9wC,UAO3C,OALKxH,IAAI2oI,WAAaH,cAAgBl3E,EAAI7Y,WACtC2Y,QAAUpxD,IACVy4C,SAAW6Y,GAGR,CAACF,QAAS3Y,WAClB,CAAC,KAAMthE,EAAAA,uDAWayuE,SACvB,IAAM3M,SAAWx8F,KAAKqpG,cAAcF,SAEpC,OAAK3M,SAIEA,SAASmI,cAHL,6CAcX,OAAO3kG,KAAKirI,OAAOr+F,OAAO,SAAC2W,KAAD,OAASA,IAAI2oI,4DAanBT,QAAS/mF,mBAAmB,IAAAzwF,MAAAjU,MAChD,EAAA45G,UAAA,SAAS6xE,QAAS,SAACU,QAAShjF,SACxB,IAAM3M,SAAW,IAAIisF,UAAA,QAASt/E,QAASgjF,QAASznF,mBAGhDzwF,MAAKm4K,mBAAmB5vF,uDAU5B,EAAAod,UAAA,SAAS55G,KAAKirI,OAAQ,SAACzuC,UACnBA,SAAS7qD,uZCrMrB,IAAAqzG,YAAAj3D,uBAAAvxF,QAAA,qBACAszH,YAAA/hC,uBAAAvxF,QAAA,sBACA+6I,qBAAAxpD,uBAAAvxF,QAAA,gCACAwmI,mBAAAxmI,QAAA,gnDAUqB6vL,8BAQjB,SAAAA,SAAYljF,QAASgjF,QAASznF,mBAAmB,IAAAzwF,MAAA,qIAAA66E,CAAA9uF,KAAAqsL,WAC7Cp4K,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAA68D,UAAAtvL,KAAAiD,QASKW,KAAO,GASZsT,MAAKq4K,QAAU,GASfr4K,MAAKyvH,eAAiB,KAEtBzvH,MAAKmvB,KAAK+lE,QAASgjF,QAASznF,mBA9BiBzwF,yYARf67G,YAAA,yEA4F7B3mB,QAASgjF,QAASznF,mBACnB,IAAKyE,UAAYgjF,UAAYznF,kBACzB,MAAM,IAAIxyE,UAAU,qBAAA1gB,OAAqB23F,QAArB,uDAAA,YAAA33F,OAAAiiG,QACGtK,SADH,MAAA33F,OAAAiiG,QACsB04E,SADtB,MAAA36K,OAAAiiG,QACyC/O,qBAH3B,IAAA6nF,SAAApwF,eAMXgwF,QANW,GAM/BK,IAN+BD,SAAA,GAM1BE,IAN0BF,SAAA,GAMrBT,OANqBS,SAAA,GAgBtC,OATAvsL,KAAKW,KAAOwoG,QAAQ5tD,cACpBv7C,KAAK0jI,eAAiB,IAAI6T,qBAAA,QAAoB,CAACi1C,IAAKC,KAAM/nF,kBAAmBA,kBAAkBi0C,eAG3F34I,KAAKssL,aADa,IAAXR,OACQ3iF,QAAQ58E,cAERu/J,OAAOv/J,cAGnBvsB,qCAeP,OAJAA,KAAKW,KAAO,GACZX,KAAKssL,QAAU,GACftsL,KAAK0jI,eAAiB,KAEf1jI,6CAiBP,OAAO,EAAAglJ,YAAA,SAAWhlJ,KAAK0jI,kDA3FvB,OAAO1jI,KAAKW,KAAK,KAAOqiI,mBAAAmB,2DAUxB,OAAOnkI,KAAK0jI,wDAUZ,OAAO1jI,KAAK0jI,eAAe7nC,gDAU3B,OAAO77F,KAAKssL,yZC5FpB,IAAAI,WAAA3+F,uBAAAvxF,QAAA,oBACAmwL,WAAA5+F,uBAAAvxF,QAAA,gBACA4yH,iBAAArhC,uBAAAvxF,QAAA,ypCAWqBowL,yCAKjB,SAAAA,eAAYC,UAAU,IAAA54K,MAIlB,iIAJkB66E,CAAA9uF,KAAA4sL,gBAClB34K,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAAo9D,gBAAA7vL,KAAAiD,OAGgB,MAAZ6sL,YAAqB,EAAAH,WAAA,SAAUG,UAC/B,MAAM,IAAI36J,UAAJ,qFAAA1gB,OAAAiiG,QAC0Fo5E,YANlF,OA0BlB54K,MAAKygF,MAAMm4F,UA1BO54K,+YALkBm7G,iBAAA,gFAsDlCy9D,UACF7sL,KAAK8sL,cAAcD,0CAQnB7sL,KAAK+sL,MAAMr5J,QAAQ,SAACld,MAAD,OAAUA,KAAKm7B,UAElC3xC,KAAKirI,OAAS,8CAaC9hC,SACf,QAAKA,UAILA,QAAUA,QAAQ5tD,cAEXv7C,KAAKirI,OAAOpwG,KAAK,SAACqoC,MAAD,OAAUA,KAAKimC,UAAYA,2DAW/BA,SACpB,IAAKA,QACD,OAAO,KAGXA,QAAUA,QAAQ5tD,cAElB,IAAM48D,MAAQn4G,KAAKirI,OAAOn+F,KAAK,SAACo2B,MAAD,OAAUA,KAAKimC,UAAYA,UAE1D,OAAOgP,MAAQA,MAAM5O,eAAiB,2CAU5BsjF,UAAU,IAAA37F,OAAAlxF,KACf6sL,UAMLjiK,OAAO8R,KAAKmwJ,UAAUn5J,QAAQ,SAACy1E,SACvBjY,OAAK87F,mBAAmB7jF,UAI5BjY,OAAK+5C,OAAOznI,KAAK,IAAImpL,WAAA,QAAUxjF,QAAS0jF,SAAS1jF,2CArFrD,OAAOnpG,KAAKirI,mXCvDpB,IAAAzQ,WAAAzsC,uBAAAvxF,QAAA,oBACAszH,YAAA/hC,uBAAAvxF,QAAA,sBACA0pG,QAAA1pG,QAAA,kBACAyjK,oBAAAzjK,QAAA,0CACA0jK,iBAAA1jK,QAAA,uCACAo+H,qBAAAp+H,QAAA,oCACA6pG,gBAAA7pG,QAAA,6mDAUqBywL,+BAOjB,SAAAA,UAAY9jF,QAAS+jF,YAAY,IAAAj5K,MAG7B,iIAH6B66E,CAAA9uF,KAAAitL,WAC7Bh5K,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAAy9D,WAAAlwL,KAAAiD,SAEK,EAAAw6H,WAAA,SAAUrxB,SACX,MAAM,IAAIj3E,UAAJ,0DAAA1gB,OAAAiiG,QAC+DtK,WAElE,KAAK,EAAAqxB,WAAA,SAAU0yD,YAClB,MAAM,IAAIh7J,UAAJ,6DAAA1gB,OAAAiiG,QACkEy5E,cAT/C,OAoB7Bj5K,MAAKk1F,QAAU,GASfl1F,MAAKs1F,eAAiB,KAEtBt1F,MAAKygF,MAAMyU,QAAS+jF,YA/BSj5K,0YAPE67G,YAAA,2EAoD7B3mB,QAAS+jF,YAIX,OAHAltL,KAAKmpG,QAAUA,QACfnpG,KAAKupG,eAAiBvpG,KAAKmtL,qBAAqBD,YAEzCltL,qCAQPA,KAAKmpG,QAAU,GACfnpG,KAAKupG,eAAiB,kDAcL2jF,YAAY,IAAAh8F,OAAAlxF,KACvBupG,eAAiB,GAoCvB,GAlCA2jF,WAAWz1K,MAAM,KAAKic,QAAQ,SAACld,MAC3B,GAAqC,MAAjC+yF,eAAeC,iBAA0B,EAAAy2D,oBAAA8E,qBAAoBvuJ,MAC7D+yF,eAAeC,gBAAiB,EAAAtD,QAAAuD,oBAAkB,EAAApD,gBAAAqD,kBAAiB,IAAMl9E,SAAShW,KAAM,WAK5F,GAAoC,MAAhC+yF,eAAeN,gBAAyB,EAAAg3D,oBAAA6E,wBAAuBtuJ,MAC/D+yF,eAAeN,eAAgB,EAAAi3D,iBAAAsE,qBAAoBhuJ,WAKvD,GAAgC,MAA5B+yF,eAAeL,YAAqB,EAAAg3D,iBAAAyE,gBAAenuJ,MACnD+yF,eAAeL,UAAY1yF,SAD/B,CAboC,IAAA+uH,uBAAAppC,gBAoBb,EAAAy+B,qBAAA4K,uBAAsBhvH,MApBT,GAoB7BhR,MApB6B+/H,uBAAA,GAoBtBJ,MApBsBI,uBAAA,GAqBpC,GAAa,MAAT//H,MAUJ,MAAM,IAAI7I,MAAJ,iCAAA6U,OAA2C0/E,OAAKiY,QAAhD,OAAA33F,OAA6DgF,OAT/D,GAAc,MAAV2uH,MACA,MAAM,IAAIxoI,MAAJ,2CAAA6U,OAAqD0/E,OAAKiY,QAA1D,OAAA33F,OAAuEgF,KAAvE,kBAGV+yF,eAAeoV,aAAen5G,SAQD,MAAjC+jG,eAAeC,eACf,MAAM,IAAI7sG,MAAJ,qCAAA6U,OAA+CxR,KAAKmpG,QAApD,OAAA33F,OAAiE07K,aAG3E,GAAoC,MAAhC3jF,eAAeN,cACf,MAAM,IAAItsG,MAAJ,4CAAA6U,OAAsDxR,KAAKmpG,QAA3D,OAAA33F,OAAwE07K,aAGlF,GAAgC,MAA5B3jF,eAAeL,UACf,MAAM,IAAIvsG,MAAJ,wCAAA6U,OAAkDxR,KAAKmpG,QAAvD,OAAA33F,OAAoE07K,aAG9E,OAAO3jF,+gBChJf,IAAAoE,SAAA5f,uBAAAvxF,QAAA,kBACAk1I,UAAA3jD,uBAAAvxF,QAAA,mBACAo9G,UAAA7rB,uBAAAvxF,QAAA,mBACAwxF,QAAAD,uBAAAvxF,QAAA,iBACAq9G,UAAA9rB,uBAAAvxF,QAAA,mBACAspG,MAAA/X,uBAAAvxF,QAAA,eACAk1G,UAAA3jB,uBAAAvxF,QAAA,mBACAm2I,OAAA5kD,uBAAAvxF,QAAA,gBACA4wL,aAAAr/F,uBAAAvxF,QAAA,kBACAo8F,eAAA7K,uBAAAvxF,QAAA,oBACA6wL,gBAAAt/F,uBAAAvxF,QAAA,qBACA8wL,gBAAAv/F,uBAAAvxF,QAAA,qBACA+6I,qBAAAxpD,uBAAAvxF,QAAA,gCACAi1H,gBAAAj1H,QAAA,+BACA6pG,gBAAA7pG,QAAA,+BACAu8F,iBAAAv8F,QAAA,8xBAwkBe,eA3jBX,SAAA+wL,mJAAcz+F,CAAA9uF,KAAAutL,mBACVvtL,KAAKwtL,kBAAoB,GASzBxtL,KAAKytL,gBAAkB,IAAIJ,gBAAA,QA2B3BrtL,KAAK0tL,qBAAuB,GAS5B1tL,KAAK6hJ,mBAAqB,KAS1B7hJ,KAAK2tL,gBAAkB,uHA0DtB52C,aAAa,IAEV62C,QACA72C,YADA62C,QAASC,MACT92C,YADS82C,MAAOd,MAChBh2C,YADgBg2C,MAAOe,KACvB/2C,YADuB+2C,KAAMC,MAC7Bh3C,YAD6Bg3C,MAGjC/tL,KAAKguL,6BAA6Bj3C,aAClC/2I,KAAKiuL,yBAAyBJ,OAC9B7tL,KAAKkuL,4BAA4BN,SACjC5tL,KAAKmuL,0BAA0BpB,OAC/B/sL,KAAKouL,+BAA+BN,KAAMC,OAC1C/tL,KAAKquL,sBACLruL,KAAKsuL,uBACLtuL,KAAKuuL,2FASmBX,SAAS,IAAA35K,MAAAjU,MACjC,EAAA45G,UAAA,SAASg0E,QAAS,SAAC7C,SAAU5qD,YACzB,GAAIA,cAAclsH,MAAKu5K,kBACnB,MAAM,IAAIt7J,UAAJ,mCAAA1gB,OAAiD2uH,WAAjD,oCAGVlsH,MAAKu5K,kBAAkBrtD,YAAc,IAAIitD,aAAA,QAAYjtD,WAAY4qD,SAAU92K,0DAU1D45K,OACrBj1F,eAAA,QAAc41F,SAASX,MAAO7tL,KAAK6hJ,sEASbkrC,OACtB/sL,KAAKytL,gBAAgBX,cAAcC,8DAURe,KAAMC,OAAO,IAAA78F,OAAAlxF,MACxC,EAAA45G,UAAA,SAASk0E,KAAM,SAACtgC,IAAKihC,OACjB,GAAIA,SAASv9F,OAAKw8F,qBACd,MAAM,IAAIx7J,UAAJ,mCAAA1gB,OAAiDi9K,MAAjD,uCAGVv9F,OAAKw8F,qBAAqBe,OAAS,IAAInB,gBAAA,QAAe77D,gBAAAyI,eAAeC,IAAKqzB,QAG9E,EAAA5zC,UAAA,SAASm0E,MAAO,SAAC7/B,KAAMwgC,QACnB,GAAIA,UAAUx9F,OAAKw8F,qBACf,MAAM,IAAIx7J,UAAJ,mCAAA1gB,OAAiDk9K,OAAjD,uCAGVx9F,OAAKw8F,qBAAqBgB,QAAU,IAAIpB,gBAAA,QAAe77D,gBAAAyI,eAAeE,KAAM8zB,6DAUvDnX,aACzB/2I,KAAK6hJ,mBAAqB,IAAItK,qBAAA,QAC1BR,YAAYhsF,SACZ,MACA,EAAAs7C,gBAAAqD,kBAAiBqtC,YAAYwB,+DAWjC,IAAMu1C,KAAO9tL,KAAK2uL,oBAAoBl9D,gBAAAyI,eAAeC,KACrDn6H,KAAK2tL,gBAAgBl8D,gBAAAyI,eAAeC,KAAOn6H,KAAK4uL,oBAAoBd,qDAUpE,IAAMC,MAAQ/tL,KAAK2uL,oBAAoBl9D,gBAAAyI,eAAeE,MACtDp6H,KAAK2tL,gBAAgBl8D,gBAAAyI,eAAeE,MAAQp6H,KAAK4uL,oBAAoBb,mDAWrDc,YAIhB,IAHA,IAAMC,eAAiB,GAGdzyL,EAAI,EAAGA,EAAIwyL,WAAW7xL,OAAQX,IAAK,CAOxC,IANA,IAAMq8H,UAAYm2D,WAAWxyL,GACvBspB,MAAQ,GACRioI,MAAQ,GACVO,aAAe,KACf4gC,kBAAoB,GAEfjjK,EAAI,EAAGA,EAAI4sG,UAAUs2D,KAAKhyL,OAAQ8uB,IAAK,CAI5C,IAHA,IAAM2/J,QAAU/yD,UAAUs2D,KAAKljK,GACzBmjK,UAAY,GAETjzE,EAAI,EAAGA,EAAIyvE,QAAQzuL,OAAQg/G,IAAK,CACrC,IAAM7S,QAAUsiF,QAAQzvE,IACxB+yE,kBAAoB5lF,SAER38F,QAAQ,OAASusF,iBAAA4f,gBACzBo2E,kBAAoB5lF,QAAQjkG,QAAQ,IAAK,IACzC0oJ,MAAMpqJ,KAAKurL,oBAGf,IAAMtpD,YAAczlI,KAAK+tJ,uBAAuBghC,mBAE3CtpD,aAKgB,OAAjB0oB,eACAA,aAAe4gC,mBAGnBE,UAAUzrL,KAAKiiI,cARXh5G,QAAQ4tB,KAAR,2BAAA7oC,OAAwC23F,QAAxC,2CAWe,EAAnB8lF,UAAUjyL,QACV2oB,MAAMniB,KAAKyrL,WAInBH,eAAetrL,KAAK,CAChB2jC,WAAYuxF,UAAU7oC,KACtBlqE,MAAOA,MACPwoI,aAAcA,aACdN,YAAakhC,kBACbnhC,MAAOA,QAIf,OAAOkhC,+CAUPl2F,eAAA,QAAc8yF,cACd1rL,KAAKytL,gBAAgB97I,QAErB3xC,KAAKwtL,kBAAoB,GACzBxtL,KAAK0tL,qBAAuB,GAC5B1tL,KAAK6hJ,mBAAqB,KAC1B7hJ,KAAK2tL,gBAAkB,mDAiGHxkF,SACpB,OAAOnpG,KAAKytL,gBAAgBh2D,wBAAwBtuB,+CAW1CA,SACV,OAAOvQ,eAAA,QAAcyQ,cAAcF,2CAU7B+lF,UACN,OAAKlvL,KAAKs3H,UAAU43D,UAIblvL,KAAKwtL,kBAAkB0B,UAHnB,0CAcF16D,aACT,OAAKx0H,KAAKy0H,aAAaD,aAIhBx0H,KAAK0tL,qBAAqBl5D,aAHtB,iDAcKyF,eAChB,OAAO,EAAAtsB,SAAA,SAAQ3tG,KAAK0tL,qBAAsB,SAACyB,gBACvC,QAAQ,EAAAt1E,UAAA,SAASs1E,iBAAmBA,eAAel1D,gBAAkBA,+DAYtD9wB,SACnB,OAAOvQ,eAAA,QAAcm1D,uBAAuB5kD,kDAW/BA,SACb,OAAOvQ,eAAA,QAAcw6B,iBAAiBjqB,mDAWxBqrB,aACd,OAAOx0H,KAAK2tL,gBAAgBn5D,+CAWtB06D,UACN,OAAOA,YAAYlvL,KAAKwtL,qDAYjBrkF,SACP,IAAMimF,UAAYpvL,KAAKqpG,cAAcF,SAErC,QAAQ,EAAAnb,QAAA,SAAOohG,gDAYN56D,aACT,OAAOA,eAAex0H,KAAK0tL,oFAY3B,IACM2B,aADcrvL,KAAKsvL,uBACQ1iJ,OAAO,SAAC2W,KAAD,OAAUq1C,eAAA,QAAcyQ,cAAc9lD,OAE1E8rI,aAAaryL,OAAS,GAI1ByvB,QAAQ4tB,KAAR,wEAAA7oC,OAAqF69K,8DAYrF,IAAME,aAAc,EAAAzpF,MAAA,SAAK9lG,KAAKwtL,kBAAmB,SAACgC,aAAD,OAAiBA,YAAYC,oBACxEC,WAAY,EAAA5pF,MAAA,SAAK9lG,KAAK0tL,qBAAsB,SAACyB,gBAAD,OAAoBA,eAAeQ,wBAGrF,OAFuB,EAAAj+E,UAAA,UAAS,EAAAihC,OAAA,UAAM,EAAAjB,UAAA,SAAA,GAAAlgI,OAAAuqF,mBAAawzF,aAAbxzF,mBAA6B2zF,mBAAc9sL,GAE3DuxB,uCAlftB,OAAmC,GAJR,EAAAw5E,SAAA,SAAQ3tG,KAAK0tL,qBAAsB,SAACh1D,WAC3D,OAAOA,UAAUuB,gBAAkBxI,gBAAAyI,eAAeC,MAG5Bn9H,wCAc1B,OAAoC,GAJR,EAAA2wG,SAAA,SAAQ3tG,KAAK0tL,qBAAsB,SAACh1D,WAC5D,OAAOA,UAAUuB,gBAAkBxI,gBAAAyI,eAAeE,OAG3Bp9H,yCAkB3B,OAAO47F,eAAA,QAAcg3F,orBCjI7B,IAAAh2E,UAAA7rB,uBAAAvxF,QAAA,mBACAsmI,UAAA/0C,uBAAAvxF,QAAA,mBACAwxF,QAAAD,uBAAAvxF,QAAA,iBACAspG,MAAA/X,uBAAAvxF,QAAA,eACA6uI,SAAAt9C,uBAAAvxF,QAAA,kBACAm2I,OAAA5kD,uBAAAvxF,QAAA,gBACA25H,eAAApoC,uBAAAvxF,QAAA,qDACA6wL,gBAAAt/F,uBAAAvxF,QAAA,qBACAi1H,gBAAAj1H,QAAA,oxBAcqBqzL,0BAOjB,SAAAA,eAAY51D,cAAer0H,MACvB,iIAD6BkpF,CAAA9uF,KAAA6vL,iBACzB,EAAA7hG,QAAA,SAAOpoF,MACP,MAAM,IAAIssB,UAAJ,gDAAA1gB,OAA8D5L,KAA9D,MAgBV5F,KAAK8vL,MAAQ,GAgBb9vL,KAAK+vL,MAAQ,GAab/vL,KAAKgwL,aAAe,GAapBhwL,KAAKiwL,YAAc,GAUnBjwL,KAAKirL,MAAQ,GAUbjrL,KAAKytL,gBAAkB,KAavBztL,KAAKqI,MAAQ,GAUbrI,KAAKkwL,eAAiB,GAUtBlwL,KAAKmwL,UAAY,KAEjBnwL,KAAKojC,KAAK62F,cAAer0H,uHAqExBq0H,cAAer0H,MAShB,GARA5F,KAAK8vL,MAAQlqL,KAAK+C,KAClB3I,KAAK+vL,MAAQnqL,KAAKopL,KAClBhvL,KAAKytL,gBAAkB,IAAIJ,gBAAA,QAAeznL,KAAKmnL,OAC/C/sL,KAAKirL,MAAQrlL,KAAKiqF,KAClB7vF,KAAKqI,MAAQzC,KAAKjF,KAClBX,KAAKmwL,UAAYvqL,KAAK+iG,SACtB3oG,KAAKkwL,eAAiBj2D,cAElBj6H,KAAKkwL,iBAAmBz+D,gBAAAyI,eAAeC,IACvC,OAAOn6H,KAAKowL,2BAA2BxqL,MACpC,GAAI5F,KAAKkwL,iBAAmBz+D,gBAAAyI,eAAeE,KAC9C,OAAOp6H,KAAKqwL,4BAA4BzqL,MAG5C,MAAM,IAAIssB,UAAU,kDAAA,8BAAA1gB,OACcxR,KAAKkwL,eADnB,sCAqBpB,OATAlwL,KAAK8vL,MAAQ,GACb9vL,KAAK+vL,MAAQ,GACb/vL,KAAKgwL,aAAe,GACpBhwL,KAAKiwL,YAAc,GACnBjwL,KAAKirL,MAAQ,GACbjrL,KAAKqI,MAAQ,GACbrI,KAAKkwL,eAAiB,GACtBlwL,KAAKmwL,UAAY,KAEVnwL,wDAYgB4F,MAIvB,OAHA5F,KAAKgwL,aAAepqL,KAAK0qL,IACzBtwL,KAAKiwL,YAAcrqL,KAAK2qL,WAEjBvwL,yDAYiB4F,MAIxB,OAHA5F,KAAKgwL,aAAepqL,KAAK4qL,YACzBxwL,KAAKiwL,YAAcrqL,KAAK0qL,IAEjBtwL,mDAaP,KAAK,EAAA8iI,UAAA,SAAS9iI,KAAK+vL,MAAM,IACrB,MAAM,IAAI79J,UAAU,2CAAA1gB,OAA2CxR,KAAKirL,MAAhD,8BAChB,kMAIR,IAAMwF,cAAgBzwL,KAAK0wL,0BACrBC,aAAe3wL,KAAK4wL,uBACpBC,aAAe7wL,KAAK8wL,wBACpBC,aAAe/wL,KAAKgxL,uBACpBC,YAAW,GAAAz/K,OAAAuqF,mBAAO00F,eAAP10F,mBAAyB40F,cAAzB50F,mBAA0C80F,cAA1C90F,mBAA2Dg1F,eAG5E,OAFuB,EAAAp+C,OAAA,SAAMs+C,0DAa7B,IAAMC,UAAYtmK,OAAO8R,KAAK18B,KAAKiwL,aAC7BkB,SAAWD,UAAUl0L,OAAS,EAGpC,OAAOk0L,WAFa,EAAA7lD,SAAA,SAAQ,EAAG8lD,wDAqB/B,IAAMC,WAAaxmK,OAAO8R,KAAK18B,KAAKgwL,cAEpC,OAA0B,IAAtBoB,WAAWp0L,OACJ,KAGJo0L,WAAW,iDAWlB,IAAMA,WAAaxmK,OAAO8R,KAAK18B,KAAKgwL,cAEpC,OAA0B,IAAtBoB,WAAWp0L,OACJ,GAGJo0L,WAAW,4DAYWp6K,MAAO8/G,MACpC,GAAM9/G,SAAShX,KAAKgwL,aAApB,CAMA,GAAMl5D,QAAQ92H,KAAKiwL,YAAnB,CAMA,IAAMoB,oBAAsBrxL,KAAKsxL,2BAA2Bt6K,OACtDu6K,mBAAqBvxL,KAAKwxL,4BAC1BC,mBAAqBzxL,KAAK0xL,0BAA0B56D,MAE1D,MAAA,GAAAtlH,OAAAuqF,mBAAWs1F,qBAAXt1F,mBAAmCw1F,oBAAnCx1F,mBAA0D01F,qBATtDhlK,QAAQ1U,MAAR,0BAAAvG,OAAwCxR,KAAKirL,MAA7C,mBAAAz5K,OAAoEslH,YANpErqG,QAAQ1U,MAAR,2BAAAvG,OAAyCxR,KAAKirL,MAA9C,mBAAAz5K,OAAqEwF,yCAyBpEgiH,WACL,OAAOA,aAAah5H,KAAKgwL,6CAUrB/2D,UACJ,OAAOA,YAAYj5H,KAAKiwL,4CAWxB,OAAOjwL,KAAKkwL,iBAAmBz+D,gBAAAyI,eAAeC,qCAW9C,OAAOn6H,KAAKkwL,iBAAmBz+D,gBAAAyI,eAAeE,+CAchCx0H,MACd,IAAMkkH,SAAW,IAAIqM,eAAA,QAAcvwH,MAE7B2jG,eAAiBvpG,KAAKytL,gBAAgBh2D,wBAAwB3N,SAASnpH,MAM7E,OAJsB,MAAlB4oG,gBACAugB,SAAS4N,yBAAyBnuB,gBAG/BugB,6DAWiB,IAAA71G,MAAAjU,KACxB,OAAO,EAAA8lG,MAAA,SAAK9lG,KAAK8vL,MAAO,SAAChmE,UAAD,OAAc71G,MAAK0jH,kBAAkB7N,+DAYtCmL,YAAY,IAAA/jC,OAAAlxF,KACnC,KAAMi1H,cAAcj1H,KAAKgwL,cACrB,MAAM,IAAI99J,UAAJ,2BAAA1gB,OAAyCxR,KAAKirL,MAA9C,mBAAAz5K,OAAqEyjH,aAG/E,OAAO,EAAAnvB,MAAA,SAAK9lG,KAAKgwL,aAAa/6D,YAAa,SAACnL,UAAD,OAAc54B,OAAKymC,kBAAkB7N,8DAY1DgL,WAAW,IAAA1jC,OAAApxF,KACjC,KAAM80H,aAAa90H,KAAKiwL,aACpB,MAAM,IAAI/9J,UAAJ,0BAAA1gB,OAAwCxR,KAAKirL,MAA7C,mBAAAz5K,OAAoEsjH,YAG9E,OAAO,EAAAhvB,MAAA,SAAK9lG,KAAKiwL,YAAYn7D,WAAY,SAAChL,UAAD,OAAc14B,OAAKumC,kBAAkB7N,2DAW3D,IAAAv4B,OAAAvxF,KACnB,OAAO,EAAA8lG,MAAA,SAAK9lG,KAAK8vL,MAAO,SAAC6B,eACrB,OAAOpgG,OAAKqgG,kCAAkCD,gEAgBlD,OAHqB3xL,KAAK+vL,MAAMn0D,OAAO,SAAC6vD,QAASoG,aAAV,OAA0BpG,QAAQj6K,OAAOqgL,eAC9B1gL,IAAI,SAACg4F,SAAD,OAAaA,QAAQjkG,QAAQ,IAAK,wDAalE,IAAA82I,OAAAh8I,KAClB+qL,SAAW,GAUf,OARA,EAAAnxE,UAAA,SAAS55G,KAAKgwL,aAAc,SAACt2J,SACzB,IAAMo4J,gBAAiB,EAAAhsF,MAAA,SAAKpsE,QAAS,SAACi4J,eAClC,OAAO31C,OAAK41C,kCAAkCD,iBAGlD5G,SAAWA,SAASv5K,OAAOsgL,mBAGxB,EAAAn/C,OAAA,SAAMo4C,0DAWO,IAAAgH,OAAA/xL,KAChB+qL,SAAW,GAUf,OARA,EAAAnxE,UAAA,SAAS55G,KAAKiwL,YAAa,SAACv2J,SACxB,IAAMo4J,gBAAiB,EAAAhsF,MAAA,SAAKpsE,QAAS,SAACi4J,eAClC,OAAOI,OAAKH,kCAAkCD,iBAGlD5G,SAAWA,SAASv5K,OAAOsgL,mBAGxB,EAAAn/C,OAAA,SAAMo4C,oEAciB4G,eAK9B,IAJI,EAAA7uD,UAAA,SAAS6uD,iBACTA,cAAgBA,cAAc,KAGE,IAAhCA,cAAcnlL,QAAQ,KAI1B,OAAOmlL,cAAczsL,QAAQ,IAAK,IAAIA,QAAQ,IAAK,iCA/bnD,OAAOlF,KAAK+vL,mCAWZ,OAAO/vL,KAAKirL,mCAWZ,OAAOjrL,KAAKqI,4CAWZ,OAAOrI,KAAKkwL,gDAWZ,OAAOlwL,KAAKmwL,qhBCvMpB,IAAAxiF,SAAA5f,uBAAAvxF,QAAA,kBACA47F,MAAArK,uBAAAvxF,QAAA,eACAw1L,kBAAAjkG,uBAAAvxF,QAAA,uBACA4yH,iBAAArhC,uBAAAvxF,QAAA,2BACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACA+xF,YAAA/xF,QAAA,2BACA2oJ,QAAA3oJ,QAAA,stCAOqBy1L,gDAMjB,SAAAA,sBAAYlsC,OAAO,IAAA9xI,gBAAA,qIAAA66E,CAAA9uF,KAAAiyL,4BACfjyL,UAAAwvH,gBAAAyiE,uBAAAl1L,KAAAiD,MADek5F,gBAAAg5F,uBACfj+K,kGADe,sCA4FmB,SAACklF,eACnC,IAAM81D,iBAAmB,IAAI+iC,kBAAA,QAAiB/9K,MAAKo9J,OAAQl4E,eAE3DllF,MAAKk+K,oBAAoBljC,oBA/FV/1D,gBAAAg5F,uBAAAj+K,OAAA,yCA4JsB,SAACklF,eACtC,IAAMi5F,+BAAgC,EAAAzkF,SAAA,SAAQ15F,MAAKg3H,OAAQ,SAACgkB,kBACxD,OAAOA,iBAAiB91D,cAAcnjF,KAAOmjF,cAAcnjF,KAG/D/B,MAAKg3H,OAASmnD,gCAjKCl5F,gBAAAg5F,uBAAAj+K,OAAA,YA0MP,SAACkoJ,YACJ,EAAA/jE,MAAA,SAAK+sD,QAAAc,MAAOkW,WAMjBloJ,MAAKo9J,OAASlsB,QAAAc,MAAMkW,WALhB1vI,QAAQ1U,MAAR,oDAAAvG,OAAkE2qJ,UAAlE,QAlMJloJ,MAAKigF,UAAY/F,UAAA,QASjBl6E,MAAKo9J,OAAStrB,MAEd9xI,MAAKygF,QACAtC,SAtBUn+E,sZAN4Bm7G,iBAAA,yFAmD3C,OAAOpvH,sCAUPA,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMojB,aAAcp0G,KAAKqyL,qCAC3CryL,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMs3D,UAAWtoJ,KAAKgmJ,6CAUxChmJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMojB,aAAcp0G,KAAKqyL,qCAC5CryL,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMs3D,UAAWtoJ,KAAKgmJ,uDAUzBiJ,kBAChB,KAAMA,4BAA4B+iC,kBAAA,SAC9B,MAAM,IAAI9/J,UAAJ,uDAAA1gB,OAAqEy9I,iBAArE,MAGVjvJ,KAAKirI,OAAOznI,KAAKyrJ,+EAwBgB91D,eAEjC,IAAM+6D,kBAAoBl0J,KAAKirI,OACzBlmG,SAAU,EAAA4oE,SAAA,SACZumD,kBACA,SAACjF,kBAAD,OAAsBA,iBAAiB91D,cAAcnjF,KAAOmjF,cAAcnjF,KAG9E,GAAqB,EAAjB+uB,QAAQ/nC,OACR,MAAM,IAAIL,MAAJ,sCAAA6U,OAAgDuzB,QAAQ/nC,OAAxD,kCAKV,OAFyB+nC,QAAQ,oEAcIyiI,mBAErC,IAAMtT,kBAAoBl0J,KAAKirI,OACzBlmG,SAAU,EAAA4oE,SAAA,SAAQumD,kBAAmB,SAAAj+C,MAAuB,IAApB9c,cAAoB8c,KAApB9c,cAC1C,OAAOA,cAAc4Z,kBAAoBy0D,mBACrCruE,cAAcE,WAAamuE,oBAGnC,KAAqB,EAAjBziI,QAAQ/nC,QAMZ,OAFyB+nC,QAAQ,mCA2BjC/kC,KAAKirI,OAAS,kDAYd,IAFA,IAAMipB,kBAAoBl0J,KAAKirI,OAEtB5uI,EAAI,EAAGA,EAAI63J,kBAAkBl3J,OAAQX,IAC1C63J,kBAAkB73J,GAAGs1C,sCAvJzB,OAAO3xC,KAAKirI,qeCpDpB,IAAA7yC,MAAArK,uBAAAvxF,QAAA,eACAq9G,UAAA9rB,uBAAAvxF,QAAA,mBACAwoK,QAAAj3E,uBAAAvxF,QAAA,iBACA81L,SAAAvkG,uBAAAvxF,QAAA,kBACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACAq8F,MAAAr8F,QAAA,gBACAoxG,QAAApxG,QAAA,kBACAkxI,kBAAAlxI,QAAA,iCACA+xF,YAAA/xF,QAAA,2BACAu8F,iBAAAv8F,QAAA,gCACA6pG,gBAAA7pG,QAAA,+BACA6qK,gBAAA7qK,QAAA,+BAIA2oJ,QAAA3oJ,QAAA,uBACAypG,mBAAAzpG,QAAA,4YASqB+1L,4BAOjB,SAAAA,iBAAYxsC,MAAO5sD,eAAe,kBAAAllF,MAAAjU,oIAAA8uF,CAAA9uF,KAAAuyL,wBA2hBtB,SAACp2B,YACJ,EAAA/jE,MAAA,SAAK+sD,QAAAc,MAAOkW,WAMjBloJ,MAAKo9J,OAASlsB,QAAAc,MAAMkW,WALhB1vI,QAAQ1U,MAAR,oDAAAvG,OAAkE2qJ,UAAlE,YA7hB0B,mBAAAn8J,4GAQ9BA,KAAKm5F,cAAgB,KASrBn5F,KAAKwyL,gBAAkBz5F,iBAAA2K,eAUvB1jG,KAAKyyL,0BAA4B15F,iBAAA2K,eAUjC1jG,KAAK0yL,uBAAyB3sC,MAAM6M,WAAW2gB,cAS/CvzK,KAAKk0F,UAAY/F,UAAA,QAcjBnuF,KAAK2yL,mBAAoB,EAYzB3yL,KAAK4yL,YAAc75F,iBAAA2K,eAUnB1jG,KAAK6yL,yBAA0B,EAS/B7yL,KAAK8yL,iBAAmB/5F,iBAAA2K,eAaxB1jG,KAAK+yL,oBAAqB,EAa1B/yL,KAAKy2H,aAAe,GAUpBz2H,KAAKgzL,gBAAkB,GASvBhzL,KAAKqxK,OAAStrB,MAEd/lJ,KAAK00F,MAAMyE,eACN/G,6HAwFH+G,eASF,OARAn5F,KAAKm5F,cAAgBA,cACrBn5F,KAAKwyL,gBAAkBr5F,cAAciR,IAAIkS,mBACzCt8G,KAAKyyL,0BAA4BzyL,KAAKqxK,OAAOze,WAAW8B,iBACxD10J,KAAK0yL,uBAAyB1yL,KAAKqxK,OAAOze,WAAW2gB,cACrDvzK,KAAKy2H,aAAet9B,cAAciR,IAAI6pB,iBAEtCj0H,KAAKizL,uBAEEjzL,sCAaP,OAFAA,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMs3D,UAAWtoJ,KAAKgmJ,WAEjChmJ,uCAaP,OAFAA,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMs3D,UAAWtoJ,KAAKgmJ,WAElChmJ,qCAsBP,OAXAA,KAAKm5F,cAAgB,KACrBn5F,KAAKwyL,gBAAkBz5F,iBAAA2K,eACvB1jG,KAAKyyL,0BAA4B15F,iBAAA2K,eACjC1jG,KAAK0yL,uBAAyB1yL,KAAKqxK,OAAOze,WAAW2gB,cACrDvzK,KAAK2yL,mBAAoB,EACzB3yL,KAAK4yL,YAAc75F,iBAAA2K,eACnB1jG,KAAK6yL,yBAA0B,EAC/B7yL,KAAK8yL,iBAAmB/5F,iBAAA2K,eACxB1jG,KAAK+yL,oBAAqB,EAC1B/yL,KAAKy2H,aAAe,GAEbz2H,2CAUG2oG,UAGV,OAFA3oG,KAAKwyL,gBAAkB7pF,SAEhB,EAAC,EAAM,iEAUK,IAAAynB,oBAAAl/B,OAAAlxF,KACfkzL,gBAAkBlzL,KAAKm5F,cAAcE,SAEnCi3B,IAAG,QAAAF,oBAAGxlG,OAAOrW,OAAO0xF,mBAAAsqB,0BAA0BzjF,KAAK,SAAC0jF,KAAD,OAASA,IAAIC,SAAWv/B,OAAKiI,cAAcgf,MAAM8X,qBAAjG,IAAAG,oBAAAA,oBACL,CAAEM,QAAQ,GAOd,OALIJ,IAAII,SAEJwiE,iBAAe,IAAA1hL,OAAQ8+G,IAAIG,SAGxByiE,0EAWP,IAAMC,kBAAmB,EAAAt6F,MAAAhkE,OAAM70B,KAAKm5F,cAAcwP,SAAW,KACvDyqF,eAAgB,EAAAv6F,MAAAhkE,OAAM70B,KAAKm5F,cAAcqhB,YAAc,IAE7D,MAAA,GAAAhpG,QAAU,EAAAk8H,kBAAAS,SAAQglD,iBAAkB,GAApC,KAAA3hL,QAA0C,EAAAk8H,kBAAAS,SAAQilD,cAAe,gEAYjE,IAAMC,sBAAuB,EAAAf,SAAA,SACzBtyL,KAAKszL,eACLtzL,KAAKqxK,OAAOze,WAAW4gB,2BACvB,KAEE+f,yBAA0B,EAAAjB,SAAA,SAC5BtyL,KAAKm5F,cAAcgf,MAAMtoB,KAAKt0C,cAC9Bv7C,KAAKqxK,OAAOze,WAAW0gB,oCACvB,KAEEggB,eAAiBD,qBAAqB1sL,MAAM,EAAG3G,KAAKqxK,OAAOze,WAAW4gB,4BACtEggB,kBAAoBD,wBAAwB5sL,MAAM,EAAG3G,KAAKqxK,OAAOze,WAAW0gB,qCAElF,MAAA,GAAA9hK,OAAU8hL,eAAV,KAAA9hL,OAA4BgiL,oEASPp+B,6BACrB,IAWMq+B,uBAXoB,CACtBC,IAAK,CAAC,EAAG,GACTC,IAAK,CAAC,GAAI3zL,KAAKqxK,OAAOze,WAAWwD,aACjCn1I,GAAI,CAACjhB,KAAKqxK,OAAOze,WAAWkD,YAAa91J,KAAKqxK,OAAOze,WAAWwD,aAChEw9B,GAAI,CAAC5zL,KAAKqxK,OAAOze,WAAWkD,WAAY,GACxC+9B,IAAK,CAAC7zL,KAAKqxK,OAAOze,WAAWkD,WAAY91J,KAAKqxK,OAAOze,WAAWwD,aAChE09B,IAAK,CAAC,EAAG9zL,KAAKqxK,OAAOze,WAAWwD,aAChC29B,IAAK,EAAE/zL,KAAKqxK,OAAOze,WAAWkD,WAAY91J,KAAKqxK,OAAOze,WAAWwD,aACjE49B,IAAK,EAAEh0L,KAAKqxK,OAAOze,WAAWkD,WAAY,GAC1Cm+B,IAAK,EAAEj0L,KAAKqxK,OAAOze,WAAWkD,YAAa91J,KAAKqxK,OAAOze,WAAWwD,cAErBp2J,KAAKy0J,0BAEtD,OAAO,EAAA7mD,QAAA2W,MAAK6wC,4BAA6Bq+B,sEAYzCzzL,KAAK+yL,oBAAqB,6CAY1B/yL,KAAK+yL,oBAAqB,wCAWhBtrB,kBACV,IAAI,EAAA5tD,UAAA,SAAS4tD,kBACT,MAAO,EAAC,EAAO,mBAGnB,IAAIysB,iBAAmBzsB,iBACnB0sB,cAAgB,GAEpB,GAAI1sB,iBAAiBj7J,QAAQ66J,gBAAAe,yCAA2CrvE,iBAAA2K,eAAgB,CACpF,IAAM0wF,eAAiB3sB,iBAAiBhwJ,MAAM4vJ,gBAAAe,uCAC9C8rB,iBAAmB1nK,SAAS4nK,eAAe,GAAI/tF,gBAAAk+B,eAC/C4vD,cAAgB3nK,SAAS4nK,eAAe,GAAI/tF,gBAAAk+B,gBAExC,EAAA1qB,UAAA,SAASu6E,eAAe,MACxBF,iBAAmB,IAI3B,GAAoB,EAAhBC,eAAqBA,cAAgB,EACrC,MAAO,EAAC,EAAO,+BAGnB,GAAyB,KAArBD,oBAA4B,EAAAlvB,QAAA,SAAOkvB,kBAAmB,CACtD,KAAK,EAAA97F,MAAA,SAAKivE,gBAAAgtB,wBAAyBH,kBAC/B,MAAO,EAAC,EAAO,mBAGnBl0L,KAAKyyL,0BAA4BprB,gBAAAgtB,wBAAwBH,kBAO7D,MAJsB,KAAlBC,gBAAyB,EAAAnvB,QAAA,SAAOmvB,iBAChCn0L,KAAK0yL,uBAAyByB,eAG3B,EAAC,EAAM,0DAWd,GAAKn0L,KAAKwvJ,QAMV,OAFAxvJ,KAAK4yL,YAAc75F,iBAAA2K,eAEZ,EAAC,EAAM,+CAWVkwD,QACJ,OAAK5zJ,KAAKwvJ,QAMNoE,SAAW5zJ,KAAK4yL,YACT5yL,KAAKs0L,cAGhBt0L,KAAK4yL,YAAch/B,OAEZ,EAAC,EAAM,iBAXV5zJ,KAAK4yL,YAAch/B,OAEZ,EAAC,EAAM,+DAoBlB,OAAI5zJ,KAAKm5F,cAAcgd,cACnBn2G,KAAKszL,eAAiBtzL,KAAKm5F,cAAciR,IAAI0pB,qBAKjD9zH,KAAKszL,eAAiBtzL,KAAKm5F,cAAc4e,YAAYnyF,OAAO,EAAG,GAHpD,EAAC,EAAM,0DAgBR0tK,gBAGV,OAFAtzL,KAAKszL,eAAiBA,eAEf,EAAC,EAAM,mEArXd,OAAOtzL,KAAKyyL,wEAWZ,OAAOzyL,KAAK0yL,6DAWZ,OAAO1yL,KAAKm5F,cAAcwL,wDAW1B,OAAO3kG,KAAKm5F,cAAcwP,gDAS1B,OAAO3oG,KAAKgzL,8BAGGluK,MACf9kB,KAAKgzL,gBAAkBluK,KAAKne,MAAM,EAAG,GAAG40C,iDASxC,OAAOv7C,KAAK4yL,4CASZ,OAA0B,EAAnB5yL,KAAK4yL,0qBCrPpB,IAAAx6F,MAAArK,uBAAAvxF,QAAA,eACAwxF,QAAAD,uBAAAvxF,QAAA,iBACA42F,gBAAArF,uBAAAvxF,QAAA,2BACA+3L,uBAAAxmG,uBAAAvxF,QAAA,4BACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACA+xF,YAAA/xF,QAAA,2BACAs8F,qBAAAt8F,QAAA,oCACA2oJ,QAAA3oJ,QAAA,uBACA6pG,gBAAA7pG,QAAA,oxBASqBg4L,sBAKjB,SAAAA,aAAc,kBAAAvgL,MAAAjU,oIAAA8uF,CAAA9uF,KAAAw0L,kBA0UF,SAACr4B,YACJ,EAAA/jE,MAAA,SAAK+sD,QAAAc,MAAOkW,WAMjBloJ,MAAKo9J,OAASlsB,QAAAc,MAAMkW,WALhB1vI,QAAQ1U,MAAR,oDAAAvG,OAAkE2qJ,UAAlE,YA5UM,mBAAAn8J,4GASVA,KAAKk0F,UAAY/F,UAAA,QAWjBnuF,KAAKy0L,WAAa,EAclBz0L,KAAK00L,kBAAoB,KAUzB10L,KAAKqxK,OAASlsB,QAAAc,MAAM+W,QASpBh9J,KAAK42F,sBAAwB,IAAI29F,uBAAA,QAAsBv0L,KAAKqxK,QAE5DrxK,KAAKojC,OACAgvD,wHAiBL,OAAOpyF,sCAUPA,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMs3D,UAAWtoJ,KAAKgmJ,6CAUxChmJ,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMs3D,UAAWtoJ,KAAKgmJ,mDAgBzC,MAAO,EAAC,EAAO,iFAYLiJ,iBAAkBtmD,UAG5B,OAFAA,SAAWn8E,SAASm8E,SAAUtC,gBAAAk+B,eAEvB0qB,iBAAiB0lC,cAAchsF,kDAU1BT,WACZ,IAAM0sF,YAAcxhG,gBAAA,QAAeiS,cAAcvM,qBAAAqI,kBAAkBiqE,8BAC9D3zJ,MAAM,KACNtG,IAAI,SAAC/E,KAAD,OAAS++C,WAAW/+C,OAEvByoL,UADeD,YAAYpoL,QAAQxM,KAAKy0L,YACb1hK,KAAK+hK,KAAK5sF,WAE3C,KAAI2sF,WAAaD,YAAY53L,QAA7B,CAIA,GAAI63L,UAAY,EAKZ,OAJA70L,KAAKy0L,WAAa,OAElBz0L,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMkG,qBAKjCl3F,KAAKy0L,WAAaG,YAAYC,WAE9B70L,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMkG,kEAY7Bl3F,KAAK+0L,iBAFc,+CAcnB/0L,KAAK+0L,gBAFa,6CAiBlB,MAAO,EAAC,EAAO,mFAYL9lC,iBAAkBwY,kBAC5B,OAAOxY,iBAAiBsS,cAAckG,+DAgBtC,MAAO,EAAC,EAAO,gFAef,MAAO,EAAC,EAAO,2EASHxlE,mBACZ,IAAMyF,aAAezF,kBAAkBylE,gBACjCstB,kBAAoB/yF,kBAAkBwlE,iBACtCxY,iBAAmBjvJ,KAAK42F,sBAAsBq+F,yCAChDhzF,kBAAkBulE,mBAGtB,OAAM9/D,gBAAgB1nG,MAIlB,EAAAguF,QAAA,SAAOihE,kBACA,EAAC,EAAO,yBAKZjvJ,KAAK0nG,cAALl3F,MAAAxQ,KAAA,CAAmBivJ,kBAAnBz9I,OAAAuqF,mBAAwCi5F,qBATpC,EAAC,EAAO,yDAqBT/lC,iBAAkBqkC,gBAC5B,OAA4B,EAAxBA,eAAet2L,OACR,EAAC,EAAO,8BAGI,MAAnBs2L,eACOrkC,iBAAiBgkC,uBAGrBhkC,iBAAiBimC,cAAc5B,eAAe/3I,+CAWjD0zG,iBAAkB2E,QACtB,IAAMuhC,kBAAoBn1L,KAAKqxK,OAAOrxE,MAAM+zE,uBACtCqhB,cAAgBp1L,KAAKqxK,OAAOrxE,MAAMg0E,mBAExC,OAAIpgB,QAAU,EACH,EAAC,EAAO,0BAGNwhC,cAATxhC,OACO,EAAC,EAAD,iBAAApiJ,OAAyB4jL,cAAzB,SAGNxhC,SACDA,OAASuhC,mBAGNlmC,iBAAiBomC,QAAQzhC,2CA5PhC,OAAO5zJ,KAAKy0L,ymBClFpB,IAAA3mG,QAAAC,uBAAAvxF,QAAA,WACAi1G,MAAA1jB,uBAAAvxF,QAAA,eAEA22F,eADApF,uBAAAvxF,QAAA,eACAuxF,uBAAAvxF,QAAA,oBACA4pG,gBAAA5pG,QAAA,8BACA8xF,aAAA9xF,QAAA,2BACAs3F,WAAAt3F,QAAA,yBACA84L,iBAAA94L,QAAA,+BAOAu3F,iBAAAv3F,QAAA,qIAM2B,WACvBq/C,KAAK05I,OAAS,GACd15I,KAAK05I,OAAOC,UAAYzoK,OAAO0oK,kBAC/B55I,KAAK05I,OAAO1kJ,SAAU,MAElB,EAAA4gE,MAAA,SAAKxhB,aAAc3B,aAAA4B,YAAYihF,oBAAoB,KACnDt1H,KAAK05I,OAAO1kJ,SAAU,GACtB,EAAAi9C,QAAA,SAAEgG,WAAAuB,UAAUC,cAAcy6E,eAAez5G,SAASw9B,WAAAuB,UAAUuL,WAAWswC,sCAQ5C,WAK/B,MAAO,CACHwkD,MALUJ,iBAAAK,OAAO5iK,KAAKC,MAAMD,KAAK+B,SAAWwgK,iBAAAK,OAAO34L,SAMnD44L,OALW7iK,KAAK+B,UAAYwgK,iBAAAO,YAAcP,iBAAAQ,cAAgBR,iBAAAQ,cAAc1xF,QAAQ,GAMhFiZ,MALUtqF,KAAK+B,UAAYwgK,iBAAAS,aAAeT,iBAAAU,cAAgBV,iBAAAU,cAAc5xF,QAAQ,wBAc9D,SAAC6xF,SAAUxuF,YACjC,GAA6B,MAAzB5rD,KAAK05I,OAAOC,WAAqB35I,KAAK05I,OAAO1kJ,QAAS,CAGtD,IAFA,IAAIqlJ,UAAY,GAEP75L,EAAI,EAAGA,EAAI45L,SAASj5L,OAAQX,IAAK,CACtC,IAAM85L,eAAiBF,SAAS55L,GAEhC,OAAQ85L,eAAe10L,MACnB,IAAK,WACDy0L,WAAS,IAAA1kL,OAAQ2kL,eAAe3rL,QAAQyiG,mBAA/B,KACT,MACJ,IAAK,WACDipF,WAAS,IAAA1kL,QAAQ,EAAA40F,gBAAAqF,gBAAe0qF,eAAe3rL,SAAtC,KACT,MACJ,IAAK,QAAS,IAAK,UACf0rL,WAAS,IAAA1kL,QAAQ,EAAA40F,gBAAAuF,eAAcwqF,eAAe3rL,SAArC,KACT,MACJ,IAAK,OACD0rL,WAAS,IAAA1kL,OAAQ2kL,eAAe3rL,QAAvB,MAOrB,IAAM4rL,UAAY,IAAIC,yBAAyBH,WAC/CE,UAAU9lJ,KAAO,QACjB8lJ,UAAUV,MAAQ75I,KAAK05I,OAAOC,UAAUc,YAAY1pJ,OAAO,SAAC8oJ,OAExD,OAAOA,MAAM/0L,OAAS8mG,WAAWiuF,QAClC,GACHU,UAAU/4E,KAAO5V,WAAW4V,KAC5B+4E,UAAUR,MAAQnuF,WAAWmuF,MAG7B/5I,KAAK05I,OAAOC,UAAUe,MAAMH,mCAQP,WACzB,IAAMI,sBAAuB,EAAA1oG,QAAA,SAAEgG,WAAAuB,UAAUC,cAAcy6E,eACvDl0H,KAAK05I,OAAO1kJ,SAAWgL,KAAK05I,OAAO1kJ,QAE9BgL,KAAK05I,OAAO1kJ,SACbgL,KAAK05I,OAAOC,UAAU7nG,SAG1B6oG,qBAAqB5/H,YAAYk9B,WAAAuB,UAAUuL,WAAWswC,QAEtDjhD,aAAa3B,aAAA4B,YAAYihF,oBAAsBt1H,KAAK05I,OAAO1kJ,QAC3D,IAAMmmB,SAAWw/H,qBAAqBx/H,SAAS88B,WAAAuB,UAAUuL,WAAWswC,QAEpE/9C,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgB2N,QAAS,SAAlD,GAAAtxF,OAA+DwlD,iXC7GnE,IAAA22C,SAAA5f,uBAAAvxF,QAAA,kBACAo9G,UAAA7rB,uBAAAvxF,QAAA,mBACAwoK,QAAAj3E,uBAAAvxF,QAAA,iBACA6uI,SAAAt9C,uBAAAvxF,QAAA,kBACA4yH,iBAAArhC,uBAAAvxF,QAAA,2BACAi6L,mBAAA1oG,uBAAAvxF,QAAA,wBACAypG,mBAAAzpG,QAAA,kCACA41G,oBAAA51G,QAAA,0qCA4Ne,mtBApNsB4yH,iBAAA,uFAgC5B2nB,aACD,IAAI,EAAA3kC,oBAAA4d,oBAAmB+mB,aACnB,MAAM,IAAI7kH,UAAU,8DAAA,6CAAA1gB,OAAAiiG,QACoCsjC,eAG5D/2I,KAAK02L,yBAAyB3/C,YAAY4/C,gDAY1C,EAAA/8E,UAAA,SAAS55G,KAAKirI,OAAQ,SAAC34B,mBACnBA,kBAAkB3gE,UAKtB3xC,KAAKirI,OAAS,wCAYdjrI,KAAKirI,OAAOv3G,QAAQ,SAAC4+E,mBACjBA,kBAAkBskF,iDASL,IAAZziC,MAAY,EAAAtvJ,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAJ,GACb,GAAqB,IAAjBsvJ,MAAMn3J,OAIV,IAAK,IAAIX,EAAI,EAAGA,EAAI83J,MAAMn3J,OAAQX,IAAK,CACnC,IAAMw6L,UAAY1iC,MAAM93J,GAExB2D,KAAKq0G,QAAQwiF,4CASbrgL,MACJ,KAAMA,gBAAgBigL,mBAAA,SAClB,MAAM,IAAIvkK,UAAU,8EAGxBlyB,KAAKirI,OAAOznI,KAAKgT,8DAkBjB,IAAMsgL,+BAAiC,GADXr9C,2BAAA,EAAAC,mBAAA,EAAAC,oBAAA/2I,EAAA,IAK5B,IAAA,IAAAg3I,MAAAC,UAA2B75I,KAAK+2L,gBAAhC1xJ,OAAAC,cAAAm0G,2BAAAG,MAAAC,UAAA1zH,QAAAd,MAAAo0H,2BAAA,EAAiD,CAAA,IAAtCu9C,aAAsCp9C,MAAAp0I,MACvCuiK,aAAeivB,aAAahsF,YAAYvzF,MAAM,KAAK,GAGzD,GAAIswJ,aAAa/qK,OAAS,IAAK,EAAAgoK,QAAA,UAAQ+C,aAAa,IAC1C,kBAAmB+uB,iCACrBA,+BAA+BG,cAAgB,IAGnDH,+BAA+BG,cAAczzL,KAAKwzL,kBALtD,CAWA,IAAME,kBAAoBnvB,aAAaniJ,OAAO,GAExCsxK,qBAAqBJ,iCACvBA,+BAA+BI,mBAAqB,IAGxDJ,+BAA+BI,mBAAmB1zL,KAAKwzL,gBA1B/B,MAAAh0L,KAAA02I,mBAAA,EAAAC,eAAA32I,IAAA,QAAA,IAAAy2I,2BAAA,MAAAI,UAAA,QAAAA,UAAA,SAAA,QAAA,GAAAH,kBAAA,MAAAC,gBAiC5B,IAJA,IAAMw9C,wBAA0B,GAIhC5xJ,GAAA,EAAA6xJ,aAAqBxsK,OAAO8R,KAAKo6J,gCAAjCvxJ,GAAA6xJ,aAAAp6L,OAAAuoC,KAAkE,CAA7D,IAAMslE,OAAMusF,aAAA7xJ,IACb,KAAe,kBAAXslE,QACyD,EAArDjgF,OAAO8R,KAAKo6J,gCAAgC95L,QAcpD,IANA,IAAM25L,cAAgBG,+BAA+BjsF,QAAQj+D,OAAO,SAAC/vC,GAAD,OAAgB,EAATA,EAAEwgH,OACvEg6E,QAAUV,cAAcxlL,IAAI,SAACi+B,SAAD,OAAaA,QAAQiuE,OACjDi6E,UAAYX,cAAc/6D,OAAO,SAACmiB,IAAK3uG,SAAN,OAAkB2uG,IAAM3uG,QAAQiuE,MAAM,GACvEk6E,gBAAiB,EAAAlsD,SAAA,SAAQisD,WAAW,GACtCvsI,SAAW,EAEN1uD,EAAI,EAAGA,EAAIg7L,QAAQr6L,OAAQX,IAAK,CAGrC,GAAIk7L,gBAFmBxsI,SAAWssI,QAAQh7L,GAEJ,CAClC86L,wBAAwB3zL,KAAKmzL,cAAct6L,IAE3C,MAGJ0uD,UAAYssI,QAAQh7L,IAI5B,OAAO86L,4EAWiBK,gBACxB,OAAO,EAAA7pF,SAAA,SAAQ3tG,KAAKirI,OAAQ,CAAEpzC,SAAU2/F,kEAYnBb,eAAe,IAAA1iL,MAAAjU,MACpC,EAAA45G,UAAA,SAAS+8E,cAAe,SAACK,cACrB,IAAM1kF,kBAAoB,IAAImkF,mBAAA,QAAkBO,cAEhD/iL,MAAKogG,QAAQ/B,gEAvMjB,OAAOtyG,KAAKirI,+CAYZ,OAAO,EAAAt9B,SAAA,SAAQ3tG,KAAKirI,OAAQ,CAAEpzC,SAAUoO,mBAAAwR,gBAAgB6D,wgBCnChE,IAAA1B,UAAA7rB,uBAAAvxF,QAAA,mBACAi1G,MAAA1jB,uBAAAvxF,QAAA,eACAspG,MAAA/X,uBAAAvxF,QAAA,eACAsmI,UAAA/0C,uBAAAvxF,QAAA,mBACAq9G,UAAA9rB,uBAAAvxF,QAAA,mBACA6uI,SAAAt9C,uBAAAvxF,QAAA,kBACAupG,QAAAhY,uBAAAvxF,QAAA,iBACA+0H,YAAAxjC,uBAAAvxF,QAAA,kDACAq2F,mBAAA9E,uBAAAvxF,QAAA,iCACAszH,YAAA/hC,uBAAAvxF,QAAA,sBACA+6I,qBAAAxpD,uBAAAvxF,QAAA,gCACAi7L,wBAAAj7L,QAAA,2BACAk7L,gCAAAl7L,QAAA,oCACA0pG,QAAA1pG,QAAA,kBACAypG,mBAAAzpG,QAAA,kCACA6xF,kBAAA7xF,QAAA,iCACAu8F,iBAAAv8F,QAAA,gCAIA6pG,gBAAA7pG,QAAA,ymDAWA,IAAMm7L,oBACM,SADNA,oBAEM,SAFNA,mBAGK,QAHLA,kBAII,OAsDWC,uCAOjB,SAAAA,kBAAYC,kBAAkB,IAAA5jL,MAAA,qIAAA66E,CAAA9uF,KAAA43L,oBAC1B3jL,MAAAs7G,2BAAAvvH,KAAAwvH,gBAAAooE,mBAAA76L,KAAAiD,KAAM,uBAgBD83L,WAAa/+F,iBAAA2K,eASlBzvF,MAAK4jF,SAAW,GAWhB5jF,MAAKyY,OAAS,GASdzY,MAAK69E,SAAW,GAoBhB79E,MAAK8jL,qBAAuB,GAY5B9jL,MAAKy+F,qBAAuB,GAY5Bz+F,MAAK29G,YAAc,KAWnB39G,MAAK6jG,OAAS,GAUd7jG,MAAK8jG,YAAc,GASnB9jG,MAAK+2F,YAAc,GASnB/2F,MAAK0yF,SAAW,GAahB1yF,MAAKmkG,UAAY,GAUjBnkG,MAAK+jL,iBAAmBj/F,iBAAA2K,eAUxBzvF,MAAKgkL,iBAAmBl/F,iBAAA2K,eASxBzvF,MAAKy/C,MAAQ,EASbz/C,MAAKk0F,SAAW,IAShBl0F,MAAKyvH,eAAiB,KAWtBzvH,MAAKopG,KAAOtkB,iBAAA2K,eAUZzvF,MAAKikL,YAAcn/F,iBAAA2K,eAWnBzvF,MAAKkkL,eAAiBp/F,iBAAA2K,eAWtBzvF,MAAKuR,OAASuzE,iBAAA2K,eAWdzvF,MAAKmkL,OAASr/F,iBAAA2K,eASdzvF,MAAKokL,UAAYt/F,iBAAA2K,eAYjBzvF,MAAKqkL,QAAU,CAAC,IAAK,IAarBrkL,MAAKskL,mBAAqBx/F,iBAAA2K,eAa1BzvF,MAAKukL,qBAAuBz/F,iBAAA2K,eAa5BzvF,MAAKwkL,QAAU1/F,iBAAA2K,eAEfzvF,MAAKmvB,KAAKy0J,kBAjTgB5jL,kZAPa67G,YAAA,kFAmZtC+nE,mBAEG,EAAAh+E,UAAA,SAASg+E,qBAIR,EAAAH,gCAAAgB,gCAA+Bb,mBAChCprK,QAAQ1U,MAAM,wCAAyC8/K,kBAG3D73L,KAAK83G,OAAS+/E,iBAAiB//E,OAC/B93G,KAAK+3G,YAAc8/E,iBAAiB9/E,YACpC/3G,KAAK63F,SAAWggG,iBAAiBhgG,SACjC73F,KAAKgrG,YAAc6sF,iBAAiBp2B,MACpCzhK,KAAK2mG,SAAWkxF,iBAAiBlxF,SACjC3mG,KAAK0zD,MAAQ1zD,KAAK24L,sBAAsBd,kBACxC73L,KAAK0sB,OAASmrK,iBAAiBnrK,OAC/B1sB,KAAKq9G,KAAOlyD,WAAW0sI,iBAAiBx6E,MACxCr9G,KAAKk4L,YAAcl4L,KAAKq9G,KACxBr9G,KAAKs4L,SAAU,EAAA7mF,MAAA,SAAKomF,iBAAkB,UAAW73L,KAAKs4L,SAEtDt4L,KAAK4xH,YAAc,IAAIL,YAAA,QAAWsmE,iBAAiBp2B,OACnDzhK,KAAKm4L,eAAiB,EACtBn4L,KAAKo4L,OAASr/F,iBAAAimB,KAAKC,oBAAsB,EACzCj/G,KAAK0jI,eAAiB1jI,KAAK44L,8CAC3B54L,KAAK8xF,SAAW9xF,KAAK64L,0CAA0ChB,iBAAiB/lG,UAChF9xF,KAAK+3L,qBAAuB/3L,KAAK84L,4BACjC94L,KAAK0yG,qBAAuB1yG,KAAK+4L,uBAAuBlB,kBAExD73L,KAAKg5L,yCAAyCnB,kBAC9C73L,KAAKi5L,yBAAyBpB,kBAC9B73L,KAAKk5L,iDAAiDrB,kBACtD73L,KAAKm5L,mBAAmBtB,iBAAiBlvF,2CAYzC3oG,KAAK83L,WAAa/+F,iBAAA2K,eAClB1jG,KAAK63F,SAAW,GAChB73F,KAAK0sB,OAAS,GACd1sB,KAAK83G,OAAS,GACd93G,KAAK+3G,YAAc,GACnB/3G,KAAKgrG,YAAc,GACnBhrG,KAAK2mG,SAAW,GAChB3mG,KAAKg4L,iBAAmBj/F,iBAAA2K,eACxB1jG,KAAKi4L,iBAAmBl/F,iBAAA2K,eACxB1jG,KAAK0zD,MAAQ,EACb1zD,KAAKmoG,QAAUpP,iBAAA2K,eACf1jG,KAAK0jI,eAAiB,KAEtB1jI,KAAKm4L,eAAiBp/F,iBAAA2K,eACtB1jG,KAAKq9G,KAAOtkB,iBAAA2K,eACZ1jG,KAAKwlB,OAASuzE,iBAAA2K,eACd1jG,KAAKo4L,OAASr/F,iBAAA2K,eACd1jG,KAAKq4L,UAAYt/F,iBAAA2K,eAEjB1jG,KAAK8xF,SAAW,GAChB9xF,KAAK+3L,qBAAuB,GAC5B/3L,KAAK0yG,qBAAuB,uCAU5B1yG,KAAKq9G,KAAOr9G,KAAKk4L,+CAaVhmI,WACHlyD,KAAKm4L,iBAAmBp/F,iBAAA2K,iBAI5B1jG,KAAKm4L,eAAiBjmI,UAAYlyD,KAAKwlB,2DAavC,IAAMnP,MAAQrW,KAAKo5L,wBAAwBp5L,KAAK+3L,sBAGhD,OAFkB/3L,KAAK+3L,qBAAqB1hL,mDAiBhB,IAAd04F,SAAc,EAAAlqG,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAH,EACzB,OAAQ7E,KAAK0sB,QACT,KAAKirK,oBACD,OAAO33L,KAAKq5L,8BAChB,KAAK1B,oBACD,OAAO33L,KAAKs5L,gCAAgCvqF,UAChD,KAAK4oF,mBACD,OAAO33L,KAAKu5L,+BAA+BxqF,UAC/C,KAAK4oF,kBACD,OAAO33L,KAAKw5L,8BAA8BzqF,uDAclD,OAAO/uG,KAAKo2G,aAAep2G,KAAKkgH,mDAWhC,OAAOlgH,KAAK63F,WAAaoO,mBAAAwR,gBAAgBC,8CAWzC,OAAO13G,KAAK63F,WAAaoO,mBAAAwR,gBAAgB6D,iDAWzC,OAAOt7G,KAAK63F,WAAaoO,mBAAAwR,gBAAgB8D,0DAUtB5lB,oBACsB,IAArC31F,KAAK0yG,qBAAqB11G,SAC1BgD,KAAK0yG,qBAAuB1yG,KAAK+4L,uBAAuB/4L,OAGxDA,KAAKy5L,qBAA0D,EAAnCz5L,KAAK0yG,qBAAqB11G,QACtD24F,mBAAmB+jG,4CAA4C15L,uEAY9B63L,kBACrC,GAAIA,iBAAiBnrK,SAAWirK,mBAAhC,CAIA33L,KAAKu4L,mBAAqBv4L,KAAK0zD,MAAQ1zD,KAAKs4L,QAAQ,GACpDt4L,KAAKw4L,qBAAuBx4L,KAAK0zD,MAAQ1zD,KAAKs4L,QAAQ,GAGtDt4L,KAAKsrF,QAAUtrF,KAAKo4L,OAASp4L,KAAKq9G,KAAOr9G,KAAKo4L,OAASp4L,KAAKw4L,uBACvDx4L,KAAKu4L,mBAAqBv4L,KAAKw4L,sBACpCx4L,KAAKsrF,QAAUtrF,KAAKsrF,QAAUyN,iBAAAimB,KAAKC,oBAAsBj/G,KAAKu4L,oBAI9D,IAIMoB,kBAJmB35L,KAAKq9G,KAAOr9G,KAAKo4L,OAASr/F,iBAAAimB,KAAKsH,oBAC9BtmH,KAAKu4L,mBAAqBv4L,KAAKsrF,OAASyN,iBAAAimB,KAAKsH,uBACtDtmH,KAAKo4L,OAASp4L,KAAKsrF,QACYyN,iBAAAimB,KAAKsH,qBAGrDtmH,KAAKw4L,qBAAuBmB,iBAIxB35L,KAAKq9G,KAAOr9G,KAAKu4L,oBACjB9rK,QAAQ4tB,KAAK,0CAAA,GAAA7oC,OACNxR,KAAKq9G,KADC,6DAAA,GAAA7rG,OAENuhB,KAAK06B,KAAKztD,KAAKw4L,sBAFT,YAAAhnL,OAEyCuhB,KAAKC,MAAMhzB,KAAKu4L,oBAFzD,UAIbv4L,KAAKq9G,KAAOr9G,KAAKu4L,mBACjBv4L,KAAKw4L,qBAAuBx4L,KAAKu4L,oBAC1Bv4L,KAAKq9G,KAAOr9G,KAAKw4L,uBACxB/rK,QAAQ4tB,KAAK,yCAAA,GAAA7oC,OACNxR,KAAKq9G,KADC,6DAAA,GAAA7rG,OAENuhB,KAAK06B,KAAKztD,KAAKw4L,sBAFT,YAAAhnL,OAEyCuhB,KAAKC,MAAMhzB,KAAKu4L,oBAFzD,UAIbv4L,KAAKq9G,KAAOr9G,KAAKw4L,qBACjBx4L,KAAKu4L,mBAAqBv4L,KAAKw4L,wEAYdX,kBACrB,IAAMryK,QAAS,EAAAisF,MAAA,SAAKomF,iBAAkB,SAAU,GAC1CO,QAAS,EAAA3mF,MAAA,SAAKomF,iBAAkB,SAAU,MAEhD73L,KAAKwlB,QAAS,EAAA6gF,gBAAAuzF,yBAAwBp0K,QACtCxlB,KAAKo4L,OAASA,QACV,EAAA/xF,gBAAAuzF,yBAAwBxB,QACxBp4L,KAAKo4L,OACTp4L,KAAKq4L,WAAY,EAAA5mF,MAAA,SAAKomF,iBAAkB,YAAa,8CAetClvF,UACf,IAAI,EAAAm6B,UAAA,SAASn6B,UAAW,CAAA,IAAAwnF,UAAAh0F,eACDwM,SADC,GACbp8B,IADa4jH,UAAA,GACRnjI,IADQmjI,UAAA,GAMpB,OAHAnwL,KAAKg4L,iBAAmBxrK,SAAS+/C,IAAK85B,gBAAAk+B,oBACtCvkI,KAAKi4L,iBAAmBzrK,SAASwgC,IAAKq5C,gBAAAk+B,gBAK1CvkI,KAAKg4L,iBAAmBxrK,SAASm8E,SAAUtC,gBAAAk+B,eAC3CvkI,KAAKi4L,iBAAmBzrK,SAASm8E,SAAUtC,gBAAAk+B,qEAY3C,IAAMs1D,aAAe75L,KAAK85L,kCACpBC,aAAehhG,iBAAAimB,KAAKC,oBAAsBj/G,KAAKq9G,KAErD,GAAI08E,aAAeF,aAGf,OAFAptK,QAAQ1U,MAAR,iDAAAvG,OAA+DxR,KAAKgrG,YAApE,MAEO6uF,aAGX,IACMG,aAAeD,cADEA,aAAeF,cAGtC,OAAO,EAAAxuD,SAAA,SAAQwuD,aAAcG,wEAU7B,OAAmB,IAAfh6L,KAAK0zD,MACE,EAGJ3gC,KAAKC,MAAMq7D,kBAAA2xB,kBAAkBqpD,yBAA2BtwE,iBAAAimB,KAAKC,oBAAsBj/G,KAAK0zD,gEAsBnEq7C,UAC5B,IAAMkrF,UAAYlrF,SAAW/uG,KAAKm4L,eAC5B+B,iBAAmBD,WAAaj6L,KAAKo4L,OAAS,GAEpD,OAAwB,GAApB8B,kBACAl6L,KAAKm4L,gBAAkBn4L,KAAKo4L,OAErBr/F,iBAAAimB,KAAKC,qBAAuBj/G,KAAKq9G,MAAQ68E,iBAAmB,GAAKl6L,KAAKq4L,YAG7E6B,kBAAoB,EACbnhG,iBAAAimB,KAAKC,qBAAuBj/G,KAAKq9G,KAAO68E,iBAAmBl6L,KAAKq4L,WAGvE6B,kBAAoB,EACbnhG,iBAAAimB,KAAKC,qBAAuBj/G,KAAKq9G,KAAQ,GAAKr9G,KAAKo4L,OAAS,EAAI6B,WAAaj6L,KAAKo4L,OAAUp4L,KAAKq4L,WAGxG6B,kBAAoB,EACbnhG,iBAAAimB,KAAKC,qBAAuBj/G,KAAKq9G,MAAQ68E,iBAAmB,GAAKl6L,KAAKq4L,WAG7E6B,iBAAmB,EACZnhG,iBAAAimB,KAAKC,qBAAuBj/G,KAAKq9G,KAAQ,GAAKr9G,KAAKo4L,OAAS6B,WAAaj6L,KAAKo4L,OAAUp4L,KAAKq4L,gBADxG,yDAwB2BtpF,UAC3B,IAAMkrF,UAAYlrF,SAAW/uG,KAAKm4L,eAC5B+B,iBAAmBD,UAAYj6L,KAAKo4L,OACpC+B,WAAaphG,iBAAAimB,KAAKC,oBAAsBj/G,KAAKu4L,mBAC7C6B,aAAerhG,iBAAAimB,KAAKC,oBAAsBj/G,KAAKw4L,qBAE/C6B,cAAgBr6L,KAAKo4L,OAAS6B,UAEpC,OAAwB,GAApBC,kBACAl6L,KAAKm4L,gBAAkBn4L,KAAKo4L,OAErB+B,YAIPF,WAAaj6L,KAAKsrF,OACX6uG,WAGSC,aAAeD,WAA/BE,cAEOD,aAGSA,aAAhBC,cAEOD,cAAgBH,UAAYG,aAAeD,WAAan6L,KAAKo4L,SAIxEp4L,KAAKm4L,gBAAkBn4L,KAAKo4L,OAErB+B,kEAyBmBprF,UAC1B,IACMmrF,kBADInrF,SAAW/uG,KAAKm4L,gBACGn4L,KAAKo4L,OAEV,GAApB8B,mBACAl6L,KAAKm4L,gBAAkBn4L,KAAKo4L,QAGhC,IAAM/6E,KAAOr9G,KAAKq9G,KAAOr9G,KAAKq4L,UAAYtlK,KAAK6tF,IAAIs5E,kBAAmB,EAAAh0F,QAAAqpD,QAEtE,OAAOx2D,iBAAAimB,KAAKC,oBAAsB5B,8CAYrBxlB,UACb,OAAOA,WAAaoO,mBAAAwR,gBAAgBC,SAChC7f,WAAaoO,mBAAAwR,gBAAgB6D,WAC7BzjB,WAAaoO,mBAAAwR,gBAAgB8D,2DAYbrrG,MACpB,OAAO,EAAAm7H,SAAA,SAAQ,EAAGn7H,KAAKlT,OAAS,iDAWd66L,kBAClB,OAAKA,iBAAiBnkI,MAIflnC,SAASqrK,iBAAiBnkI,MAAO2yC,gBAAAk+B,eAH7B,oEAoB2B+1D,sBAMtC,OALkC,EAAAx0F,MAAA,SAAKw0F,qBAAsB,SAACC,qBAAD,MAA0B,CACnF55L,KAAM45L,oBAAoB,GAC1Bl9E,KAAMk9E,oBAAoB,0DAkB9B,IAAMC,oBAAsB,GAQ5B,OANA,EAAA5gF,UAAA,SAAS55G,KAAK8xF,SAAU,SAACkmB,SACrB,IAAK,IAAI37G,EAAI,EAAGA,EAAI27G,QAAQqF,KAAMhhH,IAC9Bm+L,oBAAoBh3L,KAAKw0G,QAAQr3G,QAIlC65L,mEAWY3C,kBACnB,GAAI73L,KAAKm2G,cAAe,CAMpB,MAJkC,CAAC,CAC/B10G,KAAM,cAWd,OALoC,EAAAg2L,wBAAAgD,uBAChC5C,iBACAhlG,mBAAA,QAAkBlgF,kFAgBuBklL,kBACzCA,iBAAiBhgG,WAAaoO,mBAAAwR,gBAAgB6D,YAIlDt7G,KAAK0jI,eAAiB1jI,KAAK4xH,YAAYxZ,UAAU,GAAGzT,cACpD3kG,KAAKmoG,QAAUnoG,KAAK06L,2EAapB,IAAMC,2BAA6B36L,KAAK4xH,YAAYxZ,UAAU,GAAGzT,cAC3Di2F,4BAA8B56L,KAAK4xH,YAAYxZ,UAAU,GAAGzT,cAGlE,OAFgBg2F,2BAA2Bz0E,kBAAkB00E,mGAY7D,IAAMr+C,gBAAkB1pD,mBAAA,QAAkBkV,cAAcpD,cAOxD,OANgC,IAAI4yC,qBAAA,QAChCgF,gBAAgBz7B,IAChBy7B,gBACAA,gBAAgB5D,0CAvsBpB,OAAO34I,KAAK2gJ,wCAUZ,OAAO,EAAA76C,MAAA,SAAK9lG,KAAK8xF,SAAU,SAACkmB,SAAD,OAAaA,QAAQr3G,2CAahD,OAAIX,KAAKkgH,eACE,aAGJlgH,KAAKo2G,YACNp2G,KAAK+3G,YACL/3G,KAAK83G,wCAYX,IAAMnP,UAAW,EAAA0iC,SAAA,SAAQrrI,KAAKg4L,iBAAkBh4L,KAAKi4L,kBAErD,OAAO,EAAAlyF,QAAA,SAAO4C,UAAW,yCAWzB,OAAO3oG,KAAK0jI,wDAWZ,OAAO1jI,KAAK0jI,eAAe7nC,+zBC7dnC,IAAA+d,UAAA7rB,uBAAAvxF,QAAA,mBACAi3F,wBAAA1F,uBAAAvxF,QAAA,6BACA4xF,YAAAL,uBAAAvxF,QAAA,yBACA42F,gBAAArF,uBAAAvxF,QAAA,2BACAu8F,iBAAAv8F,QAAA,mZA4Me,eA5LX,SAAAq+L,iBAAc,kBAAA5mL,MAAAjU,oIAAA8uF,CAAA9uF,KAAA66L,sBAiLyB,WAAa,IAAA,IAAAluK,KAAA9nB,UAAA7H,OAATuK,KAAS,IAAAyd,MAAA2H,MAAAC,KAAA,EAAAA,KAAAD,KAAAC,OAATrlB,KAASqlB,MAAA/nB,UAAA+nB,MAChD,IAAM0lF,kBAAoB/qG,KAAK,GAAG,GACPA,KAAK,GAAG,GAEhBuzL,oCAAoCxoF,mBAEvDA,kBAAkBwlF,WAAa7jL,MAAK8mL,mBAAmBzoF,yBAvL7C,8CAAAtyG,4GAOVA,KAAKy5F,oBAAsB,sHAS1B9D,oBACD,QAAkC,IAAvBA,mBACP,MAAM,IAAIzjE,UAAU,gFAOxB,OAJAlyB,KAAKy5F,oBAAsB9D,mBAE3B31F,KAAK82F,iBAEE92F,8CAWPA,KAAKg7L,0BAGLh7L,KAAKg3F,6EASiB,IAAA9F,OAAAlxF,MACtB,EAAA45G,UAAA,SAASnmB,wBAAA,QAAuBwnG,mBAAoB,SAAC3oF,mBAEjDA,kBAAkB4oF,WAAW9sG,YAAA,QAAW4gB,sBACxCsD,kBAAkBwlF,WAAa5mG,OAAK6pG,mBAAmBzoF,mBACvDA,kBAAkB6oF,uBAAuBjqG,OAAKuI,sEAY/B,IAAArI,OAAApxF,KACnByzF,wBAAA,QAAuBwnG,mBAAmBruJ,OAAO,SAACjW,GAAD,OAAOA,EAAE8iK,sBAAqB/lK,QAAQ,SAAC4+E,mBACpFA,kBAAkBI,qBAAuB,GACzCJ,kBAAkB6oF,uBAAuB/pG,OAAKqI,qBAC9CrI,OAAKgqG,WAAW9oF,wEAmBpB,IAFA,IAAM+oF,0BAA4B5nG,wBAAA,QAAuB6nG,gCAEhDj/L,EAAI,EAAGA,EAAIg/L,0BAA0Br+L,OAAQX,IAAK,CACvD,IAAMi2G,kBAAoB+oF,0BAA0Bh/L,GAEpD2D,KAAKy5F,oBAAoBqhG,oCAAoCxoF,+DAYlDA,mBACf,IAAMx9C,MAAQw9C,kBAAkBipF,kBAAkBntG,YAAA,QAAW4gB,sBAE7D,OAAOhvG,KAAKw7L,eAAelpF,kBAAmBx9C,0CAUvCw9C,mBACP,IAAImpF,WAAa,EACT3D,WAAexlF,kBAAfwlF,WAER,GAAIA,YAAcA,aAAe/+F,iBAAA2K,eAAgB,CAC7CtQ,gBAAA,QAAesoG,aAAappF,kBAAkBwlF,YAE9C,IAAM6D,WAAarpF,kBAAkBwlF,WAAW,GAAKxlF,kBAAkBwlF,WAAW,GAClF2D,WAAartG,YAAA,QAAW4gB,qBAAuB2sF,WAC/CrpF,kBAAkBwlF,WAAa,KAGnC,KAAIxlF,kBAAkB+K,MAAQ,GAA9B,CAIA,IAAIu+E,UAAYtpF,kBAAkBipF,kBAAkBntG,YAAA,QAAW4gB,sBAE3DysF,WAAaG,UACbA,WAAaH,WAEbz7L,KAAKy5F,oBAAoBqhG,oCAAoCxoF,mBAGjEA,kBAAkBwlF,WAAa93L,KAAKw7L,eAAelpF,kBAAmBspF,mDAY3DtpF,kBAAmBx9C,OAC9B,OAAOs+B,gBAAA,QAAeyoG,aAClB77L,KAAK87L,qCAELhnI,MAEA,KAEA,CAACw9C,kBAAmBtyG,KAAKy5F,uvBCpLrC,IAAAigB,YAAA3rB,uBAAAvxF,QAAA,qBACAm9G,QAAA5rB,uBAAAvxF,QAAA,iBACAsmI,UAAA/0C,uBAAAvxF,QAAA,mBACAwxF,QAAAD,uBAAAvxF,QAAA,iBACA6uI,SAAAt9C,uBAAAvxF,QAAA,kBACAk1G,UAAA3jB,uBAAAvxF,QAAA,mBACAi6I,cAAA1oD,uBAAAvxF,QAAA,4BACA+0H,YAAAxjC,uBAAAvxF,QAAA,kDACAu8F,iBAAAv8F,QAAA,gCACA6pG,gBAAA7pG,QAAA,+BACA41G,oBAAA51G,QAAA,mCACA01G,UAAA11G,QAAA,oBACA49G,sBAAA59G,QAAA,qCACAq8F,MAAAr8F,QAAA,gvBAUO,SAASu/L,uCAAuCC,mBAMnD,IAJA,IAAMC,kBAAoB,CAAC,GACvBC,sBAAwB,EAGnB7/L,EAAI,EAAGA,EAAI2/L,kBAAkBh/L,OAAQX,IAC1C,IAAI2/L,kBAAkB3/L,GAAG4qH,mBAAoB+0E,kBAAkB3/L,EAAI,GAAG4qH,iBAAtE,CAIA,IAAMk1E,sBAAwBH,kBAAkB3/L,EAAI,GAC9CooL,kBAAoBuX,kBAAkB3/L,GAE5C6/L,uBAD+BC,sBAAsBC,4BAA4B3X,mBAGjFwX,kBAAkBz4L,KAAK04L,uBAG3B,OAAOD,kBAiBJ,SAASI,0BAA0BL,kBAAmBC,mBAGzD,IAFA,IAAMK,gBAAkB,GAEfjgM,EAAI,EAAGA,EAAI2/L,kBAAkBh/L,OAAQX,IAAK,CAC/C,IAAMoiH,cAAgBu9E,kBAAkB3/L,GAExC,GAAKoiH,cAAcsd,uBAAnB,CAIA,IAAMwgE,WAAY,EAAA7qF,UAAA,SAAS,CAAC+M,cAAc4K,gBAAiB5K,cAAcgL,kBAAmB,GAE5F6yE,gBAAgB94L,KAAK,CACjBy4L,kBAAkB5/L,GAClB02B,KAAKw5C,IAAL/7D,MAAAuiB,KAAIgpE,mBAAQwgG,eAIpB,OAAOD,gBAWJ,SAASE,2BAA2BF,gBAAiBG,gBACxD,IAEMC,gCAAiC,EAAAhjF,YAAA,SAAW4iF,gBAAiB,SAACK,gBAChE,OAAOA,eAHa,IAGsBF,iBAE1CG,mCAAqCF,+BAAiC,EAM1E,GAJIE,oCAAsC,IACtCA,mCAAqCN,gBAAgBt/L,OAAS,GAG9D0/L,+BAAiC,EAAG,CACpC,GAAIE,mCAAqC,EACrC,MAAM,IAAI1qK,UAAU,kGAGxB,OAAOoqK,gBAAgBM,oCAfH,GAkBxB,GAAIA,mCAAqC,EACrC,OAAO,EAAAjjF,QAAA,SAAO2iF,gBAAgBI,gCAnBV,IAmB6D,GAGrF,IAAMG,4BAA8BP,gBAAgBM,oCAC9CE,wBAA0BR,gBAAgBI,gCAC1CK,4BAA8BD,wBAzBZ,GAyBuDD,4BAzBvD,GA6BlBG,uCAH8BF,wBAzBZ,GAyBuDD,4BAzBvD,MA0BgCJ,eAAiBI,4BA3BjD,IA4B8DE,6BAGtF,OAAO,EAAApjF,QAAA,SAAOkjF,4BA9BU,GA8BqCG,uCAAwC,GAelG,SAASC,qCACZX,gBACAG,eACAS,WACAC,cACAhU,cACAztE,iBAEA,IAEI0hF,yBAA2Bd,gBAAgB,GAM/C,GAJKc,2BACDA,yBAA2B,CAACjU,cAAeztE,kBAG3C+gF,gBAAkBW,yBARE,GASpB,OAAOZ,2BAA2BF,gBAAiBG,gBAGvD,IACMY,mCADqCD,yBAZnB,GAY+DX,gBACRS,WAAankG,iBAAAimB,KAAKQ,oBAE3F89E,0BAA4BF,yBAdV,GAaG,IAEDC,kCAM1B,OAJI,EAAAv6D,UAAA,SAASq6D,iBACTA,cAA4E,KAA5D,EAAA9xD,SAAA,SAAQ8xD,cAAc,GAAK,IAAMA,cAAc,GAAK,MAGjEpqK,KAAKw5C,KAAI,EAAAotC,QAAA,SAAO2jF,2BAA4B,GAAIH,eAuF3D,IAkGMI,UAAY,SAAC1F,iBAAkBpoG,SACjC,IAAM+tG,UAAY3F,iBAAiBx6E,KAEnC,GAAImgF,WAAa,EACb,MAAO,GAGX,IAAM9hF,gBAAkBjsB,QAAQksB,sBAC1BuhF,WAAarF,iBAAiBnkI,MAC9BypI,cAAgBtF,iBAAiBlvF,SAMjC80F,gBAFuBP,YAAc,GAHlBl4K,MAAM3hB,QAAQ85L,gBAAiB,EAAAtkG,MAAA6kG,KAAIP,eAAiBA,eAEvB/iF,sBAAA4S,YAAYC,oCAGnBuwE,UAEzCxB,mBADanE,iBAAiBjmE,YAAcimE,iBAAiBjmE,YAAc,IAAIL,YAAA,QAAWsmE,iBAAiBp2B,QAC5ErpD,UAC/B+wE,cArEgC,SAAC6S,kBAAmBvsG,SAQ1D,IALA,IAAI05F,cAAgB,EAKX9sL,EAAI,EAAGA,EAAI2/L,kBAAkBh/L,OAAQX,IAAK,CAC/C,IAAMoiH,cAAgBu9E,kBAAkB3/L,GAClCshM,iBAAmB3B,kBAAkB3/L,EAAI,GAE/C,IAAIoiH,cAAcwI,mBAAoB02E,iBAAiB12E,iBAAvD,CAOA,IAHA,IAAM22E,0BAA2B,EAAAv3F,gBAAA0f,KAAG,EAAA7T,UAAA4C,YAAW6oF,iBAAiB9hG,iBAAkB4iB,cAAc5iB,mBAC5FgiG,mBAAqBnjK,EAAAA,EAEhB5O,EAAI,EAAGA,EAAI2jE,QAAQwoD,SAASj7I,OAAQ8uB,IAAK,CAC9C,IAAMmsH,SAAWxoD,QAAQwoD,SAASnsH,GAElC,GAAImsH,SAASoF,gBAAgB5+B,cAAc5iB,kBAAmB,CAC1D,IAAMiiG,mBAAqB7lD,SAAS4lD,mBAAmBF,iBAAiB9hG,kBAExEgiG,mBAAqB9qK,KAAKw5C,IAAIsxH,mBAAoBC,qBAK1D,GAAID,qBAAuBnjK,EAAAA,EAAU,CACjCyuJ,eAAiB0U,mBAEjB,MAGJ1U,eAAiByU,0BAGrB,OAAOzU,cA8Be4U,CAAkC/B,kBAAmBvsG,SAa3E,OAzMJ,SACIusG,kBACAgC,aACAd,WACAC,cACAhU,cACAztE,iBAOA,IALA,IAAMuiF,2BAA6B,GAC7BhC,kBAAoBF,uCAAuCC,mBAC3DM,gBAAkBD,0BAA0BL,kBAAmBC,mBAHvEiC,MAAA,SAMW7hM,GACL,IAAM8hM,YAAcH,aAAa3hM,GAC3B+hM,mBAAoB,EAAA1kF,YAAA,SAAWuiF,kBAAmB,SAAC30E,oBAMrD,OAA4B62E,YAArB72E,qBAELm9D,kBAAoBuX,kBAAkBoC,mBACtCC,sBAAwBtrK,KAAKi6B,IAAI,EAAGoxI,kBAAoB,GACxDjC,sBAAwBH,kBAAkBqC,uBAC1CC,yCAA2CH,YAAclC,kBAAkBoC,uBAC3El2F,QAAUg0F,sBAAsBoC,2BAA2B9Z,mBAC3D+Z,mBAAqBrC,sBAAsBx3F,cAAc85F,8CAC3Dt2F,QACAm2F,0CAEE31F,SAAWs0F,qCACbX,gBACA6B,YACAjB,WACAC,cACAhU,cACAztE,iBAGJuiF,2BAA2Bz6L,KAAK,CAC5BmlG,SAAAA,SACAR,QAAAA,QACA0pB,QAAS4yD,kBAAkB9jL,KAC3BgkG,cAAe65F,sBAhCdniM,EAAI,EAAGA,EAAI2hM,aAAahhM,OAAQX,IAAK6hM,MAArC7hM,GAoCT,OAAO4hM,2BA+IgBS,CACnB1C,kBAzHsB,SAACyB,iBAAuC,IAC5DkB,yBAD4D,EAAA95L,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,GACZ,EAE1C+5L,uBAAyB7rK,KAAKi6B,IAAI,EAAGywI,iBACvCoB,mBAAqB,GAEnBC,kBAAoB/rK,KAAKi6B,IAAI4xI,uBAAwBA,wBACtDA,uBAAyBC,qBAE1BD,uBAAyB,GACzBnyK,QAAQ1U,MAAR,kDAAAvG,OAAgEisL,gBAAhE,sBAAAjsL,OAAoGotL,yBAI/EE,kBAArBD,qBACAA,mBAAqBC,mBAOzB,IAJA,IAAMd,aAAe,CAACW,yBAClBI,mBAAqBJ,wBAGGE,mBAArBE,uBAEHA,qBADiB,EAAA1zD,SAAA,SAAQwzD,mBAAoBC,mBAAmB,IAGvCD,qBAIzBb,aAAax6L,KAAKu7L,oBAMtB,OAFAf,aAAax6L,KAAK,GAEXw6L,aAkFcgB,CAAsBvB,gBAAiBtU,eAKxD+T,WACAC,cACAhU,cACAztE,gDAsB6B,SAACm8E,iBAAkBoH,gBACpD,IAAI,EAAAjxG,QAAA,SAAO6pG,oBAAqB,EAAA7pG,QAAA,SAAOixG,gBACnC,MAAM,IAAI/sK,UAAU,qHAAA,gBAAA1gB,OAAAiiG,QAEOokF,kBAFP,SAAArmL,OAAAiiG,QAEsCwrF,kBAG9D,IAAI,EAAA7sF,oBAAA4d,oBAAmB6nE,kBACnB,MAAM,IAAI3lK,UAAU,6DAAA,6CAAA1gB,OAAAiiG,QACoCokF,oBAG5D,KAAMoH,0BAA0BxoD,cAAA,SAC5B,MAAM,IAAIvkH,UAAU,2DAAA,mDAAA1gB,OAAAiiG,QAC0CwrF,kBAGlE,OAAO1B,UAAU1F,iBAAkBoH,ujBChavC,IAAAC,aAAAnxG,uBAAAvxF,QAAA,sBACA47F,MAAArK,uBAAAvxF,QAAA,eACA2iM,OAAApxG,uBAAAvxF,QAAA,kGAEA,IAAM4iM,cAAgB,CAClB,cACA,SACA,WACA,QACA,WACA,SACA,OACA,QACA,YAGEC,uBAAyB,CAC3B,WACA,SACA,SACA,YACA,WAGEC,SAAQ,GAAA9tL,OACP4tL,cACAC,+DAmDuC,SAACtkI,MAG3C,IAFA,IAAI8vH,SAAU,EAELxuL,EAAI,EAAGA,EAAI+iM,cAAcpiM,OAAQX,IAAK,CAC3C,IAAMiJ,IAAM85L,cAAc/iM,IAEb,aAARiJ,KAA8B,UAARA,KAAsC,cAAlBy1D,KAAK88B,YAIxC,WAARvyF,KAAsC,YAAlBy1D,KAAK88B,WAIxB,EAAAO,MAAA,SAAKr9B,KAAMz1D,OAAS,EAAA8yF,MAAA,SAAKinG,uBAAwB/5L,OAClDmnB,QAAQ4tB,KAAR,2CAAA7oC,OAAwDlM,MAExDulL,SAAU,IAIlB,IAAM0U,UAAW,EAAAJ,OAAA,SAAMpkI,MACjBykI,iBAAkB,EAAAN,aAAA,SAAYK,SAAUD,UAM9C,OAJ6B,EAAzBE,gBAAgBxiM,QAChByvB,QAAQ4tB,KAAR,6CAAA7oC,OAA0DguL,gBAAgBt7L,KAAK,QAG5E2mL,yMC1GX,IAAA/8F,QAAAC,uBAAAvxF,QAAA,WACAo9G,UAAA7rB,uBAAAvxF,QAAA,mBAEA42F,iBADArF,uBAAAvxF,QAAA,iBACAuxF,uBAAAvxF,QAAA,4BACAs3F,WAAAt3F,QAAA,gYAOA,IA6CqBijM,8BACjB,SAAAA,mBAAY1wG,yIAAUD,CAAA9uF,KAAAy/L,oBAQlBz/L,KAAK+uF,SAAWA,SAShB/uF,KAAK0/L,QAAU,KASf1/L,KAAK2/L,YAAc,KAEnB3/L,KAAKojC,8HASF,IAAAnvB,MAAAjU,KACHA,KAAK0/L,SAAU,EAAA5xG,QAAA,SApFS,4KAqFxB9tF,KAAK2/L,YAAc3/L,KAAK0/L,QAAQ5yJ,KAAKgnD,WAAAuB,UAAUC,cAAcq5E,aAC7D,IAAMixB,aAAexsG,gBAAA,QAAe6N,KAAK7hD,OAAOygJ,mBAEhD,EAAAjmF,UAAA,SAASgmF,aAAc,SAACjsI,KACpB,IAAImsI,WAAa7rL,MAAK8rL,wBAAwBpsI,KAE7B,WAAbA,IAAIlyD,OACJq+L,WAAa7rL,MAAK+rL,0BAA0BrsI,MAGhD1/C,MAAK0rL,YAAY1sL,OAAO6sL,cAG5B,IAAMG,SAAWjgM,KAAKkgM,wBAKtB,OAHAlgM,KAAK0/L,QAAQzsL,OAAOgtL,UACpBjgM,KAAK+uF,SAAS97E,OAAOjT,KAAK0/L,SAEnB1/L,4CAWP,OAAOA,KAAK0/L,QAAQ1oI,SAAS88B,WAAAuB,UAAUuL,WAAWxmF,6CAQlDpa,KAAK0/L,QAAQ9oI,YAAYk9B,WAAAuB,UAAUuL,WAAWxmF,wDAYxBglC,QACtB,IAAM0gJ,YAAa,EAAAhyG,QAAA,SArHU,oCAsHvBqyG,QAAS,EAAAryG,QAAA,SA/GU,oCAgHnBsyG,iBAAkB,EAAAtyG,QAAA,SAzGI,0CA0GtBuyG,WAAY,EAAAvyG,QAAA,SAAA,iBAAAt8E,OAAmB4tC,OAAOz+C,KAA1B,gBACZ2/L,eAAiBltG,gBAAA,QAAe6N,KAAK7hD,OAAO8hD,gBAAgB9hD,OAAOz+C,MAEzEw/L,OAAOr7K,KAAKs6B,OAAOmsH,aACnBu0B,WAAW7sL,OAAOktL,QAGlB,IAAK,IAAI9jM,EAAI,EAAGA,EAAI+iD,OAAOqsH,WAAWzuK,OAAQX,IAAK,CAC/C,IAAMkkM,uBAAyBvgM,KAAKwgM,2BAA2BphJ,OAAOqsH,WAAWpvK,GAAIikM,gBAErFD,UAAUptL,OAAOstL,wBAarB,OATAF,UAAUI,OAAO,SAACl/I,OACd,IAAMm/I,gBAAiB,EAAA5yG,QAAA,SAAEvsC,MAAMoC,eAE/ByvC,gBAAA,QAAe6N,KAAK7hD,OAAOuhJ,gBAAgBD,eAAezyJ,KAAK,QAASyyJ,eAAet0L,SAG3Fg0L,gBAAgBntL,OAAOotL,WACvBP,WAAW7sL,OAAOmtL,iBAEXN,8DAagBc,WAAYN,gBACnC,OAAIM,WAAWp7L,QAAU86L,eACrB,kBAAA9uL,OAAyBovL,WAAWp7L,MAApC,eAAAgM,OAAuDovL,WAAWl1B,aAAlE,aAGJ,kBAAAl6J,OAAyBovL,WAAWp7L,MAApC,MAAAgM,OAA8CovL,WAAWl1B,aAAzD,6DAWoBtsH,QACpB,IAAM0gJ,YAAa,EAAAhyG,QAAA,SA7KU,oCA8KvBqyG,QAAS,EAAAryG,QAAA,SAvKU,oCAwKnB7vC,aAAem1C,gBAAA,QAAe6N,KAAK7hD,OAAO8hD,gBAAgB9hD,OAAOz+C,MACjE0/L,WAAY,EAAAvyG,QAAA,SAAA,mFAAAt8E,OACkB4tC,OAAO39C,KADzB,iDAAA+P,OAEkB4tC,OAAOz+C,KAFzB,kDAAA6Q,OAGmBysC,aAHnB,OAIZ4iJ,OAAQ,EAAA/yG,QAAA,SAAA,4BAAAt8E,OAA8B4tC,OAAOjB,KAArC,YA4Bd,OA1BAgiJ,OAAOr7K,KAAKs6B,OAAOmsH,aACnBu0B,WAAW7sL,OAAOktL,QAGlBE,UAAUI,OAAO,SAACl/I,OACd,IAAMm/I,gBAAiB,EAAA5yG,QAAA,SAAEvsC,MAAMoC,eACzB1F,aAAeyiJ,eAAet0L,MAEpC,GAAKgzC,OAAO4sH,kBAAkB/tH,cAA9B,CAOA,IAAI29H,UAAY39H,aACI,WAAhBmB,OAAO39C,OACPm6K,UAAYzwH,WAAWywH,YAG3BxoF,gBAAA,QAAe6N,KAAK7hD,OAAOuhJ,gBAAgBD,eAAezyJ,KAAK,QAAS2tI,gBAVpEykB,UAAUj0L,IAAI6xC,gBAatB6hJ,WAAW7sL,OAAOotL,WAClBP,WAAW7sL,OAAO4tL,OAEXf,wDAiBUhoG,OAAmB,IAAZtyF,MAAY,EAAAX,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAJ,GAC1Bi7L,YAAa,EAAAhyG,QAAA,SAlOU,oCAmOvBqyG,QAAS,EAAAryG,QAAA,SA5NU,oCA6NnBgzG,QAAS,EAAAhzG,QAAA,SA9MS,4CAqNxB,OALAgyG,WAAW7sL,OAAOktL,QAClBL,WAAW7sL,OAAO6tL,QAClBX,OAAOr7K,KAAKgzE,OACZgpG,OAAOh8K,KAAKtf,OAELs6L,2DAWP,IAAMiB,iBAAmBh0K,OAAOi0K,OAAOC,QACjCnB,YAAa,EAAAhyG,QAAA,SA9PO,qCAkQ1B,OAFAgyG,WAAWh7K,KAAX,4BAAAtT,OAA4CuvL,mBAErCjB,saCxRf,IAAAhyG,QAAAC,uBAAAvxF,QAAA,WACAo9G,UAAA7rB,uBAAAvxF,QAAA,mBACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACA22F,cAAApF,uBAAAvxF,QAAA,oBACAi3F,wBAAA1F,uBAAAvxF,QAAA,+CACAk3F,gBAAA3F,uBAAAvxF,QAAA,uCACAs3F,WAAAt3F,QAAA,0BACAypG,mBAAAzpG,QAAA,kCACA+xF,YAAA/xF,QAAA,2BACAu8F,iBAAAv8F,QAAA,gCACAu3F,iBAAAv3F,QAAA,gCACAq2F,mBAAA9E,uBAAAvxF,QAAA,iCACA6pG,gBAAA7pG,QAAA,qYAOA,IAaqB0kM,iCACjB,SAAAA,sBAAYnyG,yIAAUD,CAAA9uF,KAAAkhM,uBAOlBlhM,KAAKk0F,UAAY/F,UAAA,QASjBnuF,KAAK+uF,SAAWA,SAShB/uF,KAAK0/L,QAAU,KASf1/L,KAAKmhM,OAAS,KASdnhM,KAAK24H,UAAY,KASjB34H,KAAKohM,MAAQ,KAEbphM,KAAKi0G,iBACA7wE,OACAgvD,mIAkBL,OARApyF,KAAK0/L,SAAU,EAAA5xG,QAAA,SAhFQ,mbAiFvB9tF,KAAK2/L,YAAc3/L,KAAK0/L,QAAQ5yJ,KAAb,IAAAt7B,OAAsBsiF,WAAA8M,WAAW+tE,cAEpD3uK,KAAKqhM,mBACLrhM,KAAK+uF,SAAS97E,OAAOjT,KAAK0/L,SAC1B1/L,KAAK0/L,QAAQ5yJ,KAAKgnD,WAAAuB,UAAUC,cAAci6E,wBAAwBhrH,MAAMvkD,KAAKshM,qBAC7EthM,KAAK0/L,QAAQ5yJ,KAAKgnD,WAAAuB,UAAUC,cAAck6E,wBAAwBjrH,MAAMvkD,KAAKuhM,wBAEtEvhM,8CAmBP,OANAA,KAAK41I,wBAA0B51I,KAAK40F,gBAAgBliC,KAAK1yD,MACzDA,KAAKwhM,8BAAgCxhM,KAAKyhM,sBAAsB/uI,KAAK1yD,MACrEA,KAAK0hM,0BAA4B1hM,KAAK2hM,kBAAkBjvI,KAAK1yD,MAC7DA,KAAKshM,oBAAsBthM,KAAK4hM,YAAYlvI,KAAK1yD,MACjDA,KAAKuhM,uBAAyBvhM,KAAK80F,eAAepiC,KAAK1yD,MAEhDA,sCAeP,OAFAA,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAM+D,eAAgB/0F,KAAK41I,yBAEtC51I,uCAaP,OAFAA,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAM+D,eAAgB/0F,KAAK41I,yBAEvC51I,4CAWP,OAAOA,KAAK0/L,QAAQ1oI,SAAS88B,WAAAuB,UAAUuL,WAAWxmF,6CAQlDpa,KAAK0/L,QAAQ9oI,YAAYk9B,WAAAuB,UAAUuL,WAAWxmF,gDAU9Cpa,KAAKqhM,yDAUL,IAAM5xG,QAAUoD,mBAAA,QAAkBkV,cAClC/nG,KAAKohM,MAAQ,CAAE1tI,MAAO+7B,QAAQ0oD,YAAYzkF,MAAOo5C,MAAO/5E,KAAK8B,OAAM,EAAAwxE,gBAAAwG,kBAAiBpd,QAAQ0oD,YAAYrrC,SAExG9sG,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMooD,YAAap5I,KAAKohM,OAC/C3tG,wBAAA,QAAuBouG,aACvB7hM,KAAKqhM,4DAULrhM,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMgE,0DASd,IAAA/gF,MAAAjU,KACfA,KAAK2/L,YAAYn7L,QACjBxE,KAAKmhM,OAAS,GACdnhM,KAAK24H,UAAY,GAEjB,IAAMlpC,QAAUoD,mBAAA,QAAkBkV,cAClC/nG,KAAKohM,MAAQ,CAAE1tI,MAAO+7B,QAAQid,KAAKh5C,MAAOo5C,MAAO/5E,KAAK8B,OAAM,EAAAwxE,gBAAAwG,kBAAiBpd,QAAQid,KAAKI,SAE1F,IAAMg1F,eAAiB9hM,KAAK+hM,0BAA0B/hM,KAAKohM,MAAMt0F,OAC3Dk1F,eAAiBhiM,KAAKiiM,sBAAsBjiM,KAAKohM,MAAM1tI,OAE7D1zD,KAAK2/L,YAAY1sL,OAAO6uL,gBACxB9hM,KAAK2/L,YAAY1sL,OAAO+uL,gBACxBhiM,KAAK2/L,YAAY1sL,OAAO,UAExB,IAAA,IAAAsyB,GAAA,EAAA28J,eAAuBt3K,OAAOrW,OAAO0xF,mBAAAwR,iBAArClyE,GAAA28J,eAAAllM,OAAAuoC,KAAuD,CAAlD,IAAMsyD,SAAQqqG,eAAA38J,IACfvlC,KAAKmhM,OAAOtpG,UAAY,EACxB73F,KAAK24H,UAAU9gC,UAAY,GAC3B,IAAMsqG,aAAeniM,KAAKoiM,aAAavqG,SAAUA,SAAUA,SAAU73F,KAAKqiM,6BAE1EriM,KAAK2/L,YAAY1sL,OAAOkvL,cAG5B,IAvBe,IAAAjE,MAAA,WAuBV,IAAMrmG,SAAQyqG,gBAAAvwC,KACT4kC,cAAgBljG,wBAAA,QAAuB8uG,4BAA4B1qG,UAE9C,EAAvB8+F,cAAc35L,QACdiX,MAAK0rL,YAAY1sL,OAAO,WAG5B,EAAA2mG,UAAA,SAAS+8E,cAAe,SAACK,cACrB,IAAMl/F,MAAQk/F,aAAahsF,YAAY9lG,QAAQ6zF,iBAAAkkC,MAAME,WAAY,KACjElpH,MAAKktL,OAAOnK,aAAahhL,IAAMghL,aAAa35E,KAC5C,IAAM8kF,aAAeluL,MAAKuuL,iBAAiBxL,aAAahhL,GAAI8hF,MAAOk/F,aAAc/iL,MAAKwuL,2BAEtFxuL,MAAK0rL,YAAY1sL,OAAOkvL,cACxBluL,MAAK0kH,UAAU9gC,UAAUr0F,KAAK,CAAEwzL,aAAAA,aAAcmL,aAAAA,kBAbtDpwC,IAAA,EAAAuwC,gBAAuB13K,OAAOrW,OAAO0xF,mBAAAwR,iBAArCs6C,IAAAuwC,gBAAAtlM,OAAA+0J,MAAuDmsC,6CA4B9C54L,IAAKwyF,MAAOlyF,KAAM88L,gBAC3B,IAAMrlF,KAAOr9G,KAAKmhM,OAAO77L,KACnBjG,SAAQ,qFAAAmS,OAEoBsmF,MAFpB,0EAAAtmF,OAG0ClM,IAH1C,aAAAkM,OAGyD6rG,KAHzD,+EAAA7rG,OAIqB6rG,KAJrB,+BAMRtuB,UAAW,EAAAjB,QAAA,SAAEzuF,UACbsjM,gBAAkBD,eAAehwI,KAAK1yD,MAI5C,OAFA+uF,SAAS3tC,GAAG,SAAU,CAAEwhJ,QAASh9L,MAAQ+8L,iBAElC5zG,2DAWevpF,OACtB,IAAM7E,KAAO,iBACPtB,SAAQ,qFAAAmS,OAEoB7Q,KAFpB,0EAAA6Q,OAG0C7Q,KAH1C,aAAA6Q,OAG0DhM,MAH1D,gFAAAgM,OAIqBhM,MAJrB,+BAMRupF,UAAW,EAAAjB,QAAA,SAAEzuF,UAInB,OAFA0vF,SAAS3tC,GAAG,SAAUphD,KAAKwhM,+BAEpBzyG,uDAaWvpF,OAClB,IACMnG,SAAQ,qFAAAmS,OADD,aACC,0EAAAA,OADD,aACC,aAAAA,OAG0DhM,MAH1D,6EAAAgM,OAIqBhM,MAJrB,+BAMRupF,UAAW,EAAAjB,QAAA,SAAEzuF,UAInB,OAFA0vF,SAAS3tC,GAAG,SAAUphD,KAAK0hM,2BAEpB3yG,kDAaMzpF,IAAKwyF,MAAOlyF,KAAM88L,gBAC/B,IAAMrlF,KAAOr9G,KAAKmhM,OAAO77L,KACnBjG,SAAQ,qFAAAmS,OAEoBsmF,MAFpB,0EAAAtmF,OAG0ClM,IAH1C,aAAAkM,OAGyD6rG,KAHzD,kEAAA7rG,OAIqB6rG,KAJrB,+BAMRtuB,UAAW,EAAAjB,QAAA,SAAEzuF,UACbsjM,gBAAkBD,eAAehwI,KAAK1yD,MAI5C,OAFA+uF,SAAS3tC,GAAG,SAAU,CAAEwhJ,QAASh9L,MAAQ+8L,iBAElC5zG,uDAUWxtC,OAClB,IAAMshJ,SAAU,EAAA/0G,QAAA,SAAEvsC,MAAMnd,QAClB0+J,eAAiBD,QAAQ18K,KAAR,IAAA3U,OAAiBsiF,WAAA8M,WAAWkuE,aAC7CtpK,MAAQq9L,QAAQz2L,MACtBpM,KAAKohM,MAAMt0F,MAAQttF,OAAOha,OAE1Bs9L,eAAeh+K,KAAKtf,OACpBxF,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMooD,YAAap5I,KAAKohM,iDAUjC7/I,OACd,IAAMshJ,SAAU,EAAA/0G,QAAA,SAAEvsC,MAAMnd,QAClB2+J,WAAaF,QAAQ18K,KAAR,IAAA3U,OAAiBsiF,WAAA8M,WAAWkuE,aACzCtpK,MAAQq9L,QAAQz2L,MACtBpM,KAAKohM,MAAM1tI,MAAQl0C,OAAOha,OAE1Bu9L,WAAWj+K,KAAKtf,OAChBxF,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMooD,YAAap5I,KAAKohM,2DAUvB7/I,OACxB,IAAMshJ,SAAU,EAAA/0G,QAAA,SAAEvsC,MAAMnd,QAClB4+J,QAAUH,QAAQ18K,KAAR,IAAA3U,OAAiBsiF,WAAA8M,WAAWkuE,aACtCtpK,MAAQq9L,QAAQz2L,MAChByrF,SAAWt2C,MAAM37C,KAAKg9L,QACtB50J,SAAWhuC,KAAK24H,UAAU9gC,UACxBqL,YAAgBl1D,SAAS,GAAGgpJ,aAA5B9zF,YACRljG,KAAKmhM,OAAOtpG,UAAY1sC,WAAW3lD,OAEnCw9L,QAAQl+K,KAAKtf,OACb2tF,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgB2iF,qBAAsB,kBAA/D,GAAAtmK,OAAqF0xF,YAArF,KAAA1xF,OAAoGqmF,SAApG,KAAArmF,OAAgHhM,QAVjF,IAAAi0I,2BAAA,EAAAC,mBAAA,EAAAC,oBAAA/2I,EAAA,IAY/B,IAAA,IAAAg3I,MAAAC,UAA6C7rG,SAA7C3I,OAAAC,cAAAm0G,2BAAAG,MAAAC,UAAA1zH,QAAAd,MAAAo0H,2BAAA,EAAuD,CAAA,IAAA/gC,MAAAkhC,MAAAp0I,MAA1CwxL,aAA0Ct+E,MAA1Cs+E,aACHiM,aAD6CvqF,MAA5BypF,aACW36L,SAAb,IAAAgK,OAA0BsiF,WAAA8M,WAAWkuE,aAE1D9uK,KAAKkjM,YAAYlM,aAAciM,eAfJ,MAAAjgM,KAAA02I,mBAAA,EAAAC,eAAA32I,IAAA,QAAA,IAAAy2I,2BAAA,MAAAI,UAAA,QAAAA,UAAA,SAAA,QAAA,GAAAH,kBAAA,MAAAC,mEA0BTp4F,OACtB,IAAMshJ,SAAU,EAAA/0G,QAAA,SAAEvsC,MAAMnd,QAClB4+J,QAAUH,QAAQ18K,KAAR,IAAA3U,OAAiBsiF,WAAA8M,WAAWkuE,aACtCtpK,MAAQq9L,QAAQz2L,MAChB4qL,aAAez1I,MAAM37C,KAAKg9L,QAC1BO,SAAWh4I,WAAW3lD,OAC5BxF,KAAKmhM,OAAOnK,aAAahhL,IAAMmtL,SAE/BhwG,cAAA,QAAa+B,YACTnB,iBAAAoB,gBAAgB2iF,qBAChB,gBAFJ,GAAAtmK,OAGOwlL,aAAa9zF,YAHpB,KAAA1xF,OAGmCwlL,aAAahsF,YAHhD,KAAAx5F,OAG+DwlL,aAAa35E,KAH5E,KAAA7rG,OAGoF2xL,WAEpFnjM,KAAKkjM,YAAYlM,aAAcgM,6CAWvBhM,aAAcgM,SAAS,IACvBnrG,SAAam/F,aAAbn/F,SACRm/F,aAAa35E,KAAOr9G,KAAKmhM,OAAOtpG,UAAY73F,KAAKmhM,OAAOnK,aAAahhL,IAErEgtL,QAAQl+K,KAAKkyK,aAAa35E,MAC1B3pB,gBAAA,QAAe0nG,WAAWpE,mtBCtclC,QAAAvlF,WAAAj1G,QAAA,qUAEA,IAAM4mM,sBAAwB,CAAC,EAAG,GASbC,wBAKjB,SAAAA,eAA0B,IAAd5lM,QAAc,EAAAoH,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAJ,kIAAIiqF,CAAA9uF,KAAAqjM,cACtBrjM,KAAKusF,OAAQ,EAAAklB,MAAA,SAAKh0G,QAAS,QAAS,KACpCuC,KAAK8kB,MAAO,EAAA2sF,MAAA,SAAKh0G,QAAS,OAAQ,KAClCuC,KAAK5B,OAAQ,EAAAqzG,MAAA,SAAKh0G,QAAS,QAAS,MACpCuC,KAAKsjM,MAAO,EAAA7xF,MAAA,SAAKh0G,QAAS,OAAQ,QAElCuC,KAAK+qD,UAAW,EAAA0mD,MAAA,SAAKh0G,QAAS,WAAY2lM,uBAC1CpjM,KAAK0nB,SAAU,EAAA+pF,MAAA,SAAKh0G,QAAS,UAAW2lM,2IAYxC,OAAIpjM,KAAK5B,MACE4B,KAAK5B,MAAM4B,KAAK8kB,MAGpB9kB,KAAK8kB,yTCtCpB,IAAAgpE,QAAAC,uBAAAvxF,QAAA,WACA47F,MAAArK,uBAAAvxF,QAAA,eACA+mM,OAAAx1G,uBAAAvxF,QAAA,gBACAq2F,mBAAA9E,uBAAAvxF,QAAA,iCACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACA22F,cAAApF,uBAAAvxF,QAAA,oBACA4xF,YAAAL,uBAAAvxF,QAAA,yBACAgnM,cAAAz1G,uBAAAvxF,QAAA,mBACAq8F,MAAAr8F,QAAA,gBACA+xF,YAAA/xF,QAAA,2BACA8xF,aAAA9xF,QAAA,4BACAs3F,WAAAt3F,QAAA,0BACAu3F,iBAAAv3F,QAAA,ixBAEA,IAAMgkK,SAAW,GAaIijC,wBAIjB,SAAAA,eAA6B,IAAjB10G,SAAiB,EAAAlqF,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,oIAAMiqF,CAAA9uF,KAAAyjM,cAOzBzjM,KAAKk0F,UAAY/F,UAAA,QAOjBnuF,KAAKwgK,SAAW,KAShBxgK,KAAK+uF,SAAWA,SAShB/uF,KAAK0jM,cAAgB,KASrB1jM,KAAK2jM,kBAAoB,KASzB3jM,KAAK4jM,cAAgB,KAUrB5jM,KAAK6jM,gBAAkB,KAEvB7jM,KAAK00F,QACAuf,iBACA6vF,SACA1xG,2HAwBL,OAXApyF,KAAK0jM,eAAgB,EAAA51G,QAAA,SA7FH,qPA8FlB9tF,KAAK2jM,kBAAoB3jM,KAAK0jM,cAAc52J,KAAKgnD,WAAAuB,UAAUC,cAAco6E,MACzE1vK,KAAK4jM,cAAgB5jM,KAAK0jM,cAAc52J,KAAKgnD,WAAAuB,UAAUC,cAAc65E,MACrEnvK,KAAK6jM,iBAAkB,EAAA/1G,QAAA,SAAEgG,WAAAuB,UAAUC,cAAcw1E,iBAEjD9qK,KAAKwgK,SAAWA,SAChBxgK,KAAKwgK,SAASujC,MAAQ,GACtB/jM,KAAKwgK,SAASlwG,KAAO,EACrBtwD,KAAKwgK,SAASwjC,SAAW,GACzBhkM,KAAKwgK,SAASxzJ,MAAO,EAEdhN,8CAgBP,OAHAA,KAAK41I,wBAA0B51I,KAAK40F,gBAAgBliC,KAAK1yD,MACzDA,KAAKikM,yBAA2BjkM,KAAKkkM,gBAAgBxxI,KAAK1yD,MAEnDA,sCAaP,IAAKA,KAAK+uF,SACN,MAAM,IAAIpyF,MAAM,yEAMpB,OAHAqD,KAAKwgK,SAASv4G,KAAOjoD,KAAK0jM,cAC1B1jM,KAAK+uF,SAAS97E,OAAOjT,KAAK0jM,eAEnB1jM,sCAUF,IAAAiU,MAAAjU,KAOL,OANAA,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAM85E,gBAAiB9qK,KAAKikM,0BAC9CjkM,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAM+D,eAAgB/0F,KAAK41I,yBAE7C51I,KAAK2jM,kBAAkBviJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAKkwL,cAAc5iJ,SACjEvhD,KAAK4jM,cAAcxiJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAKmwL,cAAc7iJ,SAEtDvhD,uCAUD,IAAAkxF,OAAAlxF,KAON,OANAA,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAM85E,gBAAiB9qK,KAAKikM,0BAC/CjkM,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAM+D,eAAgB/0F,KAAK41I,yBAE9C51I,KAAK2jM,kBAAkBniJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAKizG,cAAc5iJ,SAClEvhD,KAAK4jM,cAAcpiJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAKkzG,cAAc7iJ,SAEvDvhD,KAAKsyF,4CAoBZ,OATAtyF,KAAK0jM,cAAgB,KACrB1jM,KAAK2jM,kBAAoB,KACzB3jM,KAAK4jM,cAAgB,KACrB5jM,KAAKwgK,SAAW,GAChBxgK,KAAKwgK,SAASujC,MAAQ,GACtB/jM,KAAKwgK,SAASlwG,KAAO,EACrBtwD,KAAKwgK,SAASwjC,SAAW,GACzBhkM,KAAKwgK,SAASxzJ,MAAO,EAEdhN,oDAWP,OAAOA,KAAK0jM,cAAc1sI,SAAS88B,WAAAuB,UAAUuL,WAAWxmF,gDAUxDpa,KAAKqkM,sEAOW,IAAAjzG,OAAApxF,KAChBA,KAAKwgK,SAAW,GAChBxgK,KAAKwgK,SAASujC,MAAQ,GACtB/jM,KAAKwgK,SAASlwG,KAAO,EAGrBtwD,KAAKwgK,SAASwjC,SAAW,CACrBv0G,QAAS,WACL,OAAOoD,mBAAA,QAAkBkV,eAE7Bu8F,kBAAmB,WACf,OAAOzoJ,KAAKk2C,SAAS7hF,KAAK08B,OAAO,SAACusD,eAAD,OAAmBA,cAAcgd,gBAAe,KAIzF1nB,KAAKC,IAAI8G,UAAU,CAAEp+D,IAAK,gCAAiCykH,WAAW,IACjEx2H,KAAK,SAACw4C,UACHA,SAASnqC,QAAQ,SAAC48B,MACd8gC,OAAKmzG,kBAAkBj0I,UAG9BzZ,KAAK,SAAC2tJ,MAAO1sD,WAAY//H,OACtB0U,QAAQ1U,MAAR,iCAAAvG,OAA+CsmI,WAA/C,MAAAtmI,OAA8DuG,QAC9Dq5E,OAAKqzG,cAAc,CAAEl4G,MAAO,QAASznE,KAAI,gCAAAtT,OAAkCsmI,WAAlC,MAAAtmI,OAAiDuG,qDAUpFu4C,MAAM,IAAAihC,OAAAvxF,KAChBglB,MAAM3hB,QAAQitD,KAAKprD,WAEnBorD,KAAKprD,QAAQwuB,QAAQ,SAACgxK,aAClB,IAAMC,WAAapzG,OAAKivE,SAASwjC,SAASU,YAAY57I,YAAYngC,QAClE,GAAKg8K,WAAL,CAKA,IAAMC,YAAcrzG,OAAKszG,gBAAgBH,YAAY57I,YAAYg8I,UAC3DC,YAAc,SAAC5oM,GACjB,IAAMqJ,MAAQo/L,YAAYD,cAC1B,OAAa,MAATn/L,OACAinB,QAAQ4tB,KAAR,aAAA7oC,OAA0B8+C,KAAKi8B,MAA/B,MAAA/6E,OAAyCkzL,YAAY57I,YAAYngC,OAAjE,KAAAnX,OAA2EkzL,YAAY57I,YAAYg8I,SAAnG,SAAAtzL,OAAmHhM,MAAnH,YACOrJ,GAEJA,EAAE+I,QAAQw/L,YAAYM,SAAUx/L,QAGvCwf,MAAM3hB,QAAQitD,KAAKlyD,OACnBkyD,KAAKlyD,MAAMoF,KAAKuhM,aAEhBz0I,KAAKlyD,MAAQ,CAAC2mM,kBAhBdt4K,QAAQ1U,MAAR,aAAAvG,OAA2B8+C,KAAKi8B,MAAhC,MAAA/6E,OAA0CkzL,YAAY57I,YAAYngC,OAAlE,qBAqBJ3D,MAAM3hB,QAAQitD,KAAKlyD,SACnBkyD,KAAKlyD,MAAQmlM,OAAA,QAAA/yL,WAAA,EAAAurF,mBAASzrC,KAAKlyD,gBAGxBkyD,KAAKprD,SAEhBlF,KAAKykM,cAAcn0I,8CAYP20I,MACZ,OAAQ,SAAC7/L,KAGL,IAFA,IAAImD,OAASnD,IACPq8B,IAAMwjK,KAAKxtL,MAAM,KAChBgqB,IAAIzkC,QAAQ,CACf,GAAc,MAAVuL,OACA,OAAOA,OAEXA,OAASA,OAAOk5B,IAAIh5B,SAExB,OAAOF,kDAaPvI,KAAKklM,uBACLllM,KAAKmlM,iBAKTnlM,KAAKolM,uDAMiB,IAAb90I,KAAa,EAAAzrD,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,KAKhB,OAJKyrD,OACDA,KAAOtwD,KAAKwgK,SAASlwG,MAGlBtwD,KAAKwgK,SAASujC,MAAMzzI,8CAO3B,IAAMA,KAAOtwD,KAAKqlM,eACZ39K,QAAU,CAAC,GAAI,IACfgoC,KAAOY,KAAKvF,SAAS,KAAM,EAAA+iC,QAAA,SAAE/gE,QAAQ88B,QAAU7pD,KAAK0jM,cAAc4B,aAAe59K,QAAQ,IAC3F7Q,IAAMy5C,KAAKvF,SAAS,IAAM,EAAA+iC,QAAA,SAAE/gE,QAAQ++B,SACxCj1C,KAAQ7W,KAAK0jM,cAAc6B,cAAgB79K,QAAQ,GAKnD1nB,KAAK0jM,cAAcl+K,OAAO,CACtB3O,KAAK,EAAAgiF,MAAAhkE,OAAMhe,KACX64C,MAAM,EAAAmpC,MAAAhkE,OAAM66B,8CAONjyD,SACVuC,KAAKwgK,SAASujC,MAAMvgM,KAAK,IAAIggM,cAAA,QAAa/lM,4DAO1C,IAAM6yD,KAAOtwD,KAAKqlM,eAElBrlM,KAAK0jM,cAAc52J,KAAK,MAAMmb,KAAKqI,KAAKi8B,OACxCvsF,KAAK0jM,cAAc52J,KAAK,QAAQmb,KAAKqI,KAAK5qB,WAC1C1lC,KAAK0jM,cAAc/sI,YAAY,cAE3BrG,KAAKgzI,OAASxvG,WAAAuB,UAAUuL,WAAWuE,KACnCnlG,KAAK0jM,cAAcptI,SAASw9B,WAAAuB,UAAUuL,WAAWuE,MAC1C70C,KAAKgzI,OAASxvG,WAAAuB,UAAUuL,WAAWoE,OAC1ChlG,KAAK0jM,cAAcptI,SAASw9B,WAAAuB,UAAUuL,WAAWoE,OAGrDhlG,KAAKwlM,wDAOLxlM,KAAK0jM,cAAcptI,SAASw9B,WAAAuB,UAAUuL,WAAWxmF,MACjDpa,KAAK6jM,gBAAgBvtI,SAASw9B,WAAAuB,UAAUuL,WAAWswC,QAEnDlxI,KAAKqkM,mEAOLrkM,KAAK0jM,cAAc/sI,YAAYm9B,WAAAuB,UAAUuL,WAAWxmF,MACpDpa,KAAK6jM,gBAAgBltI,YAAYm9B,WAAAuB,UAAUuL,WAAWswC,QAEtDlxI,KAAKwlM,6DAQA,EAAAptG,MAAA,SAAKnI,aAAc3B,aAAA4B,YAAYkhF,iBAChCpxK,KAAKolM,gBAGTn1G,aAAa3B,aAAA4B,YAAYkhF,gBAAkBhjF,YAAA,QAAWq3G,0DAOlDzlM,KAAKwgK,SAASlwG,OAAStwD,KAAKwgK,SAASujC,MAAM/mM,OAAS,GAMxDgD,KAAKwgK,SAASlwG,MAAO,EAAAuoC,MAAAkI,OAAM,EAAG/gG,KAAKwgK,SAASlwG,KAAO,EAAGtwD,KAAKwgK,SAASujC,MAAM/mM,OAAS,GAEnFm2F,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgBmN,SAAU,OAAnD,GAAA9wF,OAA8DxR,KAAKwgK,SAASlwG,OAC5EtwD,KAAKqkM,2BARDrkM,KAAKmlM,yDAeTnlM,KAAKwgK,SAASlwG,MAAO,EAAAuoC,MAAAkI,OAAM,EAAG/gG,KAAKwgK,SAASlwG,KAAO,EAAGtwD,KAAKwgK,SAASujC,MAAM/mM,OAAS,GAEnFm2F,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgBmN,SAAU,OAAnD,GAAA9wF,OAA8DxR,KAAKwgK,SAASlwG,OAC5EtwD,KAAKqkM,ynBC7cb,IAAAv2G,QAAAC,uBAAAvxF,QAAA,WACA2iM,OAAApxG,uBAAAvxF,QAAA,gBACAq2F,mBAAA9E,uBAAAvxF,QAAA,iCACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACA22F,cAAApF,uBAAAvxF,QAAA,oBACA42F,gBAAArF,uBAAAvxF,QAAA,2BACAkpM,oBAAA33G,uBAAAvxF,QAAA,yBACAmpM,uBAAA53G,uBAAAvxF,QAAA,4BACAopM,oBAAA73G,uBAAAvxF,QAAA,yBACAqpM,cAAA93G,uBAAAvxF,QAAA,mBACAq3F,QAAAr3F,QAAA,aACA+xF,YAAA/xF,QAAA,2BACAs3F,WAAAt3F,QAAA,0BACAu3F,iBAAAv3F,QAAA,mZA+9Be,eAp9BX,SAAAspM,8IAAch3G,CAAA9uF,KAAA8lM,cASV9lM,KAAKk0F,UAAY,KAQjBl0F,KAAK+lM,aAAe,KAQpB/lM,KAAKgmM,mBAAqB,KAQ1BhmM,KAAKimM,sBAAwB,KAQ7BjmM,KAAKkmM,mBAAqB,KAU1BlmM,KAAK+uF,SAAW,KAUhB/uF,KAAKmmM,eAAiB,KAUtBnmM,KAAKomM,mBAAqB,KAU1BpmM,KAAKqmM,oBAAsB,KAW3BrmM,KAAKsmM,eAAiB,KAUtBtmM,KAAKumM,iBAAmB,KAUxBvmM,KAAK87K,cAAgB,KAUrB97K,KAAKwmM,mBAAqB,KAU1BxmM,KAAKymM,KAAO,KAUZzmM,KAAK0mM,gBAAkB,KAUvB1mM,KAAK2mM,WAAa,KAUlB3mM,KAAK4mM,eAAiB,KAUtB5mM,KAAK6mM,oBAAsB,KAU3B7mM,KAAK8mM,gBAAkB,KAUvB9mM,KAAK+mM,iBAAmB,KAUxB/mM,KAAKgnM,cAAgB,KAUrBhnM,KAAKinM,eAAiB,KAUtBjnM,KAAKknM,aAAe,KAUpBlnM,KAAKmnM,uBAAyB,KAU9BnnM,KAAKonM,YAAc,KAUnBpnM,KAAKqnM,cAAgB,KAUrBrnM,KAAKsnM,aAAe,KAUpBtnM,KAAKunM,eAAiB,KAUtBvnM,KAAKwnM,eAAiB,KAUtBxnM,KAAK6jM,gBAAkB,KAUvB7jM,KAAKynM,gBAAkB,KAUvBznM,KAAK0nM,gBAAkB,oHAYtB34G,UAmCD,OAlCA/uF,KAAKk0F,UAAY/F,UAAA,QACjBnuF,KAAK+lM,aAAe,IAAIF,cAAA,QAAa92G,UACrC/uF,KAAKgmM,mBAAqB,IAAIN,oBAAA,QAAmB32G,UACjD/uF,KAAKimM,sBAAwB,IAAIN,uBAAA,QAAsB52G,UACvD/uF,KAAKkmM,mBAAqB,IAAIN,oBAAA,QAAmB72G,UAEjD/uF,KAAK+uF,SAAWA,SAChB/uF,KAAKmmM,eAAiBnmM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAc+6E,gBACjErwK,KAAKomM,mBAAqBpmM,KAAKmmM,eAAer5J,KAAKgnD,WAAAuB,UAAUC,cAAcq5E,aAC3E3uK,KAAKqmM,oBAAsBrmM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAc6/C,yBACtEn1I,KAAKsmM,eAAiBtmM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAc84E,gBACjEpuK,KAAKumM,iBAAmBvmM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcwpE,qBACnE9+J,KAAK87K,cAAgB97K,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcs5E,eAChE5uK,KAAKwmM,mBAAqBxmM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcy7E,sBACrE/wK,KAAKymM,KAAOzmM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcpG,KACvDlvF,KAAK2mM,WAAa3mM,KAAK+uF,SAASjiD,KAAd,GAAAt7B,OAAsBsiF,WAAAuB,UAAUC,cAAcm6E,OAA9C,SAClBzvK,KAAK4mM,eAAiB5mM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcw6E,gBACjE9vK,KAAK6mM,oBAAsB7mM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcugD,sBACtE71I,KAAK8mM,gBAAkB9mM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAc0yD,iBAClEhoJ,KAAK+mM,iBAAmB/mM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcspE,kBACnE5+J,KAAKgnM,cAAgBhnM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAc2yD,eAChEjoJ,KAAKinM,eAAiBjnM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcw7E,gBACjE9wK,KAAKknM,aAAelnM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcs1E,cAC/D5qK,KAAKmnM,uBAAyBnnM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAc6B,yBACzEn3F,KAAKonM,YAAcpnM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAc+B,aAC9Dr3F,KAAKqnM,cAAgBrnM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcy6E,eAChE/vK,KAAKsnM,aAAetnM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAc06E,cAC/DhwK,KAAKunM,eAAiBvnM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAciC,gBACjEv3F,KAAKwnM,eAAiBxnM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcu1E,gBACjE7qK,KAAK6jM,gBAAkB7jM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcw1E,iBAClE9qK,KAAKynM,gBAAkBznM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAc8yD,kBAClEpoJ,KAAK0nM,gBAAkB1nM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcgN,UAClEtiG,KAAK0mM,gBAAkBtzG,gBAAA,QAAe6N,KAAK7hD,OAAO8hD,gBAAgB,mBAE3DlhG,KAAKqvF,gBACP+C,iDAYL,OAHApyF,KAAK20F,uBAAyB30F,KAAK40F,gBAAgBliC,KAAK1yD,MACxDA,KAAK2nM,+BAAiC3nM,KAAK4nM,wBAAwBl1I,KAAK1yD,MAEjEA,sCAUF,IAAAiU,MAAAjU,KA2BL,OA1BAA,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAM+D,eAAgB/0F,KAAK20F,wBAC7C30F,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAMu5E,yBAA0BvqK,KAAK2nM,gCAKvD3nM,KAAKsmM,eAAellJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAK4zL,yBAAyBtmJ,SACzEvhD,KAAK87K,cAAc16H,GAAG,QAAS,SAACG,OAAD,OAAW6xC,gBAAA,QAAe2oF,qBAAqBx6H,SAC9EvhD,KAAKwmM,mBAAmBplJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAK6zL,kBAAkBvmJ,SACtEvhD,KAAK2mM,WAAWvlJ,GAAG,QAAS,SAACG,OAAD,OAAW6xC,gBAAA,QAAe8oF,aAAa36H,SACnEvhD,KAAK4mM,eAAexlJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAK8zL,oBAAoBxmJ,SACpEvhD,KAAK6mM,oBAAoBzlJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAK+zL,qBAAqBzmJ,SAC1EvhD,KAAK8mM,gBAAgB1lJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAKg0L,iBAAiB1mJ,SAClEvhD,KAAK+mM,iBAAiB3lJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAKi0L,kBAAkB3mJ,SACpEvhD,KAAKgnM,cAAc5lJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAKk0L,eAAe5mJ,SAC9DvhD,KAAKinM,eAAe7lJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAKm0L,gBAAgB7mJ,SAChEvhD,KAAKknM,aAAa9lJ,GAAG,QAAS,SAACG,OAAD,OAAW6xC,gBAAA,QAAesP,kBAAkBnhD,SAC1EvhD,KAAKmnM,uBAAuB/lJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAKo0L,wBAAwB9mJ,SAChFvhD,KAAKonM,YAAYhmJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAKq0L,aAAa/mJ,SAC1DvhD,KAAKqnM,cAAcjmJ,GAAG,QAAS,SAACG,OAAD,OAAW,EAAAsyC,QAAA00G,eAAchnJ,SACxDvhD,KAAKsnM,aAAalmJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAKu0L,cAAcjnJ,SAC5DvhD,KAAKunM,eAAenmJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAKw0L,gBAAgBlnJ,SAChEvhD,KAAKwnM,eAAepmJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAKy0L,gBAAgBnnJ,SAChEvhD,KAAK6jM,gBAAgBziJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAKsuF,iBAAiBhhD,SAClEvhD,KAAKynM,gBAAgBrmJ,GAAG,QAAS,SAACG,OAAD,OAAWttC,MAAK00L,iBAAiBpnJ,SAE3DvhD,uCAUD,IAAAkxF,OAAAlxF,KAuBN,OAtBAA,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAM+D,eAAgB/0F,KAAK20F,wBAC9C30F,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAMu5E,yBAA0BvqK,KAAK2nM,gCACxD3nM,KAAKsmM,eAAe9kJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAK22G,yBAAyBtmJ,SAC1EvhD,KAAK87K,cAAct6H,IAAI,QAAS,SAACD,OAAD,OAAW6xC,gBAAA,QAAe2oF,qBAAqBx6H,SAC/EvhD,KAAKwmM,mBAAmBhlJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAK42G,kBAAkBvmJ,SACvEvhD,KAAK2mM,WAAWnlJ,IAAI,QAAS,SAACD,OAAD,OAAW6xC,gBAAA,QAAe8oF,aAAa36H,SACpEvhD,KAAK4mM,eAAeplJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAK62G,oBAAoBxmJ,SACrEvhD,KAAK6mM,oBAAoBrlJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAK82G,qBAAqBzmJ,SAC3EvhD,KAAK8mM,gBAAgBtlJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAK+2G,iBAAiB1mJ,SACnEvhD,KAAK+mM,iBAAiBvlJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAKg3G,kBAAkB3mJ,SACrEvhD,KAAKgnM,cAAcxlJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAKi3G,eAAe5mJ,SAC/DvhD,KAAKinM,eAAezlJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAKk3G,gBAAgB7mJ,SACjEvhD,KAAKknM,aAAa1lJ,IAAI,QAAS,SAACD,OAAD,OAAW6xC,gBAAA,QAAesP,kBAAkBnhD,SAC3EvhD,KAAKmnM,uBAAuB3lJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAKm3G,wBAAwB9mJ,SACjFvhD,KAAKonM,YAAY5lJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAKo3G,aAAa/mJ,SAC3DvhD,KAAKqnM,cAAc7lJ,IAAI,QAAS,SAACD,OAAD,OAAW,EAAAsyC,QAAA00G,eAAchnJ,SACzDvhD,KAAKsnM,aAAa9lJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAKs3G,cAAcjnJ,SAC7DvhD,KAAKunM,eAAe/lJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAKu3G,gBAAgBlnJ,SACjEvhD,KAAKwnM,eAAehmJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAKw3G,gBAAgBnnJ,SACjEvhD,KAAK6jM,gBAAgBriJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAKqR,iBAAiBhhD,SACnEvhD,KAAKynM,gBAAgBjmJ,IAAI,QAAS,SAACD,OAAD,OAAW2vC,OAAKy3G,iBAAiBpnJ,SAE5DvhD,uCA6CP,OAnCAA,KAAK63C,UAEL73C,KAAKk0F,UAAY,KACjBl0F,KAAK+lM,aAAe,KACpB/lM,KAAKgmM,mBAAqB,KAC1BhmM,KAAKimM,sBAAwB,KAE7BjmM,KAAK+uF,SAAW,KAChB/uF,KAAKmmM,eAAiB,KACtBnmM,KAAKomM,mBAAqB,KAC1BpmM,KAAKqmM,oBAAsB,KAC3BrmM,KAAKsmM,eAAiB,KACtBtmM,KAAKumM,iBAAmB,KACxBvmM,KAAK87K,cAAgB,KACrB97K,KAAKwmM,mBAAqB,KAC1BxmM,KAAKymM,KAAO,KACZzmM,KAAK0mM,gBAAkB,KACvB1mM,KAAK2mM,WAAa,KAClB3mM,KAAK4mM,eAAiB,KACtB5mM,KAAK6mM,oBAAsB,KAC3B7mM,KAAK8mM,gBAAkB,KACvB9mM,KAAK+mM,iBAAmB,KACxB/mM,KAAKgnM,cAAgB,KACrBhnM,KAAKinM,eAAiB,KACtBjnM,KAAKknM,aAAe,KACpBlnM,KAAKmnM,uBAAyB,KAC9BnnM,KAAKonM,YAAc,KACnBpnM,KAAKqnM,cAAgB,KACrBrnM,KAAKsnM,aAAe,KACpBtnM,KAAKunM,eAAiB,KACtBvnM,KAAKwnM,eAAiB,KACtBxnM,KAAK6jM,gBAAkB,KACvB7jM,KAAKynM,gBAAkB,KACvBznM,KAAK0nM,gBAAkB,KAEhB1nM,uCAQPA,KAAK+lM,aAAa6C,oBAClB5oM,KAAK87K,cAAcjgI,KAAK,QAAS,4DAQjC77C,KAAK6oM,mDAOFt+K,SAAuB,IAAd8vB,KAAc,EAAAx1C,UAAA7H,aAAA4F,IAAAiC,UAAA,IAAAA,UAAA,GACpBojD,MAAO,EAAA6lC,QAAA,SAAA,4CAAAt8E,OAA8C+Y,QAA9C,mBAET8vB,OACA4N,KAAKqO,SAASw9B,WAAAuB,UAAUuL,WAAWqvE,MACnC98E,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgB6iF,OAAQ,QAASztJ,UAG9DvqB,KAAKymM,KAAKxzL,OAAOg1C,MACjBjoD,KAAKymM,KAAKj2I,UAAUxwD,KAAKymM,KAAK51K,IAAI,GAAG2rJ,cAErCppF,gBAAA,QAAeyoG,aAAa,SAACiN,WACzBA,UAAUxyI,SAASw9B,WAAAuB,UAAUuL,WAAWmuE,QAExCp1H,WAAW,WACPmvJ,UAAUlxJ,UACX,MACJ53C,KAAK0mM,gBAAiB35K,OAAQk7B,gDAQjCjoD,KAAKymM,KAAKjiM,0DAQVxE,KAAK0mM,gBAAkBtzG,gBAAA,QAAe6N,KAAK7hD,OAAO8hD,gBAAgB,6DAU9DlhG,KAAK+oM,4BACL/oM,KAAKgoM,uBAGLhoM,KAAKgpM,gCACLhpM,KAAK+nM,sBAGL/nM,KAAKipM,yBACLjpM,KAAKkoM,oBAGLloM,KAAKgmM,mBAAmBkD,gBACxBlpM,KAAKooM,kBAGLpoM,KAAKimM,sBAAsBiD,gBAC3BlpM,KAAK0oM,kBAGL1oM,KAAKklM,wBACLllM,KAAKuiG,mBAGLviG,KAAKkmM,mBAAmBgD,gBACxBlpM,KAAK2oM,sEAYT,OAAO3oM,KAAKqmM,oBAAoBrvI,SAAS88B,WAAAuB,UAAUuL,WAAWxmF,6DAW9D,OAAOpa,KAAKmmM,eAAenvI,SAAS88B,WAAAuB,UAAUuL,WAAWxmF,sDAWzD,OAAOpa,KAAKumM,iBAAiBvvI,SAAS88B,WAAAuB,UAAUuL,WAAWxmF,qDAW3D,OAAOpa,KAAK0nM,gBAAgB1wI,SAAS88B,WAAAuB,UAAUuL,WAAWxmF,4DAQhCmnC,OACtBA,MAAM37C,OAASitF,mBAAA,QAAkBkV,cAAclY,OAC/CgD,mBAAA,QAAkBuQ,YAAY7hD,MAAM37C,MACpC5F,KAAKmpM,0EAYO,IAAA/3G,OAAApxF,KAEhBA,KAAKomM,mBAAmB5hM,QAKxB,IAHA,IAAM2+F,UAAW,EAAAg8F,OAAA,SAAMtsG,mBAAA,QAAkBsQ,UAAUhvE,OAC/Ci1K,WAAa,GAER/sM,EAAI,EAAGA,EAAI8mG,SAASnmG,OAAQX,IAAK,CAAA,IAAAgtM,sBACRx2G,mBAAA,QAAkBsQ,SAASA,SAAS9mG,IAA1DsE,KAD8B0oM,sBAC9B1oM,KAAMkvF,KADwBw5G,sBACxBx5G,KAAM3jE,MADkBm9K,sBAClBn9K,MAEpBk9K,WAAappM,KAAKspM,wCAAwCp9K,OAC1D,IAAMq9K,kBAAmB,EAAAz7G,QAAA,SAAE9tF,KAAKwpM,8BAA8B35G,KAAMu5G,WAAYzoM,OAGhF4oM,iBAAiBhlJ,MAAMsrC,KAAKtjE,cAAe,SAACg1B,OACpCA,MAAM37C,OAASitF,mBAAA,QAAkBkV,cAAclY,OAC/CgD,mBAAA,QAAkBuQ,YAAY7hD,MAAM37C,MAEpCwrF,OAAK+3G,gCAIbnpM,KAAKomM,mBAAmBnzL,OAAOs2L,mFAcCE,iBACpC,IAAIL,WACEM,KAAO,UAEb,OAAQD,iBACJ,IAAK,WACDL,WAAaM,KACb,MACJ,IAAK,OACDN,WAAaM,KAAKC,OAAO,GACzB,MACJ,IAAK,SACDP,WAAaM,KAAKC,OAAO,GACzB,MACJ,IAAK,OACDP,WAAaM,KAAKC,OAAO,GACzB,MACJ,IAAK,SACDP,WAAaM,KAAKC,OAAO,GACzB,MACJ,QACIP,WAAa,IAIrB,OAAOA,iEAWmBv5G,KAAMu5G,WAAYzoM,MAC5C,MAAA,0DAAA6Q,OAC+Cq+E,KAAKtjE,cADpD,wEAAA/a,OAE0D43L,WAF1D,gDAAA53L,OAG6Bq+E,KAAKt0C,cAHlC,gDAAA/pC,OAI6B7Q,KAJ7B,4FAeAwyF,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgBC,SAAU,mBAAoB,QACvEp1F,KAAKmmM,eAAe7vI,SAASw9B,WAAAuB,UAAUuL,WAAWxmF,MAElD,IAAMwvL,uBAAyB5pM,KAAKomM,mBAAmBt5J,KAAKgnD,WAAAuB,UAAUC,cAAc64E,6BAG9C,IAAlCy7B,uBAAuB5sM,QACvB4sM,uBAAuBjzI,YAAYm9B,WAAAuB,UAAUuL,WAAWutE,6BAG5D,IAAMt+E,KAAOgD,mBAAA,QAAkBkV,cAAclY,KAAKtjE,cAClDvsB,KAAKomM,mBAAmBt5J,KAAxB,iBAAAt7B,OAA8Cq+E,KAA9C,OAAwDv5B,SAASw9B,WAAAuB,UAAUuL,WAAWutE,6BAEtFnuK,KAAK4mM,eAAetwI,SAASw9B,WAAAuB,UAAUuL,WAAWswC,2DASlD/9C,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgBC,SAAU,iBAAkB,SAErE,IAAM5vF,MAAQxF,KAAKsmM,eAAel6L,MAAMmgB,eAExC,EAAAuhE,QAAA,SAAE,mBAAmBrpF,KACjB,YACI,EAAAqpF,QAAA,SAAE9tF,MAAM2+C,QAAsD,GAA/C,EAAAmvC,QAAA,SAAE9tF,MAAM8kB,OAAOyH,cAAc/f,QAAQhH,+DAUnC,IAAA+rF,OAAAvxF,KACzBmzF,cAAA,QAAa+B,YAAYnB,iBAAAoB,gBAAgBC,SAAU,mBAAoB,SACvEp1F,KAAKmmM,eAAexvI,YAAYm9B,WAAAuB,UAAUuL,WAAWxmF,MACrDpa,KAAK4mM,eAAejwI,YAAYm9B,WAAAuB,UAAUuL,WAAWswC,QACrDlxI,KAAKsmM,eAAel6L,IAAI,OACxB,EAAA0hF,QAAA,SAAE,mBAAmBrpF,KAAK,WAAA,OAAM,EAAAqpF,QAAA,SAAEyD,QAAM5yC,QAAO,mDAQ3C3+C,KAAKmmM,eAAenvI,SAAS88B,WAAAuB,UAAUuL,WAAWxmF,MAClDpa,KAAKmpM,6BAKTnpM,KAAK6pM,2EAQL7pM,KAAK6mM,oBAAoBjwI,YAAYk9B,WAAAuB,UAAUuL,WAAWswC,QAC1D/9C,cAAA,QAAa+B,YACTnB,iBAAAoB,gBAAgB2N,QAChB,gBAFJ,iBAAAtxF,OAGqBxR,KAAK6mM,oBAAoB7vI,SAAS88B,WAAAuB,UAAUuL,WAAWswC,UAE5ElxI,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAM6kD,+DAQhBt0F,OACbvhD,KAAK8mM,gBAAgBlwI,YAAYk9B,WAAAuB,UAAUuL,WAAWswC,QACtD/9C,cAAA,QAAa+B,YACTnB,iBAAAoB,gBAAgB2N,QAChB,WAFJ,GAAAtxF,OAGOxR,KAAK8mM,gBAAgB9vI,SAAS88B,WAAAuB,UAAUuL,WAAWswC,UAE1DlxI,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMg3D,6DAQ7BhoJ,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAM4tE,yDAQlBr9G,OACXvhD,KAAKgnM,cAAcpwI,YAAYk9B,WAAAuB,UAAUuL,WAAWswC,QACpD/9C,cAAA,QAAa+B,YACTnB,iBAAAoB,gBAAgB2N,QAChB,oBAFJ,GAAAtxF,OAGOxR,KAAKgnM,cAAchwI,SAAS88B,WAAAuB,UAAUuL,WAAWswC,UAExDlxI,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMi3D,yDAQ7BjoJ,KAAKinM,eAAerwI,YAAYk9B,WAAAuB,UAAUuL,WAAWswC,QACrD/9C,cAAA,QAAa+B,YACTnB,iBAAAoB,gBAAgB4iF,SAChB,gBAFJ,GAAAvmK,OAGOxR,KAAKinM,eAAejwI,SAAS88B,WAAAuB,UAAUuL,WAAWswC,UAEzDlxI,KAAKgmM,mBAAmB8D,+DAOJvoJ,OACpBvhD,KAAKmnM,uBAAuBvwI,YAA5B,GAAAplD,OAA2CsiF,WAAAuB,UAAUC,cAAc46E,eAAnE,KAAA1+J,OAAqFsiF,WAAAuB,UAAUuL,WAAWswC,SAC1G/9C,cAAA,QAAa+B,YACTnB,iBAAAoB,gBAAgB2N,QAChB,aAFJ,GAAAtxF,OAGOxR,KAAKmnM,uBAAuBnwI,SAAS88B,WAAAuB,UAAUuL,WAAWswC,UAEjElxI,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMmG,8DAQpB51C,OACTvhD,KAAKonM,YAAYxwI,YAAYk9B,WAAAuB,UAAUuL,WAAWswC,QAClD/9C,cAAA,QAAa+B,YACTnB,iBAAAoB,gBAAgB2N,QAChB,OAFJ,GAAAtxF,OAGOxR,KAAKonM,YAAYpwI,SAAS88B,WAAAuB,UAAUuL,WAAWswC,UAEtDlxI,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMk3D,sDAQnB3mG,OACVvhD,KAAKsnM,aAAa1wI,YAAYk9B,WAAAuB,UAAUuL,WAAWswC,QACnD/9C,cAAA,QAAa+B,YACTnB,iBAAAoB,gBAAgB2N,QAChB,QAFJ,GAAAtxF,OAGOxR,KAAKsnM,aAAatwI,SAAS88B,WAAAuB,UAAUuL,WAAWswC,UAEvDlxI,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMm3D,yDAQjB5mG,OACZvhD,KAAKunM,eAAe3wI,YAAYk9B,WAAAuB,UAAUuL,WAAWswC,QACrD/9C,cAAA,QAAa+B,YACTnB,iBAAAoB,gBAAgB2N,QAChB,UAFJ,GAAAtxF,OAGOxR,KAAKunM,eAAevwI,SAAS88B,WAAAuB,UAAUuL,WAAWswC,UAEzDlxI,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMuG,wDAUjBh2C,OACZvhD,KAAKwnM,eAAe5wI,YAAYk9B,WAAAuB,UAAUuL,WAAWswC,QACrD/9C,cAAA,QAAa+B,YACTnB,iBAAAoB,gBAAgB2N,QAChB,UAFJ,GAAAtxF,OAGOxR,KAAKwnM,eAAexwI,SAAS88B,WAAAuB,UAAUuL,WAAWswC,UAEzDlxI,KAAKimM,sBAAsB6D,wDAQdvoJ,OACbvhD,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAM85E,iBAC7B33E,cAAA,QAAa+B,YACTnB,iBAAAoB,gBAAgB2N,QAChB,WAFJ,GAAAtxF,OAGOxR,KAAK6jM,gBAAgB7sI,SAAS88B,WAAAuB,UAAUuL,WAAWswC,mDAW7C3vF,OACbvhD,KAAKynM,gBAAgB7wI,YAAYk9B,WAAAuB,UAAUuL,WAAWswC,QACtD/9C,cAAA,QAAa+B,YACTnB,iBAAAoB,gBAAgB2N,QAChB,YAFJ,GAAAtxF,OAGOxR,KAAKynM,gBAAgBzwI,SAAS88B,WAAAuB,UAAUuL,WAAWswC,UAE1DlxI,KAAKkmM,mBAAmB4D,yDAUVvoJ,OACd4xC,cAAA,QAAa42G,0BAA0BxoJ,MAAMnd,OAAOuM,qoBCx+B5D,IAAAm9C,QAAAC,uBAAAvxF,QAAA,WACA2xF,UAAAJ,uBAAAvxF,QAAA,oBACAs3F,WAAAt3F,QAAA,0BACA+xF,YAAA/xF,QAAA,2BACAq2F,mBAAA9E,uBAAAvxF,QAAA,uYAOA,IASqBwtM,8BACjB,SAAAA,mBAAYj7G,yIAAUD,CAAA9uF,KAAAgqM,oBAOlBhqM,KAAKk0F,UAAY/F,UAAA,QASjBnuF,KAAK+uF,SAAWA,SAShB/uF,KAAK0/L,QAAU,KASf1/L,KAAKiqM,cAAgB,KAGrBjqM,KAAKi0G,iBACA7wE,OACAgvD,gIAgBL,OANApyF,KAAK0/L,SAAU,EAAA5xG,QAAA,SA3DI,2KA4DnB9tF,KAAK2/L,YAAc3/L,KAAK0/L,QAAQ5yJ,KAAb,IAAAt7B,OAAsBsiF,WAAA8M,WAAW+tE,cAEpD3uK,KAAKqhM,mBACLrhM,KAAK+uF,SAAS97E,OAAOjT,KAAK0/L,SAEnB1/L,8CAgBP,OAHAA,KAAK41I,wBAA0B51I,KAAK40F,gBAAgBliC,KAAK1yD,MACzDA,KAAKkqM,6BAA+BlqM,KAAKmqM,qBAAqBz3I,KAAK1yD,MAE5DA,sCAeP,OAFAA,KAAKk0F,UAAU9yC,GAAGmtC,YAAAyC,MAAM+D,eAAgB/0F,KAAK41I,yBAEtC51I,uCAaP,OAFAA,KAAKk0F,UAAU1yC,IAAI+sC,YAAAyC,MAAM+D,eAAgB/0F,KAAK41I,yBAEvC51I,4CAWP,OAAOA,KAAK0/L,QAAQ1oI,SAAS88B,WAAAuB,UAAUuL,WAAWxmF,6CAQlDpa,KAAK0/L,QAAQ9oI,YAAYk9B,WAAAuB,UAAUuL,WAAWxmF,gDAU9Cpa,KAAKqhM,8DAULrhM,KAAK2/L,YAAYn7L,QAEjB,IAAMulG,aAAelX,mBAAA,QAAkBkV,cACjCg0D,SAAWhyD,aAAaiuC,cAAcoyD,cAC5CpqM,KAAKiqM,cAAgBlgG,aAAaiuC,cAAcqyD,qBALjC,IAAA5wD,2BAAA,EAAAC,mBAAA,EAAAC,oBAAA/2I,EAAA,IAOf,IAAA,IAAAg3I,MAAAC,UAAsBkiB,SAAtB12H,OAAAC,cAAAm0G,2BAAAG,MAAAC,UAAA1zH,QAAAd,MAAAo0H,2BAAA,EAAgC,CAAA,IAArB6wD,QAAqB1wD,MAAAp0I,MACtB+kM,UAAYvqM,KAAKiqM,cAAcr/H,SAAS0/H,SACxCnI,aAAeniM,KAAKwqM,UAAUF,QAASA,QAASC,WAEtDvqM,KAAK2/L,YAAY1sL,OAAOkvL,eAXb,MAAAn/L,KAAA02I,mBAAA,EAAAC,eAAA32I,IAAA,QAAA,IAAAy2I,2BAAA,MAAAI,UAAA,QAAAA,UAAA,SAAA,QAAA,GAAAH,kBAAA,MAAAC,mDA0BTr0I,IAAKwyF,MAAOhnD,SAClB,IAAMzxC,SAAQ,gHAAAmS,OAE+ClM,IAF/C,oDAAAkM,OAGuBsmF,MAHvB,gCAKR/I,UAAW,EAAAjB,QAAA,SAAEzuF,UAKnB,OAHA0vF,SAASjiD,KAAK,kBAAkB+O,KAAK,UAAW/K,SAChDi+C,SAAS3tC,GAAG,SAAU,CAAEzgD,KAAMm3F,OAAS93F,KAAKkqM,8BAErCn7G,sDAUUxtC,OACjB,IACMgpJ,WADU,EAAAz8G,QAAA,SAAEvsC,MAAMnd,QACEyX,KAAK,WACzB1qC,IAAMowC,MAAM37C,KAAKjF,KAElB4pM,UAKLvqM,KAAKyqM,QAAQt5L,KAJTnR,KAAK0qM,WAAWv5L,qCAahBA,KACJnR,KAAKiqM,cAAczmM,KAAK2N,KACxBnR,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMo3D,iBAAkBpoJ,KAAKiqM,kDAS7C94L,KACP,IAAMkF,MAAQrW,KAAKiqM,cAAcz9L,QAAQ2E,MAE5B,EAATkF,OACArW,KAAKiqM,cAAcz3L,OAAO6D,MAAO,GAGrCrW,KAAKk0F,UAAUjyC,QAAQssC,YAAAyC,MAAMo3D,iBAAkBpoJ,KAAKiqM,0fClPjB,kjBCAD,qXCA1C,IAAAn8G,QAAAC,uBAAAvxF,QAAA,WACAsmI,UAAA/0C,uBAAAvxF,QAAA,mBACAq9G,UAAA9rB,uBAAAvxF,QAAA,mBACAmuM,YAAA58G,uBAAAvxF,QAAA,iBACAouM,uBAAApuM,QAAA,yCAQAw8F,gBAAAx8F,QAAA,kCAKAs3F,WAAAt3F,QAAA,6BACAquM,6BAAAruM,QAAA,iCACAsuM,8BAAAtuM,QAAA,wYAEA,IAAMqwB,WAAarwB,QAAQ,cAKNuuM,kCAOjB,SAAAA,uBAAYh8G,SAAUwF,gBAAiBoB,mJAAoB7G,CAAA9uF,KAAA+qM,wBACvD/qM,KAAK+uF,SAAWA,SAChB/uF,KAAKgrM,cAAgB,KACrBhrM,KAAKirM,mBAAqB,KAC1BjrM,KAAKkrM,oBAAsB,KAC3BlrM,KAAKmrM,oBAAsB,KAC3BnrM,KAAKorM,sBAAwB,KAE7BprM,KAAKqrM,iBAAmB92G,gBACxBv0F,KAAKy5F,oBAAsB9D,mBAE3B31F,KAAKsrM,YAAc,GACnBtrM,KAAKoI,OAAS,GACdpI,KAAKq1C,OAAQ,EAEbr1C,KAAKs6D,QAAS,EACdt6D,KAAKskB,MAAQsmL,uBAAAphC,mBAAmBC,SAASC,WACzC1pK,KAAKurM,YAAcX,uBAAAY,0BAA0B5pG,SAC7C5hG,KAAKyrM,aAAe,GACpBzrM,KAAK0rM,YAAc,GACnB1rM,KAAK2rM,YAAc,KACnB3rM,KAAK4rM,YAAc,KACnB5rM,KAAK0B,OAAS,GAEd1B,KAAK00F,oIAkBL,OATA10F,KAAKgrM,cAAgBhrM,KAAK+uF,SAASjiD,KAAKgnD,WAAAuB,UAAUC,cAAcg7E,cAChEtwK,KAAKirM,mBAAqBjrM,KAAKgrM,cAAcl+J,KAAKgnD,WAAAuB,UAAUC,cAAci7E,oBAC1EvwK,KAAKkrM,oBAAsBlrM,KAAKgrM,cAAcl+J,KAAKgnD,WAAAuB,UAAUC,cAAck7E,qBAC3ExwK,KAAKmrM,oBAAsBnrM,KAAKgrM,cAAcl+J,KAAKgnD,WAAAuB,UAAUC,cAAcm7E,qBAC3EzwK,KAAKorM,sBAAwBprM,KAAKgrM,cAAcl+J,KAAKgnD,WAAAuB,UAAUC,cAAco7E,uBAE7E1wK,KAAK6rM,gBAAkBh/K,WAAWtvB,QAAQstM,6BAAAiB,+BAC1C9rM,KAAK+rM,iBAAmBl/K,WAAWtvB,QAAQutM,8BAAAkB,gCAEpChsM,KAAKi0G,iBAAiBg4F,wDAe7B,OALAjsM,KAAKksM,uBAAyBlsM,KAAKmsM,iBAAiBz5I,KAAK1yD,MACzDA,KAAKosM,iCAAmCpsM,KAAKqsM,2BAA2B35I,KAAK1yD,MAC7EA,KAAKy6F,iBAAmBz6F,KAAK06F,WAAWhoC,KAAK1yD,MAC7CA,KAAKssM,yBAA2BtsM,KAAKusM,mBAAmB75I,KAAK1yD,MAEtDA,4CAUI,IAAAiU,MAAAjU,KACX8tF,QAAA,QAAEtvB,QAAQ,sDACLn5C,KAAK,SAACw4C,UAAD,OAAc5pD,MAAKi4L,uBAAuBruI,YAC/ChnB,KAAK,SAACgjB,OAAD,OAAWptC,QAAQ1U,MAAR,8CAAAvG,OAA4DqoD,MAAMkD,OAAlE,MAAAvrD,OAA6EqoD,MAAMoD,wDAU3Fr3D,MAAM,IAAAsrF,OAAAlxF,KACnBA,KAAKsrM,YAAc1lM,KADA,IAAAs4L,MAAA,SAGRqN,aACPr6G,OAAK9oF,OAAOmjM,aAAe,GAC3B3lM,KAAK2lM,aAAa73K,QAAQ,SAAC84K,YAEvBA,WAAWC,SAAS/4K,QAAQ,SAACg5K,SACzBA,QAAQ18L,QAAQ0jB,QAAQ,SAAChiB,OACrBw/E,OAAK9oF,OAAOmjM,aAAa75L,OAAS86L,eAK1CA,WAAWG,UAAUj5K,QAAQ,SAACk5K,UAC1BA,SAASC,UAAY37G,OAAK47G,mBAAmBF,SAASC,UAAW,KACjED,SAAS5sC,SAAW9uE,OAAK47G,mBAAmBF,SAAS5sC,SAAU,UAb3E,IAAK,IAAMurC,eAAe3lM,KAAMs4L,MAArBqN,aAkBXvrM,KAAKoyF,SACLpyF,KAAKq1C,OAAQ,6CAYE03J,UAAWC,OAC1B,OAAI,EAAAlqE,UAAA,SAASiqE,WACF,IAAIpC,YAAA,QAAWoC,UAAWC,OAG9B,IAAIzlK,OAAOwlK,UAAWC,wCAa7B,OAFAhtM,KAAKirM,mBAAmB7pJ,GAAG,QAASphD,KAAKosM,kCAElCpsM,uCAaP,OAFAA,KAAKirM,mBAAmBzpJ,IAAI,QAASxhD,KAAKosM,kCAEnCpsM,uCAyBP,OAdAA,KAAK+uF,SAAW,KAChB/uF,KAAKgrM,cAAgB,KACrBhrM,KAAKirM,mBAAqB,KAC1BjrM,KAAKkrM,oBAAsB,KAC3BlrM,KAAKmrM,oBAAsB,KAC3BnrM,KAAKorM,sBAAwB,KAE7BprM,KAAKsrM,YAAc,GACnBtrM,KAAKoI,OAAS,GACdpI,KAAKq1C,OAAQ,EAEbr1C,KAAKyrM,aAAe,GACpBzrM,KAAK0rM,YAAc,GAEZ1rM,0CAaEwkB,UACLxkB,KAAKskB,QAAUE,WAInBxkB,KAAKgrM,cAAcr0I,YAAY32D,KAAKskB,OACpCtkB,KAAKskB,MAAQE,SACbxkB,KAAKgrM,cAAc10I,SAASt2D,KAAKskB,qDAYhB2oL,OAAQvB,aACzB,IAAMwB,cAAgBD,OAAOtmM,MAAM,EAAG+kM,YAAY9mM,OAAO6S,MAAM,IAAIy+B,UAAUhyC,KAAK,IAClFwnM,YAAY9mM,OAASgmM,uBAAAuC,oBAAoB7iC,UAAUvgJ,KAAKmjL,eAAe72L,MAAQ,gDAY7D42L,OAAQvB,aAC1BA,YAAY/+L,KAAOi+L,uBAAAuC,oBAAoB7iC,UAAUvgJ,KAAKkjL,OAAOtmM,MAAM+kM,YAAY/+L,MAAM0J,MAAQ,qCAUtF,IAAA+2L,uBACP,GAAKptM,KAAKq1C,MAAV,CAIA,IAAM43J,OAASjtM,KAAKqrM,iBAAiB/xG,cAAcltF,MAUnD,GARApM,KAAKyrM,aAAe,CAChB7mM,MAAO5E,KAAKqrM,iBAAiB/xG,cAAcz9C,KAAK,kBAChDlvC,IAAK3M,KAAKqrM,iBAAiB/xG,cAAcz9C,KAAK,iBAGlD77C,KAAK0rM,YAAc9gL,OAAOioF,OAAO,GAAI7yG,KAAKyrM,cAGb,EAAzBzrM,KAAK0rM,YAAY9mM,MACjB,GAAI5E,KAAK0rM,YAAY9mM,QAAU5E,KAAK0rM,YAAY/+L,IACvCi+L,uBAAAuC,oBAAoBhjC,WAAWroK,KAAKmrM,OAAO//L,OAAOlN,KAAK0rM,YAAY9mM,MAAQ,KAE5E5E,KAAKqtM,qBAAqBJ,OAAQjtM,KAAK0rM,iBAExC,CAAA,IAAA4B,sBACGC,aAAeN,OAAOtmM,MAAM3G,KAAK0rM,YAAY9mM,MAAQ,EAAG5E,KAAK0rM,YAAY9mM,MAAQ,GACnFgmM,uBAAAuC,oBAAoB9iC,UAAUvoK,KAAKyrM,cAEnCvtM,KAAKqtM,qBAAqBJ,OAAQjtM,KAAK0rM,aAC4B,KAA5D,QAAA4B,sBAAA1C,uBAAAuC,oBAAoB7iC,UAAUvgJ,KAAKwjL,qBAAnC,IAAAD,2BAAA,EAAAA,sBAAkDj3L,SAGzDrW,KAAK0rM,YAAY9mM,OAAS,GAMlC5E,KAAK0rM,YAAY/+L,IAAMsgM,OAAOjwM,QAC9BgD,KAAK0rM,YAAY9mM,MAAQ5E,KAAK0rM,YAAY/+L,KAC1Ci+L,uBAAAuC,oBAAoB9iC,UAAUvoK,KAAKmrM,OAAOtmM,MAAM3G,KAAK0rM,YAAY/+L,IAAM,EAAG3M,KAAK0rM,YAAY/+L,IAAM,KAGjG3M,KAAKwtM,sBAAsBP,OAAQjtM,KAAK0rM,aAxCrC,IAAAz1F,KAAA,QAAAm3F,uBA4CqCxC,uBAAAuC,oBAAoB/iC,YAAYrgJ,KAAKkjL,eA5C1E,IAAAG,uBAAAA,uBA4CqF,GAA7EK,UA5CRx3F,KA4CC5/F,MAAqBq3L,WA5CtBz3F,KA4CmB,GAGpBlkB,SAAW/xF,KAAKy5F,oBAAoBC,uBAAuBg0G,YAO7DC,SAAW,GAGf,QAAkB/qM,IAAd6qM,UAEAztM,KAAKurM,YAAcX,uBAAAY,0BAA0BjiC,YAC1C,GAAIvpK,KAAK0rM,YAAY9mM,OAAS6oM,UAEjC,GAAI17G,SAAU,CAEV,IAAI67G,qBAAuBH,UAAYC,WAAW1wM,OAAS,EAGvD4wM,qBAAuBX,OAAOjwM,SAC9B4wM,qBAAuBX,OAAOjwM,OAC9B2wM,SAAW,KAGf3tM,KAAK0rM,YAAY9mM,MAAQgpM,qBACzB5tM,KAAK0rM,YAAY/+L,IAAMomB,KAAKi6B,IAAIhtD,KAAK0rM,YAAY9mM,MAAO5E,KAAK0rM,YAAY/+L,KACzE3M,KAAKurM,YAAcX,uBAAAY,0BAA0B5pG,cAG7C5hG,KAAKurM,YAAcX,uBAAAY,0BAA0BjiC,YAIjDvpK,KAAKurM,YAAcX,uBAAAY,0BAA0B5pG,SAGjD5hG,KAAK6tM,aAAajD,uBAAAphC,mBAAmBC,SAASC,YAC9C1pK,KAAKmrM,oBAAoBrmL,KAAKmoL,OAAOtmM,MAAM,EAAG3G,KAAK0rM,YAAY9mM,OAAO4M,OAAOm8L,WAC7E3tM,KAAKirM,mBAAmB7+L,IAAI6gM,OAAOtmM,MAAM3G,KAAK0rM,YAAY9mM,MAAO5E,KAAK0rM,YAAY/+L,MAClF3M,KAAKirM,mBAAmBh9J,KAAK,cAAe28J,uBAAAkD,+BAA+BtzG,SAC3Ex6F,KAAKosM,mCACLpsM,KAAKgrM,cAAc10I,SAAS,UAC5Bt2D,KAAKirM,mBAAmBz6J,QACxBxwC,KAAKs6D,QAAS,2CAUd,IAAMyzI,cAAgB/tM,KAAKorM,sBAAsBt+J,KAAK,gBAClDkhK,cAAgBhuM,KAAKorM,sBAAsBt+J,KAAK,MAAMnhB,OAE1D,GAAIoiL,cAAc/wM,OAAQ,CACtB+wM,cAAcp3I,YAAY,aAC1B,IAAMs3I,kBAAoBF,cAAchlL,OAEpCklL,kBAAkBjxM,SAClBgxM,cAAgBC,mBAIxBD,cAAc13I,SAAS,aACvBt2D,KAAK2rM,YAAcqC,cAAcpoM,KAAK,WACtC5F,KAAK6tM,aAAajD,uBAAAphC,mBAAmBC,SAASG,mDAU9C,IAAMmkC,cAAgB/tM,KAAKorM,sBAAsBt+J,KAAK,gBAClDkhK,cAAgBhuM,KAAKorM,sBAAsBt+J,KAAK,MAAMlhB,QAE1D,GAAImiL,cAAc/wM,OAAQ,CACtB+wM,cAAcp3I,YAAY,aAC1B,IAAMu3I,kBAAoBH,cAAc5nL,OAEpC+nL,kBAAkBlxM,SAClBgxM,cAAgBE,mBAIxBF,cAAc13I,SAAS,aACvBt2D,KAAK2rM,YAAcqC,cAAcpoM,KAAK,WACtC5F,KAAK6tM,aAAajD,uBAAAphC,mBAAmBC,SAASG,4CAW9C5pK,KAAKqrM,iBAAiB/xG,cAAcz9C,KAAK,iBAAkB77C,KAAKyrM,aAAa7mM,OAC7E5E,KAAKqrM,iBAAiB/xG,cAAcz9C,KAAK,eAAgB77C,KAAKyrM,aAAa9+L,KAC3E3M,KAAKqrM,iBAAiB/xG,cAAc9oD,QAEpCxwC,KAAKyrM,aAAe,GACpBzrM,KAAK0rM,YAAc,GACnB1rM,KAAK2rM,YAAc,KAEnB3rM,KAAKgrM,cAAcr0I,cACnB32D,KAAKs6D,QAAS,wCAWJonC,SAEV1hG,KAAK4rM,YAAc5rM,KAAKirM,mBAAmB7+L,MAE3C,IAAMyb,IAAG,GAAArW,OAAMkwF,QAAN,KACT1hG,KAAKkrM,oBAAoB9+L,IAAIyb,KAC7B7nB,KAAKkrM,oBAAoBj9J,KAAK,OAAQpmB,IAAI7qB,QAE1CgD,KAAK0B,OAAS,CAAEggG,QAASA,SACzB1hG,KAAK0B,OAAOirM,UAAY3sM,KAAKoI,OAAOpI,KAAKurM,aAAa7pG,SAASirG,UAE/D3sM,KAAK6tM,aAAajD,uBAAAphC,mBAAmBK,OAAOC,SAC5C9pK,KAAKirM,mBAAmB7+L,IAAI,IAC5BpM,KAAKirM,mBAAmBh9J,KAAK,cAAe28J,uBAAAkD,+BAA+B7jC,OAC3EjqK,KAAKosM,mCACLpsM,KAAKirM,mBAAmBz6J,yCAUxBxwC,KAAKkrM,oBAAoB9+L,IAAI,IAC7BpM,KAAKkrM,oBAAoBj9J,KAAK,OAAQ,GAEtCjuC,KAAK6tM,aAAajD,uBAAAphC,mBAAmBC,SAASG,WAC9C5pK,KAAKirM,mBAAmB7+L,IAAIpM,KAAK4rM,aACjC5rM,KAAKirM,mBAAmBh9J,KAAK,cAAe28J,uBAAAkD,+BAA+BtzG,SAC3Ex6F,KAAKosM,mCACLpsM,KAAKirM,mBAAmBz6J,QAExBxwC,KAAK0B,OAAS,GACd1B,KAAK4rM,YAAc,sCAWnB,IAAIqB,OAASjtM,KAAKqrM,iBAAiB/xG,cAAcltF,MAE3Cw8C,OAASqkJ,OAAOtmM,MAAM,EAAG3G,KAAK0rM,YAAY9mM,OAAOupM,YAEjDtlJ,MAAQokJ,OAAOtmM,MAAM3G,KAAK0rM,YAAY/+L,KAAKyhM,WAE7CC,SAAWruM,KAAKirM,mBAAmB7+L,MAAMk3D,OAEzC+qI,SAASrxM,SACTqxM,SAAWA,SAASnpM,QAAQ0lM,uBAAAuC,oBAAoBhjC,WAAY,KAAK34J,OAAO,MAG5Ey7L,OAASrkJ,OAAOp3C,OAAwB,EAAhBo3C,OAAO5rD,OAAc,IAAM,GAAIgD,KAAK0B,OAAOggG,QAAS,IAAK2sG,UACjFruM,KAAKqrM,iBAAiB/xG,cAAcltF,IAAI6gM,OAASpkJ,OACjD7oD,KAAKqrM,iBAAiB/xG,cAAcz9C,KAAK,iBAAkBoxJ,OAAOjwM,QAClEgD,KAAKqrM,iBAAiB/xG,cAAcz9C,KAAK,eAAgBoxJ,OAAOjwM,QAChEgD,KAAKqrM,iBAAiB/xG,cAAc9oD,QAEpCxwC,KAAKyrM,aAAe,GACpBzrM,KAAK0rM,YAAc,GACnB1rM,KAAK2rM,YAAc,KACnB3rM,KAAK4rM,YAAc,KACnB5rM,KAAK0B,OAAS,GAEd1B,KAAKgrM,cAAcr0I,cACnB32D,KAAKs6D,QAAS,qCASP/Y,OAAO,IACR3kD,KAAS2kD,MAAM4C,cAAfvnD,KAON,OALY,MAARA,OAEAA,KAAO2kD,MAAM4C,cAAc0B,SAGvBjpD,MAEJ,KAAKo8F,gBAAAmF,UAAUkB,SACf,KAAKrG,gBAAAqF,iBAAiBgB,SAClB99C,MAAMS,iBAEFhiD,KAAKskB,QAAUsmL,uBAAAphC,mBAAmBC,SAASG,WAAa5pK,KAAKskB,QAAUsmL,uBAAAphC,mBAAmBC,SAASE,SACnG3pK,KAAKsuM,gBAGT,MACJ,KAAKt1G,gBAAAmF,UAAUmB,WACf,KAAKtG,gBAAAqF,iBAAiBiB,WAClB/9C,MAAMS,iBAEFhiD,KAAKskB,QAAUsmL,uBAAAphC,mBAAmBC,SAASG,WAAa5pK,KAAKskB,QAAUsmL,uBAAAphC,mBAAmBC,SAASE,SACnG3pK,KAAKuuM,gBAGT,MACJ,KAAKv1G,gBAAAmF,UAAUgC,IACf,KAAKnH,gBAAAqF,iBAAiB8B,IAClB5+C,MAAMS,iBAEFhiD,KAAKskB,QAAUsmL,uBAAAphC,mBAAmBC,SAASG,UAE3C5pK,KAAKwuM,cAAcxuM,KAAK2rM,aACjB3rM,KAAKskB,QAAUsmL,uBAAAphC,mBAAmBK,OAAOE,OAEhD/pK,KAAKyuM,SAGT,MACJ,KAAKz1G,gBAAAmF,UAAUQ,MACf,KAAK3F,gBAAAmF,UAAUS,UACf,KAAK5F,gBAAAqF,iBAAiBM,MACd3+F,KAAKskB,QAAUsmL,uBAAAphC,mBAAmBK,OAAOE,QAEzC/pK,KAAKyuM,SACLzuM,KAAKqrM,iBAAiBxsG,kBAG1B,MAEJ,KAAK7F,gBAAAmF,UAAUC,OACf,KAAKpF,gBAAAqF,iBAAiBD,OACdwsG,uBAAA5gC,4BAA4Bp/F,SAAS5qE,KAAKskB,OAC1CtkB,KAAK2tF,SAEL3tF,KAAK0uM,SAGT,MACJ,QACI1uM,KAAKirM,mBAAmBz6J,oDASjB+Q,OACf,GAAIA,MAAMmF,QAAUsyC,gBAAA0E,iBAAiBC,WAAY,CAC7C,IAAM+D,SAAU,EAAA5T,QAAA,SAAEvsC,MAAMoC,eAAe/9C,KAAK,WAExC87F,UACA1hG,KAAK2rM,YAAcjqG,QACnB1hG,KAAKwuM,cAAc9sG,gEAW3B,IAAMitG,8BAAgC3uM,KAAKirM,mBAAmB7+L,MACxDwiM,YAAcD,8BAA8B3xM,OAClDgD,KAAKirM,mBAAmBh9J,KAAK,OACR,IAAhB2gK,YAAoB5uM,KAAKirM,mBAAmBh9J,KAAK,eAAejxC,OAAS4xM,aAE1EhE,uBAAA5gC,4BAA4Bp/F,SAAS5qE,KAAKskB,OAC1CtkB,KAAK6uM,eAAeF,8BAA8BrrI,OAAO/2C,eAEzDvsB,KAAK8uM,cAAcH,8BAA8BrrI,+CAU1C5sD,QACX,IAAI+P,QAAU,GAad,IAPoB,EAAhB/P,OAAO1Z,QAAcgD,KAAKurM,cAAgBX,uBAAAY,0BAA0BjiC,UACpE9iJ,QAAUzmB,KAAK+uM,uBAAuBr4L,SAG1C1W,KAAKorM,sBAAsBnjJ,KAAKjoD,KAAK6rM,gBAAgBplL,UACrDzmB,KAAKorM,sBAAsBt+J,KAAK,MAAMsU,GAAG,QAASphD,KAAKssM,2BAEnD,EAAAzyF,UAAA,SAASpzF,SACTzmB,KAAK6tM,aAAajD,uBAAAphC,mBAAmBC,SAASC,gBAC3C,CAEH,IAAIslC,iBAAmBhvM,KAAKskB,QAAUsmL,uBAAAphC,mBAAmBC,SAASG,UAQlE,GALIh/I,OAAO8R,KAAK18B,KAAKoI,OAAOpI,KAAKurM,cAAc3gI,SAASl0D,UACpD1W,KAAK2rM,YAAcj1L,OACnBs4L,kBAAmB,GAGnBA,iBAAkB,CAClB,IAAMC,WAAajvM,KAAKorM,sBAAsBt+J,KAA3B,oBAAAt7B,OAAoDxR,KAAK2rM,YAAzD,OAEnB,GAAIsD,WAAWjyM,OAGX,OAFAiyM,WAAW34I,SAAS,kBACpBt2D,KAAK6tM,aAAajD,uBAAAphC,mBAAmBC,SAASG,WAKtD5pK,KAAK6tM,aAAajD,uBAAAphC,mBAAmBC,SAASE,SAGlD3pK,KAAK2rM,YAAc,oDAYAj1L,QACnB,IAAM+P,QAAU,GADWgzH,2BAAA,EAAAC,mBAAA,EAAAC,oBAAA/2I,EAAA,IAE3B,IAAA,IAAAg3I,MAAAC,UAAsB75I,KAAKsrM,YAAYtrM,KAAKurM,aAA5ClmK,OAAAC,cAAAm0G,2BAAAG,MAAAC,UAAA1zH,QAAAd,MAAAo0H,2BAAA,EAA0D,CAAA,IAA/C/3C,QAA+Ck4C,MAAAp0I,MAAA0pM,4BAAA,EAAAC,oBAAA,EAAAC,qBAAAxsM,EAAA,IACtD,IAAA,IAAAysM,OAAAC,WAAsB5tG,QAAQ+qG,SAA9BpnK,OAAAC,cAAA4pK,4BAAAG,OAAAC,WAAAnpL,QAAAd,MAAA6pL,4BAAA,EAAwC,CAAA,IAA7BxC,QAA6B2C,OAAA7pM,MAAA+pM,4BAAA,EAAAC,oBAAA,EAAAC,qBAAA7sM,EAAA,IAEpC,IAAA,IAAA8sM,OAAAC,WAAoBjD,QAAQ18L,QAA5Bq1B,OAAAC,cAAAiqK,4BAAAG,OAAAC,WAAAxpL,QAAAd,MAAAkqL,4BAAA,EAAqC,CAAA,IAA1B79L,MAA0Bg+L,OAAAlqM,MAC7BkM,MAAMk+L,WAAWl5L,eACe,IAAxB+P,QAAQi7E,QAAQ1rF,MACO,IAA/ByQ,QAAQi7E,QAAQ1rF,IAAIkrJ,QACpBxvJ,MAAM1U,OAASypB,QAAQi7E,QAAQ1rF,IAAI0rF,QAAQ1kG,UAC3CypB,QAAQi7E,QAAQ1rF,IAAM,CAAEkrJ,QAAQ,EAAMx/D,QAAShwF,MAAOm+L,YAAanD,QAAQoD,WAP/C,MAAA9sM,KAAAwsM,oBAAA,EAAAC,gBAAAzsM,IAAA,QAAA,IAAAusM,4BAAA,MAAAI,WAAA,QAAAA,WAAA,SAAA,QAAA,GAAAH,mBAAA,MAAAC,iBAapC,SAAmC,IAAxBhpL,QAAQi7E,QAAQ1rF,MAAsD,IAA/ByQ,QAAQi7E,QAAQ1rF,IAAIkrJ,SAIlEwrC,QAAQqD,QAAQl1K,KAAK,SAAC0mF,KAAD,OAASA,IAAIquF,WAAWl5L,UAAU,CACvD,IAAMna,EAAImwM,QAAQ18L,QAAQ,SAES,IAAxByW,QAAQi7E,QAAQ1rF,KACvBzZ,EAAES,OAASypB,QAAQi7E,QAAQ1rF,IAAI0rF,QAAQ1kG,UACvCypB,QAAQi7E,QAAQ1rF,IAAM,CAAEkrJ,QAAQ,EAAOx/D,QAASnlG,EAAGszM,YAAanD,QAAQoD,YAvB9B,MAAA9sM,KAAAmsM,oBAAA,EAAAC,gBAAApsM,IAAA,QAAA,IAAAksM,4BAAA,MAAAI,WAAA,QAAAA,WAAA,SAAA,QAAA,GAAAH,mBAAA,MAAAC,mBAF/B,MAAApsM,KAAA02I,mBAAA,EAAAC,eAAA32I,IAAA,QAAA,IAAAy2I,2BAAA,MAAAI,UAAA,QAAAA,UAAA,SAAA,QAAA,GAAAH,kBAAA,MAAAC,gBA+B3B,OAAOlzH,8CAUG4nL,UAC2B,IAAjCruM,KAAK0B,OAAOirM,UAAU3vM,OACE,IAApBqxM,SAASrxM,QACTgD,KAAK0B,OAAOsuM,SAAWpF,uBAAAqF,6BAA6BlmC,MACpD/pK,KAAK6tM,aAAajD,uBAAAphC,mBAAmBK,OAAOE,SAE5C/pK,KAAK0B,OAAOsuM,SAAWpF,uBAAAqF,6BAA6BnmC,QACpD9pK,KAAK6tM,aAAajD,uBAAAphC,mBAAmBK,OAAOC,WAGhD9pK,KAAK0B,OAAOirM,UAAUj5K,QAAQ,SAACk5K,UACvBA,SAAS5sC,SAASl+J,KAAKusM,UACvBzB,SAASoD,SAAWpF,uBAAAqF,6BAA6BlmC,MAC1C6iC,SAASC,UAAU/qM,KAAKusM,UAC/BzB,SAASoD,SAAWpF,uBAAAqF,6BAA6B/lC,UAEjD0iC,SAASoD,SAAWpF,uBAAAqF,6BAA6BnmC,UAGrD9pK,KAAK0B,OAAOirM,UAAU9xK,KAAK,SAAC+xK,UAAD,OAAcA,SAASoD,WAAapF,uBAAAqF,6BAA6BlmC,QAC5F/pK,KAAK6tM,aAAajD,uBAAAphC,mBAAmBK,OAAOE,OAE5C/pK,KAAK6tM,aAAajD,uBAAAphC,mBAAmBK,OAAOC,UAGpD9pK,KAAKorM,sBAAsBnjJ,KAAKjoD,KAAK+rM,iBAAiB/rM,KAAK0B,u2BC1tB9CwuM,sBAMjB,SAAAA,WAAYnD,UAAWC,OAAO,IAAA/4L,MAAAjU,oIAAA8uF,CAAA9uF,KAAAkwM,YAC1BlwM,KAAKmwM,QAAU,GACfpD,UAAUr5K,QAAQ,SAAC08K,UACfn8L,MAAKk8L,QAAQ3sM,KAAK,IAAI+jC,OAAO6oK,SAAUpD,uHAW1C/nM,KACD,OAAOjF,KAAKmwM,QAAQt1K,KAAK,SAACw1K,OAAD,OAAWA,MAAMvuM,KAAKmD,yNCxBvD,IAAAupF,UAAAhyF,QAAA,wBAgBAuwB,OAAOujL,aAAevjL,OAAOujL,cAAgBvjL,OAAOwjL,mBAK/Cl6K,OAAOh2B,UAAUkF,eAAe,YACjC8wB,OAAOh2B,UAAUspM,OAAS,SAAS5sJ,OAC/B,GAAIA,MAAQ,EACR,MAAO,GAMX,IAHA,IAAIx0C,OAAS,GACT6mC,QAAUpvC,KAAKgyE,UAEJ,EAARj1B,OACS,EAARA,QAAWx0C,QAAU6mC,SACzB2N,QAAU,EAAG3N,SAAWA,QAG5B,OAAO7mC,OAAS6mC,UAcnB/Y,OAAOm6K,gBAERn6K,OAAOm6K,cAAgB,WAMnB,IALA,IACI70D,MACAn2H,OACAirL,MAHE78H,MAAQ,GAKLv3E,EAAI,EAAGA,EAAIwI,UAAU7H,OAAQX,IAElCmpB,QADAm2H,MAAQ92I,UAAUxI,IACD,MACjBo0M,MAAgB,MAAR90D,MAAiB,CAAC,OAAUn2H,QAAU,IAAK,OAAmB,KAATA,SAAmB,CAACm2H,OACjF/nE,MAAMpwE,KAAK6yB,OAAOyS,aAAat4B,MAAM,KAAMigM,QAG/C,OAAO78H,MAAM1vE,KAAK,MAuB1B6oB,OAAOtsB,IAnBK,SAAC8pB,SAA8B,IAArB2B,MAAqB,EAAArnB,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAb2pF,UAAAU,IAAI0+E,KAS9B,GAAI/xH,KAAKp7C,KAAOyrB,MAAO,CACnB,IAAMpH,KAAI,KAAAtT,OATK,CACf6tD,EAAG,QACHpiE,EAAG,OACHsC,EAAG,OACHC,EAAG,QACHC,EAAG,SAI0BysB,OAAnB,MAENA,OAASsiE,UAAAU,IAAI2+E,QACbphJ,QAAQ4tB,KAAKv1B,KAAMyF,SAEnBkC,QAAQhsB,IAAIqkB,KAAMyF,wOCnF9B,QAAAu4G,eAAAtmI,QAAA,6EAS+B,SAACk0M,OAAD,MAAA,MAAAl/L,OAAgBk/L,MAAK3+K,WAAW,GAAGjxB,SAAS,IAAIy6C,gBASxE,IAAMk5F,OAAS,SAACvkI,MAGnB,OAAOA,KAFuB6iB,KAAKC,MAAMD,KAAK+B,SAAW5kB,KAAKlT,sDAUrC,SAAC6O,GAC1B,GAAiB,IAAbA,EAAE7O,OAAN,CAIA,KAAK,EAAA8lI,UAAA,SAASj3H,EAAE,IACZ,OAAO4oI,OAAO5oI,GAKlB,IADA,IAAImxG,OAAS,EACJ3gH,EAAI,EAAGA,EAAIwP,EAAE7O,OAAQX,IAC1B2gH,QAAUnxG,EAAExP,GAAG,GAMnB,IAHA,IAAMs0M,aAAe59K,KAAK+B,SAAWkoF,OAG5Bz3E,GAFTy3E,OAAS,EAEOz3E,GAAI15B,EAAE7O,OAAQuoC,KAG1B,GAAaorK,cAFb3zF,QAAUnxG,EAAE05B,IAAG,IAGX,OAAO15B,EAAE05B,IAAG,GAKpB,OAAO,uBAWY,SAAC//B,MAAOxI,QAC3B,GAAIwI,MAAM1E,WAAW9D,QAAUA,OAC3B,OAAOwI,MAAM1E,WAGjB,IAAMwzB,EAAC,gBAAA9iB,OAAmBhM,OAE1B,OAAO8uB,EAAE1O,OAAO0O,EAAEt3B,OAASA,OAAQA,kLC9DhC,SAAuC4zM,SAAUC,kBAAmBC,SACvE,MAAO,GAAAt/L,OAAGo/L,UAAHp/L,OAAcigH,gBAAA8C,qCAAd/iH,OAAoDq/L,mBAApD,GAAAr/L,OACAigH,gBAAA8C,qCADA/iH,OACsCs/L,gFAdjD,IAAA/3G,iBAAAv8F,QAAA,gCACAi1H,gBAAAj1H,QAAA,+eAwBA,SAASu0M,kBAAkBC,gBAAiBX,OAAuB,IAAhBY,WAAgB,EAAApsM,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAH,EAC5D,GAAuB,MAAnBmsM,gBACA,MAAO,GAGX,IAAMjsL,MAAQisL,gBAAgBjsL,MAAMsrL,OAEpC,GAAc,OAAVtrL,MACA,MAAO,GARoD,IAAAmsL,OAAA/0G,eAWtCp3E,MAXsC,GAWtDvf,MAXsD0rM,OAAA,GAW/C/rE,MAX+C+rE,OAAA,GAa/D,MAAO,CAAC1kL,SAAShnB,MAAO,IAAMyrM,WAAY9rE,wCAaN,SAAC6rE,iBACrC,OAAOD,kBAAkBC,gBAAiBj4G,iBAAAkkC,MAAMwvC,qBAAsB,oCAarC,SAACukC,iBAClC,OAAOD,kBAAkBC,gBAAiBj4G,iBAAAkkC,MAAM0vC,8iBClEpD,IAAAwkC,QAAApjH,uBAAAvxF,QAAA,iBACAqmK,UAAA90E,uBAAAvxF,QAAA,mBACAspG,MAAA/X,uBAAAvxF,QAAA,eACAq8F,MAAAr8F,QAAA,gBACA0pG,QAAA1pG,QAAA,oGAOA,IAAM40M,mBAAqB,CACvB,IACA,KACA,IACA,KACA,IACA,KACA,IACA,KACA,KAQSC,YAAc,CACvBhyI,EAAG,OACHpiE,EAAG,MACHsC,EAAG,MACHC,EAAG,QACHC,EAAG,OACHC,EAAG,OACHC,EAAG,MACHC,EAAG,QACH+f,EAAG,QACHC,EAAG,QACHC,GAAI,MACJC,GAAI,SACJC,GAAI,SACJC,GAAI,WACJvD,GAAI,WACJC,GAAI,UACJuD,GAAI,UACJQ,GAAI,YACJ9D,GAAI,WACJC,GAAI,WACJyD,GAAI,SACJgB,GAAI,SACJiB,GAAI,SACJb,GAAI,QACJjE,GAAI,QACJoE,GAAI,UACJ7D,GAAI,SACJ61K,GAAI,SACJl3L,EAAG,QACHmK,EAAG,QACHtK,EAAG,UACHs4G,EAAG,QACH54G,EAAG,OACHK,EAAG,UACHg1M,EAAG,OACHC,EAAG,QACHl1M,EAAG,QACHyvB,EAAG,SACHkwF,EAAG,OACHnwG,EAAG,OACH89B,EAAG,OACHztC,EAAG,WACHE,EAAG,QACHS,EAAG,OACHm4B,EAAG,SACHh5B,EAAG,QACH26B,EAAG,SACHx6B,EAAG,QACHM,EAAG,UACH45C,EAAG,SACH9U,EAAG,UACHjN,EAAG,QACHC,EAAG,SACHi9K,EAAG,OACHC,IAAK,OACLC,IAAK,yCAUF,IAAMC,wBAA0B,CACnCz1M,EAAG,QACH01M,GAAI,YACJrwK,EAAG,OACHswK,GAAI,YACJl7K,EAAG,QACHm7K,GAAI,YACJ71M,EAAG,OACH81M,GAAI,qEAID,IAAMC,oBAAqB,EAAAb,QAAA,SAAOE,6DACtBxlM,EAAI,OACvBmmM,mBAAmBz1M,EAAI,SACvBy1M,mBAAmBh2M,EAAI,+BAgBO,SAACuP,OAAQ0mM,QAOnC,IALI1mM,OAF4D,EAAA1G,UAAA7H,aAAA4F,IAAAiC,UAAA,IAAAA,UAAA,GAEnDkuB,KAAKC,MAAMznB,QAAQzK,WAEnBiyB,KAAK8B,MAAMtpB,QAAQzK,YAGrB9D,OAASi1M,OAChB,OAAO1mM,OAIX,KAAOA,OAAOvO,OAASi1M,QACnB1mM,OAAM,IAAAiG,OAAOjG,QAGjB,OAAOA,+BAiBmB,SAACA,OAAQ0mM,OAAQC,MAAOr9J,UAClD,IAAMs9J,QAAWt9J,SAAY9hB,KAAKC,MAAQD,KAAK8B,MAE/C,IAAKq9K,MACD,OAAOC,QAAQ5mM,OAASwnB,KAAK4qF,IAAI,GAAIs0F,SAAWl/K,KAAK4qF,IAAI,GAAIs0F,QAIjE,GAAIA,QAAU,EACV,OAAQE,QAAQ5mM,OAASwnB,KAAK4qF,IAAI,GAAIs0F,SAAWl/K,KAAK4qF,IAAI,GAAIs0F,SAASnxM,WAG3EyK,OAASA,OAAOzK,WAEhB,IAAK,IAAIzE,EAAI,EAAGA,EAAIkP,OAAOvO,OAAQX,IAC/B,GAAkB,MAAdkP,OAAOlP,GAAY,CACnB,IAAM+1M,eAAiB7mM,OAAOvO,QAAUX,EAAI,GAE5C,GAAI+1M,iBAAmBH,OACnB,OAAO1mM,OAAOzK,WACX,GAAIsxM,eAAiBH,OAExB,OAAO1mM,OAASyZ,MAAMitL,OAASG,eAAiB,GAAGluM,KAAK,KACrD,GAAqB+tM,OAAjBG,eAAyB,CAChC,GAAIv9J,SACA,OAAOtpC,OAAOqa,OAAO,EAAGra,OAAOvO,QAAUo1M,eAAiBH,SAG9D,IAAM1uM,IAAMgI,OAAOvO,QAAUo1M,eAAiBH,OAAS,GAMvD,OALc1mM,OAAOqa,OAAO,EAAGriB,MACL,IAAX0uM,OACT,GACAE,QAAQ3lL,SAASjhB,OAAOqa,OAAOriB,IAAK,GAAI,IAAM,IAAIzC,eAcjE,IAAMuxM,YAAc,SAACC,WACxB,IAAMC,OAASD,UAAU,GACnBE,OAASF,UAAU,GAEzB,GAAe,MAAXC,OACA,MAAe,MAAXC,OACO,UAGX,GAAAhhM,OAAU6/L,YAAYkB,QAAtB,KAAA/gM,OAAiC6/L,YAAYmB,SAC1C,GAAe,MAAXD,OAEP,OAAOlB,YAAYiB,WAChB,GAAc,GAAVC,OAAa,CACpB,IAAME,WAAU,GAAAjhM,OAAM+gM,OAAN,KAEhB,MAAe,MAAXC,OAEOnB,YAAYoB,YAGvB,GAAAjhM,OAAU6/L,YAAYoB,YAAtB,KAAAjhM,OAAqC6/L,YAAYmB,SAGrD,MAAA,GAAAhhM,OAAU6/L,YAAYkB,QAAtB,KAAA/gM,OAAiC6/L,YAAYmB,+DAWrB,SAACn5G,SAAU2e,SACnC,IAAK,QAAQl2G,KAAKu3F,UAAW,CAEzB,GAAgB,aAAZ2e,QAAwB,CAExB,IAAM06F,GAAI,GAEV,IAAK,IAAM12F,KAAK3iB,SAEZq5G,GAAElvM,KAAK6tM,YAAYh4G,SAAS2iB,KAGhC,OAAO02F,GAAExuM,KAAK,KAKlB,IAEIyuM,YAFEl9K,SAAW,GACbmwJ,GAAKvsF,SAELhjF,MAAQuvK,GAAG5oL,OAAS,EACpB41M,cAAgBvvI,MAAM72C,SAASo5J,GAAGvvK,OAAQ,KAG9C,IAFAA,QAEgB,GAATA,OAAY,CAGf,IAFAs8L,aAAetvI,MAAM72C,SAASo5J,GAAGvvK,OAAQ,KAElCs8L,cAAgBC,eACnBv8L,QACAs8L,aAAetvI,MAAM72C,SAASo5J,GAAGvvK,OAAQ,OAErCA,MAAQ,MAIhBof,SAASnxB,QAAQshL,GAAGhgK,OAAOvP,MAAQ,IACnCuvK,GAAKA,GAAGhgK,OAAO,EAAGvP,MAAQ,GAC1Bu8L,aAAeD,YAInB,IAAMh8K,EAAI,GAEV,IAAK,IAAMt6B,KAAKo5B,SACZ,GAAI4tC,MAAM72C,SAASiJ,SAASp5B,GAAI,KAE5Bs6B,EAAEnzB,KAAKwoG,eAAev2E,SAASp5B,UAG/B,OAAQo5B,SAASp5B,GAAGW,QAChB,KAAK,EACD25B,EAAEnzB,KAAKiyB,SAASp5B,IAChB,MACJ,KAAK,EACDs6B,EAAEnzB,KAAK6tM,YAAY57K,SAASp5B,KAC5B,MACJ,KAAK,EACDs6B,EAAEnzB,KAAK6uM,YAAY58K,SAASp5B,KAC5B,MACJ,KAAK,EACDs6B,EAAEnzB,KAAF,GAAAgO,OAAU6/L,YAAY57K,SAASp5B,GAAG,IAAlC,KAAAmV,OAAyC6gM,YAAY58K,SAASp5B,GAAGupB,OAAO,MACxE,MACJ,KAAK,EACD+Q,EAAEnzB,KAAF,GAAAgO,OAAU6gM,YAAY58K,SAASp5B,GAAGupB,OAAO,EAAG,IAA5C,KAAApU,OAAmD6gM,YAAY58K,SAASp5B,GAAGupB,OAAO,MAClF,MACJ,QACI+Q,EAAEnzB,KAAKwoG,eAAev2E,SAASp5B,KAM/C,OAAOs6B,EAAEzyB,KAAK,KAGd,OAAQm1F,SAASr8F,QACb,KAAK,EACD,OAAOq8F,SACX,KAAK,EACD,OAAOg4G,YAAYh4G,UACvB,KAAK,EACD,OAAOg5G,YAAYh5G,UACvB,KAAK,EACD,MAAA,GAAA7nF,OAAU6/L,YAAYh4G,SAAS,IAA/B,KAAA7nF,OAAsC6gM,YAAYh5G,SAASzzE,OAAO,KAEtE,KAAK,EACD,MAAoB,MAAhByzE,SAAS,IAA8B,MAAhBA,SAAS,IAA8B,MAAhBA,SAAS,GACvD,GAAA7nF,OAAU6/L,YAAYh4G,SAAS,IAA/B,aAGJ,GAAA7nF,OAAU6gM,YAAYh5G,SAASzzE,OAAO,EAAG,IAAzC,KAAApU,OAAgD6gM,YAAYh5G,SAASzzE,OAAO,KAEhF,QACI,OAAOyzE,gCAWK,SAAC77F,OAIzB,OAFAA,OADAA,MAAK,GAAAgU,OAAMhU,MAAN,MACS+uB,eAEP,EAAAs2I,UAAA,UAAS,EAAA/8D,MAAA,SAAKtoG,MAAO,SAACq1M,eAAgBx2M,GAAjB,OAAuB21M,mBAAmBx0M,MAAMnB,OAAM6H,KAAK,4BAS9D,SAACikG,SAC1B,IAAMljG,IAAMkjG,QAAQrnG,WAEpB,OAAQmE,IAAIjI,QACR,KAAK,EACD,MAAA,aAAAwU,OAAoB6/L,YAAYpsM,MACpC,KAAK,EACD,MAAA,QAAAuM,OAAe6/L,YAAYpsM,IAAI,IAA/B,KAAAuM,OAAsC6/L,YAAYpsM,IAAI,KAC1D,QACI,MAAA,GAAAuM,OAAU6/L,YAAYpsM,IAAI,IAA1B,KAAAuM,OAAiC6/L,YAAYpsM,IAAI,IAAjD,KAAAuM,OAAwD6/L,YAAYpsM,IAAI,KAGhF,OAAOkjG,SASJ,IAAM6D,eAAiB,SAAC8mG,cAC3B,IAAM7tM,IAAM6tM,aAAahyM,WACnB2gC,IAAM,GAEZ,GAAKx8B,IAAL,CAKA,IAAK,IAAI5I,EAAI,EAAGA,EAAI4I,IAAIjI,OAAQX,IAC5BolC,IAAIj+B,KAAK6tM,YAAYpsM,IAAI5I,KAG7B,OAAOolC,IAAIv9B,KAAK,oEASU,SAACykG,UAC3B,IAAMoqG,MAAQpqG,SAAS7nG,WACjB61B,EAAI,GAGV,GAAgB,MAAZgyE,SACAhyE,EAAEnzB,KAAK,eAAgB6tM,YAAY0B,MAAM,IAAK1B,YAAY0B,MAAM,IAAK1B,YAAY0B,MAAM,UACpF,GAAgB,KAAZpqG,SACPhyE,EAAEnzB,KAAK6tM,YAAY0B,MAAM,IAAK1B,YAAY0B,MAAM,IAAK,YAE/CpqG,UAA0C,IAA9B51E,KAAKC,MAAM21E,SAAW,OAAkB,GACtDhyE,EAAEnzB,KAAK6tM,YAAY0B,MAAM,IAAK,gBAE/B,GAAgB,KAAZpqG,SACPhyE,EAAEnzB,KAAK6tM,YAAY0B,MAAM,IAAK,YAExBpqG,UAA0C,IAA9B51E,KAAKC,MAAM21E,SAAW,OAAkB,GACtDhyE,EAAEnzB,KAAK6tM,YAAY0B,MAAM,IAAK,eAE/B,CAAA,KAAgB,KAAZpqG,UAGP,OAAOA,SAFPhyE,EAAEnzB,KAAK6tM,YAAY0B,MAAM,IAAK,WAKlC,OAAOp8K,EAAEzyB,KAAK,0BAaS,SAAC2zF,SAAU55C,aAAc29H,WAChD,IAAMo3B,WAAa,CACfrqG,SAAU,CAAC,uBAAwB,qBAAsB,YACzDj1C,MAAO,CAAC,kBAAmB,oBAAqB,8BAGpD,OAAmBkoH,UAAf39H,aACO+0J,WAAWn7G,UAAU,GAG5B55C,aAAe29H,UACRo3B,WAAWn7G,UAAU,GAGzBm7G,WAAWn7G,UAAU,IASzB,IAAMo7G,qBAAuB,SAACnmG,OACjC,OAAOskG,oBAAmB,EAAAv4G,MAAAhkE,OAAMi4E,OAAQ,EAAA5G,QAAAqpD,OAAQ,uGAUG,SAACpnD,SACpD,IAAM+qG,kBAAoBD,sBAAqB,EAAA/sG,QAAAuD,mBAAkBtB,QAAUp1E,KAAK89B,KAAKtkC,cAErF,OAAOolL,wBAAwBuB,2UC1dnC,IAAAxlE,kBAAAlxI,QAAA,sBACAq8F,MAAAr8F,QAAA,gBACAu8F,iBAAAv8F,QAAA,mSAUA,IAiBM22M,kBAAoB,CACtB,CAEIz8L,OAAQ,KACR08L,SAAU,IAGd,CAEI18L,OAAQ,WACR08L,SAAU,IAGd,CAEI18L,OAAQ,KACR08L,SAAU,IAGd,CAEI18L,OAAQ,MACR08L,SAAU,CAGN,sBAEA,SAGR,CAEI18L,OAAQ,SACR08L,SAAU,CAEN,OAEA,SAGR,CAEI18L,OAAQ,MACR08L,SAAU,CAEN,SAGR,CAEI18L,OAAQ,MACR08L,SAAU,CAEN,OAEA,OAEA,SAGR,CAEI18L,OAAQ,KACR08L,SAAU,CAEN,iBAIA,eAGA,0BAGA,gBAOA,SAYR,CAEI18L,OAAQ,MACR08L,SAAU,CAEN,SAGR,CAEI18L,OAAQ,KACR08L,SAAU,CAEN,UAkDZ,SAASC,YAAYxjH,KAAMkjB,iBACvB,OAtCJ,SAAmBljB,MACf,OAAOsjH,kBAAkBvmK,OAAO,SAACp2B,MAC7B,OAAwB,OAAhBA,KAAKE,QAAmBF,KAAKE,OAAO5U,KAAK+tF,QACpB,IAAzBr5E,KAAK48L,SAASp2M,SAmCfs2M,CAAUzjH,MAAMh1D,KAAK,SAACrkB,MACzB,OAAOA,KAAK48L,SAASv4K,KAAK,SAAC/4B,MAAD,OAxBlC,SAAkBixG,gBAAiBwgG,aAC/B,GAAIA,uBAAuBhsK,OACvB,OAAOgsK,YAAYzxM,KAAKixG,iBACrB,GAA2B,iBAAhBwgG,YACd,OAAOxgG,kBAAoBwgG,YAG/B,MAAM,IAAIrhL,UAAJ,yEAAA1gB,OAAAiiG,QAC8E8/F,eAgB5CC,CAASzgG,gBAAiBjxG,0CAS/B,WACnC,IAAMlF,MAAO,EAAAi8F,MAAA46G,SAAQ,EA1LI,MA0LqB3yM,SAAS,GACvD,OAAO,EAAA4sI,kBAAAS,SAAQvxI,KAAM,IAWlB,IAAMo2G,uBAAyB,SAACD,iBACnC,OAAOha,iBAAAkkC,MAAMwpC,iBAAiB3kK,KAAKixG,0GAaE,SAACljB,KAAMkjB,iBAC5C,QAAKC,uBAAuBD,mBAIxBA,gBAAgB2gG,SAAS,QAIrBL,YAAYxjH,KAAMkjB,slBCzO9B,IAAA1a,WAAAtK,uBAAAvxF,QAAA,oBACAumI,WAAAh1C,uBAAAvxF,QAAA,oBACAm3M,aAAA5lH,uBAAAvxF,QAAA,sBACA0pG,QAAA1pG,QAAA,kBACAq8F,MAAAr8F,QAAA,gBACAu8F,iBAAAv8F,QAAA,wIAO6B,GAOtB,IAAM+/G,0BAA4B,CAQrCq3F,MAAO,eAQPC,MAAO,MAQPC,KAAM,MAQNC,MAAO,QAQPC,MAAO,UAQPC,MAAO,IAQPz3F,MAAO,iEASJ,IAAM03F,iBAAmB,CAQ5BC,oBAAqB,0DAUP,WACd,OAD0B,EAAAtvM,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,GACR03G,0BAA0Bs3F,kBAUxB,WACd,OADkC,EAAAhvM,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,GACR03G,0BAA0Bs3F,OAU3C,IAAMO,KAAO,WAChB,OADgC,EAAAvvM,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,GACV03G,0BAA0Bu3F,sCAUzB,WACjB,OADqC,EAAAjvM,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,GACX03G,0BAA0Bw3F,qBAU7B,WACjB,OAD6B,EAAAlvM,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,GACX03G,0BAA0Bw3F,qBAUrB,WACjB,OAD6B,EAAAlvM,UAAA7H,aAAA4F,IAAAiC,UAAA,GAAAA,UAAA,GAAN,GACX03G,0BAA0By3F,qBAUrB,SAACjuF,IAClB,OAAOA,GAAKxJ,0BAA0Bq3F,OAUnC,IAAM/mG,iBAAmB,SAACq1E,SAC7B,OAAQA,SAAW,EAAAh8E,QAAAqpD,OAAU2kD,iBAAiBC,wFAUlB,SAAClyB,SAC7B,OAAQA,QAAUiyB,iBAAiBC,qBAAwB,EAAAjuG,QAAAqpD,wCAQxB,SAACsxB,SAAD,OAAuB,GAAVA,oCAWlB,SAACr7K,OAAD,OAAWgnB,SAAShnB,MAtMzB,IAsMiD+2G,0BAA0B03F,qCAWnE,SAACzuM,OAAD,OAAWgnB,SAAShnB,MAjN5B,+BA0NI,SAAC2iG,SAe9B,MAZgB,OAFhBA,SAAU,EAAAtP,MAAAhkE,QAAM,EAAAgkE,MAAAmpF,KAAIn1E,iBAAiB1E,SAAU,MAAMrnG,cAGjDqnG,QAAU,OAGS,IAAnBA,QAAQnrG,SACRmrG,QAAO,KAAA32F,OAAQ22F,UAGI,IAAnBA,QAAQnrG,SACRmrG,QAAO,IAAA32F,OAAO22F,UAGXA,iCAeoB,SAACm8C,YAC5B,IAAMv/H,MAAQg0E,iBAAAkkC,MAAMyvC,SAAS3iJ,KAAKu6H,YAGlC,GAAa,MAATv/H,MACA,OAAOu/H,WAGX,IAAM29B,QAAU92H,WAAWpmC,MAAM,IAC7B87J,QAAU,EACVE,QAAU,EAGE,MAAZh8J,MAAM,KACN87J,QAAW11H,WAAWpmC,MAAM,IAAMg0E,iBAAAimB,KAAK6xC,oBAEvB,MAAZ9rI,MAAM,KACNg8J,QAAW51H,WAAWpmC,MAAM,IAAMg0E,iBAAAimB,KAAKsH,sBAI/C,IAAI+tF,eAAiBpyB,QAAUpB,QAAUE,QAOzC,OAJIhoF,iBAAAkkC,MAAM2vC,GAAG9qK,KAAKijB,MAAM,MACpBsvL,iBAAmB,GAGhBA,uCAUmB,SAACvlG,WAI3B,IAAMmuB,MAAQ,wBAMd,IAAI,EAAA8F,WAAA,SAAUj0B,YAA4B,aAAdA,WAA0C,cAAdA,UACpD,OAAO3jD,WAAW2jD,WAGtB,IAAIwlG,gBAAkBxlG,UAAU5pG,QAAQ+3H,MAAO,IACzCs3E,cAAgBzlG,UAAU/pF,MAAMk4G,OAYtC,OATI,EAAA5kC,WAAA,SAAUk8G,cAAe,OACzBD,gBAAkBF,KAAKE,mBAIvB,EAAAX,aAAA,SAAY7kG,UAAW,OACvBwlG,kBAAoB,GAGjBnpJ,WAAWmpJ,2UCrUtB,IAAAxxE,UAAA/0C,uBAAAvxF,QAAA,mBACAq9G,UAAA9rB,uBAAAvxF,QAAA,mBACAkwL,WAAA3+F,uBAAAvxF,QAAA,iIASkC,SAACgJ,OAC/B,QAAQ,EAAAknL,WAAA,SAAUlnL,SAAU,EAAAq0G,UAAA,SAASr0G,kCAUR,SAACA,OAC9B,QAAQ,EAAAs9H,UAAA,SAASt9H,SAAU,EAAAq0G,UAAA,SAASr0G","file":"bundle.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import runtime from './handlebars.runtime';\n\n// Compiler imports\nimport AST from './handlebars/compiler/ast';\nimport { parser as Parser, parse } from './handlebars/compiler/base';\nimport { Compiler, compile, precompile } from './handlebars/compiler/compiler';\nimport JavaScriptCompiler from './handlebars/compiler/javascript-compiler';\nimport Visitor from './handlebars/compiler/visitor';\n\nimport noConflict from './handlebars/no-conflict';\n\nlet _create = runtime.create;\nfunction create() {\n  let hb = _create();\n\n  hb.compile = function(input, options) {\n    return compile(input, options, hb);\n  };\n  hb.precompile = function(input, options) {\n    return precompile(input, options, hb);\n  };\n\n  hb.AST = AST;\n  hb.Compiler = Compiler;\n  hb.JavaScriptCompiler = JavaScriptCompiler;\n  hb.Parser = Parser;\n  hb.parse = parse;\n\n  return hb;\n}\n\nlet inst = create();\ninst.create = create;\n\nnoConflict(inst);\n\ninst.Visitor = Visitor;\n\ninst['default'] = inst;\n\nexport default inst;\n","import * as base from './handlebars/base';\n\n// Each of these augment the Handlebars object. No need to setup here.\n// (This is done to easily share code between commonjs and browse envs)\nimport SafeString from './handlebars/safe-string';\nimport Exception from './handlebars/exception';\nimport * as Utils from './handlebars/utils';\nimport * as runtime from './handlebars/runtime';\n\nimport noConflict from './handlebars/no-conflict';\n\n// For compatibility and usage outside of module systems, make the Handlebars object a namespace\nfunction create() {\n  let hb = new base.HandlebarsEnvironment();\n\n  Utils.extend(hb, base);\n  hb.SafeString = SafeString;\n  hb.Exception = Exception;\n  hb.Utils = Utils;\n  hb.escapeExpression = Utils.escapeExpression;\n\n  hb.VM = runtime;\n  hb.template = function(spec) {\n    return runtime.template(spec, hb);\n  };\n\n  return hb;\n}\n\nlet inst = create();\ninst.create = create;\n\nnoConflict(inst);\n\ninst['default'] = inst;\n\nexport default inst;\n","import {createFrame, extend, toString} from './utils';\nimport Exception from './exception';\nimport {registerDefaultHelpers} from './helpers';\nimport {registerDefaultDecorators} from './decorators';\nimport logger from './logger';\n\nexport const VERSION = '4.1.2';\nexport const COMPILER_REVISION = 7;\n\nexport const REVISION_CHANGES = {\n  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n  2: '== 1.0.0-rc.3',\n  3: '== 1.0.0-rc.4',\n  4: '== 1.x.x',\n  5: '== 2.0.0-alpha.x',\n  6: '>= 2.0.0-beta.1',\n  7: '>= 4.0.0'\n};\n\nconst objectType = '[object Object]';\n\nexport function HandlebarsEnvironment(helpers, partials, decorators) {\n  this.helpers = helpers || {};\n  this.partials = partials || {};\n  this.decorators = decorators || {};\n\n  registerDefaultHelpers(this);\n  registerDefaultDecorators(this);\n}\n\nHandlebarsEnvironment.prototype = {\n  constructor: HandlebarsEnvironment,\n\n  logger: logger,\n  log: logger.log,\n\n  registerHelper: function(name, fn) {\n    if (toString.call(name) === objectType) {\n      if (fn) { throw new Exception('Arg not supported with multiple helpers'); }\n      extend(this.helpers, name);\n    } else {\n      this.helpers[name] = fn;\n    }\n  },\n  unregisterHelper: function(name) {\n    delete this.helpers[name];\n  },\n\n  registerPartial: function(name, partial) {\n    if (toString.call(name) === objectType) {\n      extend(this.partials, name);\n    } else {\n      if (typeof partial === 'undefined') {\n        throw new Exception(`Attempting to register a partial called \"${name}\" as undefined`);\n      }\n      this.partials[name] = partial;\n    }\n  },\n  unregisterPartial: function(name) {\n    delete this.partials[name];\n  },\n\n  registerDecorator: function(name, fn) {\n    if (toString.call(name) === objectType) {\n      if (fn) { throw new Exception('Arg not supported with multiple decorators'); }\n      extend(this.decorators, name);\n    } else {\n      this.decorators[name] = fn;\n    }\n  },\n  unregisterDecorator: function(name) {\n    delete this.decorators[name];\n  }\n};\n\nexport let log = logger.log;\n\nexport {createFrame, logger};\n","let AST = {\n  // Public API used to evaluate derived attributes regarding AST nodes\n  helpers: {\n    // a mustache is definitely a helper if:\n    // * it is an eligible helper, and\n    // * it has at least one parameter or hash segment\n    helperExpression: function(node) {\n      return (node.type === 'SubExpression')\n          || ((node.type === 'MustacheStatement' || node.type === 'BlockStatement')\n            && !!((node.params && node.params.length) || node.hash));\n    },\n\n    scopedId: function(path) {\n      return (/^\\.|this\\b/).test(path.original);\n    },\n\n    // an ID is simple if it only has one part, and that part is not\n    // `..` or `this`.\n    simpleId: function(path) {\n      return path.parts.length === 1 && !AST.helpers.scopedId(path) && !path.depth;\n    }\n  }\n};\n\n\n// Must be exported as an object rather than the root of the module as the jison lexer\n// must modify the object to operate properly.\nexport default AST;\n","import parser from './parser';\nimport WhitespaceControl from './whitespace-control';\nimport * as Helpers from './helpers';\nimport { extend } from '../utils';\n\nexport { parser };\n\nlet yy = {};\nextend(yy, Helpers);\n\nexport function parse(input, options) {\n  // Just return if an already-compiled AST was passed in.\n  if (input.type === 'Program') { return input; }\n\n  parser.yy = yy;\n\n  // Altering the shared object here, but this is ok as parser is a sync operation\n  yy.locInfo = function(locInfo) {\n    return new yy.SourceLocation(options && options.srcName, locInfo);\n  };\n\n  let strip = new WhitespaceControl(options);\n  return strip.accept(parser.parse(input));\n}\n","/* global define */\nimport {isArray} from '../utils';\n\nlet SourceNode;\n\ntry {\n  /* istanbul ignore next */\n  if (typeof define !== 'function' || !define.amd) {\n    // We don't support this in AMD environments. For these environments, we asusme that\n    // they are running on the browser and thus have no need for the source-map library.\n    let SourceMap = require('source-map');\n    SourceNode = SourceMap.SourceNode;\n  }\n} catch (err) {\n  /* NOP */\n}\n\n/* istanbul ignore if: tested but not covered in istanbul due to dist build  */\nif (!SourceNode) {\n  SourceNode = function(line, column, srcFile, chunks) {\n    this.src = '';\n    if (chunks) {\n      this.add(chunks);\n    }\n  };\n  /* istanbul ignore next */\n  SourceNode.prototype = {\n    add: function(chunks) {\n      if (isArray(chunks)) {\n        chunks = chunks.join('');\n      }\n      this.src += chunks;\n    },\n    prepend: function(chunks) {\n      if (isArray(chunks)) {\n        chunks = chunks.join('');\n      }\n      this.src = chunks + this.src;\n    },\n    toStringWithSourceMap: function() {\n      return {code: this.toString()};\n    },\n    toString: function() {\n      return this.src;\n    }\n  };\n}\n\n\nfunction castChunk(chunk, codeGen, loc) {\n  if (isArray(chunk)) {\n    let ret = [];\n\n    for (let i = 0, len = chunk.length; i < len; i++) {\n      ret.push(codeGen.wrap(chunk[i], loc));\n    }\n    return ret;\n  } else if (typeof chunk === 'boolean' || typeof chunk === 'number') {\n    // Handle primitives that the SourceNode will throw up on\n    return chunk + '';\n  }\n  return chunk;\n}\n\n\nfunction CodeGen(srcFile) {\n  this.srcFile = srcFile;\n  this.source = [];\n}\n\nCodeGen.prototype = {\n  isEmpty() {\n    return !this.source.length;\n  },\n  prepend: function(source, loc) {\n    this.source.unshift(this.wrap(source, loc));\n  },\n  push: function(source, loc) {\n    this.source.push(this.wrap(source, loc));\n  },\n\n  merge: function() {\n    let source = this.empty();\n    this.each(function(line) {\n      source.add(['  ', line, '\\n']);\n    });\n    return source;\n  },\n\n  each: function(iter) {\n    for (let i = 0, len = this.source.length; i < len; i++) {\n      iter(this.source[i]);\n    }\n  },\n\n  empty: function() {\n    let loc = this.currentLocation || {start: {}};\n    return new SourceNode(loc.start.line, loc.start.column, this.srcFile);\n  },\n  wrap: function(chunk, loc = this.currentLocation || {start: {}}) {\n    if (chunk instanceof SourceNode) {\n      return chunk;\n    }\n\n    chunk = castChunk(chunk, this, loc);\n\n    return new SourceNode(loc.start.line, loc.start.column, this.srcFile, chunk);\n  },\n\n  functionCall: function(fn, type, params) {\n    params = this.generateList(params);\n    return this.wrap([fn, type ? '.' + type + '(' : '(', params, ')']);\n  },\n\n  quotedString: function(str) {\n    return '\"' + (str + '')\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\"/g, '\\\\\"')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/\\u2028/g, '\\\\u2028') // Per Ecma-262 7.3 + 7.8.4\n      .replace(/\\u2029/g, '\\\\u2029') + '\"';\n  },\n\n  objectLiteral: function(obj) {\n    let pairs = [];\n\n    for (let key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        let value = castChunk(obj[key], this);\n        if (value !== 'undefined') {\n          pairs.push([this.quotedString(key), ':', value]);\n        }\n      }\n    }\n\n    let ret = this.generateList(pairs);\n    ret.prepend('{');\n    ret.add('}');\n    return ret;\n  },\n\n\n  generateList: function(entries) {\n    let ret = this.empty();\n\n    for (let i = 0, len = entries.length; i < len; i++) {\n      if (i) {\n        ret.add(',');\n      }\n\n      ret.add(castChunk(entries[i], this));\n    }\n\n    return ret;\n  },\n\n  generateArray: function(entries) {\n    let ret = this.generateList(entries);\n    ret.prepend('[');\n    ret.add(']');\n\n    return ret;\n  }\n};\n\nexport default CodeGen;\n\n","/* eslint-disable new-cap */\n\nimport Exception from '../exception';\nimport {isArray, indexOf, extend} from '../utils';\nimport AST from './ast';\n\nconst slice = [].slice;\n\nexport function Compiler() {}\n\n// the foundHelper register will disambiguate helper lookup from finding a\n// function in a context. This is necessary for mustache compatibility, which\n// requires that context functions in blocks are evaluated by blockHelperMissing,\n// and then proceed as if the resulting value was provided to blockHelperMissing.\n\nCompiler.prototype = {\n  compiler: Compiler,\n\n  equals: function(other) {\n    let len = this.opcodes.length;\n    if (other.opcodes.length !== len) {\n      return false;\n    }\n\n    for (let i = 0; i < len; i++) {\n      let opcode = this.opcodes[i],\n          otherOpcode = other.opcodes[i];\n      if (opcode.opcode !== otherOpcode.opcode || !argEquals(opcode.args, otherOpcode.args)) {\n        return false;\n      }\n    }\n\n    // We know that length is the same between the two arrays because they are directly tied\n    // to the opcode behavior above.\n    len = this.children.length;\n    for (let i = 0; i < len; i++) {\n      if (!this.children[i].equals(other.children[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  guid: 0,\n\n  compile: function(program, options) {\n    this.sourceNode = [];\n    this.opcodes = [];\n    this.children = [];\n    this.options = options;\n    this.stringParams = options.stringParams;\n    this.trackIds = options.trackIds;\n\n    options.blockParams = options.blockParams || [];\n\n    // These changes will propagate to the other compiler components\n    let knownHelpers = options.knownHelpers;\n    options.knownHelpers = {\n      'helperMissing': true,\n      'blockHelperMissing': true,\n      'each': true,\n      'if': true,\n      'unless': true,\n      'with': true,\n      'log': true,\n      'lookup': true\n    };\n    if (knownHelpers) {\n      // the next line should use \"Object.keys\", but the code has been like this a long time and changing it, might\n      // cause backwards-compatibility issues... It's an old library...\n      // eslint-disable-next-line guard-for-in\n      for (let name in knownHelpers) {\n          this.options.knownHelpers[name] = knownHelpers[name];\n      }\n    }\n\n    return this.accept(program);\n  },\n\n  compileProgram: function(program) {\n    let childCompiler = new this.compiler(), // eslint-disable-line new-cap\n        result = childCompiler.compile(program, this.options),\n        guid = this.guid++;\n\n    this.usePartial = this.usePartial || result.usePartial;\n\n    this.children[guid] = result;\n    this.useDepths = this.useDepths || result.useDepths;\n\n    return guid;\n  },\n\n  accept: function(node) {\n    /* istanbul ignore next: Sanity code */\n    if (!this[node.type]) {\n      throw new Exception('Unknown type: ' + node.type, node);\n    }\n\n    this.sourceNode.unshift(node);\n    let ret = this[node.type](node);\n    this.sourceNode.shift();\n    return ret;\n  },\n\n  Program: function(program) {\n    this.options.blockParams.unshift(program.blockParams);\n\n    let body = program.body,\n        bodyLength = body.length;\n    for (let i = 0; i < bodyLength; i++) {\n      this.accept(body[i]);\n    }\n\n    this.options.blockParams.shift();\n\n    this.isSimple = bodyLength === 1;\n    this.blockParams = program.blockParams ? program.blockParams.length : 0;\n\n    return this;\n  },\n\n  BlockStatement: function(block) {\n    transformLiteralToPath(block);\n\n    let program = block.program,\n        inverse = block.inverse;\n\n    program = program && this.compileProgram(program);\n    inverse = inverse && this.compileProgram(inverse);\n\n    let type = this.classifySexpr(block);\n\n    if (type === 'helper') {\n      this.helperSexpr(block, program, inverse);\n    } else if (type === 'simple') {\n      this.simpleSexpr(block);\n\n      // now that the simple mustache is resolved, we need to\n      // evaluate it by executing `blockHelperMissing`\n      this.opcode('pushProgram', program);\n      this.opcode('pushProgram', inverse);\n      this.opcode('emptyHash');\n      this.opcode('blockValue', block.path.original);\n    } else {\n      this.ambiguousSexpr(block, program, inverse);\n\n      // now that the simple mustache is resolved, we need to\n      // evaluate it by executing `blockHelperMissing`\n      this.opcode('pushProgram', program);\n      this.opcode('pushProgram', inverse);\n      this.opcode('emptyHash');\n      this.opcode('ambiguousBlockValue');\n    }\n\n    this.opcode('append');\n  },\n\n  DecoratorBlock(decorator) {\n    let program = decorator.program && this.compileProgram(decorator.program);\n    let params = this.setupFullMustacheParams(decorator, program, undefined),\n        path = decorator.path;\n\n    this.useDecorators = true;\n    this.opcode('registerDecorator', params.length, path.original);\n  },\n\n  PartialStatement: function(partial) {\n    this.usePartial = true;\n\n    let program = partial.program;\n    if (program) {\n      program = this.compileProgram(partial.program);\n    }\n\n    let params = partial.params;\n    if (params.length > 1) {\n      throw new Exception('Unsupported number of partial arguments: ' + params.length, partial);\n    } else if (!params.length) {\n      if (this.options.explicitPartialContext) {\n        this.opcode('pushLiteral', 'undefined');\n      } else {\n        params.push({type: 'PathExpression', parts: [], depth: 0});\n      }\n    }\n\n    let partialName = partial.name.original,\n        isDynamic = partial.name.type === 'SubExpression';\n    if (isDynamic) {\n      this.accept(partial.name);\n    }\n\n    this.setupFullMustacheParams(partial, program, undefined, true);\n\n    let indent = partial.indent || '';\n    if (this.options.preventIndent && indent) {\n      this.opcode('appendContent', indent);\n      indent = '';\n    }\n\n    this.opcode('invokePartial', isDynamic, partialName, indent);\n    this.opcode('append');\n  },\n  PartialBlockStatement: function(partialBlock) {\n    this.PartialStatement(partialBlock);\n  },\n\n  MustacheStatement: function(mustache) {\n    this.SubExpression(mustache);\n\n    if (mustache.escaped && !this.options.noEscape) {\n      this.opcode('appendEscaped');\n    } else {\n      this.opcode('append');\n    }\n  },\n  Decorator(decorator) {\n    this.DecoratorBlock(decorator);\n  },\n\n\n  ContentStatement: function(content) {\n    if (content.value) {\n      this.opcode('appendContent', content.value);\n    }\n  },\n\n  CommentStatement: function() {},\n\n  SubExpression: function(sexpr) {\n    transformLiteralToPath(sexpr);\n    let type = this.classifySexpr(sexpr);\n\n    if (type === 'simple') {\n      this.simpleSexpr(sexpr);\n    } else if (type === 'helper') {\n      this.helperSexpr(sexpr);\n    } else {\n      this.ambiguousSexpr(sexpr);\n    }\n  },\n  ambiguousSexpr: function(sexpr, program, inverse) {\n    let path = sexpr.path,\n        name = path.parts[0],\n        isBlock = program != null || inverse != null;\n\n    this.opcode('getContext', path.depth);\n\n    this.opcode('pushProgram', program);\n    this.opcode('pushProgram', inverse);\n\n    path.strict = true;\n    this.accept(path);\n\n    this.opcode('invokeAmbiguous', name, isBlock);\n  },\n\n  simpleSexpr: function(sexpr) {\n    let path = sexpr.path;\n    path.strict = true;\n    this.accept(path);\n    this.opcode('resolvePossibleLambda');\n  },\n\n  helperSexpr: function(sexpr, program, inverse) {\n    let params = this.setupFullMustacheParams(sexpr, program, inverse),\n        path = sexpr.path,\n        name = path.parts[0];\n\n    if (this.options.knownHelpers[name]) {\n      this.opcode('invokeKnownHelper', params.length, name);\n    } else if (this.options.knownHelpersOnly) {\n      throw new Exception('You specified knownHelpersOnly, but used the unknown helper ' + name, sexpr);\n    } else {\n      path.strict = true;\n      path.falsy = true;\n\n      this.accept(path);\n      this.opcode('invokeHelper', params.length, path.original, AST.helpers.simpleId(path));\n    }\n  },\n\n  PathExpression: function(path) {\n    this.addDepth(path.depth);\n    this.opcode('getContext', path.depth);\n\n    let name = path.parts[0],\n        scoped = AST.helpers.scopedId(path),\n        blockParamId = !path.depth && !scoped && this.blockParamIndex(name);\n\n    if (blockParamId) {\n      this.opcode('lookupBlockParam', blockParamId, path.parts);\n    } else if (!name) {\n      // Context reference, i.e. `{{foo .}}` or `{{foo ..}}`\n      this.opcode('pushContext');\n    } else if (path.data) {\n      this.options.data = true;\n      this.opcode('lookupData', path.depth, path.parts, path.strict);\n    } else {\n      this.opcode('lookupOnContext', path.parts, path.falsy, path.strict, scoped);\n    }\n  },\n\n  StringLiteral: function(string) {\n    this.opcode('pushString', string.value);\n  },\n\n  NumberLiteral: function(number) {\n    this.opcode('pushLiteral', number.value);\n  },\n\n  BooleanLiteral: function(bool) {\n    this.opcode('pushLiteral', bool.value);\n  },\n\n  UndefinedLiteral: function() {\n    this.opcode('pushLiteral', 'undefined');\n  },\n\n  NullLiteral: function() {\n    this.opcode('pushLiteral', 'null');\n  },\n\n  Hash: function(hash) {\n    let pairs = hash.pairs,\n        i = 0,\n        l = pairs.length;\n\n    this.opcode('pushHash');\n\n    for (; i < l; i++) {\n      this.pushParam(pairs[i].value);\n    }\n    while (i--) {\n      this.opcode('assignToHash', pairs[i].key);\n    }\n    this.opcode('popHash');\n  },\n\n  // HELPERS\n  opcode: function(name) {\n    this.opcodes.push({ opcode: name, args: slice.call(arguments, 1), loc: this.sourceNode[0].loc });\n  },\n\n  addDepth: function(depth) {\n    if (!depth) {\n      return;\n    }\n\n    this.useDepths = true;\n  },\n\n  classifySexpr: function(sexpr) {\n    let isSimple = AST.helpers.simpleId(sexpr.path);\n\n    let isBlockParam = isSimple && !!this.blockParamIndex(sexpr.path.parts[0]);\n\n    // a mustache is an eligible helper if:\n    // * its id is simple (a single part, not `this` or `..`)\n    let isHelper = !isBlockParam && AST.helpers.helperExpression(sexpr);\n\n    // if a mustache is an eligible helper but not a definite\n    // helper, it is ambiguous, and will be resolved in a later\n    // pass or at runtime.\n    let isEligible = !isBlockParam && (isHelper || isSimple);\n\n    // if ambiguous, we can possibly resolve the ambiguity now\n    // An eligible helper is one that does not have a complex path, i.e. `this.foo`, `../foo` etc.\n    if (isEligible && !isHelper) {\n      let name = sexpr.path.parts[0],\n          options = this.options;\n\n      if (options.knownHelpers[name]) {\n        isHelper = true;\n      } else if (options.knownHelpersOnly) {\n        isEligible = false;\n      }\n    }\n\n    if (isHelper) {\n      return 'helper';\n    } else if (isEligible) {\n      return 'ambiguous';\n    } else {\n      return 'simple';\n    }\n  },\n\n  pushParams: function(params) {\n    for (let i = 0, l = params.length; i < l; i++) {\n      this.pushParam(params[i]);\n    }\n  },\n\n  pushParam: function(val) {\n    let value = val.value != null ? val.value : val.original || '';\n\n    if (this.stringParams) {\n      if (value.replace) {\n        value = value\n            .replace(/^(\\.?\\.\\/)*/g, '')\n            .replace(/\\//g, '.');\n      }\n\n      if (val.depth) {\n        this.addDepth(val.depth);\n      }\n      this.opcode('getContext', val.depth || 0);\n      this.opcode('pushStringParam', value, val.type);\n\n      if (val.type === 'SubExpression') {\n        // SubExpressions get evaluated and passed in\n        // in string params mode.\n        this.accept(val);\n      }\n    } else {\n      if (this.trackIds) {\n        let blockParamIndex;\n        if (val.parts && !AST.helpers.scopedId(val) && !val.depth) {\n           blockParamIndex = this.blockParamIndex(val.parts[0]);\n        }\n        if (blockParamIndex) {\n          let blockParamChild = val.parts.slice(1).join('.');\n          this.opcode('pushId', 'BlockParam', blockParamIndex, blockParamChild);\n        } else {\n          value = val.original || value;\n          if (value.replace) {\n            value = value\n                .replace(/^this(?:\\.|$)/, '')\n                .replace(/^\\.\\//, '')\n                .replace(/^\\.$/, '');\n          }\n\n          this.opcode('pushId', val.type, value);\n        }\n      }\n      this.accept(val);\n    }\n  },\n\n  setupFullMustacheParams: function(sexpr, program, inverse, omitEmpty) {\n    let params = sexpr.params;\n    this.pushParams(params);\n\n    this.opcode('pushProgram', program);\n    this.opcode('pushProgram', inverse);\n\n    if (sexpr.hash) {\n      this.accept(sexpr.hash);\n    } else {\n      this.opcode('emptyHash', omitEmpty);\n    }\n\n    return params;\n  },\n\n  blockParamIndex: function(name) {\n    for (let depth = 0, len = this.options.blockParams.length; depth < len; depth++) {\n      let blockParams = this.options.blockParams[depth],\n          param = blockParams && indexOf(blockParams, name);\n      if (blockParams && param >= 0) {\n        return [depth, param];\n      }\n    }\n  }\n};\n\nexport function precompile(input, options, env) {\n  if (input == null || (typeof input !== 'string' && input.type !== 'Program')) {\n    throw new Exception('You must pass a string or Handlebars AST to Handlebars.precompile. You passed ' + input);\n  }\n\n  options = options || {};\n  if (!('data' in options)) {\n    options.data = true;\n  }\n  if (options.compat) {\n    options.useDepths = true;\n  }\n\n  let ast = env.parse(input, options),\n      environment = new env.Compiler().compile(ast, options);\n  return new env.JavaScriptCompiler().compile(environment, options);\n}\n\nexport function compile(input, options = {}, env) {\n  if (input == null || (typeof input !== 'string' && input.type !== 'Program')) {\n    throw new Exception('You must pass a string or Handlebars AST to Handlebars.compile. You passed ' + input);\n  }\n\n  options = extend({}, options);\n  if (!('data' in options)) {\n    options.data = true;\n  }\n  if (options.compat) {\n    options.useDepths = true;\n  }\n\n  let compiled;\n\n  function compileInput() {\n    let ast = env.parse(input, options),\n        environment = new env.Compiler().compile(ast, options),\n        templateSpec = new env.JavaScriptCompiler().compile(environment, options, undefined, true);\n    return env.template(templateSpec);\n  }\n\n  // Template is only compiled on first use and cached after that point.\n  function ret(context, execOptions) {\n    if (!compiled) {\n      compiled = compileInput();\n    }\n    return compiled.call(this, context, execOptions);\n  }\n  ret._setup = function(setupOptions) {\n    if (!compiled) {\n      compiled = compileInput();\n    }\n    return compiled._setup(setupOptions);\n  };\n  ret._child = function(i, data, blockParams, depths) {\n    if (!compiled) {\n      compiled = compileInput();\n    }\n    return compiled._child(i, data, blockParams, depths);\n  };\n  return ret;\n}\n\nfunction argEquals(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (isArray(a) && isArray(b) && a.length === b.length) {\n    for (let i = 0; i < a.length; i++) {\n      if (!argEquals(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\nfunction transformLiteralToPath(sexpr) {\n  if (!sexpr.path.parts) {\n    let literal = sexpr.path;\n    // Casting to string here to make false and 0 literal values play nicely with the rest\n    // of the system.\n    sexpr.path = {\n      type: 'PathExpression',\n      data: false,\n      depth: 0,\n      parts: [literal.original + ''],\n      original: literal.original + '',\n      loc: literal.loc\n    };\n  }\n}\n","import Exception from '../exception';\n\nfunction validateClose(open, close) {\n  close = close.path ? close.path.original : close;\n\n  if (open.path.original !== close) {\n    let errorNode = {loc: open.path.loc};\n\n    throw new Exception(open.path.original + \" doesn't match \" + close, errorNode);\n  }\n}\n\nexport function SourceLocation(source, locInfo) {\n  this.source = source;\n  this.start = {\n    line: locInfo.first_line,\n    column: locInfo.first_column\n  };\n  this.end = {\n    line: locInfo.last_line,\n    column: locInfo.last_column\n  };\n}\n\nexport function id(token) {\n  if (/^\\[.*\\]$/.test(token)) {\n    return token.substring(1, token.length - 1);\n  } else {\n    return token;\n  }\n}\n\nexport function stripFlags(open, close) {\n  return {\n    open: open.charAt(2) === '~',\n    close: close.charAt(close.length - 3) === '~'\n  };\n}\n\nexport function stripComment(comment) {\n  return comment.replace(/^\\{\\{~?!-?-?/, '')\n                .replace(/-?-?~?\\}\\}$/, '');\n}\n\nexport function preparePath(data, parts, loc) {\n  loc = this.locInfo(loc);\n\n  let original = data ? '@' : '',\n      dig = [],\n      depth = 0;\n\n  for (let i = 0, l = parts.length; i < l; i++) {\n    let part = parts[i].part,\n        // If we have [] syntax then we do not treat path references as operators,\n        // i.e. foo.[this] resolves to approximately context.foo['this']\n        isLiteral = parts[i].original !== part;\n    original += (parts[i].separator || '') + part;\n\n    if (!isLiteral && (part === '..' || part === '.' || part === 'this')) {\n      if (dig.length > 0) {\n        throw new Exception('Invalid path: ' + original, {loc});\n      } else if (part === '..') {\n        depth++;\n      }\n    } else {\n      dig.push(part);\n    }\n  }\n\n  return {\n    type: 'PathExpression',\n    data,\n    depth,\n    parts: dig,\n    original,\n    loc\n  };\n}\n\nexport function prepareMustache(path, params, hash, open, strip, locInfo) {\n  // Must use charAt to support IE pre-10\n  let escapeFlag = open.charAt(3) || open.charAt(2),\n      escaped = escapeFlag !== '{' && escapeFlag !== '&';\n\n  let decorator = (/\\*/.test(open));\n  return {\n    type: decorator ? 'Decorator' : 'MustacheStatement',\n    path,\n    params,\n    hash,\n    escaped,\n    strip,\n    loc: this.locInfo(locInfo)\n  };\n}\n\nexport function prepareRawBlock(openRawBlock, contents, close, locInfo) {\n  validateClose(openRawBlock, close);\n\n  locInfo = this.locInfo(locInfo);\n  let program = {\n    type: 'Program',\n    body: contents,\n    strip: {},\n    loc: locInfo\n  };\n\n  return {\n    type: 'BlockStatement',\n    path: openRawBlock.path,\n    params: openRawBlock.params,\n    hash: openRawBlock.hash,\n    program,\n    openStrip: {},\n    inverseStrip: {},\n    closeStrip: {},\n    loc: locInfo\n  };\n}\n\nexport function prepareBlock(openBlock, program, inverseAndProgram, close, inverted, locInfo) {\n  if (close && close.path) {\n    validateClose(openBlock, close);\n  }\n\n  let decorator = (/\\*/.test(openBlock.open));\n\n  program.blockParams = openBlock.blockParams;\n\n  let inverse,\n      inverseStrip;\n\n  if (inverseAndProgram) {\n    if (decorator) {\n      throw new Exception('Unexpected inverse block on decorator', inverseAndProgram);\n    }\n\n    if (inverseAndProgram.chain) {\n      inverseAndProgram.program.body[0].closeStrip = close.strip;\n    }\n\n    inverseStrip = inverseAndProgram.strip;\n    inverse = inverseAndProgram.program;\n  }\n\n  if (inverted) {\n    inverted = inverse;\n    inverse = program;\n    program = inverted;\n  }\n\n  return {\n    type: decorator ? 'DecoratorBlock' : 'BlockStatement',\n    path: openBlock.path,\n    params: openBlock.params,\n    hash: openBlock.hash,\n    program,\n    inverse,\n    openStrip: openBlock.strip,\n    inverseStrip,\n    closeStrip: close && close.strip,\n    loc: this.locInfo(locInfo)\n  };\n}\n\nexport function prepareProgram(statements, loc) {\n  if (!loc && statements.length) {\n    const firstLoc = statements[0].loc,\n          lastLoc = statements[statements.length - 1].loc;\n\n    /* istanbul ignore else */\n    if (firstLoc && lastLoc) {\n      loc = {\n        source: firstLoc.source,\n        start: {\n          line: firstLoc.start.line,\n          column: firstLoc.start.column\n        },\n        end: {\n          line: lastLoc.end.line,\n          column: lastLoc.end.column\n        }\n      };\n    }\n  }\n\n  return {\n    type: 'Program',\n    body: statements,\n    strip: {},\n    loc: loc\n  };\n}\n\n\nexport function preparePartialBlock(open, program, close, locInfo) {\n  validateClose(open, close);\n\n  return {\n    type: 'PartialBlockStatement',\n    name: open.path,\n    params: open.params,\n    hash: open.hash,\n    program,\n    openStrip: open.strip,\n    closeStrip: close && close.strip,\n    loc: this.locInfo(locInfo)\n  };\n}\n\n","import { COMPILER_REVISION, REVISION_CHANGES } from '../base';\nimport Exception from '../exception';\nimport {isArray} from '../utils';\nimport CodeGen from './code-gen';\n\nfunction Literal(value) {\n  this.value = value;\n}\n\nfunction JavaScriptCompiler() {}\n\nJavaScriptCompiler.prototype = {\n  // PUBLIC API: You can override these methods in a subclass to provide\n  // alternative compiled forms for name lookup and buffering semantics\n  nameLookup: function(parent, name/* , type*/) {\n    if (name === 'constructor') {\n      return ['(', parent, '.propertyIsEnumerable(\\'constructor\\') ? ', parent, '.constructor : undefined', ')'];\n    }\n    if (JavaScriptCompiler.isValidJavaScriptVariableName(name)) {\n      return [parent, '.', name];\n    } else {\n      return [parent, '[', JSON.stringify(name), ']'];\n    }\n  },\n  depthedLookup: function(name) {\n    return [this.aliasable('container.lookup'), '(depths, \"', name, '\")'];\n  },\n\n  compilerInfo: function() {\n    const revision = COMPILER_REVISION,\n          versions = REVISION_CHANGES[revision];\n    return [revision, versions];\n  },\n\n  appendToBuffer: function(source, location, explicit) {\n    // Force a source as this simplifies the merge logic.\n    if (!isArray(source)) {\n      source = [source];\n    }\n    source = this.source.wrap(source, location);\n\n    if (this.environment.isSimple) {\n      return ['return ', source, ';'];\n    } else if (explicit) {\n      // This is a case where the buffer operation occurs as a child of another\n      // construct, generally braces. We have to explicitly output these buffer\n      // operations to ensure that the emitted code goes in the correct location.\n      return ['buffer += ', source, ';'];\n    } else {\n      source.appendToBuffer = true;\n      return source;\n    }\n  },\n\n  initializeBuffer: function() {\n    return this.quotedString('');\n  },\n  // END PUBLIC API\n\n  compile: function(environment, options, context, asObject) {\n    this.environment = environment;\n    this.options = options;\n    this.stringParams = this.options.stringParams;\n    this.trackIds = this.options.trackIds;\n    this.precompile = !asObject;\n\n    this.name = this.environment.name;\n    this.isChild = !!context;\n    this.context = context || {\n      decorators: [],\n      programs: [],\n      environments: []\n    };\n\n    this.preamble();\n\n    this.stackSlot = 0;\n    this.stackVars = [];\n    this.aliases = {};\n    this.registers = { list: [] };\n    this.hashes = [];\n    this.compileStack = [];\n    this.inlineStack = [];\n    this.blockParams = [];\n\n    this.compileChildren(environment, options);\n\n    this.useDepths = this.useDepths || environment.useDepths || environment.useDecorators || this.options.compat;\n    this.useBlockParams = this.useBlockParams || environment.useBlockParams;\n\n    let opcodes = environment.opcodes,\n        opcode,\n        firstLoc,\n        i,\n        l;\n\n    for (i = 0, l = opcodes.length; i < l; i++) {\n      opcode = opcodes[i];\n\n      this.source.currentLocation = opcode.loc;\n      firstLoc = firstLoc || opcode.loc;\n      this[opcode.opcode].apply(this, opcode.args);\n    }\n\n    // Flush any trailing content that might be pending.\n    this.source.currentLocation = firstLoc;\n    this.pushSource('');\n\n    /* istanbul ignore next */\n    if (this.stackSlot || this.inlineStack.length || this.compileStack.length) {\n      throw new Exception('Compile completed with content left on stack');\n    }\n\n    if (!this.decorators.isEmpty()) {\n      this.useDecorators = true;\n\n      this.decorators.prepend('var decorators = container.decorators;\\n');\n      this.decorators.push('return fn;');\n\n      if (asObject) {\n        this.decorators = Function.apply(this, ['fn', 'props', 'container', 'depth0', 'data', 'blockParams', 'depths', this.decorators.merge()]);\n      } else {\n        this.decorators.prepend('function(fn, props, container, depth0, data, blockParams, depths) {\\n');\n        this.decorators.push('}\\n');\n        this.decorators = this.decorators.merge();\n      }\n    } else {\n      this.decorators = undefined;\n    }\n\n    let fn = this.createFunctionContext(asObject);\n    if (!this.isChild) {\n      let ret = {\n        compiler: this.compilerInfo(),\n        main: fn\n      };\n\n      if (this.decorators) {\n        ret.main_d = this.decorators; // eslint-disable-line camelcase\n        ret.useDecorators = true;\n      }\n\n      let {programs, decorators} = this.context;\n      for (i = 0, l = programs.length; i < l; i++) {\n        if (programs[i]) {\n          ret[i] = programs[i];\n          if (decorators[i]) {\n            ret[i + '_d'] = decorators[i];\n            ret.useDecorators = true;\n          }\n        }\n      }\n\n      if (this.environment.usePartial) {\n        ret.usePartial = true;\n      }\n      if (this.options.data) {\n        ret.useData = true;\n      }\n      if (this.useDepths) {\n        ret.useDepths = true;\n      }\n      if (this.useBlockParams) {\n        ret.useBlockParams = true;\n      }\n      if (this.options.compat) {\n        ret.compat = true;\n      }\n\n      if (!asObject) {\n        ret.compiler = JSON.stringify(ret.compiler);\n\n        this.source.currentLocation = {start: {line: 1, column: 0}};\n        ret = this.objectLiteral(ret);\n\n        if (options.srcName) {\n          ret = ret.toStringWithSourceMap({file: options.destName});\n          ret.map = ret.map && ret.map.toString();\n        } else {\n          ret = ret.toString();\n        }\n      } else {\n        ret.compilerOptions = this.options;\n      }\n\n      return ret;\n    } else {\n      return fn;\n    }\n  },\n\n  preamble: function() {\n    // track the last context pushed into place to allow skipping the\n    // getContext opcode when it would be a noop\n    this.lastContext = 0;\n    this.source = new CodeGen(this.options.srcName);\n    this.decorators = new CodeGen(this.options.srcName);\n  },\n\n  createFunctionContext: function(asObject) {\n    let varDeclarations = '';\n\n    let locals = this.stackVars.concat(this.registers.list);\n    if (locals.length > 0) {\n      varDeclarations += ', ' + locals.join(', ');\n    }\n\n    // Generate minimizer alias mappings\n    //\n    // When using true SourceNodes, this will update all references to the given alias\n    // as the source nodes are reused in situ. For the non-source node compilation mode,\n    // aliases will not be used, but this case is already being run on the client and\n    // we aren't concern about minimizing the template size.\n    let aliasCount = 0;\n    for (let alias in this.aliases) { // eslint-disable-line guard-for-in\n      let node = this.aliases[alias];\n\n      if (this.aliases.hasOwnProperty(alias) && node.children && node.referenceCount > 1) {\n        varDeclarations += ', alias' + (++aliasCount) + '=' + alias;\n        node.children[0] = 'alias' + aliasCount;\n      }\n    }\n\n    let params = ['container', 'depth0', 'helpers', 'partials', 'data'];\n\n    if (this.useBlockParams || this.useDepths) {\n      params.push('blockParams');\n    }\n    if (this.useDepths) {\n      params.push('depths');\n    }\n\n    // Perform a second pass over the output to merge content when possible\n    let source = this.mergeSource(varDeclarations);\n\n    if (asObject) {\n      params.push(source);\n\n      return Function.apply(this, params);\n    } else {\n      return this.source.wrap(['function(', params.join(','), ') {\\n  ', source, '}']);\n    }\n  },\n  mergeSource: function(varDeclarations) {\n    let isSimple = this.environment.isSimple,\n        appendOnly = !this.forceBuffer,\n        appendFirst,\n\n        sourceSeen,\n        bufferStart,\n        bufferEnd;\n    this.source.each((line) => {\n      if (line.appendToBuffer) {\n        if (bufferStart) {\n          line.prepend('  + ');\n        } else {\n          bufferStart = line;\n        }\n        bufferEnd = line;\n      } else {\n        if (bufferStart) {\n          if (!sourceSeen) {\n            appendFirst = true;\n          } else {\n            bufferStart.prepend('buffer += ');\n          }\n          bufferEnd.add(';');\n          bufferStart = bufferEnd = undefined;\n        }\n\n        sourceSeen = true;\n        if (!isSimple) {\n          appendOnly = false;\n        }\n      }\n    });\n\n\n    if (appendOnly) {\n      if (bufferStart) {\n        bufferStart.prepend('return ');\n        bufferEnd.add(';');\n      } else if (!sourceSeen) {\n        this.source.push('return \"\";');\n      }\n    } else {\n      varDeclarations += ', buffer = ' + (appendFirst ? '' : this.initializeBuffer());\n\n      if (bufferStart) {\n        bufferStart.prepend('return buffer + ');\n        bufferEnd.add(';');\n      } else {\n        this.source.push('return buffer;');\n      }\n    }\n\n    if (varDeclarations) {\n      this.source.prepend('var ' + varDeclarations.substring(2) + (appendFirst ? '' : ';\\n'));\n    }\n\n    return this.source.merge();\n  },\n\n  // [blockValue]\n  //\n  // On stack, before: hash, inverse, program, value\n  // On stack, after: return value of blockHelperMissing\n  //\n  // The purpose of this opcode is to take a block of the form\n  // `{{#this.foo}}...{{/this.foo}}`, resolve the value of `foo`, and\n  // replace it on the stack with the result of properly\n  // invoking blockHelperMissing.\n  blockValue: function(name) {\n    let blockHelperMissing = this.aliasable('helpers.blockHelperMissing'),\n        params = [this.contextName(0)];\n    this.setupHelperArgs(name, 0, params);\n\n    let blockName = this.popStack();\n    params.splice(1, 0, blockName);\n\n    this.push(this.source.functionCall(blockHelperMissing, 'call', params));\n  },\n\n  // [ambiguousBlockValue]\n  //\n  // On stack, before: hash, inverse, program, value\n  // Compiler value, before: lastHelper=value of last found helper, if any\n  // On stack, after, if no lastHelper: same as [blockValue]\n  // On stack, after, if lastHelper: value\n  ambiguousBlockValue: function() {\n    // We're being a bit cheeky and reusing the options value from the prior exec\n    let blockHelperMissing = this.aliasable('helpers.blockHelperMissing'),\n        params = [this.contextName(0)];\n    this.setupHelperArgs('', 0, params, true);\n\n    this.flushInline();\n\n    let current = this.topStack();\n    params.splice(1, 0, current);\n\n    this.pushSource([\n        'if (!', this.lastHelper, ') { ',\n          current, ' = ', this.source.functionCall(blockHelperMissing, 'call', params),\n        '}']);\n  },\n\n  // [appendContent]\n  //\n  // On stack, before: ...\n  // On stack, after: ...\n  //\n  // Appends the string value of `content` to the current buffer\n  appendContent: function(content) {\n    if (this.pendingContent) {\n      content = this.pendingContent + content;\n    } else {\n      this.pendingLocation = this.source.currentLocation;\n    }\n\n    this.pendingContent = content;\n  },\n\n  // [append]\n  //\n  // On stack, before: value, ...\n  // On stack, after: ...\n  //\n  // Coerces `value` to a String and appends it to the current buffer.\n  //\n  // If `value` is truthy, or 0, it is coerced into a string and appended\n  // Otherwise, the empty string is appended\n  append: function() {\n    if (this.isInline()) {\n      this.replaceStack((current) => [' != null ? ', current, ' : \"\"']);\n\n      this.pushSource(this.appendToBuffer(this.popStack()));\n    } else {\n      let local = this.popStack();\n      this.pushSource(['if (', local, ' != null) { ', this.appendToBuffer(local, undefined, true), ' }']);\n      if (this.environment.isSimple) {\n        this.pushSource(['else { ', this.appendToBuffer(\"''\", undefined, true), ' }']);\n      }\n    }\n  },\n\n  // [appendEscaped]\n  //\n  // On stack, before: value, ...\n  // On stack, after: ...\n  //\n  // Escape `value` and append it to the buffer\n  appendEscaped: function() {\n    this.pushSource(this.appendToBuffer(\n        [this.aliasable('container.escapeExpression'), '(', this.popStack(), ')']));\n  },\n\n  // [getContext]\n  //\n  // On stack, before: ...\n  // On stack, after: ...\n  // Compiler value, after: lastContext=depth\n  //\n  // Set the value of the `lastContext` compiler value to the depth\n  getContext: function(depth) {\n    this.lastContext = depth;\n  },\n\n  // [pushContext]\n  //\n  // On stack, before: ...\n  // On stack, after: currentContext, ...\n  //\n  // Pushes the value of the current context onto the stack.\n  pushContext: function() {\n    this.pushStackLiteral(this.contextName(this.lastContext));\n  },\n\n  // [lookupOnContext]\n  //\n  // On stack, before: ...\n  // On stack, after: currentContext[name], ...\n  //\n  // Looks up the value of `name` on the current context and pushes\n  // it onto the stack.\n  lookupOnContext: function(parts, falsy, strict, scoped) {\n    let i = 0;\n\n    if (!scoped && this.options.compat && !this.lastContext) {\n      // The depthed query is expected to handle the undefined logic for the root level that\n      // is implemented below, so we evaluate that directly in compat mode\n      this.push(this.depthedLookup(parts[i++]));\n    } else {\n      this.pushContext();\n    }\n\n    this.resolvePath('context', parts, i, falsy, strict);\n  },\n\n  // [lookupBlockParam]\n  //\n  // On stack, before: ...\n  // On stack, after: blockParam[name], ...\n  //\n  // Looks up the value of `parts` on the given block param and pushes\n  // it onto the stack.\n  lookupBlockParam: function(blockParamId, parts) {\n    this.useBlockParams = true;\n\n    this.push(['blockParams[', blockParamId[0], '][', blockParamId[1], ']']);\n    this.resolvePath('context', parts, 1);\n  },\n\n  // [lookupData]\n  //\n  // On stack, before: ...\n  // On stack, after: data, ...\n  //\n  // Push the data lookup operator\n  lookupData: function(depth, parts, strict) {\n    if (!depth) {\n      this.pushStackLiteral('data');\n    } else {\n      this.pushStackLiteral('container.data(data, ' + depth + ')');\n    }\n\n    this.resolvePath('data', parts, 0, true, strict);\n  },\n\n  resolvePath: function(type, parts, i, falsy, strict) {\n    if (this.options.strict || this.options.assumeObjects) {\n      this.push(strictLookup(this.options.strict && strict, this, parts, type));\n      return;\n    }\n\n    let len = parts.length;\n    for (; i < len; i++) {\n      /* eslint-disable no-loop-func */\n      this.replaceStack((current) => {\n        let lookup = this.nameLookup(current, parts[i], type);\n        // We want to ensure that zero and false are handled properly if the context (falsy flag)\n        // needs to have the special handling for these values.\n        if (!falsy) {\n          return [' != null ? ', lookup, ' : ', current];\n        } else {\n          // Otherwise we can use generic falsy handling\n          return [' && ', lookup];\n        }\n      });\n      /* eslint-enable no-loop-func */\n    }\n  },\n\n  // [resolvePossibleLambda]\n  //\n  // On stack, before: value, ...\n  // On stack, after: resolved value, ...\n  //\n  // If the `value` is a lambda, replace it on the stack by\n  // the return value of the lambda\n  resolvePossibleLambda: function() {\n    this.push([this.aliasable('container.lambda'), '(', this.popStack(), ', ', this.contextName(0), ')']);\n  },\n\n  // [pushStringParam]\n  //\n  // On stack, before: ...\n  // On stack, after: string, currentContext, ...\n  //\n  // This opcode is designed for use in string mode, which\n  // provides the string value of a parameter along with its\n  // depth rather than resolving it immediately.\n  pushStringParam: function(string, type) {\n    this.pushContext();\n    this.pushString(type);\n\n    // If it's a subexpression, the string result\n    // will be pushed after this opcode.\n    if (type !== 'SubExpression') {\n      if (typeof string === 'string') {\n        this.pushString(string);\n      } else {\n        this.pushStackLiteral(string);\n      }\n    }\n  },\n\n  emptyHash: function(omitEmpty) {\n    if (this.trackIds) {\n      this.push('{}'); // hashIds\n    }\n    if (this.stringParams) {\n      this.push('{}'); // hashContexts\n      this.push('{}'); // hashTypes\n    }\n    this.pushStackLiteral(omitEmpty ? 'undefined' : '{}');\n  },\n  pushHash: function() {\n    if (this.hash) {\n      this.hashes.push(this.hash);\n    }\n    this.hash = {values: [], types: [], contexts: [], ids: []};\n  },\n  popHash: function() {\n    let hash = this.hash;\n    this.hash = this.hashes.pop();\n\n    if (this.trackIds) {\n      this.push(this.objectLiteral(hash.ids));\n    }\n    if (this.stringParams) {\n      this.push(this.objectLiteral(hash.contexts));\n      this.push(this.objectLiteral(hash.types));\n    }\n\n    this.push(this.objectLiteral(hash.values));\n  },\n\n  // [pushString]\n  //\n  // On stack, before: ...\n  // On stack, after: quotedString(string), ...\n  //\n  // Push a quoted version of `string` onto the stack\n  pushString: function(string) {\n    this.pushStackLiteral(this.quotedString(string));\n  },\n\n  // [pushLiteral]\n  //\n  // On stack, before: ...\n  // On stack, after: value, ...\n  //\n  // Pushes a value onto the stack. This operation prevents\n  // the compiler from creating a temporary variable to hold\n  // it.\n  pushLiteral: function(value) {\n    this.pushStackLiteral(value);\n  },\n\n  // [pushProgram]\n  //\n  // On stack, before: ...\n  // On stack, after: program(guid), ...\n  //\n  // Push a program expression onto the stack. This takes\n  // a compile-time guid and converts it into a runtime-accessible\n  // expression.\n  pushProgram: function(guid) {\n    if (guid != null) {\n      this.pushStackLiteral(this.programExpression(guid));\n    } else {\n      this.pushStackLiteral(null);\n    }\n  },\n\n  // [registerDecorator]\n  //\n  // On stack, before: hash, program, params..., ...\n  // On stack, after: ...\n  //\n  // Pops off the decorator's parameters, invokes the decorator,\n  // and inserts the decorator into the decorators list.\n  registerDecorator(paramSize, name) {\n    let foundDecorator = this.nameLookup('decorators', name, 'decorator'),\n        options = this.setupHelperArgs(name, paramSize);\n\n    this.decorators.push([\n      'fn = ',\n      this.decorators.functionCall(foundDecorator, '', ['fn', 'props', 'container', options]),\n      ' || fn;'\n    ]);\n  },\n\n  // [invokeHelper]\n  //\n  // On stack, before: hash, inverse, program, params..., ...\n  // On stack, after: result of helper invocation\n  //\n  // Pops off the helper's parameters, invokes the helper,\n  // and pushes the helper's return value onto the stack.\n  //\n  // If the helper is not found, `helperMissing` is called.\n  invokeHelper: function(paramSize, name, isSimple) {\n    let nonHelper = this.popStack(),\n        helper = this.setupHelper(paramSize, name),\n        simple = isSimple ? [helper.name, ' || '] : '';\n\n    let lookup = ['('].concat(simple, nonHelper);\n    if (!this.options.strict) {\n      lookup.push(' || ', this.aliasable('helpers.helperMissing'));\n    }\n    lookup.push(')');\n\n    this.push(this.source.functionCall(lookup, 'call', helper.callParams));\n  },\n\n  // [invokeKnownHelper]\n  //\n  // On stack, before: hash, inverse, program, params..., ...\n  // On stack, after: result of helper invocation\n  //\n  // This operation is used when the helper is known to exist,\n  // so a `helperMissing` fallback is not required.\n  invokeKnownHelper: function(paramSize, name) {\n    let helper = this.setupHelper(paramSize, name);\n    this.push(this.source.functionCall(helper.name, 'call', helper.callParams));\n  },\n\n  // [invokeAmbiguous]\n  //\n  // On stack, before: hash, inverse, program, params..., ...\n  // On stack, after: result of disambiguation\n  //\n  // This operation is used when an expression like `{{foo}}`\n  // is provided, but we don't know at compile-time whether it\n  // is a helper or a path.\n  //\n  // This operation emits more code than the other options,\n  // and can be avoided by passing the `knownHelpers` and\n  // `knownHelpersOnly` flags at compile-time.\n  invokeAmbiguous: function(name, helperCall) {\n    this.useRegister('helper');\n\n    let nonHelper = this.popStack();\n\n    this.emptyHash();\n    let helper = this.setupHelper(0, name, helperCall);\n\n    let helperName = this.lastHelper = this.nameLookup('helpers', name, 'helper');\n\n    let lookup = ['(', '(helper = ', helperName, ' || ', nonHelper, ')'];\n    if (!this.options.strict) {\n      lookup[0] = '(helper = ';\n      lookup.push(\n        ' != null ? helper : ',\n        this.aliasable('helpers.helperMissing')\n      );\n    }\n\n    this.push([\n        '(', lookup,\n        (helper.paramsInit ? ['),(', helper.paramsInit] : []), '),',\n        '(typeof helper === ', this.aliasable('\"function\"'), ' ? ',\n        this.source.functionCall('helper', 'call', helper.callParams), ' : helper))'\n    ]);\n  },\n\n  // [invokePartial]\n  //\n  // On stack, before: context, ...\n  // On stack after: result of partial invocation\n  //\n  // This operation pops off a context, invokes a partial with that context,\n  // and pushes the result of the invocation back.\n  invokePartial: function(isDynamic, name, indent) {\n    let params = [],\n        options = this.setupParams(name, 1, params);\n\n    if (isDynamic) {\n      name = this.popStack();\n      delete options.name;\n    }\n\n    if (indent) {\n      options.indent = JSON.stringify(indent);\n    }\n    options.helpers = 'helpers';\n    options.partials = 'partials';\n    options.decorators = 'container.decorators';\n\n    if (!isDynamic) {\n      params.unshift(this.nameLookup('partials', name, 'partial'));\n    } else {\n      params.unshift(name);\n    }\n\n    if (this.options.compat) {\n      options.depths = 'depths';\n    }\n    options = this.objectLiteral(options);\n    params.push(options);\n\n    this.push(this.source.functionCall('container.invokePartial', '', params));\n  },\n\n  // [assignToHash]\n  //\n  // On stack, before: value, ..., hash, ...\n  // On stack, after: ..., hash, ...\n  //\n  // Pops a value off the stack and assigns it to the current hash\n  assignToHash: function(key) {\n    let value = this.popStack(),\n        context,\n        type,\n        id;\n\n    if (this.trackIds) {\n      id = this.popStack();\n    }\n    if (this.stringParams) {\n      type = this.popStack();\n      context = this.popStack();\n    }\n\n    let hash = this.hash;\n    if (context) {\n      hash.contexts[key] = context;\n    }\n    if (type) {\n      hash.types[key] = type;\n    }\n    if (id) {\n      hash.ids[key] = id;\n    }\n    hash.values[key] = value;\n  },\n\n  pushId: function(type, name, child) {\n    if (type === 'BlockParam') {\n      this.pushStackLiteral(\n          'blockParams[' + name[0] + '].path[' + name[1] + ']'\n          + (child ? ' + ' + JSON.stringify('.' + child) : ''));\n    } else if (type === 'PathExpression') {\n      this.pushString(name);\n    } else if (type === 'SubExpression') {\n      this.pushStackLiteral('true');\n    } else {\n      this.pushStackLiteral('null');\n    }\n  },\n\n  // HELPERS\n\n  compiler: JavaScriptCompiler,\n\n  compileChildren: function(environment, options) {\n    let children = environment.children, child, compiler;\n\n    for (let i = 0, l = children.length; i < l; i++) {\n      child = children[i];\n      compiler = new this.compiler(); // eslint-disable-line new-cap\n\n      let existing = this.matchExistingProgram(child);\n\n      if (existing == null) {\n        this.context.programs.push(''); // Placeholder to prevent name conflicts for nested children\n        let index = this.context.programs.length;\n        child.index = index;\n        child.name = 'program' + index;\n        this.context.programs[index] = compiler.compile(child, options, this.context, !this.precompile);\n        this.context.decorators[index] = compiler.decorators;\n        this.context.environments[index] = child;\n\n        this.useDepths = this.useDepths || compiler.useDepths;\n        this.useBlockParams = this.useBlockParams || compiler.useBlockParams;\n        child.useDepths = this.useDepths;\n        child.useBlockParams = this.useBlockParams;\n      } else {\n        child.index = existing.index;\n        child.name = 'program' + existing.index;\n\n        this.useDepths = this.useDepths || existing.useDepths;\n        this.useBlockParams = this.useBlockParams || existing.useBlockParams;\n      }\n    }\n  },\n  matchExistingProgram: function(child) {\n    for (let i = 0, len = this.context.environments.length; i < len; i++) {\n      let environment = this.context.environments[i];\n      if (environment && environment.equals(child)) {\n        return environment;\n      }\n    }\n  },\n\n  programExpression: function(guid) {\n    let child = this.environment.children[guid],\n        programParams = [child.index, 'data', child.blockParams];\n\n    if (this.useBlockParams || this.useDepths) {\n      programParams.push('blockParams');\n    }\n    if (this.useDepths) {\n      programParams.push('depths');\n    }\n\n    return 'container.program(' + programParams.join(', ') + ')';\n  },\n\n  useRegister: function(name) {\n    if (!this.registers[name]) {\n      this.registers[name] = true;\n      this.registers.list.push(name);\n    }\n  },\n\n  push: function(expr) {\n    if (!(expr instanceof Literal)) {\n      expr = this.source.wrap(expr);\n    }\n\n    this.inlineStack.push(expr);\n    return expr;\n  },\n\n  pushStackLiteral: function(item) {\n    this.push(new Literal(item));\n  },\n\n  pushSource: function(source) {\n    if (this.pendingContent) {\n      this.source.push(\n          this.appendToBuffer(this.source.quotedString(this.pendingContent), this.pendingLocation));\n      this.pendingContent = undefined;\n    }\n\n    if (source) {\n      this.source.push(source);\n    }\n  },\n\n  replaceStack: function(callback) {\n    let prefix = ['('],\n        stack,\n        createdStack,\n        usedLiteral;\n\n    /* istanbul ignore next */\n    if (!this.isInline()) {\n      throw new Exception('replaceStack on non-inline');\n    }\n\n    // We want to merge the inline statement into the replacement statement via ','\n    let top = this.popStack(true);\n\n    if (top instanceof Literal) {\n      // Literals do not need to be inlined\n      stack = [top.value];\n      prefix = ['(', stack];\n      usedLiteral = true;\n    } else {\n      // Get or create the current stack name for use by the inline\n      createdStack = true;\n      let name = this.incrStack();\n\n      prefix = ['((', this.push(name), ' = ', top, ')'];\n      stack = this.topStack();\n    }\n\n    let item = callback.call(this, stack);\n\n    if (!usedLiteral) {\n      this.popStack();\n    }\n    if (createdStack) {\n      this.stackSlot--;\n    }\n    this.push(prefix.concat(item, ')'));\n  },\n\n  incrStack: function() {\n    this.stackSlot++;\n    if (this.stackSlot > this.stackVars.length) { this.stackVars.push('stack' + this.stackSlot); }\n    return this.topStackName();\n  },\n  topStackName: function() {\n    return 'stack' + this.stackSlot;\n  },\n  flushInline: function() {\n    let inlineStack = this.inlineStack;\n    this.inlineStack = [];\n    for (let i = 0, len = inlineStack.length; i < len; i++) {\n      let entry = inlineStack[i];\n      /* istanbul ignore if */\n      if (entry instanceof Literal) {\n        this.compileStack.push(entry);\n      } else {\n        let stack = this.incrStack();\n        this.pushSource([stack, ' = ', entry, ';']);\n        this.compileStack.push(stack);\n      }\n    }\n  },\n  isInline: function() {\n    return this.inlineStack.length;\n  },\n\n  popStack: function(wrapped) {\n    let inline = this.isInline(),\n        item = (inline ? this.inlineStack : this.compileStack).pop();\n\n    if (!wrapped && (item instanceof Literal)) {\n      return item.value;\n    } else {\n      if (!inline) {\n        /* istanbul ignore next */\n        if (!this.stackSlot) {\n          throw new Exception('Invalid stack pop');\n        }\n        this.stackSlot--;\n      }\n      return item;\n    }\n  },\n\n  topStack: function() {\n    let stack = (this.isInline() ? this.inlineStack : this.compileStack),\n        item = stack[stack.length - 1];\n\n    /* istanbul ignore if */\n    if (item instanceof Literal) {\n      return item.value;\n    } else {\n      return item;\n    }\n  },\n\n  contextName: function(context) {\n    if (this.useDepths && context) {\n      return 'depths[' + context + ']';\n    } else {\n      return 'depth' + context;\n    }\n  },\n\n  quotedString: function(str) {\n    return this.source.quotedString(str);\n  },\n\n  objectLiteral: function(obj) {\n    return this.source.objectLiteral(obj);\n  },\n\n  aliasable: function(name) {\n    let ret = this.aliases[name];\n    if (ret) {\n      ret.referenceCount++;\n      return ret;\n    }\n\n    ret = this.aliases[name] = this.source.wrap(name);\n    ret.aliasable = true;\n    ret.referenceCount = 1;\n\n    return ret;\n  },\n\n  setupHelper: function(paramSize, name, blockHelper) {\n    let params = [],\n        paramsInit = this.setupHelperArgs(name, paramSize, params, blockHelper);\n    let foundHelper = this.nameLookup('helpers', name, 'helper'),\n        callContext = this.aliasable(`${this.contextName(0)} != null ? ${this.contextName(0)} : (container.nullContext || {})`);\n\n    return {\n      params: params,\n      paramsInit: paramsInit,\n      name: foundHelper,\n      callParams: [callContext].concat(params)\n    };\n  },\n\n  setupParams: function(helper, paramSize, params) {\n    let options = {},\n        contexts = [],\n        types = [],\n        ids = [],\n        objectArgs = !params,\n        param;\n\n    if (objectArgs) {\n      params = [];\n    }\n\n    options.name = this.quotedString(helper);\n    options.hash = this.popStack();\n\n    if (this.trackIds) {\n      options.hashIds = this.popStack();\n    }\n    if (this.stringParams) {\n      options.hashTypes = this.popStack();\n      options.hashContexts = this.popStack();\n    }\n\n    let inverse = this.popStack(),\n        program = this.popStack();\n\n    // Avoid setting fn and inverse if neither are set. This allows\n    // helpers to do a check for `if (options.fn)`\n    if (program || inverse) {\n      options.fn = program || 'container.noop';\n      options.inverse = inverse || 'container.noop';\n    }\n\n    // The parameters go on to the stack in order (making sure that they are evaluated in order)\n    // so we need to pop them off the stack in reverse order\n    let i = paramSize;\n    while (i--) {\n      param = this.popStack();\n      params[i] = param;\n\n      if (this.trackIds) {\n        ids[i] = this.popStack();\n      }\n      if (this.stringParams) {\n        types[i] = this.popStack();\n        contexts[i] = this.popStack();\n      }\n    }\n\n    if (objectArgs) {\n      options.args = this.source.generateArray(params);\n    }\n\n    if (this.trackIds) {\n      options.ids = this.source.generateArray(ids);\n    }\n    if (this.stringParams) {\n      options.types = this.source.generateArray(types);\n      options.contexts = this.source.generateArray(contexts);\n    }\n\n    if (this.options.data) {\n      options.data = 'data';\n    }\n    if (this.useBlockParams) {\n      options.blockParams = 'blockParams';\n    }\n    return options;\n  },\n\n  setupHelperArgs: function(helper, paramSize, params, useRegister) {\n    let options = this.setupParams(helper, paramSize, params);\n    options = this.objectLiteral(options);\n    if (useRegister) {\n      this.useRegister('options');\n      params.push('options');\n      return ['options=', options];\n    } else if (params) {\n      params.push(options);\n      return '';\n    } else {\n      return options;\n    }\n  }\n};\n\n\n(function() {\n  const reservedWords = (\n    'break else new var' +\n    ' case finally return void' +\n    ' catch for switch while' +\n    ' continue function this with' +\n    ' default if throw' +\n    ' delete in try' +\n    ' do instanceof typeof' +\n    ' abstract enum int short' +\n    ' boolean export interface static' +\n    ' byte extends long super' +\n    ' char final native synchronized' +\n    ' class float package throws' +\n    ' const goto private transient' +\n    ' debugger implements protected volatile' +\n    ' double import public let yield await' +\n    ' null true false'\n  ).split(' ');\n\n  const compilerWords = JavaScriptCompiler.RESERVED_WORDS = {};\n\n  for (let i = 0, l = reservedWords.length; i < l; i++) {\n    compilerWords[reservedWords[i]] = true;\n  }\n}());\n\nJavaScriptCompiler.isValidJavaScriptVariableName = function(name) {\n  return !JavaScriptCompiler.RESERVED_WORDS[name] && (/^[a-zA-Z_$][0-9a-zA-Z_$]*$/).test(name);\n};\n\nfunction strictLookup(requireTerminal, compiler, parts, type) {\n  let stack = compiler.popStack(),\n      i = 0,\n      len = parts.length;\n  if (requireTerminal) {\n    len--;\n  }\n\n  for (; i < len; i++) {\n    stack = compiler.nameLookup(stack, parts[i], type);\n  }\n\n  if (requireTerminal) {\n    return [compiler.aliasable('container.strict'), '(', stack, ', ', compiler.quotedString(parts[i]), ')'];\n  } else {\n    return stack;\n  }\n}\n\nexport default JavaScriptCompiler;\n","// File ignored in coverage tests via setting in .istanbul.yml\n/* Jison generated parser */\nvar handlebars = (function(){\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"root\":3,\"program\":4,\"EOF\":5,\"program_repetition0\":6,\"statement\":7,\"mustache\":8,\"block\":9,\"rawBlock\":10,\"partial\":11,\"partialBlock\":12,\"content\":13,\"COMMENT\":14,\"CONTENT\":15,\"openRawBlock\":16,\"rawBlock_repetition_plus0\":17,\"END_RAW_BLOCK\":18,\"OPEN_RAW_BLOCK\":19,\"helperName\":20,\"openRawBlock_repetition0\":21,\"openRawBlock_option0\":22,\"CLOSE_RAW_BLOCK\":23,\"openBlock\":24,\"block_option0\":25,\"closeBlock\":26,\"openInverse\":27,\"block_option1\":28,\"OPEN_BLOCK\":29,\"openBlock_repetition0\":30,\"openBlock_option0\":31,\"openBlock_option1\":32,\"CLOSE\":33,\"OPEN_INVERSE\":34,\"openInverse_repetition0\":35,\"openInverse_option0\":36,\"openInverse_option1\":37,\"openInverseChain\":38,\"OPEN_INVERSE_CHAIN\":39,\"openInverseChain_repetition0\":40,\"openInverseChain_option0\":41,\"openInverseChain_option1\":42,\"inverseAndProgram\":43,\"INVERSE\":44,\"inverseChain\":45,\"inverseChain_option0\":46,\"OPEN_ENDBLOCK\":47,\"OPEN\":48,\"mustache_repetition0\":49,\"mustache_option0\":50,\"OPEN_UNESCAPED\":51,\"mustache_repetition1\":52,\"mustache_option1\":53,\"CLOSE_UNESCAPED\":54,\"OPEN_PARTIAL\":55,\"partialName\":56,\"partial_repetition0\":57,\"partial_option0\":58,\"openPartialBlock\":59,\"OPEN_PARTIAL_BLOCK\":60,\"openPartialBlock_repetition0\":61,\"openPartialBlock_option0\":62,\"param\":63,\"sexpr\":64,\"OPEN_SEXPR\":65,\"sexpr_repetition0\":66,\"sexpr_option0\":67,\"CLOSE_SEXPR\":68,\"hash\":69,\"hash_repetition_plus0\":70,\"hashSegment\":71,\"ID\":72,\"EQUALS\":73,\"blockParams\":74,\"OPEN_BLOCK_PARAMS\":75,\"blockParams_repetition_plus0\":76,\"CLOSE_BLOCK_PARAMS\":77,\"path\":78,\"dataName\":79,\"STRING\":80,\"NUMBER\":81,\"BOOLEAN\":82,\"UNDEFINED\":83,\"NULL\":84,\"DATA\":85,\"pathSegments\":86,\"SEP\":87,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",5:\"EOF\",14:\"COMMENT\",15:\"CONTENT\",18:\"END_RAW_BLOCK\",19:\"OPEN_RAW_BLOCK\",23:\"CLOSE_RAW_BLOCK\",29:\"OPEN_BLOCK\",33:\"CLOSE\",34:\"OPEN_INVERSE\",39:\"OPEN_INVERSE_CHAIN\",44:\"INVERSE\",47:\"OPEN_ENDBLOCK\",48:\"OPEN\",51:\"OPEN_UNESCAPED\",54:\"CLOSE_UNESCAPED\",55:\"OPEN_PARTIAL\",60:\"OPEN_PARTIAL_BLOCK\",65:\"OPEN_SEXPR\",68:\"CLOSE_SEXPR\",72:\"ID\",73:\"EQUALS\",75:\"OPEN_BLOCK_PARAMS\",77:\"CLOSE_BLOCK_PARAMS\",80:\"STRING\",81:\"NUMBER\",82:\"BOOLEAN\",83:\"UNDEFINED\",84:\"NULL\",85:\"DATA\",87:\"SEP\"},\nproductions_: [0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],\nperformAction: function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$\n) {\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1: return $$[$0-1]; \nbreak;\ncase 2:this.$ = yy.prepareProgram($$[$0]);\nbreak;\ncase 3:this.$ = $$[$0];\nbreak;\ncase 4:this.$ = $$[$0];\nbreak;\ncase 5:this.$ = $$[$0];\nbreak;\ncase 6:this.$ = $$[$0];\nbreak;\ncase 7:this.$ = $$[$0];\nbreak;\ncase 8:this.$ = $$[$0];\nbreak;\ncase 9:\n    this.$ = {\n      type: 'CommentStatement',\n      value: yy.stripComment($$[$0]),\n      strip: yy.stripFlags($$[$0], $$[$0]),\n      loc: yy.locInfo(this._$)\n    };\n  \nbreak;\ncase 10:\n    this.$ = {\n      type: 'ContentStatement',\n      original: $$[$0],\n      value: $$[$0],\n      loc: yy.locInfo(this._$)\n    };\n  \nbreak;\ncase 11:this.$ = yy.prepareRawBlock($$[$0-2], $$[$0-1], $$[$0], this._$);\nbreak;\ncase 12:this.$ = { path: $$[$0-3], params: $$[$0-2], hash: $$[$0-1] };\nbreak;\ncase 13:this.$ = yy.prepareBlock($$[$0-3], $$[$0-2], $$[$0-1], $$[$0], false, this._$);\nbreak;\ncase 14:this.$ = yy.prepareBlock($$[$0-3], $$[$0-2], $$[$0-1], $$[$0], true, this._$);\nbreak;\ncase 15:this.$ = { open: $$[$0-5], path: $$[$0-4], params: $$[$0-3], hash: $$[$0-2], blockParams: $$[$0-1], strip: yy.stripFlags($$[$0-5], $$[$0]) };\nbreak;\ncase 16:this.$ = { path: $$[$0-4], params: $$[$0-3], hash: $$[$0-2], blockParams: $$[$0-1], strip: yy.stripFlags($$[$0-5], $$[$0]) };\nbreak;\ncase 17:this.$ = { path: $$[$0-4], params: $$[$0-3], hash: $$[$0-2], blockParams: $$[$0-1], strip: yy.stripFlags($$[$0-5], $$[$0]) };\nbreak;\ncase 18:this.$ = { strip: yy.stripFlags($$[$0-1], $$[$0-1]), program: $$[$0] };\nbreak;\ncase 19:\n    var inverse = yy.prepareBlock($$[$0-2], $$[$0-1], $$[$0], $$[$0], false, this._$),\n        program = yy.prepareProgram([inverse], $$[$0-1].loc);\n    program.chained = true;\n\n    this.$ = { strip: $$[$0-2].strip, program: program, chain: true };\n  \nbreak;\ncase 20:this.$ = $$[$0];\nbreak;\ncase 21:this.$ = {path: $$[$0-1], strip: yy.stripFlags($$[$0-2], $$[$0])};\nbreak;\ncase 22:this.$ = yy.prepareMustache($$[$0-3], $$[$0-2], $$[$0-1], $$[$0-4], yy.stripFlags($$[$0-4], $$[$0]), this._$);\nbreak;\ncase 23:this.$ = yy.prepareMustache($$[$0-3], $$[$0-2], $$[$0-1], $$[$0-4], yy.stripFlags($$[$0-4], $$[$0]), this._$);\nbreak;\ncase 24:\n    this.$ = {\n      type: 'PartialStatement',\n      name: $$[$0-3],\n      params: $$[$0-2],\n      hash: $$[$0-1],\n      indent: '',\n      strip: yy.stripFlags($$[$0-4], $$[$0]),\n      loc: yy.locInfo(this._$)\n    };\n  \nbreak;\ncase 25:this.$ = yy.preparePartialBlock($$[$0-2], $$[$0-1], $$[$0], this._$);\nbreak;\ncase 26:this.$ = { path: $$[$0-3], params: $$[$0-2], hash: $$[$0-1], strip: yy.stripFlags($$[$0-4], $$[$0]) };\nbreak;\ncase 27:this.$ = $$[$0];\nbreak;\ncase 28:this.$ = $$[$0];\nbreak;\ncase 29:\n    this.$ = {\n      type: 'SubExpression',\n      path: $$[$0-3],\n      params: $$[$0-2],\n      hash: $$[$0-1],\n      loc: yy.locInfo(this._$)\n    };\n  \nbreak;\ncase 30:this.$ = {type: 'Hash', pairs: $$[$0], loc: yy.locInfo(this._$)};\nbreak;\ncase 31:this.$ = {type: 'HashPair', key: yy.id($$[$0-2]), value: $$[$0], loc: yy.locInfo(this._$)};\nbreak;\ncase 32:this.$ = yy.id($$[$0-1]);\nbreak;\ncase 33:this.$ = $$[$0];\nbreak;\ncase 34:this.$ = $$[$0];\nbreak;\ncase 35:this.$ = {type: 'StringLiteral', value: $$[$0], original: $$[$0], loc: yy.locInfo(this._$)};\nbreak;\ncase 36:this.$ = {type: 'NumberLiteral', value: Number($$[$0]), original: Number($$[$0]), loc: yy.locInfo(this._$)};\nbreak;\ncase 37:this.$ = {type: 'BooleanLiteral', value: $$[$0] === 'true', original: $$[$0] === 'true', loc: yy.locInfo(this._$)};\nbreak;\ncase 38:this.$ = {type: 'UndefinedLiteral', original: undefined, value: undefined, loc: yy.locInfo(this._$)};\nbreak;\ncase 39:this.$ = {type: 'NullLiteral', original: null, value: null, loc: yy.locInfo(this._$)};\nbreak;\ncase 40:this.$ = $$[$0];\nbreak;\ncase 41:this.$ = $$[$0];\nbreak;\ncase 42:this.$ = yy.preparePath(true, $$[$0], this._$);\nbreak;\ncase 43:this.$ = yy.preparePath(false, $$[$0], this._$);\nbreak;\ncase 44: $$[$0-2].push({part: yy.id($$[$0]), original: $$[$0], separator: $$[$0-1]}); this.$ = $$[$0-2]; \nbreak;\ncase 45:this.$ = [{part: yy.id($$[$0]), original: $$[$0]}];\nbreak;\ncase 46:this.$ = [];\nbreak;\ncase 47:$$[$0-1].push($$[$0]);\nbreak;\ncase 48:this.$ = [$$[$0]];\nbreak;\ncase 49:$$[$0-1].push($$[$0]);\nbreak;\ncase 50:this.$ = [];\nbreak;\ncase 51:$$[$0-1].push($$[$0]);\nbreak;\ncase 58:this.$ = [];\nbreak;\ncase 59:$$[$0-1].push($$[$0]);\nbreak;\ncase 64:this.$ = [];\nbreak;\ncase 65:$$[$0-1].push($$[$0]);\nbreak;\ncase 70:this.$ = [];\nbreak;\ncase 71:$$[$0-1].push($$[$0]);\nbreak;\ncase 78:this.$ = [];\nbreak;\ncase 79:$$[$0-1].push($$[$0]);\nbreak;\ncase 82:this.$ = [];\nbreak;\ncase 83:$$[$0-1].push($$[$0]);\nbreak;\ncase 86:this.$ = [];\nbreak;\ncase 87:$$[$0-1].push($$[$0]);\nbreak;\ncase 90:this.$ = [];\nbreak;\ncase 91:$$[$0-1].push($$[$0]);\nbreak;\ncase 94:this.$ = [];\nbreak;\ncase 95:$$[$0-1].push($$[$0]);\nbreak;\ncase 98:this.$ = [$$[$0]];\nbreak;\ncase 99:$$[$0-1].push($$[$0]);\nbreak;\ncase 100:this.$ = [$$[$0]];\nbreak;\ncase 101:$$[$0-1].push($$[$0]);\nbreak;\n}\n},\ntable: [{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],\ndefaultActions: {4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},\nparseError: function parseError (str, hash) {\n    throw new Error(str);\n},\nparse: function parse(input) {\n    var self = this, stack = [0], vstack = [null], lstack = [], table = this.table, yytext = \"\", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    this.lexer.setInput(input);\n    this.lexer.yy = this.yy;\n    this.yy.lexer = this.lexer;\n    this.yy.parser = this;\n    if (typeof this.lexer.yylloc == \"undefined\")\n        this.lexer.yylloc = {};\n    var yyloc = this.lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = this.lexer.options && this.lexer.options.ranges;\n    if (typeof this.yy.parseError === \"function\")\n        this.parseError = this.yy.parseError;\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n    function lex() {\n        var token;\n        token = self.lexer.lex() || 1;\n        if (typeof token !== \"number\") {\n            token = self.symbols_[token] || token;\n        }\n        return token;\n    }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == \"undefined\") {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === \"undefined\" || !action.length || !action[0]) {\n            var errStr = \"\";\n            if (!recovering) {\n                expected = [];\n                for (p in table[state])\n                    if (this.terminals_[p] && p > 2) {\n                        expected.push(\"'\" + this.terminals_[p] + \"'\");\n                    }\n                if (this.lexer.showPosition) {\n                    errStr = \"Parse error on line \" + (yylineno + 1) + \":\\n\" + this.lexer.showPosition() + \"\\nExpecting \" + expected.join(\", \") + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\n                } else {\n                    errStr = \"Parse error on line \" + (yylineno + 1) + \": Unexpected \" + (symbol == 1?\"end of input\":\"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n                }\n                this.parseError(errStr, {text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, loc: yyloc, expected: expected});\n            }\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error(\"Parse Error: multiple actions possible at state: \" + state + \", token: \" + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(this.lexer.yytext);\n            lstack.push(this.lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = this.lexer.yyleng;\n                yytext = this.lexer.yytext;\n                yylineno = this.lexer.yylineno;\n                yyloc = this.lexer.yylloc;\n                if (recovering > 0)\n                    recovering--;\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {first_line: lstack[lstack.length - (len || 1)].first_line, last_line: lstack[lstack.length - 1].last_line, first_column: lstack[lstack.length - (len || 1)].first_column, last_column: lstack[lstack.length - 1].last_column};\n            if (ranges) {\n                yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n            }\n            r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);\n            if (typeof r !== \"undefined\") {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}\n};\n/* Jison generated lexer */\nvar lexer = (function(){\nvar lexer = ({EOF:1,\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\nsetInput:function (input) {\n        this._input = input;\n        this._more = this._less = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {first_line:1,first_column:0,last_line:1,last_column:0};\n        if (this.options.ranges) this.yylloc.range = [0,0];\n        this.offset = 0;\n        return this;\n    },\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) this.yylloc.range[1]++;\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length-len-1);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length-1);\n        this.matched = this.matched.substr(0, this.matched.length-1);\n\n        if (lines.length-1) this.yylineno -= lines.length-1;\n        var r = this.yylloc.range;\n\n        this.yylloc = {first_line: this.yylloc.first_line,\n          last_line: this.yylineno+1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ?\n              (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length:\n              this.yylloc.first_column - len\n          };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        return this;\n    },\nmore:function () {\n        this._more = true;\n        return this;\n    },\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20)+(next.length > 20 ? '...':'')).replace(/\\n/g, \"\");\n    },\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c+\"^\";\n    },\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) this.done = true;\n\n        var token,\n            match,\n            tempMatch,\n            index,\n            col,\n            lines;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i=0;i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (!this.options.flex) break;\n            }\n        }\n        if (match) {\n            lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n            if (lines) this.yylineno += lines.length;\n            this.yylloc = {first_line: this.yylloc.last_line,\n                           last_line: this.yylineno+1,\n                           first_column: this.yylloc.last_column,\n                           last_column: lines ? lines[lines.length-1].length-lines[lines.length-1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length};\n            this.yytext += match[0];\n            this.match += match[0];\n            this.matches = match;\n            this.yyleng = this.yytext.length;\n            if (this.options.ranges) {\n                this.yylloc.range = [this.offset, this.offset += this.yyleng];\n            }\n            this._more = false;\n            this._input = this._input.slice(match[0].length);\n            this.matched += match[0];\n            token = this.performAction.call(this, this.yy, this, rules[index],this.conditionStack[this.conditionStack.length-1]);\n            if (this.done && this._input) this.done = false;\n            if (token) return token;\n            else return;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\\n'+this.showPosition(),\n                    {text: \"\", token: null, line: this.yylineno});\n        }\n    },\nlex:function lex () {\n        var r = this.next();\n        if (typeof r !== 'undefined') {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\npopState:function popState () {\n        return this.conditionStack.pop();\n    },\n_currentRules:function _currentRules () {\n        return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;\n    },\ntopState:function () {\n        return this.conditionStack[this.conditionStack.length-2];\n    },\npushState:function begin (condition) {\n        this.begin(condition);\n    }});\nlexer.options = {};\nlexer.performAction = function anonymous(yy,yy_,$avoiding_name_collisions,YY_START\n) {\n\n\nfunction strip(start, end) {\n  return yy_.yytext = yy_.yytext.substring(start, yy_.yyleng - end + start);\n}\n\n\nvar YYSTATE=YY_START\nswitch($avoiding_name_collisions) {\ncase 0:\n                                   if(yy_.yytext.slice(-2) === \"\\\\\\\\\") {\n                                     strip(0,1);\n                                     this.begin(\"mu\");\n                                   } else if(yy_.yytext.slice(-1) === \"\\\\\") {\n                                     strip(0,1);\n                                     this.begin(\"emu\");\n                                   } else {\n                                     this.begin(\"mu\");\n                                   }\n                                   if(yy_.yytext) return 15;\n                                 \nbreak;\ncase 1:return 15;\nbreak;\ncase 2:\n                                   this.popState();\n                                   return 15;\n                                 \nbreak;\ncase 3:this.begin('raw'); return 15;\nbreak;\ncase 4:\n                                  this.popState();\n                                  // Should be using `this.topState()` below, but it currently\n                                  // returns the second top instead of the first top. Opened an\n                                  // issue about it at https://github.com/zaach/jison/issues/291\n                                  if (this.conditionStack[this.conditionStack.length-1] === 'raw') {\n                                    return 15;\n                                  } else {\n                                    strip(5, 9);\n                                    return 'END_RAW_BLOCK';\n                                  }\n                                 \nbreak;\ncase 5: return 15; \nbreak;\ncase 6:\n  this.popState();\n  return 14;\n\nbreak;\ncase 7:return 65;\nbreak;\ncase 8:return 68;\nbreak;\ncase 9: return 19; \nbreak;\ncase 10:\n                                  this.popState();\n                                  this.begin('raw');\n                                  return 23;\n                                 \nbreak;\ncase 11:return 55;\nbreak;\ncase 12:return 60;\nbreak;\ncase 13:return 29;\nbreak;\ncase 14:return 47;\nbreak;\ncase 15:this.popState(); return 44;\nbreak;\ncase 16:this.popState(); return 44;\nbreak;\ncase 17:return 34;\nbreak;\ncase 18:return 39;\nbreak;\ncase 19:return 51;\nbreak;\ncase 20:return 48;\nbreak;\ncase 21:\n  this.unput(yy_.yytext);\n  this.popState();\n  this.begin('com');\n\nbreak;\ncase 22:\n  this.popState();\n  return 14;\n\nbreak;\ncase 23:return 48;\nbreak;\ncase 24:return 73;\nbreak;\ncase 25:return 72;\nbreak;\ncase 26:return 72;\nbreak;\ncase 27:return 87;\nbreak;\ncase 28:// ignore whitespace\nbreak;\ncase 29:this.popState(); return 54;\nbreak;\ncase 30:this.popState(); return 33;\nbreak;\ncase 31:yy_.yytext = strip(1,2).replace(/\\\\\"/g,'\"'); return 80;\nbreak;\ncase 32:yy_.yytext = strip(1,2).replace(/\\\\'/g,\"'\"); return 80;\nbreak;\ncase 33:return 85;\nbreak;\ncase 34:return 82;\nbreak;\ncase 35:return 82;\nbreak;\ncase 36:return 83;\nbreak;\ncase 37:return 84;\nbreak;\ncase 38:return 81;\nbreak;\ncase 39:return 75;\nbreak;\ncase 40:return 77;\nbreak;\ncase 41:return 72;\nbreak;\ncase 42:yy_.yytext = yy_.yytext.replace(/\\\\([\\\\\\]])/g,'$1'); return 72;\nbreak;\ncase 43:return 'INVALID';\nbreak;\ncase 44:return 5;\nbreak;\n}\n};\nlexer.rules = [/^(?:[^\\x00]*?(?=(\\{\\{)))/,/^(?:[^\\x00]+)/,/^(?:[^\\x00]{2,}?(?=(\\{\\{|\\\\\\{\\{|\\\\\\\\\\{\\{|$)))/,/^(?:\\{\\{\\{\\{(?=[^\\/]))/,/^(?:\\{\\{\\{\\{\\/[^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=[=}\\s\\/.])\\}\\}\\}\\})/,/^(?:[^\\x00]*?(?=(\\{\\{\\{\\{)))/,/^(?:[\\s\\S]*?--(~)?\\}\\})/,/^(?:\\()/,/^(?:\\))/,/^(?:\\{\\{\\{\\{)/,/^(?:\\}\\}\\}\\})/,/^(?:\\{\\{(~)?>)/,/^(?:\\{\\{(~)?#>)/,/^(?:\\{\\{(~)?#\\*?)/,/^(?:\\{\\{(~)?\\/)/,/^(?:\\{\\{(~)?\\^\\s*(~)?\\}\\})/,/^(?:\\{\\{(~)?\\s*else\\s*(~)?\\}\\})/,/^(?:\\{\\{(~)?\\^)/,/^(?:\\{\\{(~)?\\s*else\\b)/,/^(?:\\{\\{(~)?\\{)/,/^(?:\\{\\{(~)?&)/,/^(?:\\{\\{(~)?!--)/,/^(?:\\{\\{(~)?![\\s\\S]*?\\}\\})/,/^(?:\\{\\{(~)?\\*?)/,/^(?:=)/,/^(?:\\.\\.)/,/^(?:\\.(?=([=~}\\s\\/.)|])))/,/^(?:[\\/.])/,/^(?:\\s+)/,/^(?:\\}(~)?\\}\\})/,/^(?:(~)?\\}\\})/,/^(?:\"(\\\\[\"]|[^\"])*\")/,/^(?:'(\\\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\\s)])))/,/^(?:false(?=([~}\\s)])))/,/^(?:undefined(?=([~}\\s)])))/,/^(?:null(?=([~}\\s)])))/,/^(?:-?[0-9]+(?:\\.[0-9]+)?(?=([~}\\s)])))/,/^(?:as\\s+\\|)/,/^(?:\\|)/,/^(?:([^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=([=~}\\s\\/.)|]))))/,/^(?:\\[(\\\\\\]|[^\\]])*\\])/,/^(?:.)/,/^(?:$)/];\nlexer.conditions = {\"mu\":{\"rules\":[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],\"inclusive\":false},\"emu\":{\"rules\":[2],\"inclusive\":false},\"com\":{\"rules\":[6],\"inclusive\":false},\"raw\":{\"rules\":[3,4,5],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,1,44],\"inclusive\":true}};\nreturn lexer;})()\nparser.lexer = lexer;\nfunction Parser () { this.yy = {}; }Parser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();export default handlebars;\n","/* eslint-disable new-cap */\nimport Visitor from './visitor';\n\nexport function print(ast) {\n  return new PrintVisitor().accept(ast);\n}\n\nexport function PrintVisitor() {\n  this.padding = 0;\n}\n\nPrintVisitor.prototype = new Visitor();\n\nPrintVisitor.prototype.pad = function(string) {\n  let out = '';\n\n  for (let i = 0, l = this.padding; i < l; i++) {\n    out += '  ';\n  }\n\n  out += string + '\\n';\n  return out;\n};\n\nPrintVisitor.prototype.Program = function(program) {\n  let out = '',\n      body = program.body,\n      i, l;\n\n  if (program.blockParams) {\n    let blockParams = 'BLOCK PARAMS: [';\n    for (i = 0, l = program.blockParams.length; i < l; i++) {\n       blockParams += ' ' + program.blockParams[i];\n    }\n    blockParams += ' ]';\n    out += this.pad(blockParams);\n  }\n\n  for (i = 0, l = body.length; i < l; i++) {\n    out += this.accept(body[i]);\n  }\n\n  this.padding--;\n\n  return out;\n};\n\nPrintVisitor.prototype.MustacheStatement = function(mustache) {\n  return this.pad('{{ ' + this.SubExpression(mustache) + ' }}');\n};\nPrintVisitor.prototype.Decorator = function(mustache) {\n  return this.pad('{{ DIRECTIVE ' + this.SubExpression(mustache) + ' }}');\n};\n\nPrintVisitor.prototype.BlockStatement =\nPrintVisitor.prototype.DecoratorBlock = function(block) {\n  let out = '';\n\n  out += this.pad((block.type === 'DecoratorBlock' ? 'DIRECTIVE ' : '') + 'BLOCK:');\n  this.padding++;\n  out += this.pad(this.SubExpression(block));\n  if (block.program) {\n    out += this.pad('PROGRAM:');\n    this.padding++;\n    out += this.accept(block.program);\n    this.padding--;\n  }\n  if (block.inverse) {\n    if (block.program) { this.padding++; }\n    out += this.pad('{{^}}');\n    this.padding++;\n    out += this.accept(block.inverse);\n    this.padding--;\n    if (block.program) { this.padding--; }\n  }\n  this.padding--;\n\n  return out;\n};\n\nPrintVisitor.prototype.PartialStatement = function(partial) {\n  let content = 'PARTIAL:' + partial.name.original;\n  if (partial.params[0]) {\n    content += ' ' + this.accept(partial.params[0]);\n  }\n  if (partial.hash) {\n    content += ' ' + this.accept(partial.hash);\n  }\n  return this.pad('{{> ' + content + ' }}');\n};\nPrintVisitor.prototype.PartialBlockStatement = function(partial) {\n  let content = 'PARTIAL BLOCK:' + partial.name.original;\n  if (partial.params[0]) {\n    content += ' ' + this.accept(partial.params[0]);\n  }\n  if (partial.hash) {\n    content += ' ' + this.accept(partial.hash);\n  }\n\n  content += ' ' + this.pad('PROGRAM:');\n  this.padding++;\n  content += this.accept(partial.program);\n  this.padding--;\n\n  return this.pad('{{> ' + content + ' }}');\n};\n\nPrintVisitor.prototype.ContentStatement = function(content) {\n  return this.pad(\"CONTENT[ '\" + content.value + \"' ]\");\n};\n\nPrintVisitor.prototype.CommentStatement = function(comment) {\n  return this.pad(\"{{! '\" + comment.value + \"' }}\");\n};\n\nPrintVisitor.prototype.SubExpression = function(sexpr) {\n  let params = sexpr.params,\n      paramStrings = [],\n      hash;\n\n  for (let i = 0, l = params.length; i < l; i++) {\n    paramStrings.push(this.accept(params[i]));\n  }\n\n  params = '[' + paramStrings.join(', ') + ']';\n\n  hash = sexpr.hash ? ' ' + this.accept(sexpr.hash) : '';\n\n  return this.accept(sexpr.path) + ' ' + params + hash;\n};\n\nPrintVisitor.prototype.PathExpression = function(id) {\n  let path = id.parts.join('/');\n  return (id.data ? '@' : '') + 'PATH:' + path;\n};\n\n\nPrintVisitor.prototype.StringLiteral = function(string) {\n  return '\"' + string.value + '\"';\n};\n\nPrintVisitor.prototype.NumberLiteral = function(number) {\n  return 'NUMBER{' + number.value + '}';\n};\n\nPrintVisitor.prototype.BooleanLiteral = function(bool) {\n  return 'BOOLEAN{' + bool.value + '}';\n};\n\nPrintVisitor.prototype.UndefinedLiteral = function() {\n  return 'UNDEFINED';\n};\n\nPrintVisitor.prototype.NullLiteral = function() {\n  return 'NULL';\n};\n\nPrintVisitor.prototype.Hash = function(hash) {\n  let pairs = hash.pairs,\n      joinedPairs = [];\n\n  for (let i = 0, l = pairs.length; i < l; i++) {\n    joinedPairs.push(this.accept(pairs[i]));\n  }\n\n  return 'HASH{' + joinedPairs.join(', ') + '}';\n};\nPrintVisitor.prototype.HashPair = function(pair) {\n  return pair.key + '=' + this.accept(pair.value);\n};\n/* eslint-enable new-cap */\n","import Exception from '../exception';\n\nfunction Visitor() {\n  this.parents = [];\n}\n\nVisitor.prototype = {\n  constructor: Visitor,\n  mutating: false,\n\n  // Visits a given value. If mutating, will replace the value if necessary.\n  acceptKey: function(node, name) {\n    let value = this.accept(node[name]);\n    if (this.mutating) {\n      // Hacky sanity check: This may have a few false positives for type for the helper\n      // methods but will generally do the right thing without a lot of overhead.\n      if (value && !Visitor.prototype[value.type]) {\n        throw new Exception('Unexpected node type \"' + value.type + '\" found when accepting ' + name + ' on ' + node.type);\n      }\n      node[name] = value;\n    }\n  },\n\n  // Performs an accept operation with added sanity check to ensure\n  // required keys are not removed.\n  acceptRequired: function(node, name) {\n    this.acceptKey(node, name);\n\n    if (!node[name]) {\n      throw new Exception(node.type + ' requires ' + name);\n    }\n  },\n\n  // Traverses a given array. If mutating, empty respnses will be removed\n  // for child elements.\n  acceptArray: function(array) {\n    for (let i = 0, l = array.length; i < l; i++) {\n      this.acceptKey(array, i);\n\n      if (!array[i]) {\n        array.splice(i, 1);\n        i--;\n        l--;\n      }\n    }\n  },\n\n  accept: function(object) {\n    if (!object) {\n      return;\n    }\n\n    /* istanbul ignore next: Sanity code */\n    if (!this[object.type]) {\n      throw new Exception('Unknown type: ' + object.type, object);\n    }\n\n    if (this.current) {\n      this.parents.unshift(this.current);\n    }\n    this.current = object;\n\n    let ret = this[object.type](object);\n\n    this.current = this.parents.shift();\n\n    if (!this.mutating || ret) {\n      return ret;\n    } else if (ret !== false) {\n      return object;\n    }\n  },\n\n  Program: function(program) {\n    this.acceptArray(program.body);\n  },\n\n  MustacheStatement: visitSubExpression,\n  Decorator: visitSubExpression,\n\n  BlockStatement: visitBlock,\n  DecoratorBlock: visitBlock,\n\n  PartialStatement: visitPartial,\n  PartialBlockStatement: function(partial) {\n    visitPartial.call(this, partial);\n\n    this.acceptKey(partial, 'program');\n  },\n\n  ContentStatement: function(/* content */) {},\n  CommentStatement: function(/* comment */) {},\n\n  SubExpression: visitSubExpression,\n\n  PathExpression: function(/* path */) {},\n\n  StringLiteral: function(/* string */) {},\n  NumberLiteral: function(/* number */) {},\n  BooleanLiteral: function(/* bool */) {},\n  UndefinedLiteral: function(/* literal */) {},\n  NullLiteral: function(/* literal */) {},\n\n  Hash: function(hash) {\n    this.acceptArray(hash.pairs);\n  },\n  HashPair: function(pair) {\n    this.acceptRequired(pair, 'value');\n  }\n};\n\nfunction visitSubExpression(mustache) {\n  this.acceptRequired(mustache, 'path');\n  this.acceptArray(mustache.params);\n  this.acceptKey(mustache, 'hash');\n}\nfunction visitBlock(block) {\n  visitSubExpression.call(this, block);\n\n  this.acceptKey(block, 'program');\n  this.acceptKey(block, 'inverse');\n}\nfunction visitPartial(partial) {\n  this.acceptRequired(partial, 'name');\n  this.acceptArray(partial.params);\n  this.acceptKey(partial, 'hash');\n}\n\nexport default Visitor;\n","import Visitor from './visitor';\n\nfunction WhitespaceControl(options = {}) {\n  this.options = options;\n}\nWhitespaceControl.prototype = new Visitor();\n\nWhitespaceControl.prototype.Program = function(program) {\n  const doStandalone = !this.options.ignoreStandalone;\n\n  let isRoot = !this.isRootSeen;\n  this.isRootSeen = true;\n\n  let body = program.body;\n  for (let i = 0, l = body.length; i < l; i++) {\n    let current = body[i],\n        strip = this.accept(current);\n\n    if (!strip) {\n      continue;\n    }\n\n    let _isPrevWhitespace = isPrevWhitespace(body, i, isRoot),\n        _isNextWhitespace = isNextWhitespace(body, i, isRoot),\n\n        openStandalone = strip.openStandalone && _isPrevWhitespace,\n        closeStandalone = strip.closeStandalone && _isNextWhitespace,\n        inlineStandalone = strip.inlineStandalone && _isPrevWhitespace && _isNextWhitespace;\n\n    if (strip.close) {\n      omitRight(body, i, true);\n    }\n    if (strip.open) {\n      omitLeft(body, i, true);\n    }\n\n    if (doStandalone && inlineStandalone) {\n      omitRight(body, i);\n\n      if (omitLeft(body, i)) {\n        // If we are on a standalone node, save the indent info for partials\n        if (current.type === 'PartialStatement') {\n          // Pull out the whitespace from the final line\n          current.indent = (/([ \\t]+$)/).exec(body[i - 1].original)[1];\n        }\n      }\n    }\n    if (doStandalone && openStandalone) {\n      omitRight((current.program || current.inverse).body);\n\n      // Strip out the previous content node if it's whitespace only\n      omitLeft(body, i);\n    }\n    if (doStandalone && closeStandalone) {\n      // Always strip the next node\n      omitRight(body, i);\n\n      omitLeft((current.inverse || current.program).body);\n    }\n  }\n\n  return program;\n};\n\nWhitespaceControl.prototype.BlockStatement =\nWhitespaceControl.prototype.DecoratorBlock =\nWhitespaceControl.prototype.PartialBlockStatement = function(block) {\n  this.accept(block.program);\n  this.accept(block.inverse);\n\n  // Find the inverse program that is involed with whitespace stripping.\n  let program = block.program || block.inverse,\n      inverse = block.program && block.inverse,\n      firstInverse = inverse,\n      lastInverse = inverse;\n\n  if (inverse && inverse.chained) {\n    firstInverse = inverse.body[0].program;\n\n    // Walk the inverse chain to find the last inverse that is actually in the chain.\n    while (lastInverse.chained) {\n      lastInverse = lastInverse.body[lastInverse.body.length - 1].program;\n    }\n  }\n\n  let strip = {\n    open: block.openStrip.open,\n    close: block.closeStrip.close,\n\n    // Determine the standalone candiacy. Basically flag our content as being possibly standalone\n    // so our parent can determine if we actually are standalone\n    openStandalone: isNextWhitespace(program.body),\n    closeStandalone: isPrevWhitespace((firstInverse || program).body)\n  };\n\n  if (block.openStrip.close) {\n    omitRight(program.body, null, true);\n  }\n\n  if (inverse) {\n    let inverseStrip = block.inverseStrip;\n\n    if (inverseStrip.open) {\n      omitLeft(program.body, null, true);\n    }\n\n    if (inverseStrip.close) {\n      omitRight(firstInverse.body, null, true);\n    }\n    if (block.closeStrip.open) {\n      omitLeft(lastInverse.body, null, true);\n    }\n\n    // Find standalone else statments\n    if (!this.options.ignoreStandalone\n        && isPrevWhitespace(program.body)\n        && isNextWhitespace(firstInverse.body)) {\n      omitLeft(program.body);\n      omitRight(firstInverse.body);\n    }\n  } else if (block.closeStrip.open) {\n    omitLeft(program.body, null, true);\n  }\n\n  return strip;\n};\n\nWhitespaceControl.prototype.Decorator =\nWhitespaceControl.prototype.MustacheStatement = function(mustache) {\n  return mustache.strip;\n};\n\nWhitespaceControl.prototype.PartialStatement =\n    WhitespaceControl.prototype.CommentStatement = function(node) {\n  /* istanbul ignore next */\n  let strip = node.strip || {};\n  return {\n    inlineStandalone: true,\n    open: strip.open,\n    close: strip.close\n  };\n};\n\n\nfunction isPrevWhitespace(body, i, isRoot) {\n  if (i === undefined) {\n    i = body.length;\n  }\n\n  // Nodes that end with newlines are considered whitespace (but are special\n  // cased for strip operations)\n  let prev = body[i - 1],\n      sibling = body[i - 2];\n  if (!prev) {\n    return isRoot;\n  }\n\n  if (prev.type === 'ContentStatement') {\n    return (sibling || !isRoot ? (/\\r?\\n\\s*?$/) : (/(^|\\r?\\n)\\s*?$/)).test(prev.original);\n  }\n}\nfunction isNextWhitespace(body, i, isRoot) {\n  if (i === undefined) {\n    i = -1;\n  }\n\n  let next = body[i + 1],\n      sibling = body[i + 2];\n  if (!next) {\n    return isRoot;\n  }\n\n  if (next.type === 'ContentStatement') {\n    return (sibling || !isRoot ? (/^\\s*?\\r?\\n/) : (/^\\s*?(\\r?\\n|$)/)).test(next.original);\n  }\n}\n\n// Marks the node to the right of the position as omitted.\n// I.e. {{foo}}' ' will mark the ' ' node as omitted.\n//\n// If i is undefined, then the first child will be marked as such.\n//\n// If mulitple is truthy then all whitespace will be stripped out until non-whitespace\n// content is met.\nfunction omitRight(body, i, multiple) {\n  let current = body[i == null ? 0 : i + 1];\n  if (!current || current.type !== 'ContentStatement' || (!multiple && current.rightStripped)) {\n    return;\n  }\n\n  let original = current.value;\n  current.value = current.value.replace(multiple ? (/^\\s+/) : (/^[ \\t]*\\r?\\n?/), '');\n  current.rightStripped = current.value !== original;\n}\n\n// Marks the node to the left of the position as omitted.\n// I.e. ' '{{foo}} will mark the ' ' node as omitted.\n//\n// If i is undefined then the last child will be marked as such.\n//\n// If mulitple is truthy then all whitespace will be stripped out until non-whitespace\n// content is met.\nfunction omitLeft(body, i, multiple) {\n  let current = body[i == null ? body.length - 1 : i - 1];\n  if (!current || current.type !== 'ContentStatement' || (!multiple && current.leftStripped)) {\n    return;\n  }\n\n  // We omit the last node if it's whitespace only and not preceeded by a non-content node.\n  let original = current.value;\n  current.value = current.value.replace(multiple ? (/\\s+$/) : (/[ \\t]+$/), '');\n  current.leftStripped = current.value !== original;\n  return current.leftStripped;\n}\n\nexport default WhitespaceControl;\n","import registerInline from './decorators/inline';\n\nexport function registerDefaultDecorators(instance) {\n  registerInline(instance);\n}\n\n","import {extend} from '../utils';\n\nexport default function(instance) {\n  instance.registerDecorator('inline', function(fn, props, container, options) {\n    let ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function(context, options) {\n        // Create a new partials stack frame prior to exec.\n        let original = container.partials;\n        container.partials = extend({}, original, props.partials);\n        let ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  });\n}\n","\nconst errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];\n\nfunction Exception(message, node) {\n  let loc = node && node.loc,\n      line,\n      column;\n  if (loc) {\n    line = loc.start.line;\n    column = loc.start.column;\n\n    message += ' - ' + line + ':' + column;\n  }\n\n  let tmp = Error.prototype.constructor.call(this, message);\n\n  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n  for (let idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n\n  /* istanbul ignore else */\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Exception);\n  }\n\n  try {\n    if (loc) {\n      this.lineNumber = line;\n\n      // Work around issue under safari where we can't directly set the column value\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(this, 'column', {\n          value: column,\n          enumerable: true\n        });\n      } else {\n        this.column = column;\n      }\n    }\n  } catch (nop) {\n    /* Ignore if the browser is very particular */\n  }\n}\n\nException.prototype = new Error();\n\nexport default Exception;\n","import registerBlockHelperMissing from './helpers/block-helper-missing';\nimport registerEach from './helpers/each';\nimport registerHelperMissing from './helpers/helper-missing';\nimport registerIf from './helpers/if';\nimport registerLog from './helpers/log';\nimport registerLookup from './helpers/lookup';\nimport registerWith from './helpers/with';\n\nexport function registerDefaultHelpers(instance) {\n  registerBlockHelperMissing(instance);\n  registerEach(instance);\n  registerHelperMissing(instance);\n  registerIf(instance);\n  registerLog(instance);\n  registerLookup(instance);\n  registerWith(instance);\n}\n","import {appendContextPath, createFrame, isArray} from '../utils';\n\nexport default function(instance) {\n  instance.registerHelper('blockHelperMissing', function(context, options) {\n    let inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        let data = createFrame(options.data);\n        data.contextPath = appendContextPath(options.data.contextPath, options.name);\n        options = {data: data};\n      }\n\n      return fn(context, options);\n    }\n  });\n}\n","import {appendContextPath, blockParams, createFrame, isArray, isFunction} from '../utils';\nimport Exception from '../exception';\n\nexport default function(instance) {\n  instance.registerHelper('each', function(context, options) {\n    if (!options) {\n      throw new Exception('Must pass iterator to #each');\n    }\n\n    let fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data,\n        contextPath;\n\n    if (options.data && options.ids) {\n      contextPath = appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (isFunction(context)) { context = context.call(this); }\n\n    if (options.data) {\n      data = createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (isArray(context)) {\n        for (let j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else {\n        let priorKey;\n\n        for (let key in context) {\n          if (context.hasOwnProperty(key)) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          }\n        }\n        if (priorKey !== undefined) {\n          execIteration(priorKey, i - 1, true);\n        }\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n}\n","import Exception from '../exception';\n\nexport default function(instance) {\n  instance.registerHelper('helperMissing', function(/* [args, ]options */) {\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new Exception('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  });\n}\n","import {isEmpty, isFunction} from '../utils';\n\nexport default function(instance) {\n  instance.registerHelper('if', function(conditional, options) {\n    if (isFunction(conditional)) { conditional = conditional.call(this); }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if ((!options.hash.includeZero && !conditional) || isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  });\n\n  instance.registerHelper('unless', function(conditional, options) {\n    return instance.helpers['if'].call(this, conditional, {fn: options.inverse, inverse: options.fn, hash: options.hash});\n  });\n}\n","export default function(instance) {\n  instance.registerHelper('log', function(/* message, options */) {\n    let args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (let i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    let level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log(... args);\n  });\n}\n","export default function(instance) {\n  instance.registerHelper('lookup', function(obj, field) {\n    if (!obj) {\n      return obj;\n    }\n    if (field === 'constructor' && !obj.propertyIsEnumerable(field)) {\n      return undefined;\n    }\n    return obj[field];\n  });\n}\n","import {appendContextPath, blockParams, createFrame, isEmpty, isFunction} from '../utils';\n\nexport default function(instance) {\n  instance.registerHelper('with', function(context, options) {\n    if (isFunction(context)) { context = context.call(this); }\n\n    let fn = options.fn;\n\n    if (!isEmpty(context)) {\n      let data = options.data;\n      if (options.data && options.ids) {\n        data = createFrame(options.data);\n        data.contextPath = appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  });\n}\n","import {indexOf} from './utils';\n\nlet logger = {\n  methodMap: ['debug', 'info', 'warn', 'error'],\n  level: 'info',\n\n  // Maps a given level value to the `methodMap` indexes above.\n  lookupLevel: function(level) {\n    if (typeof level === 'string') {\n      let levelMap = indexOf(logger.methodMap, level.toLowerCase());\n      if (levelMap >= 0) {\n        level = levelMap;\n      } else {\n        level = parseInt(level, 10);\n      }\n    }\n\n    return level;\n  },\n\n  // Can be overridden in the host environment\n  log: function(level, ...message) {\n    level = logger.lookupLevel(level);\n\n    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n      let method = logger.methodMap[level];\n      if (!console[method]) { // eslint-disable-line no-console\n        method = 'log';\n      }\n      console[method](...message); // eslint-disable-line no-console\n    }\n  }\n};\n\nexport default logger;\n","/* global window */\nexport default function(Handlebars) {\n  /* istanbul ignore next */\n  let root = typeof global !== 'undefined' ? global : window,\n      $Handlebars = root.Handlebars;\n  /* istanbul ignore next */\n  Handlebars.noConflict = function() {\n    if (root.Handlebars === Handlebars) {\n      root.Handlebars = $Handlebars;\n    }\n    return Handlebars;\n  };\n}\n","import * as Utils from './utils';\nimport Exception from './exception';\nimport { COMPILER_REVISION, REVISION_CHANGES, createFrame } from './base';\n\nexport function checkRevision(compilerInfo) {\n  const compilerRevision = compilerInfo && compilerInfo[0] || 1,\n        currentRevision = COMPILER_REVISION;\n\n  if (compilerRevision !== currentRevision) {\n    if (compilerRevision < currentRevision) {\n      const runtimeVersions = REVISION_CHANGES[currentRevision],\n            compilerVersions = REVISION_CHANGES[compilerRevision];\n      throw new Exception('Template was precompiled with an older version of Handlebars than the current runtime. ' +\n            'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n    } else {\n      // Use the embedded version info since the runtime doesn't know about this revision yet\n      throw new Exception('Template was precompiled with a newer version of Handlebars than the current runtime. ' +\n            'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n    }\n  }\n}\n\nexport function template(templateSpec, env) {\n  /* istanbul ignore next */\n  if (!env) {\n    throw new Exception('No environment passed to template');\n  }\n  if (!templateSpec || !templateSpec.main) {\n    throw new Exception('Unknown template object: ' + typeof templateSpec);\n  }\n\n  templateSpec.main.decorator = templateSpec.main_d;\n\n  // Note: Using env.VM references rather than local var references throughout this section to allow\n  // for external users to override these as psuedo-supported APIs.\n  env.VM.checkRevision(templateSpec.compiler);\n\n  function invokePartialWrapper(partial, context, options) {\n    if (options.hash) {\n      context = Utils.extend({}, context, options.hash);\n      if (options.ids) {\n        options.ids[0] = true;\n      }\n    }\n\n    partial = env.VM.resolvePartial.call(this, partial, context, options);\n    let result = env.VM.invokePartial.call(this, partial, context, options);\n\n    if (result == null && env.compile) {\n      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n      result = options.partials[options.name](context, options);\n    }\n    if (result != null) {\n      if (options.indent) {\n        let lines = result.split('\\n');\n        for (let i = 0, l = lines.length; i < l; i++) {\n          if (!lines[i] && i + 1 === l) {\n            break;\n          }\n\n          lines[i] = options.indent + lines[i];\n        }\n        result = lines.join('\\n');\n      }\n      return result;\n    } else {\n      throw new Exception('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n    }\n  }\n\n  // Just add water\n  let container = {\n    strict: function(obj, name) {\n      if (!(name in obj)) {\n        throw new Exception('\"' + name + '\" not defined in ' + obj);\n      }\n      return obj[name];\n    },\n    lookup: function(depths, name) {\n      const len = depths.length;\n      for (let i = 0; i < len; i++) {\n        if (depths[i] && depths[i][name] != null) {\n          return depths[i][name];\n        }\n      }\n    },\n    lambda: function(current, context) {\n      return typeof current === 'function' ? current.call(context) : current;\n    },\n\n    escapeExpression: Utils.escapeExpression,\n    invokePartial: invokePartialWrapper,\n\n    fn: function(i) {\n      let ret = templateSpec[i];\n      ret.decorator = templateSpec[i + '_d'];\n      return ret;\n    },\n\n    programs: [],\n    program: function(i, data, declaredBlockParams, blockParams, depths) {\n      let programWrapper = this.programs[i],\n          fn = this.fn(i);\n      if (data || depths || blockParams || declaredBlockParams) {\n        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n      } else if (!programWrapper) {\n        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n      }\n      return programWrapper;\n    },\n\n    data: function(value, depth) {\n      while (value && depth--) {\n        value = value._parent;\n      }\n      return value;\n    },\n    merge: function(param, common) {\n      let obj = param || common;\n\n      if (param && common && (param !== common)) {\n        obj = Utils.extend({}, common, param);\n      }\n\n      return obj;\n    },\n    // An empty object to use as replacement for null-contexts\n    nullContext: Object.seal({}),\n\n    noop: env.VM.noop,\n    compilerInfo: templateSpec.compiler\n  };\n\n  function ret(context, options = {}) {\n    let data = options.data;\n\n    ret._setup(options);\n    if (!options.partial && templateSpec.useData) {\n      data = initData(context, data);\n    }\n    let depths,\n        blockParams = templateSpec.useBlockParams ? [] : undefined;\n    if (templateSpec.useDepths) {\n      if (options.depths) {\n        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n      } else {\n        depths = [context];\n      }\n    }\n\n    function main(context/*, options*/) {\n      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n    }\n    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n    return main(context, options);\n  }\n  ret.isTop = true;\n\n  ret._setup = function(options) {\n    if (!options.partial) {\n      container.helpers = container.merge(options.helpers, env.helpers);\n\n      if (templateSpec.usePartial) {\n        container.partials = container.merge(options.partials, env.partials);\n      }\n      if (templateSpec.usePartial || templateSpec.useDecorators) {\n        container.decorators = container.merge(options.decorators, env.decorators);\n      }\n    } else {\n      container.helpers = options.helpers;\n      container.partials = options.partials;\n      container.decorators = options.decorators;\n    }\n  };\n\n  ret._child = function(i, data, blockParams, depths) {\n    if (templateSpec.useBlockParams && !blockParams) {\n      throw new Exception('must pass block params');\n    }\n    if (templateSpec.useDepths && !depths) {\n      throw new Exception('must pass parent depths');\n    }\n\n    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n  };\n  return ret;\n}\n\nexport function wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n  function prog(context, options = {}) {\n    let currentDepths = depths;\n    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n      currentDepths = [context].concat(depths);\n    }\n\n    return fn(container,\n        context,\n        container.helpers, container.partials,\n        options.data || data,\n        blockParams && [options.blockParams].concat(blockParams),\n        currentDepths);\n  }\n\n  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n  prog.program = i;\n  prog.depth = depths ? depths.length : 0;\n  prog.blockParams = declaredBlockParams || 0;\n  return prog;\n}\n\nexport function resolvePartial(partial, context, options) {\n  if (!partial) {\n    if (options.name === '@partial-block') {\n      partial = options.data['partial-block'];\n    } else {\n      partial = options.partials[options.name];\n    }\n  } else if (!partial.call && !options.name) {\n    // This is a dynamic partial that returned a string\n    options.name = partial;\n    partial = options.partials[partial];\n  }\n  return partial;\n}\n\nexport function invokePartial(partial, context, options) {\n  // Use the current closure context to save the partial-block if this partial\n  const currentPartialBlock = options.data && options.data['partial-block'];\n  options.partial = true;\n  if (options.ids) {\n    options.data.contextPath = options.ids[0] || options.data.contextPath;\n  }\n\n  let partialBlock;\n  if (options.fn && options.fn !== noop) {\n    options.data = createFrame(options.data);\n    // Wrapper function to get access to currentPartialBlock from the closure\n    let fn = options.fn;\n    partialBlock = options.data['partial-block'] = function partialBlockWrapper(context, options = {}) {\n\n      // Restore the partial-block from the closure for the execution of the block\n      // i.e. the part inside the block of the partial call.\n      options.data = createFrame(options.data);\n      options.data['partial-block'] = currentPartialBlock;\n      return fn(context, options);\n    };\n    if (fn.partials) {\n      options.partials = Utils.extend({}, options.partials, fn.partials);\n    }\n  }\n\n  if (partial === undefined && partialBlock) {\n    partial = partialBlock;\n  }\n\n  if (partial === undefined) {\n    throw new Exception('The partial ' + options.name + ' could not be found');\n  } else if (partial instanceof Function) {\n    return partial(context, options);\n  }\n}\n\nexport function noop() { return ''; }\n\nfunction initData(context, data) {\n  if (!data || !('root' in data)) {\n    data = data ? createFrame(data) : {};\n    data.root = context;\n  }\n  return data;\n}\n\nfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n  if (fn.decorator) {\n    let props = {};\n    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n    Utils.extend(prog, props);\n  }\n  return prog;\n}\n","// Build out our basic SafeString type\nfunction SafeString(string) {\n  this.string = string;\n}\n\nSafeString.prototype.toString = SafeString.prototype.toHTML = function() {\n  return '' + this.string;\n};\n\nexport default SafeString;\n","const escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n  '=': '&#x3D;'\n};\n\nconst badChars = /[&<>\"'`=]/g,\n      possible = /[&<>\"'`=]/;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nexport function extend(obj/* , ...source */) {\n  for (let i = 1; i < arguments.length; i++) {\n    for (let key in arguments[i]) {\n      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n        obj[key] = arguments[i][key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nexport let toString = Object.prototype.toString;\n\n// Sourced from lodash\n// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n/* eslint-disable func-style */\nlet isFunction = function(value) {\n  return typeof value === 'function';\n};\n// fallback for older versions of Chrome and Safari\n/* istanbul ignore next */\nif (isFunction(/x/)) {\n  isFunction = function(value) {\n    return typeof value === 'function' && toString.call(value) === '[object Function]';\n  };\n}\nexport {isFunction};\n/* eslint-enable func-style */\n\n/* istanbul ignore next */\nexport const isArray = Array.isArray || function(value) {\n  return (value && typeof value === 'object') ? toString.call(value) === '[object Array]' : false;\n};\n\n// Older IE versions do not directly support indexOf so we must implement our own, sadly.\nexport function indexOf(array, value) {\n  for (let i = 0, len = array.length; i < len; i++) {\n    if (array[i] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n\n\nexport function escapeExpression(string) {\n  if (typeof string !== 'string') {\n    // don't escape SafeStrings, since they're already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return '';\n    } else if (!string) {\n      return string + '';\n    }\n\n    // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n    string = '' + string;\n  }\n\n  if (!possible.test(string)) { return string; }\n  return string.replace(badChars, escapeChar);\n}\n\nexport function isEmpty(value) {\n  if (!value && value !== 0) {\n    return true;\n  } else if (isArray(value) && value.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport function createFrame(object) {\n  let frame = extend({}, object);\n  frame._parent = object;\n  return frame;\n}\n\nexport function blockParams(params, ids) {\n  params.path = ids;\n  return params;\n}\n\nexport function appendContextPath(contextPath, id) {\n  return (contextPath ? contextPath + '.' : '') + id;\n}\n","// USAGE:\n// var handlebars = require('handlebars');\n/* eslint-disable no-var */\n\n// var local = handlebars.create();\n\nvar handlebars = require('../dist/cjs/handlebars')['default'];\n\nvar printer = require('../dist/cjs/handlebars/compiler/printer');\nhandlebars.PrintVisitor = printer.PrintVisitor;\nhandlebars.print = printer.print;\n\nmodule.exports = handlebars;\n\n// Publish a Node.js require() handler for .handlebars and .hbs files\nfunction extension(module, filename) {\n  var fs = require('fs');\n  var templateString = fs.readFileSync(filename, 'utf8');\n  module.exports = handlebars.compile(templateString);\n}\n/* istanbul ignore else */\nif (typeof require !== 'undefined' && require.extensions) {\n  require.extensions['.handlebars'] = extension;\n  require.extensions['.hbs'] = extension;\n}\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  var mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  var cmp = aCompare(aNeedle, aHaystack[mid], true);\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  }\n  else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    } else {\n      return mid;\n    }\n  }\n  else {\n    // Our needle is less than aHaystack[mid].\n    if (mid - aLow > 1) {\n      // The element is in the lower half.\n      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return mid;\n    } else {\n      return aLow < 0 ? -1 : aLow;\n    }\n  }\n}\n\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\n                              aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n  if (index < 0) {\n    return -1;\n  }\n\n  // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n    --index;\n  }\n\n  return index;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true;\n  // Serves as infimum\n  this._last = {generatedLine: -1, generatedColumn: 0};\n}\n\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\nMappingList.prototype.unsortedForEach =\n  function MappingList_forEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  };\n\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n    this._array.push(aMapping);\n  }\n};\n\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n    this._sorted = true;\n  }\n  return this._array;\n};\n\nexports.MappingList = MappingList;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n// It turns out that some (most?) JavaScript engines don't self-host\n// `Array.prototype.sort`. This makes sense because C++ will likely remain\n// faster than JS when doing raw CPU-intensive sorting. However, when using a\n// custom comparator function, calling back and forth between the VM's C++ and\n// JIT'd JS is rather slow *and* loses JIT type information, resulting in\n// worse generated code for the comparator function than would be optimal. In\n// fact, when sorting with a comparator, these costs outweigh the benefits of\n// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\n// a ~3500ms mean speed-up in `bench/bench.html`.\n\n/**\n * Swap the elements indexed by `x` and `y` in the array `ary`.\n *\n * @param {Array} ary\n *        The array.\n * @param {Number} x\n *        The index of the first item.\n * @param {Number} y\n *        The index of the second item.\n */\nfunction swap(ary, x, y) {\n  var temp = ary[x];\n  ary[x] = ary[y];\n  ary[y] = temp;\n}\n\n/**\n * Returns a random integer within the range `low .. high` inclusive.\n *\n * @param {Number} low\n *        The lower bound on the range.\n * @param {Number} high\n *        The upper bound on the range.\n */\nfunction randomIntInRange(low, high) {\n  return Math.round(low + (Math.random() * (high - low)));\n}\n\n/**\n * The Quick Sort algorithm.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n * @param {Number} p\n *        Start index of the array\n * @param {Number} r\n *        End index of the array\n */\nfunction doQuickSort(ary, comparator, p, r) {\n  // If our lower bound is less than our upper bound, we (1) partition the\n  // array into two pieces and (2) recurse on each half. If it is not, this is\n  // the empty array and our base case.\n\n  if (p < r) {\n    // (1) Partitioning.\n    //\n    // The partitioning chooses a pivot between `p` and `r` and moves all\n    // elements that are less than or equal to the pivot to the before it, and\n    // all the elements that are greater than it after it. The effect is that\n    // once partition is done, the pivot is in the exact place it will be when\n    // the array is put in sorted order, and it will not need to be moved\n    // again. This runs in O(n) time.\n\n    // Always choose a random pivot so that an input array which is reverse\n    // sorted does not cause O(n^2) running time.\n    var pivotIndex = randomIntInRange(p, r);\n    var i = p - 1;\n\n    swap(ary, pivotIndex, r);\n    var pivot = ary[r];\n\n    // Immediately after `j` is incremented in this loop, the following hold\n    // true:\n    //\n    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.\n    //\n    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\n    for (var j = p; j < r; j++) {\n      if (comparator(ary[j], pivot) <= 0) {\n        i += 1;\n        swap(ary, i, j);\n      }\n    }\n\n    swap(ary, i + 1, j);\n    var q = i + 1;\n\n    // (2) Recurse on each half.\n\n    doQuickSort(ary, comparator, p, q - 1);\n    doQuickSort(ary, comparator, q + 1, r);\n  }\n}\n\n/**\n * Sort the given array in-place with the given comparator function.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n */\nexports.quickSort = function (ary, comparator) {\n  doQuickSort(ary, comparator, 0, ary.length - 1);\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar binarySearch = require('./binary-search');\nvar ArraySet = require('./array-set').ArraySet;\nvar base64VLQ = require('./base64-vlq');\nvar quickSort = require('./quick-sort').quickSort;\n\nfunction SourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  return sourceMap.sections != null\n    ? new IndexedSourceMapConsumer(sourceMap, aSourceMapURL)\n    : new BasicSourceMapConsumer(sourceMap, aSourceMapURL);\n}\n\nSourceMapConsumer.fromSourceMap = function(aSourceMap, aSourceMapURL) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap, aSourceMapURL);\n}\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nSourceMapConsumer.prototype._version = 3;\n\n// `__generatedMappings` and `__originalMappings` are arrays that hold the\n// parsed mapping coordinates from the source map's \"mappings\" attribute. They\n// are lazily instantiated, accessed via the `_generatedMappings` and\n// `_originalMappings` getters respectively, and we only parse the mappings\n// and create these arrays once queried for a source location. We jump through\n// these hoops because there can be many thousands of mappings, and parsing\n// them is expensive, so we only want to do it if we must.\n//\n// Each object in the arrays is of the form:\n//\n//     {\n//       generatedLine: The line number in the generated code,\n//       generatedColumn: The column number in the generated code,\n//       source: The path to the original source file that generated this\n//               chunk of code,\n//       originalLine: The line number in the original source that\n//                     corresponds to this chunk of generated code,\n//       originalColumn: The column number in the original source that\n//                       corresponds to this chunk of generated code,\n//       name: The name of the original symbol which generated this chunk of\n//             code.\n//     }\n//\n// All properties except for `generatedLine` and `generatedColumn` can be\n// `null`.\n//\n// `_generatedMappings` is ordered by the generated positions.\n//\n// `_originalMappings` is ordered by the original positions.\n\nSourceMapConsumer.prototype.__generatedMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\n  configurable: true,\n  enumerable: true,\n  get: function () {\n    if (!this.__generatedMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappings;\n  }\n});\n\nSourceMapConsumer.prototype.__originalMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\n  configurable: true,\n  enumerable: true,\n  get: function () {\n    if (!this.__originalMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappings;\n  }\n});\n\nSourceMapConsumer.prototype._charIsMappingSeparator =\n  function SourceMapConsumer_charIsMappingSeparator(aStr, index) {\n    var c = aStr.charAt(index);\n    return c === \";\" || c === \",\";\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    throw new Error(\"Subclasses must implement _parseMappings\");\n  };\n\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\n\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n\n/**\n * Iterate over each mapping between an original source/line/column and a\n * generated line/column in this source map.\n *\n * @param Function aCallback\n *        The function that is called with each mapping.\n * @param Object aContext\n *        Optional. If specified, this object will be the value of `this` every\n *        time that `aCallback` is called.\n * @param aOrder\n *        Either `SourceMapConsumer.GENERATED_ORDER` or\n *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n *        iterate over the mappings sorted by the generated file's line/column\n *        order or the original's source/line/column order, respectively. Defaults to\n *        `SourceMapConsumer.GENERATED_ORDER`.\n */\nSourceMapConsumer.prototype.eachMapping =\n  function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\n    var context = aContext || null;\n    var order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n\n    var mappings;\n    switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n    }\n\n    var sourceRoot = this.sourceRoot;\n    mappings.map(function (mapping) {\n      var source = mapping.source === null ? null : this._sources.at(mapping.source);\n      source = util.computeSourceURL(sourceRoot, source, this._sourceMapURL);\n      return {\n        source: source,\n        generatedLine: mapping.generatedLine,\n        generatedColumn: mapping.generatedColumn,\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: mapping.name === null ? null : this._names.at(mapping.name)\n      };\n    }, this).forEach(aCallback, context);\n  };\n\n/**\n * Returns all generated line and column information for the original source,\n * line, and column provided. If no column is provided, returns all mappings\n * corresponding to a either the line we are searching for or the next\n * closest line that has any mappings. Otherwise, returns all mappings\n * corresponding to the given line and either the column we are searching for\n * or the next closest column that has any offsets.\n *\n * The only argument is an object with the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number is 1-based.\n *   - column: Optional. the column number in the original source.\n *    The column number is 0-based.\n *\n * and an array of objects is returned, each with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *    line number is 1-based.\n *   - column: The column number in the generated source, or null.\n *    The column number is 0-based.\n */\nSourceMapConsumer.prototype.allGeneratedPositionsFor =\n  function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\n    var line = util.getArg(aArgs, 'line');\n\n    // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n    // returns the index of the closest mapping less than the needle. By\n    // setting needle.originalColumn to 0, we thus find the last mapping for\n    // the given line, provided such a mapping exists.\n    var needle = {\n      source: util.getArg(aArgs, 'source'),\n      originalLine: line,\n      originalColumn: util.getArg(aArgs, 'column', 0)\n    };\n\n    needle.source = this._findSourceIndex(needle.source);\n    if (needle.source < 0) {\n      return [];\n    }\n\n    var mappings = [];\n\n    var index = this._findMapping(needle,\n                                  this._originalMappings,\n                                  \"originalLine\",\n                                  \"originalColumn\",\n                                  util.compareByOriginalPositions,\n                                  binarySearch.LEAST_UPPER_BOUND);\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (aArgs.column === undefined) {\n        var originalLine = mapping.originalLine;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we found. Since\n        // mappings are sorted, this is guaranteed to find all mappings for\n        // the line we found.\n        while (mapping && mapping.originalLine === originalLine) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      } else {\n        var originalColumn = mapping.originalColumn;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we were searching for.\n        // Since mappings are sorted, this is guaranteed to find all mappings for\n        // the line we are searching for.\n        while (mapping &&\n               mapping.originalLine === line &&\n               mapping.originalColumn == originalColumn) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      }\n    }\n\n    return mappings;\n  };\n\nexports.SourceMapConsumer = SourceMapConsumer;\n\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The first parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referrenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\nfunction BasicSourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sources = util.getArg(sourceMap, 'sources');\n  // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n  // requires the array) to play nice here.\n  var names = util.getArg(sourceMap, 'names', []);\n  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\n  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\n  var mappings = util.getArg(sourceMap, 'mappings');\n  var file = util.getArg(sourceMap, 'file', null);\n\n  // Once again, Sass deviates from the spec and supplies the version as a\n  // string rather than a number, so we use loose equality checking here.\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  if (sourceRoot) {\n    sourceRoot = util.normalize(sourceRoot);\n  }\n\n  sources = sources\n    .map(String)\n    // Some source maps produce relative source paths like \"./foo.js\" instead of\n    // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n    // See bugzil.la/1090768.\n    .map(util.normalize)\n    // Always ensure that absolute sources are internally stored relative to\n    // the source root, if the source root is absolute. Not doing this would\n    // be particularly problematic when the source root is a prefix of the\n    // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n    .map(function (source) {\n      return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\n        ? util.relative(sourceRoot, source)\n        : source;\n    });\n\n  // Pass `true` below to allow duplicate names and sources. While source maps\n  // are intended to be compressed and deduplicated, the TypeScript compiler\n  // sometimes generates source maps with duplicates in them. See Github issue\n  // #72 and bugzil.la/889492.\n  this._names = ArraySet.fromArray(names.map(String), true);\n  this._sources = ArraySet.fromArray(sources, true);\n\n  this._absoluteSources = this._sources.toArray().map(function (s) {\n    return util.computeSourceURL(sourceRoot, s, aSourceMapURL);\n  });\n\n  this.sourceRoot = sourceRoot;\n  this.sourcesContent = sourcesContent;\n  this._mappings = mappings;\n  this._sourceMapURL = aSourceMapURL;\n  this.file = file;\n}\n\nBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\n\n/**\n * Utility function to find the index of a source.  Returns -1 if not\n * found.\n */\nBasicSourceMapConsumer.prototype._findSourceIndex = function(aSource) {\n  var relativeSource = aSource;\n  if (this.sourceRoot != null) {\n    relativeSource = util.relative(this.sourceRoot, relativeSource);\n  }\n\n  if (this._sources.has(relativeSource)) {\n    return this._sources.indexOf(relativeSource);\n  }\n\n  // Maybe aSource is an absolute URL as returned by |sources|.  In\n  // this case we can't simply undo the transform.\n  var i;\n  for (i = 0; i < this._absoluteSources.length; ++i) {\n    if (this._absoluteSources[i] == aSource) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\n/**\n * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n *\n * @param SourceMapGenerator aSourceMap\n *        The source map that will be consumed.\n * @param String aSourceMapURL\n *        The URL at which the source map can be found (optional)\n * @returns BasicSourceMapConsumer\n */\nBasicSourceMapConsumer.fromSourceMap =\n  function SourceMapConsumer_fromSourceMap(aSourceMap, aSourceMapURL) {\n    var smc = Object.create(BasicSourceMapConsumer.prototype);\n\n    var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\n    var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\n    smc.sourceRoot = aSourceMap._sourceRoot;\n    smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),\n                                                            smc.sourceRoot);\n    smc.file = aSourceMap._file;\n    smc._sourceMapURL = aSourceMapURL;\n    smc._absoluteSources = smc._sources.toArray().map(function (s) {\n      return util.computeSourceURL(smc.sourceRoot, s, aSourceMapURL);\n    });\n\n    // Because we are modifying the entries (by converting string sources and\n    // names to indices into the sources and names ArraySets), we have to make\n    // a copy of the entry or else bad things happen. Shared mutable state\n    // strikes again! See github issue #191.\n\n    var generatedMappings = aSourceMap._mappings.toArray().slice();\n    var destGeneratedMappings = smc.__generatedMappings = [];\n    var destOriginalMappings = smc.__originalMappings = [];\n\n    for (var i = 0, length = generatedMappings.length; i < length; i++) {\n      var srcMapping = generatedMappings[i];\n      var destMapping = new Mapping;\n      destMapping.generatedLine = srcMapping.generatedLine;\n      destMapping.generatedColumn = srcMapping.generatedColumn;\n\n      if (srcMapping.source) {\n        destMapping.source = sources.indexOf(srcMapping.source);\n        destMapping.originalLine = srcMapping.originalLine;\n        destMapping.originalColumn = srcMapping.originalColumn;\n\n        if (srcMapping.name) {\n          destMapping.name = names.indexOf(srcMapping.name);\n        }\n\n        destOriginalMappings.push(destMapping);\n      }\n\n      destGeneratedMappings.push(destMapping);\n    }\n\n    quickSort(smc.__originalMappings, util.compareByOriginalPositions);\n\n    return smc;\n  };\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nBasicSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    return this._absoluteSources.slice();\n  }\n});\n\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nBasicSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    var generatedLine = 1;\n    var previousGeneratedColumn = 0;\n    var previousOriginalLine = 0;\n    var previousOriginalColumn = 0;\n    var previousSource = 0;\n    var previousName = 0;\n    var length = aStr.length;\n    var index = 0;\n    var cachedSegments = {};\n    var temp = {};\n    var originalMappings = [];\n    var generatedMappings = [];\n    var mapping, str, segment, end, value;\n\n    while (index < length) {\n      if (aStr.charAt(index) === ';') {\n        generatedLine++;\n        index++;\n        previousGeneratedColumn = 0;\n      }\n      else if (aStr.charAt(index) === ',') {\n        index++;\n      }\n      else {\n        mapping = new Mapping();\n        mapping.generatedLine = generatedLine;\n\n        // Because each offset is encoded relative to the previous one,\n        // many segments often have the same encoding. We can exploit this\n        // fact by caching the parsed variable length fields of each segment,\n        // allowing us to avoid a second parse if we encounter the same\n        // segment again.\n        for (end = index; end < length; end++) {\n          if (this._charIsMappingSeparator(aStr, end)) {\n            break;\n          }\n        }\n        str = aStr.slice(index, end);\n\n        segment = cachedSegments[str];\n        if (segment) {\n          index += str.length;\n        } else {\n          segment = [];\n          while (index < end) {\n            base64VLQ.decode(aStr, index, temp);\n            value = temp.value;\n            index = temp.rest;\n            segment.push(value);\n          }\n\n          if (segment.length === 2) {\n            throw new Error('Found a source, but no line and column');\n          }\n\n          if (segment.length === 3) {\n            throw new Error('Found a source and line, but no column');\n          }\n\n          cachedSegments[str] = segment;\n        }\n\n        // Generated column.\n        mapping.generatedColumn = previousGeneratedColumn + segment[0];\n        previousGeneratedColumn = mapping.generatedColumn;\n\n        if (segment.length > 1) {\n          // Original source.\n          mapping.source = previousSource + segment[1];\n          previousSource += segment[1];\n\n          // Original line.\n          mapping.originalLine = previousOriginalLine + segment[2];\n          previousOriginalLine = mapping.originalLine;\n          // Lines are stored 0-based\n          mapping.originalLine += 1;\n\n          // Original column.\n          mapping.originalColumn = previousOriginalColumn + segment[3];\n          previousOriginalColumn = mapping.originalColumn;\n\n          if (segment.length > 4) {\n            // Original name.\n            mapping.name = previousName + segment[4];\n            previousName += segment[4];\n          }\n        }\n\n        generatedMappings.push(mapping);\n        if (typeof mapping.originalLine === 'number') {\n          originalMappings.push(mapping);\n        }\n      }\n    }\n\n    quickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);\n    this.__generatedMappings = generatedMappings;\n\n    quickSort(originalMappings, util.compareByOriginalPositions);\n    this.__originalMappings = originalMappings;\n  };\n\n/**\n * Find the mapping that best matches the hypothetical \"needle\" mapping that\n * we are searching for in the given \"haystack\" of mappings.\n */\nBasicSourceMapConsumer.prototype._findMapping =\n  function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,\n                                         aColumnName, aComparator, aBias) {\n    // To return the position we are searching for, we must first find the\n    // mapping for the given position and then return the opposite position it\n    // points to. Because the mappings are sorted, we can use binary search to\n    // find the best mapping.\n\n    if (aNeedle[aLineName] <= 0) {\n      throw new TypeError('Line must be greater than or equal to 1, got '\n                          + aNeedle[aLineName]);\n    }\n    if (aNeedle[aColumnName] < 0) {\n      throw new TypeError('Column must be greater than or equal to 0, got '\n                          + aNeedle[aColumnName]);\n    }\n\n    return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n  };\n\n/**\n * Compute the last column for each generated mapping. The last column is\n * inclusive.\n */\nBasicSourceMapConsumer.prototype.computeColumnSpans =\n  function SourceMapConsumer_computeColumnSpans() {\n    for (var index = 0; index < this._generatedMappings.length; ++index) {\n      var mapping = this._generatedMappings[index];\n\n      // Mappings do not contain a field for the last generated columnt. We\n      // can come up with an optimistic estimate, however, by assuming that\n      // mappings are contiguous (i.e. given two consecutive mappings, the\n      // first mapping ends where the second one starts).\n      if (index + 1 < this._generatedMappings.length) {\n        var nextMapping = this._generatedMappings[index + 1];\n\n        if (mapping.generatedLine === nextMapping.generatedLine) {\n          mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\n          continue;\n        }\n      }\n\n      // The last mapping for each line spans the entire line.\n      mapping.lastGeneratedColumn = Infinity;\n    }\n  };\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.  The line number\n *     is 1-based.\n *   - column: The column number in the generated source.  The column\n *     number is 0-based.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the original source, or null.  The\n *     column number is 0-based.\n *   - name: The original identifier, or null.\n */\nBasicSourceMapConsumer.prototype.originalPositionFor =\n  function SourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._generatedMappings,\n      \"generatedLine\",\n      \"generatedColumn\",\n      util.compareByGeneratedPositionsDeflated,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._generatedMappings[index];\n\n      if (mapping.generatedLine === needle.generatedLine) {\n        var source = util.getArg(mapping, 'source', null);\n        if (source !== null) {\n          source = this._sources.at(source);\n          source = util.computeSourceURL(this.sourceRoot, source, this._sourceMapURL);\n        }\n        var name = util.getArg(mapping, 'name', null);\n        if (name !== null) {\n          name = this._names.at(name);\n        }\n        return {\n          source: source,\n          line: util.getArg(mapping, 'originalLine', null),\n          column: util.getArg(mapping, 'originalColumn', null),\n          name: name\n        };\n      }\n    }\n\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nBasicSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function BasicSourceMapConsumer_hasContentsOfAllSources() {\n    if (!this.sourcesContent) {\n      return false;\n    }\n    return this.sourcesContent.length >= this._sources.size() &&\n      !this.sourcesContent.some(function (sc) { return sc == null; });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nBasicSourceMapConsumer.prototype.sourceContentFor =\n  function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    if (!this.sourcesContent) {\n      return null;\n    }\n\n    var index = this._findSourceIndex(aSource);\n    if (index >= 0) {\n      return this.sourcesContent[index];\n    }\n\n    var relativeSource = aSource;\n    if (this.sourceRoot != null) {\n      relativeSource = util.relative(this.sourceRoot, relativeSource);\n    }\n\n    var url;\n    if (this.sourceRoot != null\n        && (url = util.urlParse(this.sourceRoot))) {\n      // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n      // many users. We can help them out when they expect file:// URIs to\n      // behave like it would if they were running a local HTTP server. See\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n      var fileUriAbsPath = relativeSource.replace(/^file:\\/\\//, \"\");\n      if (url.scheme == \"file\"\n          && this._sources.has(fileUriAbsPath)) {\n        return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]\n      }\n\n      if ((!url.path || url.path == \"/\")\n          && this._sources.has(\"/\" + relativeSource)) {\n        return this.sourcesContent[this._sources.indexOf(\"/\" + relativeSource)];\n      }\n    }\n\n    // This function is used recursively from\n    // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n    // don't want to throw if we can't find the source - we just want to\n    // return null, so we provide a flag to exit gracefully.\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + relativeSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number\n *     is 1-based.\n *   - column: The column number in the original source.  The column\n *     number is 0-based.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the generated source, or null.\n *     The column number is 0-based.\n */\nBasicSourceMapConsumer.prototype.generatedPositionFor =\n  function SourceMapConsumer_generatedPositionFor(aArgs) {\n    var source = util.getArg(aArgs, 'source');\n    source = this._findSourceIndex(source);\n    if (source < 0) {\n      return {\n        line: null,\n        column: null,\n        lastColumn: null\n      };\n    }\n\n    var needle = {\n      source: source,\n      originalLine: util.getArg(aArgs, 'line'),\n      originalColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._originalMappings,\n      \"originalLine\",\n      \"originalColumn\",\n      util.compareByOriginalPositions,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (mapping.source === needle.source) {\n        return {\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        };\n      }\n    }\n\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  };\n\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The first parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\nfunction IndexedSourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sections = util.getArg(sourceMap, 'sections');\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n\n  var lastOffset = {\n    line: -1,\n    column: 0\n  };\n  this._sections = sections.map(function (s) {\n    if (s.url) {\n      // The url field will require support for asynchronicity.\n      // See https://github.com/mozilla/source-map/issues/16\n      throw new Error('Support for url field in sections not implemented.');\n    }\n    var offset = util.getArg(s, 'offset');\n    var offsetLine = util.getArg(offset, 'line');\n    var offsetColumn = util.getArg(offset, 'column');\n\n    if (offsetLine < lastOffset.line ||\n        (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\n      throw new Error('Section offsets must be ordered and non-overlapping.');\n    }\n    lastOffset = offset;\n\n    return {\n      generatedOffset: {\n        // The offset fields are 0-based, but we use 1-based indices when\n        // encoding/decoding from VLQ.\n        generatedLine: offsetLine + 1,\n        generatedColumn: offsetColumn + 1\n      },\n      consumer: new SourceMapConsumer(util.getArg(s, 'map'), aSourceMapURL)\n    }\n  });\n}\n\nIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nIndexedSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    var sources = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n    return sources;\n  }\n});\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.  The line number\n *     is 1-based.\n *   - column: The column number in the generated source.  The column\n *     number is 0-based.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the original source, or null.  The\n *     column number is 0-based.\n *   - name: The original identifier, or null.\n */\nIndexedSourceMapConsumer.prototype.originalPositionFor =\n  function IndexedSourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    // Find the section containing the generated position we're trying to map\n    // to an original position.\n    var sectionIndex = binarySearch.search(needle, this._sections,\n      function(needle, section) {\n        var cmp = needle.generatedLine - section.generatedOffset.generatedLine;\n        if (cmp) {\n          return cmp;\n        }\n\n        return (needle.generatedColumn -\n                section.generatedOffset.generatedColumn);\n      });\n    var section = this._sections[sectionIndex];\n\n    if (!section) {\n      return {\n        source: null,\n        line: null,\n        column: null,\n        name: null\n      };\n    }\n\n    return section.consumer.originalPositionFor({\n      line: needle.generatedLine -\n        (section.generatedOffset.generatedLine - 1),\n      column: needle.generatedColumn -\n        (section.generatedOffset.generatedLine === needle.generatedLine\n         ? section.generatedOffset.generatedColumn - 1\n         : 0),\n      bias: aArgs.bias\n    });\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nIndexedSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function IndexedSourceMapConsumer_hasContentsOfAllSources() {\n    return this._sections.every(function (s) {\n      return s.consumer.hasContentsOfAllSources();\n    });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nIndexedSourceMapConsumer.prototype.sourceContentFor =\n  function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      var content = section.consumer.sourceContentFor(aSource, true);\n      if (content) {\n        return content;\n      }\n    }\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number\n *     is 1-based.\n *   - column: The column number in the original source.  The column\n *     number is 0-based.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *     line number is 1-based. \n *   - column: The column number in the generated source, or null.\n *     The column number is 0-based.\n */\nIndexedSourceMapConsumer.prototype.generatedPositionFor =\n  function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      // Only consider this section if the requested source is in the list of\n      // sources of the consumer.\n      if (section.consumer._findSourceIndex(util.getArg(aArgs, 'source')) === -1) {\n        continue;\n      }\n      var generatedPosition = section.consumer.generatedPositionFor(aArgs);\n      if (generatedPosition) {\n        var ret = {\n          line: generatedPosition.line +\n            (section.generatedOffset.generatedLine - 1),\n          column: generatedPosition.column +\n            (section.generatedOffset.generatedLine === generatedPosition.line\n             ? section.generatedOffset.generatedColumn - 1\n             : 0)\n        };\n        return ret;\n      }\n    }\n\n    return {\n      line: null,\n      column: null\n    };\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nIndexedSourceMapConsumer.prototype._parseMappings =\n  function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    this.__generatedMappings = [];\n    this.__originalMappings = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n      var sectionMappings = section.consumer._generatedMappings;\n      for (var j = 0; j < sectionMappings.length; j++) {\n        var mapping = sectionMappings[j];\n\n        var source = section.consumer._sources.at(mapping.source);\n        source = util.computeSourceURL(section.consumer.sourceRoot, source, this._sourceMapURL);\n        this._sources.add(source);\n        source = this._sources.indexOf(source);\n\n        var name = null;\n        if (mapping.name) {\n          name = section.consumer._names.at(mapping.name);\n          this._names.add(name);\n          name = this._names.indexOf(name);\n        }\n\n        // The mappings coming from the consumer for the section have\n        // generated positions relative to the start of the section, so we\n        // need to offset them to be relative to the start of the concatenated\n        // generated file.\n        var adjustedMapping = {\n          source: source,\n          generatedLine: mapping.generatedLine +\n            (section.generatedOffset.generatedLine - 1),\n          generatedColumn: mapping.generatedColumn +\n            (section.generatedOffset.generatedLine === mapping.generatedLine\n            ? section.generatedOffset.generatedColumn - 1\n            : 0),\n          originalLine: mapping.originalLine,\n          originalColumn: mapping.originalColumn,\n          name: name\n        };\n\n        this.__generatedMappings.push(adjustedMapping);\n        if (typeof adjustedMapping.originalLine === 'number') {\n          this.__originalMappings.push(adjustedMapping);\n        }\n      }\n    }\n\n    quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\n    quickSort(this.__originalMappings, util.compareByOriginalPositions);\n  };\n\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar base64VLQ = require('./base64-vlq');\nvar util = require('./util');\nvar ArraySet = require('./array-set').ArraySet;\nvar MappingList = require('./mapping-list').MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\nSourceMapGenerator.fromSourceMap =\n  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\n    var sourceRoot = aSourceMapConsumer.sourceRoot;\n    var generator = new SourceMapGenerator({\n      file: aSourceMapConsumer.file,\n      sourceRoot: sourceRoot\n    });\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      var newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var sourceRelative = sourceFile;\n      if (sourceRoot !== null) {\n        sourceRelative = util.relative(sourceRoot, sourceFile);\n      }\n\n      if (!generator._sources.has(sourceRelative)) {\n        generator._sources.add(sourceRelative);\n      }\n\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  };\n\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\nSourceMapGenerator.prototype.addMapping =\n  function SourceMapGenerator_addMapping(aArgs) {\n    var generated = util.getArg(aArgs, 'generated');\n    var original = util.getArg(aArgs, 'original', null);\n    var source = util.getArg(aArgs, 'source', null);\n    var name = util.getArg(aArgs, 'name', null);\n\n    if (!this._skipValidation) {\n      this._validateMapping(generated, original, source, name);\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source: source,\n      name: name\n    });\n  };\n\n/**\n * Set the source content for a source file.\n */\nSourceMapGenerator.prototype.setSourceContent =\n  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n    var source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  };\n\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\nSourceMapGenerator.prototype.applySourceMap =\n  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    var sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    var sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    var newSources = new ArraySet();\n    var newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function (mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        var original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source)\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      var source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      var name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          sourceFile = util.join(aSourceMapPath, sourceFile);\n        }\n        if (sourceRoot != null) {\n          sourceFile = util.relative(sourceRoot, sourceFile);\n        }\n        this.setSourceContent(sourceFile, content);\n      }\n    }, this);\n  };\n\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\nSourceMapGenerator.prototype._validateMapping =\n  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\n                                              aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {\n        throw new Error(\n            'original.line and original.column are not numbers -- you probably meant to omit ' +\n            'the original mapping entirely and only map the generated position. If so, pass ' +\n            'null for the original mapping instead of an object with empty or null values.'\n        );\n    }\n\n    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n      return;\n    }\n    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n             && aOriginal && 'line' in aOriginal && 'column' in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n      return;\n    }\n    else {\n      throw new Error('Invalid mapping: ' + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      }));\n    }\n  };\n\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\nSourceMapGenerator.prototype._serializeMappings =\n  function SourceMapGenerator_serializeMappings() {\n    var previousGeneratedColumn = 0;\n    var previousGeneratedLine = 1;\n    var previousOriginalColumn = 0;\n    var previousOriginalLine = 0;\n    var previousName = 0;\n    var previousSource = 0;\n    var result = '';\n    var next;\n    var mapping;\n    var nameIdx;\n    var sourceIdx;\n\n    var mappings = this._mappings.toArray();\n    for (var i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = ''\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += ';';\n          previousGeneratedLine++;\n        }\n      }\n      else {\n        if (i > 0) {\n          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n            continue;\n          }\n          next += ',';\n        }\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  };\n\nSourceMapGenerator.prototype._generateSourcesContent =\n  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function (source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      var key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  };\n\n/**\n * Externalize the source map.\n */\nSourceMapGenerator.prototype.toJSON =\n  function SourceMapGenerator_toJSON() {\n    var map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  };\n\n/**\n * Render the source map being generated to a string.\n */\nSourceMapGenerator.prototype.toString =\n  function SourceMapGenerator_toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\nexports.SourceMapGenerator = SourceMapGenerator;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar SourceMapGenerator = require('./source-map-generator').SourceMapGenerator;\nvar util = require('./util');\n\n// Matches a Windows-style `\\r\\n` newline or a `\\n` newline used by all other\n// operating systems these days (capturing the result).\nvar REGEX_NEWLINE = /(\\r?\\n)/;\n\n// Newline character code for charCodeAt() comparisons\nvar NEWLINE_CODE = 10;\n\n// Private symbol for identifying `SourceNode`s when multiple versions of\n// the source-map library are loaded. This MUST NOT CHANGE across\n// versions!\nvar isSourceNode = \"$$$isSourceNode$$$\";\n\n/**\n * SourceNodes provide a way to abstract over interpolating/concatenating\n * snippets of generated JavaScript source code while maintaining the line and\n * column information associated with the original source code.\n *\n * @param aLine The original line number.\n * @param aColumn The original column number.\n * @param aSource The original source's filename.\n * @param aChunks Optional. An array of strings which are snippets of\n *        generated JS, or other SourceNodes.\n * @param aName The original identifier.\n */\nfunction SourceNode(aLine, aColumn, aSource, aChunks, aName) {\n  this.children = [];\n  this.sourceContents = {};\n  this.line = aLine == null ? null : aLine;\n  this.column = aColumn == null ? null : aColumn;\n  this.source = aSource == null ? null : aSource;\n  this.name = aName == null ? null : aName;\n  this[isSourceNode] = true;\n  if (aChunks != null) this.add(aChunks);\n}\n\n/**\n * Creates a SourceNode from generated code and a SourceMapConsumer.\n *\n * @param aGeneratedCode The generated code\n * @param aSourceMapConsumer The SourceMap for the generated code\n * @param aRelativePath Optional. The path that relative sources in the\n *        SourceMapConsumer should be relative to.\n */\nSourceNode.fromStringWithSourceMap =\n  function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {\n    // The SourceNode we want to fill with the generated code\n    // and the SourceMap\n    var node = new SourceNode();\n\n    // All even indices of this array are one line of the generated code,\n    // while all odd indices are the newlines between two adjacent lines\n    // (since `REGEX_NEWLINE` captures its match).\n    // Processed fragments are accessed by calling `shiftNextLine`.\n    var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);\n    var remainingLinesIndex = 0;\n    var shiftNextLine = function() {\n      var lineContents = getNextLine();\n      // The last line of a file might not have a newline.\n      var newLine = getNextLine() || \"\";\n      return lineContents + newLine;\n\n      function getNextLine() {\n        return remainingLinesIndex < remainingLines.length ?\n            remainingLines[remainingLinesIndex++] : undefined;\n      }\n    };\n\n    // We need to remember the position of \"remainingLines\"\n    var lastGeneratedLine = 1, lastGeneratedColumn = 0;\n\n    // The generate SourceNodes we need a code range.\n    // To extract it current and last mapping is used.\n    // Here we store the last mapping.\n    var lastMapping = null;\n\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      if (lastMapping !== null) {\n        // We add the code from \"lastMapping\" to \"mapping\":\n        // First check if there is a new line in between.\n        if (lastGeneratedLine < mapping.generatedLine) {\n          // Associate first line with \"lastMapping\"\n          addMappingWithCode(lastMapping, shiftNextLine());\n          lastGeneratedLine++;\n          lastGeneratedColumn = 0;\n          // The remaining code is added without mapping\n        } else {\n          // There is no new line in between.\n          // Associate the code between \"lastGeneratedColumn\" and\n          // \"mapping.generatedColumn\" with \"lastMapping\"\n          var nextLine = remainingLines[remainingLinesIndex] || '';\n          var code = nextLine.substr(0, mapping.generatedColumn -\n                                        lastGeneratedColumn);\n          remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn -\n                                              lastGeneratedColumn);\n          lastGeneratedColumn = mapping.generatedColumn;\n          addMappingWithCode(lastMapping, code);\n          // No more remaining code, continue\n          lastMapping = mapping;\n          return;\n        }\n      }\n      // We add the generated code until the first mapping\n      // to the SourceNode without any mapping.\n      // Each line is added as separate string.\n      while (lastGeneratedLine < mapping.generatedLine) {\n        node.add(shiftNextLine());\n        lastGeneratedLine++;\n      }\n      if (lastGeneratedColumn < mapping.generatedColumn) {\n        var nextLine = remainingLines[remainingLinesIndex] || '';\n        node.add(nextLine.substr(0, mapping.generatedColumn));\n        remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn);\n        lastGeneratedColumn = mapping.generatedColumn;\n      }\n      lastMapping = mapping;\n    }, this);\n    // We have processed all mappings.\n    if (remainingLinesIndex < remainingLines.length) {\n      if (lastMapping) {\n        // Associate the remaining code in the current line with \"lastMapping\"\n        addMappingWithCode(lastMapping, shiftNextLine());\n      }\n      // and add the remaining lines without any mapping\n      node.add(remainingLines.splice(remainingLinesIndex).join(\"\"));\n    }\n\n    // Copy sourcesContent into SourceNode\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aRelativePath != null) {\n          sourceFile = util.join(aRelativePath, sourceFile);\n        }\n        node.setSourceContent(sourceFile, content);\n      }\n    });\n\n    return node;\n\n    function addMappingWithCode(mapping, code) {\n      if (mapping === null || mapping.source === undefined) {\n        node.add(code);\n      } else {\n        var source = aRelativePath\n          ? util.join(aRelativePath, mapping.source)\n          : mapping.source;\n        node.add(new SourceNode(mapping.originalLine,\n                                mapping.originalColumn,\n                                source,\n                                code,\n                                mapping.name));\n      }\n    }\n  };\n\n/**\n * Add a chunk of generated JS to this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.add = function SourceNode_add(aChunk) {\n  if (Array.isArray(aChunk)) {\n    aChunk.forEach(function (chunk) {\n      this.add(chunk);\n    }, this);\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    if (aChunk) {\n      this.children.push(aChunk);\n    }\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Add a chunk of generated JS to the beginning of this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {\n  if (Array.isArray(aChunk)) {\n    for (var i = aChunk.length-1; i >= 0; i--) {\n      this.prepend(aChunk[i]);\n    }\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    this.children.unshift(aChunk);\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Walk over the tree of JS snippets in this node and its children. The\n * walking function is called once for each snippet of JS and is passed that\n * snippet and the its original associated source's line/column location.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walk = function SourceNode_walk(aFn) {\n  var chunk;\n  for (var i = 0, len = this.children.length; i < len; i++) {\n    chunk = this.children[i];\n    if (chunk[isSourceNode]) {\n      chunk.walk(aFn);\n    }\n    else {\n      if (chunk !== '') {\n        aFn(chunk, { source: this.source,\n                     line: this.line,\n                     column: this.column,\n                     name: this.name });\n      }\n    }\n  }\n};\n\n/**\n * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between\n * each of `this.children`.\n *\n * @param aSep The separator.\n */\nSourceNode.prototype.join = function SourceNode_join(aSep) {\n  var newChildren;\n  var i;\n  var len = this.children.length;\n  if (len > 0) {\n    newChildren = [];\n    for (i = 0; i < len-1; i++) {\n      newChildren.push(this.children[i]);\n      newChildren.push(aSep);\n    }\n    newChildren.push(this.children[i]);\n    this.children = newChildren;\n  }\n  return this;\n};\n\n/**\n * Call String.prototype.replace on the very right-most source snippet. Useful\n * for trimming whitespace from the end of a source node, etc.\n *\n * @param aPattern The pattern to replace.\n * @param aReplacement The thing to replace the pattern with.\n */\nSourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {\n  var lastChild = this.children[this.children.length - 1];\n  if (lastChild[isSourceNode]) {\n    lastChild.replaceRight(aPattern, aReplacement);\n  }\n  else if (typeof lastChild === 'string') {\n    this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);\n  }\n  else {\n    this.children.push(''.replace(aPattern, aReplacement));\n  }\n  return this;\n};\n\n/**\n * Set the source content for a source file. This will be added to the SourceMapGenerator\n * in the sourcesContent field.\n *\n * @param aSourceFile The filename of the source file\n * @param aSourceContent The content of the source file\n */\nSourceNode.prototype.setSourceContent =\n  function SourceNode_setSourceContent(aSourceFile, aSourceContent) {\n    this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;\n  };\n\n/**\n * Walk over the tree of SourceNodes. The walking function is called for each\n * source file content and is passed the filename and source content.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walkSourceContents =\n  function SourceNode_walkSourceContents(aFn) {\n    for (var i = 0, len = this.children.length; i < len; i++) {\n      if (this.children[i][isSourceNode]) {\n        this.children[i].walkSourceContents(aFn);\n      }\n    }\n\n    var sources = Object.keys(this.sourceContents);\n    for (var i = 0, len = sources.length; i < len; i++) {\n      aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);\n    }\n  };\n\n/**\n * Return the string representation of this source node. Walks over the tree\n * and concatenates all the various snippets together to one string.\n */\nSourceNode.prototype.toString = function SourceNode_toString() {\n  var str = \"\";\n  this.walk(function (chunk) {\n    str += chunk;\n  });\n  return str;\n};\n\n/**\n * Returns the string representation of this source node along with a source\n * map.\n */\nSourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {\n  var generated = {\n    code: \"\",\n    line: 1,\n    column: 0\n  };\n  var map = new SourceMapGenerator(aArgs);\n  var sourceMappingActive = false;\n  var lastOriginalSource = null;\n  var lastOriginalLine = null;\n  var lastOriginalColumn = null;\n  var lastOriginalName = null;\n  this.walk(function (chunk, original) {\n    generated.code += chunk;\n    if (original.source !== null\n        && original.line !== null\n        && original.column !== null) {\n      if(lastOriginalSource !== original.source\n         || lastOriginalLine !== original.line\n         || lastOriginalColumn !== original.column\n         || lastOriginalName !== original.name) {\n        map.addMapping({\n          source: original.source,\n          original: {\n            line: original.line,\n            column: original.column\n          },\n          generated: {\n            line: generated.line,\n            column: generated.column\n          },\n          name: original.name\n        });\n      }\n      lastOriginalSource = original.source;\n      lastOriginalLine = original.line;\n      lastOriginalColumn = original.column;\n      lastOriginalName = original.name;\n      sourceMappingActive = true;\n    } else if (sourceMappingActive) {\n      map.addMapping({\n        generated: {\n          line: generated.line,\n          column: generated.column\n        }\n      });\n      lastOriginalSource = null;\n      sourceMappingActive = false;\n    }\n    for (var idx = 0, length = chunk.length; idx < length; idx++) {\n      if (chunk.charCodeAt(idx) === NEWLINE_CODE) {\n        generated.line++;\n        generated.column = 0;\n        // Mappings end at eol\n        if (idx + 1 === length) {\n          lastOriginalSource = null;\n          sourceMappingActive = false;\n        } else if (sourceMappingActive) {\n          map.addMapping({\n            source: original.source,\n            original: {\n              line: original.line,\n              column: original.column\n            },\n            generated: {\n              line: generated.line,\n              column: generated.column\n            },\n            name: original.name\n          });\n        }\n      } else {\n        generated.column++;\n      }\n    }\n  });\n  this.walkSourceContents(function (sourceFile, sourceContent) {\n    map.setSourceContent(sourceFile, sourceContent);\n  });\n\n  return { code: generated.code, map: map };\n};\n\nexports.SourceNode = SourceNode;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n\n  var parts = path.split(/\\/+/);\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n}\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || urlRegexp.test(aPath);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 === null) {\n    return 1; // aStr2 !== null\n  }\n\n  if (aStr2 === null) {\n    return -1; // aStr1 !== null\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n\n/**\n * Strip any JSON XSSI avoidance prefix from the string (as documented\n * in the source maps specification), and then parse the string as\n * JSON.\n */\nfunction parseSourceMapInput(str) {\n  return JSON.parse(str.replace(/^\\)]}'[^\\n]*\\n/, ''));\n}\nexports.parseSourceMapInput = parseSourceMapInput;\n\n/**\n * Compute the URL of a source given the the source root, the source's\n * URL, and the source map's URL.\n */\nfunction computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {\n  sourceURL = sourceURL || '';\n\n  if (sourceRoot) {\n    // This follows what Chrome does.\n    if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {\n      sourceRoot += '/';\n    }\n    // The spec says:\n    //   Line 4: An optional source root, useful for relocating source\n    //   files on a server or removing repeated values in the\n    //   “sources” entry.  This value is prepended to the individual\n    //   entries in the “source” field.\n    sourceURL = sourceRoot + sourceURL;\n  }\n\n  // Historically, SourceMapConsumer did not take the sourceMapURL as\n  // a parameter.  This mode is still somewhat supported, which is why\n  // this code block is conditional.  However, it's preferable to pass\n  // the source map URL to SourceMapConsumer, so that this function\n  // can implement the source URL resolution algorithm as outlined in\n  // the spec.  This block is basically the equivalent of:\n  //    new URL(sourceURL, sourceMapURL).toString()\n  // ... except it avoids using URL, which wasn't available in the\n  // older releases of node still supported by this library.\n  //\n  // The spec says:\n  //   If the sources are not absolute URLs after prepending of the\n  //   “sourceRoot”, the sources are resolved relative to the\n  //   SourceMap (like resolving script src in a html document).\n  if (sourceMapURL) {\n    var parsed = urlParse(sourceMapURL);\n    if (!parsed) {\n      throw new Error(\"sourceMapURL could not be parsed\");\n    }\n    if (parsed.path) {\n      // Strip the last path component, but keep the \"/\".\n      var index = parsed.path.lastIndexOf('/');\n      if (index >= 0) {\n        parsed.path = parsed.path.substring(0, index + 1);\n      }\n    }\n    sourceURL = join(urlGenerate(parsed), sourceURL);\n  }\n\n  return normalize(sourceURL);\n}\nexports.computeSourceURL = computeSourceURL;\n","/*\n * Copyright 2009-2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE.txt or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nexports.SourceMapGenerator = require('./lib/source-map-generator').SourceMapGenerator;\nexports.SourceMapConsumer = require('./lib/source-map-consumer').SourceMapConsumer;\nexports.SourceNode = require('./lib/source-node').SourceNode;\n","/*!\n * jQuery JavaScript Library v3.5.0\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-04-10T15:07Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar flat = arr.flat ? function( array ) {\n\treturn arr.flat.call( array );\n} : function( array ) {\n\treturn arr.concat.apply( [], array );\n};\n\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n      // Support: Chrome <=57, Firefox <=52\n      // In some browsers, typeof returns \"function\" for HTML <object> elements\n      // (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n      // We don't want to classify *any* DOM node as a function.\n      return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\nvar document = window.document;\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.5.0\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teven: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn ( i + 1 ) % 2;\n\t\t} ) );\n\t},\n\n\todd: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn i % 2;\n\t\t} ) );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a provided context; falls back to the global one\n\t// if not specified.\n\tglobalEval: function( code, options, doc ) {\n\t\tDOMEval( code, { nonce: options && options.nonce }, doc );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn flat( ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\nfunction( _i, name ) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\n( function( window ) {\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ( {} ).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpushNative = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[ i ] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|\" +\n\t\t\"ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram\n\tidentifier = \"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\n\t\t// \"Attribute values must be CSS identifiers [capture 5]\n\t\t// or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" +\n\t\twhitespace + \"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" +\n\t\twhitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace +\n\t\t\"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" +\n\t\t\twhitespace + \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" +\n\t\t\twhitespace + \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace +\n\t\t\t\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" + whitespace +\n\t\t\t\"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trhtml = /HTML$/i,\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace + \"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\", \"g\" ),\n\tfunescape = function( escape, nonHex ) {\n\t\tvar high = \"0x\" + escape.slice( 1 ) - 0x10000;\n\n\t\treturn nonHex ?\n\n\t\t\t// Strip the backslash prefix from a non-hex escape sequence\n\t\t\tnonHex :\n\n\t\t\t// Replace a hexadecimal escape sequence with the encoded Unicode code point\n\t\t\t// Support: IE <=11+\n\t\t\t// For values outside the Basic Multilingual Plane (BMP), manually construct a\n\t\t\t// surrogate pair\n\t\t\thigh < 0 ?\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" +\n\t\t\t\tch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && elem.nodeName.toLowerCase() === \"fieldset\";\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t( arr = slice.call( preferredDoc.childNodes ) ),\n\t\tpreferredDoc.childNodes\n\t);\n\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\t// eslint-disable-next-line no-unused-expressions\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpushNative.apply( target, slice.call( els ) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( ( target[ j++ ] = els[ i++ ] ) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\t\tsetDocument( context );\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( ( m = match[ 1 ] ) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( ( elem = context.getElementById( m ) ) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && ( elem = newContext.getElementById( m ) ) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[ 2 ] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( ( m = match[ 3 ] ) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t( !rbuggyQSA || !rbuggyQSA.test( selector ) ) &&\n\n\t\t\t\t// Support: IE 8 only\n\t\t\t\t// Exclude object elements\n\t\t\t\t( nodeType !== 1 || context.nodeName.toLowerCase() !== \"object\" ) ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// The technique has to be used as well when a leading combinator is used\n\t\t\t\t// as such selectors are not recognized by querySelectorAll.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 &&\n\t\t\t\t\t( rdescend.test( selector ) || rcombinators.test( selector ) ) ) {\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\n\t\t\t\t\t// We can use :scope instead of the ID hack if the browser\n\t\t\t\t\t// supports it & if we're not changing the context.\n\t\t\t\t\tif ( newContext !== context || !support.scope ) {\n\n\t\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\t\tif ( ( nid = context.getAttribute( \"id\" ) ) ) {\n\t\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontext.setAttribute( \"id\", ( nid = expando ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[ i ] = ( nid ? \"#\" + nid : \":scope\" ) + \" \" +\n\t\t\t\t\t\t\ttoSelector( groups[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn ( cache[ key + \" \" ] = value );\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement( \"fieldset\" );\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch ( e ) {\n\t\treturn false;\n\t} finally {\n\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split( \"|\" ),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[ i ] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( ( cur = cur.nextSibling ) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn ( name === \"input\" || name === \"button\" ) && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction( function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction( function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ ( j = matchIndexes[ i ] ) ] ) {\n\t\t\t\t\tseed[ j ] = !( matches[ j ] = seed[ j ] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\tvar namespace = elem.namespaceURI,\n\t\tdocElem = ( elem.ownerDocument || elem ).documentElement;\n\n\t// Support: IE <=8\n\t// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes\n\t// https://bugs.jquery.com/ticket/4833\n\treturn !rhtml.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( preferredDoc != document &&\n\t\t( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,\n\t// Safari 4 - 5 only, Opera <=11.6 - 12.x only\n\t// IE/Edge & older browsers don't support the :scope pseudo-class.\n\t// Support: Safari 6.0 only\n\t// Safari 6.0 supports :scope but it's an alias of :root there.\n\tsupport.scope = assert( function( el ) {\n\t\tdocElem.appendChild( el ).appendChild( document.createElement( \"div\" ) );\n\t\treturn typeof el.querySelectorAll !== \"undefined\" &&\n\t\t\t!el.querySelectorAll( \":scope fieldset div\" ).length;\n\t} );\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert( function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute( \"className\" );\n\t} );\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert( function( el ) {\n\t\tel.appendChild( document.createComment( \"\" ) );\n\t\treturn !el.getElementsByTagName( \"*\" ).length;\n\t} );\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert( function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t} );\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[ \"ID\" ] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute( \"id\" ) === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[ \"ID\" ] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode( \"id\" );\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( ( elem = elems[ i++ ] ) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[ \"TAG\" ] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[ \"CLASS\" ] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( ( support.qsa = rnative.test( document.querySelectorAll ) ) ) {\n\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert( function( el ) {\n\n\t\t\tvar input;\n\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll( \"[msallowcapture^='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll( \"[selected]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"~=\" );\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 15 - 18+\n\t\t\t// IE 11/Edge don't find elements on a `[name='']` query in some cases.\n\t\t\t// Adding a temporary attribute to the document before the selection works\n\t\t\t// around the issue.\n\t\t\t// Interestingly, IE 10 & older don't seem to have the issue.\n\t\t\tinput = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"name\", \"\" );\n\t\t\tel.appendChild( input );\n\t\t\tif ( !el.querySelectorAll( \"[name='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*name\" + whitespace + \"*=\" +\n\t\t\t\t\twhitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll( \":checked\" ).length ) {\n\t\t\t\trbuggyQSA.push( \":checked\" );\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push( \".#.+[+~]\" );\n\t\t\t}\n\n\t\t\t// Support: Firefox <=3.6 - 5 only\n\t\t\t// Old Firefox doesn't throw on a badly-escaped identifier.\n\t\t\tel.querySelectorAll( \"\\\\\\f\" );\n\t\t\trbuggyQSA.push( \"[\\\\r\\\\n\\\\f]\" );\n\t\t} );\n\n\t\tassert( function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll( \"[name=d]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll( \":enabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll( \":disabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: Opera 10 - 11 only\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll( \"*,:x\" );\n\t\t\trbuggyQSA.push( \",.*:\" );\n\t\t} );\n\t}\n\n\tif ( ( support.matchesSelector = rnative.test( ( matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector ) ) ) ) {\n\n\t\tassert( function( el ) {\n\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t} );\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( \"|\" ) );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join( \"|\" ) );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t) );\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( ( b = b.parentNode ) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tcompare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( a == document || a.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, a ) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( b == document || b.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, b ) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\treturn a == document ? -1 :\n\t\t\t\tb == document ? 1 :\n\t\t\t\t/* eslint-enable eqeqeq */\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[ i ] === bp[ i ] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[ i ], bp[ i ] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\tap[ i ] == preferredDoc ? -1 :\n\t\t\tbp[ i ] == preferredDoc ? 1 :\n\t\t\t/* eslint-enable eqeqeq */\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\tsetDocument( elem );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\n\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t// fragment in IE 9\n\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( context.ownerDocument || context ) != document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( elem.ownerDocument || elem ) != document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( ( node = elem[ i++ ] ) ) {\n\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[ 1 ] = match[ 1 ].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[ 3 ] = ( match[ 3 ] || match[ 4 ] ||\n\t\t\t\tmatch[ 5 ] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[ 2 ] === \"~=\" ) {\n\t\t\t\tmatch[ 3 ] = \" \" + match[ 3 ] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[ 1 ] = match[ 1 ].toLowerCase();\n\n\t\t\tif ( match[ 1 ].slice( 0, 3 ) === \"nth\" ) {\n\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[ 3 ] ) {\n\t\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[ 4 ] = +( match[ 4 ] ?\n\t\t\t\t\tmatch[ 5 ] + ( match[ 6 ] || 1 ) :\n\t\t\t\t\t2 * ( match[ 3 ] === \"even\" || match[ 3 ] === \"odd\" ) );\n\t\t\t\tmatch[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === \"odd\" );\n\n\t\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[ 3 ] ) {\n\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[ 6 ] && match[ 2 ];\n\n\t\t\tif ( matchExpr[ \"CHILD\" ].test( match[ 0 ] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[ 3 ] ) {\n\t\t\t\tmatch[ 2 ] = match[ 4 ] || match[ 5 ] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t( excess = tokenize( unquoted, true ) ) &&\n\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t( excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length ) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[ 0 ] = match[ 0 ].slice( 0, excess );\n\t\t\t\tmatch[ 2 ] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() {\n\t\t\t\t\treturn true;\n\t\t\t\t} :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t( pattern = new RegExp( \"(^|\" + whitespace +\n\t\t\t\t\t\")\" + className + \"(\" + whitespace + \"|$)\" ) ) && classCache(\n\t\t\t\t\t\tclassName, function( elem ) {\n\t\t\t\t\t\t\treturn pattern.test(\n\t\t\t\t\t\t\t\ttypeof elem.className === \"string\" && elem.className ||\n\t\t\t\t\t\t\t\ttypeof elem.getAttribute !== \"undefined\" &&\n\t\t\t\t\t\t\t\t\telem.getAttribute( \"class\" ) ||\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t);\n\t\t\t\t} );\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\t/* eslint-disable max-len */\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t\t/* eslint-enable max-len */\n\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, _argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( ( node = node[ dir ] ) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction( function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[ i ] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction( function( selector ) {\n\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction( function( seed, matches, _context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\t\t\t\t\tseed[ i ] = !( matches[ i ] = elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} ) :\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tinput[ 0 ] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[ 0 ] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t} ),\n\n\t\t\"has\": markFunction( function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t} ),\n\n\t\t\"contains\": markFunction( function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t} ),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test( lang || \"\" ) ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( ( elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute( \"xml:lang\" ) || elem.getAttribute( \"lang\" ) ) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t} ),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement &&\n\t\t\t\t( !document.hasFocus || document.hasFocus() ) &&\n\t\t\t\t!!( elem.type || elem.href || ~elem.tabIndex );\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn ( nodeName === \"input\" && !!elem.checked ) ||\n\t\t\t\t( nodeName === \"option\" && !!elem.selected );\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[ \"empty\" ]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( ( attr = elem.getAttribute( \"type\" ) ) == null ||\n\t\t\t\t\tattr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo( function() {\n\t\t\treturn [ 0 ];\n\t\t} ),\n\n\t\t\"last\": createPositionalPseudo( function( _matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t} ),\n\n\t\t\"eq\": createPositionalPseudo( function( _matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t} ),\n\n\t\t\"even\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"odd\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"lt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ?\n\t\t\t\targument + length :\n\t\t\t\targument > length ?\n\t\t\t\t\tlength :\n\t\t\t\t\targument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"gt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} )\n\t}\n};\n\nExpr.pseudos[ \"nth\" ] = Expr.pseudos[ \"eq\" ];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || ( match = rcomma.exec( soFar ) ) ) {\n\t\t\tif ( match ) {\n\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[ 0 ].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( ( tokens = [] ) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( ( match = rcombinators.exec( soFar ) ) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push( {\n\t\t\t\tvalue: matched,\n\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[ 0 ].replace( rtrim, \" \" )\n\t\t\t} );\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||\n\t\t\t\t( match = preFilters[ type ]( match ) ) ) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push( {\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t} );\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[ i ].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] ||\n\t\t\t\t\t\t\t( outerCache[ elem.uniqueID ] = {} );\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( ( oldCache = uniqueCache[ key ] ) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn ( newCache[ 2 ] = oldCache[ 2 ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[ i ]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[ 0 ];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[ i ], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction( function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts(\n\t\t\t\tselector || \"*\",\n\t\t\t\tcontext.nodeType ? [ context ] : context,\n\t\t\t\t[]\n\t\t\t),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( ( elem = temp[ i ] ) ) {\n\t\t\t\t\tmatcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) ) {\n\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( ( matcherIn[ i ] = elem ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, ( matcherOut = [] ), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) &&\n\t\t\t\t\t\t( temp = postFinder ? indexOf( seed, elem ) : preMap[ i ] ) > -1 ) {\n\n\t\t\t\t\t\tseed[ temp ] = !( results[ temp ] = elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[ 0 ].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[ \" \" ],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t( checkContext = context ).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {\n\t\t\tmatchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[ j ].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\n\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\ttokens\n\t\t\t\t\t\t.slice( 0, i - 1 )\n\t\t\t\t\t\t.concat( { value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" } )\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[ \"TAG\" ]( \"*\", outermost ),\n\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\n\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\toutermostContext = context == document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( !context && elem.ownerDocument != document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( ( matcher = elementMatchers[ j++ ] ) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml ) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( ( elem = !matcher && elem ) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( ( matcher = setMatchers[ j++ ] ) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !( unmatched[ i ] || setMatched[ i ] ) ) {\n\t\t\t\t\t\t\t\tsetMatched[ i ] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[ i ] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache(\n\t\t\tselector,\n\t\t\tmatcherFromGroupMatchers( elementMatchers, setMatchers )\n\t\t);\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( ( selector = compiled.selector || selector ) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[ 0 ] = match[ 0 ].slice( 0 );\n\t\tif ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === \"ID\" &&\n\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {\n\n\t\t\tcontext = ( Expr.find[ \"ID\" ]( token.matches[ 0 ]\n\t\t\t\t.replace( runescape, funescape ), context ) || [] )[ 0 ];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[ \"needsContext\" ].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[ i ];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ ( type = token.type ) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( ( find = Expr.find[ type ] ) ) {\n\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( ( seed = find(\n\t\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[ 0 ].type ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext\n\t\t\t\t) ) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split( \"\" ).sort( sortOrder ).join( \"\" ) === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert( function( el ) {\n\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement( \"fieldset\" ) ) & 1;\n} );\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert( function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute( \"href\" ) === \"#\";\n} ) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert( function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n} ) ) {\n\taddHandle( \"value\", function( elem, _name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert( function( el ) {\n\treturn el.getAttribute( \"disabled\" ) == null;\n} ) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\t\tnull;\n\t\t}\n\t} );\n}\n\nreturn Sizzle;\n\n} )( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\n\n\nfunction nodeName( elem, name ) {\n\n  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n};\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( elem.contentDocument != null &&\n\n\t\t\t// Support: IE 11+\n\t\t\t// <object> elements with no `data` attribute has an object\n\t\t\t// `contentDocument` with a `null` prototype.\n\t\t\tgetProto( elem.contentDocument ) ) {\n\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( _i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the master Deferred\n\t\t\tmaster = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tmaster.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( master.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn master.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), master.reject );\n\t\t}\n\n\t\treturn master.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, _key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\tvalue :\n\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( _all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (#9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = Object.create( null );\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n\n\t// Support: IE <=9 only\n\t// IE <=9 replaces <option> tags with their contents when inserted outside of\n\t// the select element.\n\tdiv.innerHTML = \"<option></option>\";\n\tsupport.option = !!div.lastChild;\n} )();\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: IE <=9 only\nif ( !support.option ) {\n\twrapMap.optgroup = wrapMap.option = [ 1, \"<select multiple='multiple'>\", \"</select>\" ];\n}\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 - 11+\n// focus() and blur() are asynchronous, except when they are no-op.\n// So expect focus to be synchronous when the element is already active,\n// and blur to be synchronous when the element is not already active.\n// (focus and blur are always synchronous in other supported browsers,\n// this just defines when we can count on it).\nfunction expectSync( elem, type ) {\n\treturn ( elem === safeActiveElement() ) === ( type === \"focus\" );\n}\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Only attach events to objects that accept data\n\t\tif ( !acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = Object.create( null );\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\n\t\t\t// Make a writable jQuery.Event from the native event object\n\t\t\tevent = jQuery.event.fix( nativeEvent ),\n\n\t\t\thandlers = (\n\t\t\t\t\tdataPriv.get( this, \"events\" ) || Object.create( null )\n\t\t\t\t)[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", returnTrue );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, expectSync ) {\n\n\t// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !expectSync ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar notAsync, result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\t// Saved data should be false in such cases, but might be a leftover capture object\n\t\t\t\t// from an async native handler (gh-4350)\n\t\t\t\tif ( !saved.length ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t// focus() and blur() are asynchronous\n\t\t\t\t\tnotAsync = expectSync( this, type );\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tif ( saved !== result || notAsync ) {\n\t\t\t\t\t\tdataPriv.set( this, type, false );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = {};\n\t\t\t\t\t}\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\treturn result.value;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering the\n\t\t\t\t// native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved.length ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, {\n\t\t\t\t\tvalue: jQuery.event.trigger(\n\n\t\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t\t// Extend with the prototype to reset the above stopImmediatePropagation()\n\t\t\t\t\t\tjQuery.extend( saved[ 0 ], jQuery.Event.prototype ),\n\t\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\t\tthis\n\t\t\t\t\t)\n\t\t\t\t} );\n\n\t\t\t\t// Abort handling of the native event\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (#504, #13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\n\twhich: function( event ) {\n\t\tvar button = event.button;\n\n\t\t// Add which for key events\n\t\tif ( event.which == null && rkeyEvent.test( event.type ) ) {\n\t\t\treturn event.charCode != null ? event.charCode : event.keyCode;\n\t\t}\n\n\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\tif ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {\n\t\t\tif ( button & 1 ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ( button & 2 ) {\n\t\t\t\treturn 3;\n\t\t\t}\n\n\t\t\tif ( button & 4 ) {\n\t\t\t\treturn 2;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn event.which;\n\t}\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, expectSync );\n\n\t\t\t// Return false to allow normal processing in the caller\n\t\t\treturn false;\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.get( src );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdataPriv.remove( dest, \"handle events\" );\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = flat( args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t}, doc );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html;\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar swap = function( elem, options, callback ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.call( elem );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableTrDimensionsVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t},\n\n\t\t// Support: IE 9 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Behavior in IE 9 is more subtle than in newer versions & it passes\n\t\t// some versions of this test; make sure not to make it pass there!\n\t\treliableTrDimensions: function() {\n\t\t\tvar table, tr, trChild, trStyle;\n\t\t\tif ( reliableTrDimensionsVal == null ) {\n\t\t\t\ttable = document.createElement( \"table\" );\n\t\t\t\ttr = document.createElement( \"tr\" );\n\t\t\t\ttrChild = document.createElement( \"div\" );\n\n\t\t\t\ttable.style.cssText = \"position:absolute;left:-11111px\";\n\t\t\t\ttr.style.height = \"1px\";\n\t\t\t\ttrChild.style.height = \"9px\";\n\n\t\t\t\tdocumentElement\n\t\t\t\t\t.appendChild( table )\n\t\t\t\t\t.appendChild( tr )\n\t\t\t\t\t.appendChild( trChild );\n\n\t\t\t\ttrStyle = window.getComputedStyle( tr );\n\t\t\t\treliableTrDimensionsVal = parseInt( trStyle.height ) > 3;\n\n\t\t\t\tdocumentElement.removeChild( table );\n\t\t\t}\n\t\t\treturn reliableTrDimensionsVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, #12537)\n\t//   .css('--customProperty) (#3144)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trcustomProp = /^--/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( _elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\tif ( box === \"margin\" ) {\n\t\t\tdelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Support: IE 9 - 11 only\n\t// Use offsetWidth/offsetHeight for when box sizing is unreliable.\n\t// In those cases, the computed value can be trusted to be border-box.\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\n\t\t// Support: IE 10 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Interestingly, in some cases IE 9 doesn't suffer from this issue.\n\t\t!support.reliableTrDimensions() && nodeName( elem, \"tr\" ) ||\n\n\t\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t\t// This happens for inline elements with no explicit setting (gh-3571)\n\t\tval === \"auto\" ||\n\n\t\t// Support: Android <=4.1 - 4.3 only\n\t\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\n\t\t// Make sure the element is visible & connected\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"gridArea\": true,\n\t\t\"gridColumn\": true,\n\t\t\"gridColumnEnd\": true,\n\t\t\"gridColumnStart\": true,\n\t\t\"gridRow\": true,\n\t\t\"gridRowEnd\": true,\n\t\t\"gridRowStart\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( _i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t\t} ) :\n\t\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( _i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( _i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = classesToArray( value );\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = (\n\t\t\t\t\tdataPriv.get( cur, \"events\" ) || Object.create( null )\n\t\t\t\t)[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\n\t\t\t\t// Handle: regular nodes (via `this.ownerDocument`), window\n\t\t\t\t// (via `this.document`) & document (via `this`).\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = { guid: Date.now() };\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} )\n\t\t.filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} )\n\t\t.map( function( _i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\toriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce.guid++ ) +\n\t\t\t\t\tuncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Use a noop converter for missing script\n\t\t\tif ( !isSuccess && jQuery.inArray( \"script\", s.dataTypes ) > -1 ) {\n\t\t\t\ts.converters[ \"text script\" ] = function() {};\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( _i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\njQuery.ajaxPrefilter( function( s ) {\n\tvar i;\n\tfor ( i in s.headers ) {\n\t\tif ( i.toLowerCase() === \"content-type\" ) {\n\t\t\ts.contentType = s.headers[ i ] || \"\";\n\t\t}\n\t}\n} );\n\n\njQuery._evalUrl = function( url, options, doc ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options, doc );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce.guid++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tif ( typeof props.top === \"number\" ) {\n\t\t\t\tprops.top += \"px\";\n\t\t\t}\n\t\t\tif ( typeof props.left === \"number\" ) {\n\t\t\t\tprops.left += \"px\";\n\t\t\t}\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( _i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\n\t\tfunction( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( _i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\njQuery.each( ( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( _i, name ) {\n\n\t\t// Handle event binding\n\t\tjQuery.fn[ name ] = function( data, fn ) {\n\t\t\treturn arguments.length > 0 ?\n\t\t\t\tthis.on( name, null, data, fn ) :\n\t\t\t\tthis.trigger( name );\n\t\t};\n\t} );\n\n\n\n\n// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\nvar rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\njQuery.trim = function( text ) {\n\treturn text == null ?\n\t\t\"\" :\n\t\t( text + \"\" ).replace( rtrim, \"\" );\n};\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( typeof noGlobal === \"undefined\" ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n *\n * @private\n * @constructor\n * @param {*} value The value to wrap.\n */\nfunction LazyWrapper(value) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__dir__ = 1;\n  this.__filtered__ = false;\n  this.__iteratees__ = [];\n  this.__takeCount__ = MAX_ARRAY_LENGTH;\n  this.__views__ = [];\n}\n\n// Ensure `LazyWrapper` is an instance of `baseLodash`.\nLazyWrapper.prototype = baseCreate(baseLodash.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\n\nmodule.exports = LazyWrapper;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/**\n * The base constructor for creating `lodash` wrapper objects.\n *\n * @private\n * @param {*} value The value to wrap.\n * @param {boolean} [chainAll] Enable explicit method chain sequences.\n */\nfunction LodashWrapper(value, chainAll) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__chain__ = !!chainAll;\n  this.__index__ = 0;\n  this.__values__ = undefined;\n}\n\nLodashWrapper.prototype = baseCreate(baseLodash.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\n\nmodule.exports = LodashWrapper;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var baseProperty = require('./_baseProperty');\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\n\nmodule.exports = asciiSize;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nmodule.exports = asciiToArray;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nmodule.exports = asciiWords;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isMap = require('./isMap'),\n    isObject = require('./isObject'),\n    isSet = require('./isSet'),\n    keys = require('./keys'),\n    keysIn = require('./keysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/**\n * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n * without support for iteratee shorthands, which iterates over `collection`\n * using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the found element or its key, else `undefined`.\n */\nfunction baseFindKey(collection, predicate, eachFunc) {\n  var result;\n  eachFunc(collection, function(value, key, collection) {\n    if (predicate(value, key, collection)) {\n      result = key;\n      return false;\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFindKey;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * The base implementation of `_.inRange` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to check.\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n */\nfunction baseInRange(number, start, end) {\n  return number >= nativeMin(start, end) && number < nativeMax(start, end);\n}\n\nmodule.exports = baseInRange;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nmodule.exports = baseIsMap;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nmodule.exports = baseIsSet;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","/**\n * The function whose prototype chain sequence wrappers inherit from.\n *\n * @private\n */\nfunction baseLodash() {\n  // No operation performed.\n}\n\nmodule.exports = baseLodash;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor,\n    nativeRandom = Math.random;\n\n/**\n * The base implementation of `_.random` without support for returning\n * floating-point numbers.\n *\n * @private\n * @param {number} lower The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the random number.\n */\nfunction baseRandom(lower, upper) {\n  return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n}\n\nmodule.exports = baseRandom;\n","/**\n * The base implementation of `_.reduce` and `_.reduceRight`, without support\n * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} accumulator The initial value.\n * @param {boolean} initAccum Specify using the first or last element of\n *  `collection` as the initial value.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the accumulated value.\n */\nfunction baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n  eachFunc(collection, function(value, index, collection) {\n    accumulator = initAccum\n      ? (initAccum = false, value)\n      : iteratee(accumulator, value, index, collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseReduce;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor;\n\n/**\n * The base implementation of `_.repeat` which doesn't coerce arguments.\n *\n * @private\n * @param {string} string The string to repeat.\n * @param {number} n The number of times to repeat the string.\n * @returns {string} Returns the repeated string.\n */\nfunction baseRepeat(string, n) {\n  var result = '';\n  if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n    return result;\n  }\n  // Leverage the exponentiation by squaring algorithm for a faster repeat.\n  // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n  do {\n    if (n % 2) {\n      result += string;\n    }\n    n = nativeFloor(n / 2);\n    if (n) {\n      string += string;\n    }\n  } while (n);\n\n  return result;\n}\n\nmodule.exports = baseRepeat;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nmodule.exports = castSlice;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n","var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n","var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var arrayReduce = require('./_arrayReduce'),\n    deburr = require('./deburr'),\n    words = require('./words');\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nmodule.exports = createCompounder;\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","var LodashWrapper = require('./_LodashWrapper'),\n    flatRest = require('./_flatRest'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    isArray = require('./isArray'),\n    isLaziable = require('./_isLaziable');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/**\n * Creates a `_.flow` or `_.flowRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new flow function.\n */\nfunction createFlow(fromRight) {\n  return flatRest(function(funcs) {\n    var length = funcs.length,\n        index = length,\n        prereq = LodashWrapper.prototype.thru;\n\n    if (fromRight) {\n      funcs.reverse();\n    }\n    while (index--) {\n      var func = funcs[index];\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n        var wrapper = new LodashWrapper([], true);\n      }\n    }\n    index = wrapper ? index : length;\n    while (++index < length) {\n      func = funcs[index];\n\n      var funcName = getFuncName(func),\n          data = funcName == 'wrapper' ? getData(func) : undefined;\n\n      if (data && isLaziable(data[0]) &&\n            data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n            !data[4].length && data[9] == 1\n          ) {\n        wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n      } else {\n        wrapper = (func.length == 1 && isLaziable(func))\n          ? wrapper[funcName]()\n          : wrapper.thru(func);\n      }\n    }\n    return function() {\n      var args = arguments,\n          value = args[0];\n\n      if (wrapper && args.length == 1 && isArray(value)) {\n        return wrapper.plant(value).value();\n      }\n      var index = 0,\n          result = length ? funcs[index].apply(this, args) : value;\n\n      while (++index < length) {\n        result = funcs[index].call(this, result);\n      }\n      return result;\n    };\n  });\n}\n\nmodule.exports = createFlow;\n","var baseRepeat = require('./_baseRepeat'),\n    baseToString = require('./_baseToString'),\n    castSlice = require('./_castSlice'),\n    hasUnicode = require('./_hasUnicode'),\n    stringSize = require('./_stringSize'),\n    stringToArray = require('./_stringToArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil;\n\n/**\n * Creates the padding for `string` based on `length`. The `chars` string\n * is truncated if the number of characters exceeds `length`.\n *\n * @private\n * @param {number} length The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padding for `string`.\n */\nfunction createPadding(length, chars) {\n  chars = chars === undefined ? ' ' : baseToString(chars);\n\n  var charsLength = chars.length;\n  if (charsLength < 2) {\n    return charsLength ? baseRepeat(chars, length) : chars;\n  }\n  var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n  return hasUnicode(chars)\n    ? castSlice(stringToArray(result), 0, length).join('')\n    : result.slice(0, length);\n}\n\nmodule.exports = createPadding;\n","var root = require('./_root'),\n    toInteger = require('./toInteger'),\n    toNumber = require('./toNumber'),\n    toString = require('./toString');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsFinite = root.isFinite,\n    nativeMin = Math.min;\n\n/**\n * Creates a function like `_.round`.\n *\n * @private\n * @param {string} methodName The name of the `Math` method to use when rounding.\n * @returns {Function} Returns the new round function.\n */\nfunction createRound(methodName) {\n  var func = Math[methodName];\n  return function(number, precision) {\n    number = toNumber(number);\n    precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n    if (precision && nativeIsFinite(number)) {\n      // Shift with exponential notation to avoid floating-point issues.\n      // See [MDN](https://mdn.io/round#Examples) for more details.\n      var pair = (toString(number) + 'e').split('e'),\n          value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n      pair = (toString(value) + 'e').split('e');\n      return +(pair[0] + 'e' + (+pair[1] - precision));\n    }\n    return func(number);\n  };\n}\n\nmodule.exports = createRound;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nmodule.exports = deburrLetter;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n","var metaMap = require('./_metaMap'),\n    noop = require('./noop');\n\n/**\n * Gets metadata for `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {*} Returns the metadata for `func`.\n */\nvar getData = !metaMap ? noop : function(func) {\n  return metaMap.get(func);\n};\n\nmodule.exports = getData;\n","var realNames = require('./_realNames');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the name of `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {string} Returns the function name.\n */\nfunction getFuncName(func) {\n  var result = (func.name + ''),\n      array = realNames[result],\n      length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n  while (length--) {\n    var data = array[length],\n        otherFunc = data.func;\n    if (otherFunc == null || otherFunc == func) {\n      return data.name;\n    }\n  }\n  return result;\n}\n\nmodule.exports = getFuncName;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nmodule.exports = hasUnicodeWord;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var LazyWrapper = require('./_LazyWrapper'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    lodash = require('./wrapperLodash');\n\n/**\n * Checks if `func` has a lazy counterpart.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n *  else `false`.\n */\nfunction isLaziable(func) {\n  var funcName = getFuncName(func),\n      other = lodash[funcName];\n\n  if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n    return false;\n  }\n  if (func === other) {\n    return true;\n  }\n  var data = getData(other);\n  return !!data && func === data[0];\n}\n\nmodule.exports = isLaziable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var WeakMap = require('./_WeakMap');\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nmodule.exports = metaMap;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/** Used to lookup unminified function names. */\nvar realNames = {};\n\nmodule.exports = realNames;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var asciiSize = require('./_asciiSize'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeSize = require('./_unicodeSize');\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  return hasUnicode(string)\n    ? unicodeSize(string)\n    : asciiSize(string);\n}\n\nmodule.exports = stringSize;\n","var asciiToArray = require('./_asciiToArray'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeToArray = require('./_unicodeToArray');\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nmodule.exports = stringToArray;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\n\nmodule.exports = unicodeSize;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nmodule.exports = unicodeToArray;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nmodule.exports = unicodeWords;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    copyArray = require('./_copyArray');\n\n/**\n * Creates a clone of `wrapper`.\n *\n * @private\n * @param {Object} wrapper The wrapper to clone.\n * @returns {Object} Returns the cloned wrapper.\n */\nfunction wrapperClone(wrapper) {\n  if (wrapper instanceof LazyWrapper) {\n    return wrapper.clone();\n  }\n  var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n  result.__actions__ = copyArray(wrapper.__actions__);\n  result.__index__  = wrapper.__index__;\n  result.__values__ = wrapper.__values__;\n  return result;\n}\n\nmodule.exports = wrapperClone;\n","var createRound = require('./_createRound');\n\n/**\n * Computes `number` rounded up to `precision`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Math\n * @param {number} number The number to round up.\n * @param {number} [precision=0] The precision to round up to.\n * @returns {number} Returns the rounded up number.\n * @example\n *\n * _.ceil(4.006);\n * // => 5\n *\n * _.ceil(6.004, 2);\n * // => 6.01\n *\n * _.ceil(6040, -2);\n * // => 6100\n */\nvar ceil = createRound('ceil');\n\nmodule.exports = ceil;\n","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array == null ? 0 : array.length;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nmodule.exports = chunk;\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = clone;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = compact;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var deburrLetter = require('./_deburrLetter'),\n    toString = require('./toString');\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('déjà vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nmodule.exports = deburr;\n","/**\n * Checks `value` to determine whether a default value should be returned in\n * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n * or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.14.0\n * @category Util\n * @param {*} value The value to check.\n * @param {*} defaultValue The default value.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * _.defaultTo(1, 10);\n * // => 1\n *\n * _.defaultTo(undefined, 10);\n * // => 10\n */\nfunction defaultTo(value, defaultValue) {\n  return (value == null || value !== value) ? defaultValue : value;\n}\n\nmodule.exports = defaultTo;\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n *\n * // Combining several predicates using `_.overEvery` or `_.overSome`.\n * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n * // => objects for ['fred', 'barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","var baseFindKey = require('./_baseFindKey'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.find` except that it returns the key of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Object\n * @param {Object} object The object to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {string|undefined} Returns the key of the matched element,\n *  else `undefined`.\n * @example\n *\n * var users = {\n *   'barney':  { 'age': 36, 'active': true },\n *   'fred':    { 'age': 40, 'active': false },\n *   'pebbles': { 'age': 1,  'active': true }\n * };\n *\n * _.findKey(users, function(o) { return o.age < 40; });\n * // => 'barney' (iteration order is not guaranteed)\n *\n * // The `_.matches` iteratee shorthand.\n * _.findKey(users, { 'age': 1, 'active': true });\n * // => 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findKey(users, ['active', false]);\n * // => 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.findKey(users, 'active');\n * // => 'barney'\n */\nfunction findKey(object, predicate) {\n  return baseFindKey(object, baseIteratee(predicate, 3), baseForOwn);\n}\n\nmodule.exports = findKey;\n","var createFind = require('./_createFind'),\n    findLastIndex = require('./findLastIndex');\n\n/**\n * This method is like `_.find` except that it iterates over elements of\n * `collection` from right to left.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=collection.length-1] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * _.findLast([1, 2, 3, 4], function(n) {\n *   return n % 2 == 1;\n * });\n * // => 3\n */\nvar findLast = createFind(findLastIndex);\n\nmodule.exports = findLast;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * This method is like `_.findIndex` except that it iterates over elements\n * of `collection` from right to left.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=array.length-1] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': true },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': false }\n * ];\n *\n * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n * // => 2\n *\n * // The `_.matches` iteratee shorthand.\n * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n * // => 0\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findLastIndex(users, ['active', false]);\n * // => 2\n *\n * // The `_.property` iteratee shorthand.\n * _.findLastIndex(users, 'active');\n * // => 0\n */\nfunction findLastIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = length - 1;\n  if (fromIndex !== undefined) {\n    index = toInteger(fromIndex);\n    index = fromIndex < 0\n      ? nativeMax(length + index, 0)\n      : nativeMin(index, length - 1);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index, true);\n}\n\nmodule.exports = findLastIndex;\n","module.exports = require('./head');\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var createRound = require('./_createRound');\n\n/**\n * Computes `number` rounded down to `precision`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Math\n * @param {number} number The number to round down.\n * @param {number} [precision=0] The precision to round down to.\n * @returns {number} Returns the rounded down number.\n * @example\n *\n * _.floor(4.006);\n * // => 4\n *\n * _.floor(0.046, 2);\n * // => 0.04\n *\n * _.floor(4060, -2);\n * // => 4000\n */\nvar floor = createRound('floor');\n\nmodule.exports = floor;\n","var createFlow = require('./_createFlow');\n\n/**\n * Creates a function that returns the result of invoking the given functions\n * with the `this` binding of the created function, where each successive\n * invocation is supplied the return value of the previous.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {...(Function|Function[])} [funcs] The functions to invoke.\n * @returns {Function} Returns the new composite function.\n * @see _.flowRight\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var addSquare = _.flow([_.add, square]);\n * addSquare(1, 2);\n * // => 9\n */\nvar flow = createFlow();\n\nmodule.exports = flow;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nmodule.exports = head;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseInRange = require('./_baseInRange'),\n    toFinite = require('./toFinite'),\n    toNumber = require('./toNumber');\n\n/**\n * Checks if `n` is between `start` and up to, but not including, `end`. If\n * `end` is not specified, it's set to `start` with `start` then set to `0`.\n * If `start` is greater than `end` the params are swapped to support\n * negative ranges.\n *\n * @static\n * @memberOf _\n * @since 3.3.0\n * @category Number\n * @param {number} number The number to check.\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n * @see _.range, _.rangeRight\n * @example\n *\n * _.inRange(3, 2, 4);\n * // => true\n *\n * _.inRange(4, 8);\n * // => true\n *\n * _.inRange(4, 2);\n * // => false\n *\n * _.inRange(2, 2);\n * // => false\n *\n * _.inRange(1.2, 2);\n * // => true\n *\n * _.inRange(5.2, 4);\n * // => false\n *\n * _.inRange(-3, -2, -6);\n * // => true\n */\nfunction inRange(number, start, end) {\n  start = toFinite(start);\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  } else {\n    end = toFinite(end);\n  }\n  number = toNumber(number);\n  return baseInRange(number, start, end);\n}\n\nmodule.exports = inRange;\n","var baseIndexOf = require('./_baseIndexOf'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    toInteger = require('./toInteger'),\n    values = require('./values');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Checks if `value` is in `collection`. If `collection` is a string, it's\n * checked for a substring of `value`, otherwise\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * is used for equality comparisons. If `fromIndex` is negative, it's used as\n * the offset from the end of `collection`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=0] The index to search from.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {boolean} Returns `true` if `value` is found, else `false`.\n * @example\n *\n * _.includes([1, 2, 3], 1);\n * // => true\n *\n * _.includes([1, 2, 3], 1, 2);\n * // => false\n *\n * _.includes({ 'a': 1, 'b': 2 }, 1);\n * // => true\n *\n * _.includes('abcd', 'bc');\n * // => true\n */\nfunction includes(collection, value, fromIndex, guard) {\n  collection = isArrayLike(collection) ? collection : values(collection);\n  fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n  var length = collection.length;\n  if (fromIndex < 0) {\n    fromIndex = nativeMax(length + fromIndex, 0);\n  }\n  return isString(collection)\n    ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n    : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n}\n\nmodule.exports = includes;\n","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseIsMap = require('./_baseIsMap'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nmodule.exports = isMap;\n","var isNumber = require('./isNumber');\n\n/**\n * Checks if `value` is `NaN`.\n *\n * **Note:** This method is based on\n * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n * `undefined` and other non-number values.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n * @example\n *\n * _.isNaN(NaN);\n * // => true\n *\n * _.isNaN(new Number(NaN));\n * // => true\n *\n * isNaN(undefined);\n * // => true\n *\n * _.isNaN(undefined);\n * // => false\n */\nfunction isNaN(value) {\n  // An `NaN` primitive is the only value that is not equal to itself.\n  // Perform the `toStringTag` check first to avoid errors with some\n  // ActiveX objects in IE.\n  return isNumber(value) && value != +value;\n}\n\nmodule.exports = isNaN;\n","/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n * @example\n *\n * _.isNil(null);\n * // => true\n *\n * _.isNil(void 0);\n * // => true\n *\n * _.isNil(NaN);\n * // => false\n */\nfunction isNil(value) {\n  return value == null;\n}\n\nmodule.exports = isNil;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseIsSet = require('./_baseIsSet'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nmodule.exports = isSet;\n","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string`, as space separated words, to lower case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the lower cased string.\n * @example\n *\n * _.lowerCase('--Foo-Bar--');\n * // => 'foo bar'\n *\n * _.lowerCase('fooBar');\n * // => 'foo bar'\n *\n * _.lowerCase('__FOO_BAR__');\n * // => 'foo bar'\n */\nvar lowerCase = createCompounder(function(result, word, index) {\n  return result + (index ? ' ' : '') + word.toLowerCase();\n});\n\nmodule.exports = lowerCase;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var createPadding = require('./_createPadding'),\n    stringSize = require('./_stringSize'),\n    toInteger = require('./toInteger'),\n    toString = require('./toString');\n\n/**\n * Pads `string` on the right side if it's shorter than `length`. Padding\n * characters are truncated if they exceed `length`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to pad.\n * @param {number} [length=0] The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padded string.\n * @example\n *\n * _.padEnd('abc', 6);\n * // => 'abc   '\n *\n * _.padEnd('abc', 6, '_-');\n * // => 'abc_-_'\n *\n * _.padEnd('abc', 3);\n * // => 'abc'\n */\nfunction padEnd(string, length, chars) {\n  string = toString(string);\n  length = toInteger(length);\n\n  var strLength = length ? stringSize(string) : 0;\n  return (length && strLength < length)\n    ? (string + createPadding(length - strLength, chars))\n    : string;\n}\n\nmodule.exports = padEnd;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var baseRandom = require('./_baseRandom'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseFloat = parseFloat;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min,\n    nativeRandom = Math.random;\n\n/**\n * Produces a random number between the inclusive `lower` and `upper` bounds.\n * If only one argument is provided a number between `0` and the given number\n * is returned. If `floating` is `true`, or either `lower` or `upper` are\n * floats, a floating-point number is returned instead of an integer.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @memberOf _\n * @since 0.7.0\n * @category Number\n * @param {number} [lower=0] The lower bound.\n * @param {number} [upper=1] The upper bound.\n * @param {boolean} [floating] Specify returning a floating-point number.\n * @returns {number} Returns the random number.\n * @example\n *\n * _.random(0, 5);\n * // => an integer between 0 and 5\n *\n * _.random(5);\n * // => also an integer between 0 and 5\n *\n * _.random(5, true);\n * // => a floating-point number between 0 and 5\n *\n * _.random(1.2, 5.2);\n * // => a floating-point number between 1.2 and 5.2\n */\nfunction random(lower, upper, floating) {\n  if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n    upper = floating = undefined;\n  }\n  if (floating === undefined) {\n    if (typeof upper == 'boolean') {\n      floating = upper;\n      upper = undefined;\n    }\n    else if (typeof lower == 'boolean') {\n      floating = lower;\n      lower = undefined;\n    }\n  }\n  if (lower === undefined && upper === undefined) {\n    lower = 0;\n    upper = 1;\n  }\n  else {\n    lower = toFinite(lower);\n    if (upper === undefined) {\n      upper = lower;\n      lower = 0;\n    } else {\n      upper = toFinite(upper);\n    }\n  }\n  if (lower > upper) {\n    var temp = lower;\n    lower = upper;\n    upper = temp;\n  }\n  if (floating || lower % 1 || upper % 1) {\n    var rand = nativeRandom();\n    return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n  }\n  return baseRandom(lower, upper);\n}\n\nmodule.exports = random;\n","var arrayReduce = require('./_arrayReduce'),\n    baseEach = require('./_baseEach'),\n    baseIteratee = require('./_baseIteratee'),\n    baseReduce = require('./_baseReduce'),\n    isArray = require('./isArray');\n\n/**\n * Reduces `collection` to a value which is the accumulated result of running\n * each element in `collection` thru `iteratee`, where each successive\n * invocation is supplied the return value of the previous. If `accumulator`\n * is not given, the first element of `collection` is used as the initial\n * value. The iteratee is invoked with four arguments:\n * (accumulator, value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.reduce`, `_.reduceRight`, and `_.transform`.\n *\n * The guarded methods are:\n * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n * and `sortBy`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @returns {*} Returns the accumulated value.\n * @see _.reduceRight\n * @example\n *\n * _.reduce([1, 2], function(sum, n) {\n *   return sum + n;\n * }, 0);\n * // => 3\n *\n * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n *   return result;\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n */\nfunction reduce(collection, iteratee, accumulator) {\n  var func = isArray(collection) ? arrayReduce : baseReduce,\n      initAccum = arguments.length < 3;\n\n  return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n}\n\nmodule.exports = reduce;\n","var createRound = require('./_createRound');\n\n/**\n * Computes `number` rounded to `precision`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Math\n * @param {number} number The number to round.\n * @param {number} [precision=0] The precision to round to.\n * @returns {number} Returns the rounded number.\n * @example\n *\n * _.round(4.006);\n * // => 4\n *\n * _.round(4.006, 2);\n * // => 4.01\n *\n * _.round(4060, -2);\n * // => 4100\n */\nvar round = createRound('round');\n\nmodule.exports = round;\n","var baseClamp = require('./_baseClamp'),\n    baseToString = require('./_baseToString'),\n    toInteger = require('./toInteger'),\n    toString = require('./toString');\n\n/**\n * Checks if `string` starts with the given target string.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {string} [target] The string to search for.\n * @param {number} [position=0] The position to search from.\n * @returns {boolean} Returns `true` if `string` starts with `target`,\n *  else `false`.\n * @example\n *\n * _.startsWith('abc', 'a');\n * // => true\n *\n * _.startsWith('abc', 'b');\n * // => false\n *\n * _.startsWith('abc', 'b', 1);\n * // => true\n */\nfunction startsWith(string, target, position) {\n  string = toString(string);\n  position = position == null\n    ? 0\n    : baseClamp(toInteger(position), 0, string.length);\n\n  target = baseToString(target);\n  return string.slice(position, position + target.length) == target;\n}\n\nmodule.exports = startsWith;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * Gets all but the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.tail([1, 2, 3]);\n * // => [2, 3]\n */\nfunction tail(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseSlice(array, 1, length) : [];\n}\n\nmodule.exports = tail;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var toString = require('./toString');\n\n/**\n * Converts `string`, as a whole, to lower case just like\n * [String#toLowerCase](https://mdn.io/toLowerCase).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the lower cased string.\n * @example\n *\n * _.toLower('--Foo-Bar--');\n * // => '--foo-bar--'\n *\n * _.toLower('fooBar');\n * // => 'foobar'\n *\n * _.toLower('__FOO_BAR__');\n * // => '__foo_bar__'\n */\nfunction toLower(value) {\n  return toString(value).toLowerCase();\n}\n\nmodule.exports = toLower;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","var toString = require('./toString');\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\n\nmodule.exports = uniqueId;\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","var baseDifference = require('./_baseDifference'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array excluding all given values using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.pull`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...*} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.xor\n * @example\n *\n * _.without([2, 1, 2, 3], 1, 2);\n * // => [3]\n */\nvar without = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, values)\n    : [];\n});\n\nmodule.exports = without;\n","var asciiWords = require('./_asciiWords'),\n    hasUnicodeWord = require('./_hasUnicodeWord'),\n    toString = require('./toString'),\n    unicodeWords = require('./_unicodeWords');\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nmodule.exports = words;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    baseLodash = require('./_baseLodash'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike'),\n    wrapperClone = require('./_wrapperClone');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a `lodash` object which wraps `value` to enable implicit method\n * chain sequences. Methods that operate on and return arrays, collections,\n * and functions can be chained together. Methods that retrieve a single value\n * or may return a primitive value will automatically end the chain sequence\n * and return the unwrapped value. Otherwise, the value must be unwrapped\n * with `_#value`.\n *\n * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n * enabled using `_.chain`.\n *\n * The execution of chained methods is lazy, that is, it's deferred until\n * `_#value` is implicitly or explicitly called.\n *\n * Lazy evaluation allows several methods to support shortcut fusion.\n * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n * the creation of intermediate arrays and can greatly reduce the number of\n * iteratee executions. Sections of a chain sequence qualify for shortcut\n * fusion if the section is applied to an array and iteratees accept only\n * one argument. The heuristic for whether a section qualifies for shortcut\n * fusion is subject to change.\n *\n * Chaining is supported in custom builds as long as the `_#value` method is\n * directly or indirectly included in the build.\n *\n * In addition to lodash methods, wrappers have `Array` and `String` methods.\n *\n * The wrapper `Array` methods are:\n * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n *\n * The wrapper `String` methods are:\n * `replace` and `split`\n *\n * The wrapper methods that support shortcut fusion are:\n * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n *\n * The chainable wrapper methods are:\n * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n * `zipObject`, `zipObjectDeep`, and `zipWith`\n *\n * The wrapper methods that are **not** chainable by default are:\n * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n * `upperFirst`, `value`, and `words`\n *\n * @name _\n * @constructor\n * @category Seq\n * @param {*} value The value to wrap in a `lodash` instance.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var wrapped = _([1, 2, 3]);\n *\n * // Returns an unwrapped value.\n * wrapped.reduce(_.add);\n * // => 6\n *\n * // Returns a wrapped value.\n * var squares = wrapped.map(square);\n *\n * _.isArray(squares);\n * // => false\n *\n * _.isArray(squares.value());\n * // => true\n */\nfunction lodash(value) {\n  if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n    if (value instanceof LodashWrapper) {\n      return value;\n    }\n    if (hasOwnProperty.call(value, '__wrapped__')) {\n      return wrapperClone(value);\n    }\n  }\n  return new LodashWrapper(value);\n}\n\n// Ensure wrappers are instances of `baseLodash`.\nlodash.prototype = baseLodash.prototype;\nlodash.prototype.constructor = lodash;\n\nmodule.exports = lodash;\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","import $ from 'jquery';\r\nimport _isNil from 'lodash/isNil';\r\nimport _lowerCase from 'lodash/lowerCase';\r\nimport AppController from './AppController';\r\nimport EventBus from './lib/EventBus';\r\nimport TimeKeeper from './engine/TimeKeeper';\r\nimport { DEFAULT_AIRPORT_ICAO } from './constants/airportConstants';\r\nimport { STORAGE_KEY } from './constants/storageKeys';\r\nimport { EVENT } from './constants/eventNames';\r\nimport { LOG } from './constants/logLevel';\r\n\r\nwindow.zlsa = {};\r\nwindow.zlsa.atc = {};\r\n\r\n// TODO: KILL THE PROP!\r\nconst prop = {};\r\n\r\n// IIEFs are pulled in here to add functions to the global space.\r\n//\r\n// This will need to be re-worked, and current global functions should be exported and\r\n// imported as needed in each file.\r\nrequire('./util');\r\n\r\n// are you using a main loop? (you must call update() afterward disable/re-enable)\r\nlet UPDATE = true;\r\n\r\n/**\r\n * @class App\r\n */\r\nexport default class App {\r\n    /**\r\n     * @constructor\r\n     * @param $element {HTML Element|null}\r\n     */\r\n    constructor(element) {\r\n        /**\r\n         * Root DOM element.\r\n         *\r\n         * @property $element\r\n         * @type {jQuery|HTML Element}\r\n         * @default body\r\n         */\r\n        this.$element = $(element);\r\n        this._appController = new AppController(this.$element);\r\n        this.eventBus = EventBus;\r\n\r\n        window.prop = prop;\r\n\r\n        this.prop = prop;\r\n        this.prop.complete = false;\r\n        this.prop.log = LOG.DEBUG;\r\n        this.prop.loaded = false;\r\n\r\n        this.setupHandlers()\r\n            ._fetchAirportLoadList();\r\n    }\r\n\r\n    /**\r\n     * Fetch airportLoadList.json containing the list of available airports\r\n     *\r\n     * @for App\r\n     * @method _fetchAirportLoadList\r\n     */\r\n    _fetchAirportLoadList() {\r\n        $.getJSON('assets/airports/airportLoadList.json')\r\n            .done((response) => this.onAirportLoadListFetchedHandler(response))\r\n            .fail((jqXHR) => console.error(`Unable to load airport list: ${jqXHR.status}: ${jqXHR.statusText}`));\r\n    }\r\n\r\n    /**\r\n     * Handler method called after successfully fetching airportLoadList.json\r\n     *\r\n     * @for App\r\n     * @method _onAirportLoadListFetched\r\n     */\r\n    _onAirportLoadListFetched(data) {\r\n        const airportLoadList = data.filter((airport) => airport.disabled !== true);\r\n        // ICAO id of the initial airport. may be the default or a stored airport\r\n        const initialAirportToLoad = this._getInitialAirport(airportLoadList);\r\n\r\n        this.loadInitialAirport(airportLoadList, initialAirportToLoad);\r\n    }\r\n\r\n    /**\r\n     * Check if a given icao exists in the list of available airports\r\n     *\r\n     * @for App\r\n     * @method _isAirportIcaoInLoadList\r\n     * @param icao {string}  icao\r\n     * @param airportLoadList {array<object>}  List of available airports\r\n     */\r\n    _isAirportIcaoInLoadList(icao, airportLoadList) {\r\n        return !_isNil(icao) && airportLoadList.some((airport) => airport.icao === icao);\r\n    }\r\n\r\n    /**\r\n     * Obtain icao for the initial airport from localStorage if available\r\n     * otherwise use `DEFAULT_AIRPORT_ICAO`\r\n     *\r\n     * @for App\r\n     * @method _getInitialAirport\r\n     * @param airportLoadList {array<object>}  List of airports to load\r\n     */\r\n    _getInitialAirport(airportLoadList) {\r\n        let airportName = DEFAULT_AIRPORT_ICAO;\r\n        const previousAirportIcaoFromLocalStorage = localStorage[STORAGE_KEY.ATC_LAST_AIRPORT];\r\n\r\n        if (this._isAirportIcaoInLoadList(previousAirportIcaoFromLocalStorage, airportLoadList)) {\r\n            airportName = _lowerCase(localStorage[STORAGE_KEY.ATC_LAST_AIRPORT]);\r\n        }\r\n\r\n        return airportName;\r\n    }\r\n\r\n    /**\r\n     * Create event handlers\r\n     *\r\n     * @for App\r\n     * @method setupHandlers\r\n     * @chainable\r\n     */\r\n    setupHandlers() {\r\n        this.onAirportLoadListFetchedHandler = this._onAirportLoadListFetched.bind(this);\r\n        this.loadDefaultAiportAfterStorageIcaoFailureHandler = this.loadDefaultAiportAfterStorageIcaoFailure.bind(this);\r\n        this.loadAirlinesAndAircraftHandler = this.loadAirlinesAndAircraft.bind(this);\r\n        this.setupChildrenHandler = this.setupChildren.bind(this);\r\n        this.onPauseHandler = this._onPause.bind(this);\r\n        this.onUpdateHandler = this.update.bind(this);\r\n\r\n        this.eventBus.on(EVENT.PAUSE_UPDATE_LOOP, this.onPauseHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Used to load data for the initial airport using an icao from\r\n     * either localStorage or `DEFAULT_AIRPORT_ICAO`\r\n     *\r\n     * If a localStorage airport cannot be found, we will attempt\r\n     * to load the `DEFAULT_AIRPORT_ICAO`\r\n     *\r\n     * Lifecycle method. Should be called only once on initialization\r\n     *\r\n     * @for App\r\n     * @method loadInitialAirport\r\n     * @param airportLoadList {array<object>}  List of airports to load\r\n     */\r\n    loadInitialAirport(airportLoadList, initialAirportToLoad) {\r\n        const initialAirportIcao = initialAirportToLoad.toLowerCase();\r\n\r\n        $.getJSON(`assets/airports/${initialAirportIcao}.json`)\r\n            .then((response) => this.loadAirlinesAndAircraftHandler(airportLoadList, initialAirportIcao, response))\r\n            .catch((error) => this.loadDefaultAiportAfterStorageIcaoFailureHandler(airportLoadList));\r\n    }\r\n\r\n    /**\r\n     * Used only when an attempt to load airport data with an icao in localStorage fails.\r\n     * In this case we attempt to load the default airport with this method\r\n     *\r\n     * Lifecycle method. Should be called only once on initialization\r\n     *\r\n     * @for App\r\n     * @method onLoadDefaultAirportAfterStorageIcaoFailure\r\n     * @param {array<object>} airportLoadList\r\n     */\r\n    loadDefaultAiportAfterStorageIcaoFailure(airportLoadList) {\r\n        $.getJSON(`assets/airports/${DEFAULT_AIRPORT_ICAO}.json`)\r\n            .then((defaultAirportResponse) => this.loadAirlinesAndAircraftHandler(\r\n                airportLoadList,\r\n                DEFAULT_AIRPORT_ICAO,\r\n                defaultAirportResponse\r\n            ));\r\n    }\r\n\r\n    /**\r\n     * Handler method called after data has loaded for the airline and aircraftTypeDefinitions datasets.\r\n     *\r\n     * Lifecycle method. Should be called only once on initialization\r\n     *\r\n     * @for App\r\n     * @method loadAirlinesAndAircraft\r\n     * @param {array>object>} airportLoadList\r\n     * @param {string} initialAirportIcao\r\n     * @param {object<string>} initialAirportResponse\r\n     */\r\n    loadAirlinesAndAircraft(airportLoadList, initialAirportIcao, initialAirportResponse) {\r\n        const airlineListPromise = $.getJSON('assets/airlines/airlines.json');\r\n        const aircraftListPromise = $.getJSON('assets/aircraft/aircraft.json');\r\n        const airportGuideListPromise = $.getJSON('assets/guides/guides.json');\r\n\r\n        // This is provides a way to get async data from several sources in the app before anything else runs\r\n        // we need to resolve data from two sources before the app can proceede. This data should always\r\n        // exist, if it doesn't, something has gone terribly wrong.\r\n        $.when(airlineListPromise, aircraftListPromise, airportGuideListPromise)\r\n            .done((airlineResponse, aircraftResponse, airportGuideResponse) => {\r\n                this.setupChildrenHandler(\r\n                    airportLoadList,\r\n                    initialAirportIcao,\r\n                    initialAirportResponse,\r\n                    airlineResponse[0].airlines,\r\n                    aircraftResponse[0].aircraft,\r\n                    airportGuideResponse[0]\r\n                );\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Callback for a successful data load\r\n     *\r\n     * A first load of data occurs on startup where we load the initial airport, airline definitions and\r\n     * aircraft type definitiions. this method is called onComplete of that data load and is used to\r\n     * instantiate various classes with the loaded data.\r\n     *\r\n     * This method will fire `.enable()` that will finish the initialization lifecycle and begine the game loop.\r\n     * Lifecycle method. Should be called only once on initialization\r\n     *\r\n     * @for App\r\n     * @method setupChildren\r\n     * @param airportLoadList {array}         List of all airports\r\n     * @param initialAirportData {object}     Airport json for the initial airport, could be default or stored airport\r\n     * @param airlineList {array}             List of all Airline definitions\r\n     * @param aircraftTypeDefinitionList {array}  List of all Aircraft definitions\r\n     * @param airportGuides {object}          Airport guide JSON\r\n     */\r\n    setupChildren(\r\n        airportLoadList,\r\n        initialAirportIcao,\r\n        initialAirportData,\r\n        airlineList,\r\n        aircraftTypeDefinitionList,\r\n        airportGuides\r\n    ) {\r\n        this._appController.setupChildren(\r\n            airportLoadList,\r\n            initialAirportIcao,\r\n            initialAirportData,\r\n            airlineList,\r\n            aircraftTypeDefinitionList,\r\n            airportGuides\r\n        );\r\n\r\n        this.enable();\r\n    }\r\n\r\n    /**\r\n     * Lifecycle method. Should be called only once on initialization.\r\n     *\r\n     * Used to fire off `init` and `init_pre` methods and also start the game loop\r\n     *\r\n     * @for App\r\n     * @method enable\r\n     */\r\n    enable() {\r\n        return this.init_pre()\r\n            .init()\r\n            .done();\r\n    }\r\n\r\n    /**\r\n     * @for App\r\n     * @method disable\r\n     */\r\n    disable() {\r\n        return this.destroy();\r\n    }\r\n\r\n    /**\r\n     * Tear down the application\r\n     *\r\n     * Should never be called directly, only cia `this.disable()`\r\n     *\r\n     * @for App\r\n     * @method destroy\r\n     */\r\n    destroy() {\r\n        this.$element = null;\r\n\r\n        return this;\r\n    }\r\n\r\n    // === CALLBACKS (all optional and do not need to be defined) ===\r\n    // INIT:\r\n    // module_init_pre()\r\n    // module_init()\r\n    // module_init_post()\r\n\r\n    // module_done()\r\n    // -- wait until all async has finished (could take a long time)\r\n    // module_ready()\r\n    // -- wait until first frame is ready (only triggered if UPDATE == true)\r\n    // module_complete()\r\n\r\n    // UPDATE:\r\n    // module_update_pre()\r\n    // module_update()\r\n    // module_update_post()\r\n\r\n    // RESIZE (called at least once during init and whenever page changes size)\r\n    // module_resize()\r\n\r\n    /**\r\n     * @for App\r\n     * @method init_pre\r\n     */\r\n    init_pre() {\r\n        this._appController.init_pre();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for App\r\n     * @method init\r\n     */\r\n    init() {\r\n        this._appController.init();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for App\r\n     * @method init_post\r\n     */\r\n    init_post() {\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for App\r\n     * @method done\r\n     */\r\n    done() {\r\n        this._appController.done();\r\n        this._appController.resize();\r\n\r\n        this.prop.loaded = true;\r\n\r\n        if (UPDATE) {\r\n            requestAnimationFrame(this.onUpdateHandler);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for App\r\n     * @method complete\r\n     */\r\n    complete() {\r\n        this._appController.complete();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for App\r\n     * @method updatePre\r\n     */\r\n    updatePre() {\r\n        this._appController.updatePre();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for App\r\n     * @method updatePost\r\n     */\r\n    updatePost() {\r\n        this._appController.updatePost();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for App\r\n     * @method update\r\n     */\r\n    update() {\r\n        if (!this.prop.complete) {\r\n            this.complete();\r\n\r\n            this.prop.complete = true;\r\n        }\r\n\r\n        if (!UPDATE) {\r\n            return this;\r\n        }\r\n\r\n        requestAnimationFrame(this.onUpdateHandler);\r\n\r\n        this.updatePre();\r\n        this.updatePost();\r\n        TimeKeeper.update();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for App\r\n     * @method _onPause\r\n     * @param shouldUpdate {boolean}\r\n     */\r\n    _onPause(shouldUpdate) {\r\n        if (!UPDATE && shouldUpdate) {\r\n            requestAnimationFrame(this.onUpdateHandler);\r\n        }\r\n\r\n        UPDATE = shouldUpdate;\r\n    }\r\n}\r\n","/* eslint-disable max-len */\r\nimport $ from 'jquery';\r\nimport AircraftController from './aircraft/AircraftController';\r\nimport AirlineController from './airline/AirlineController';\r\nimport AirportController from './airport/AirportController';\r\nimport AirportGuideViewController from './airportGuide/AirportGuideViewController';\r\nimport CanvasController from './canvas/CanvasController';\r\nimport AirportInfoController from './info/AirportInfoController';\r\nimport ChangelogController from './changelog/ChangelogController';\r\nimport ContentQueue from './contentQueue/ContentQueue';\r\nimport EventTracker from './EventTracker';\r\nimport GameController from './game/GameController';\r\nimport InputController from './InputController';\r\nimport EventBus from './lib/EventBus';\r\nimport LoadingView from './LoadingView';\r\nimport NavigationLibrary from './navigationLibrary/NavigationLibrary';\r\nimport ScopeModel from './scope/ScopeModel';\r\nimport SpawnPatternCollection from './trafficGenerator/SpawnPatternCollection';\r\nimport SpawnScheduler from './trafficGenerator/SpawnScheduler';\r\nimport UiController from './ui/UiController';\r\nimport ScoreController from './game/ScoreController';\r\nimport { speech_init } from './speech';\r\nimport { EVENT } from './constants/eventNames';\r\nimport { SELECTORS } from './constants/selectors';\r\nimport { TRACKABLE_EVENT } from './constants/trackableEvents';\r\n\r\n/**\r\n * Root controller class\r\n *\r\n * Responsible for instantiating child classes\r\n * Provides public API used by `App` that is used to fire lifecycle methods\r\n * in each of the children classes.\r\n *\r\n * @class AppController\r\n */\r\nexport default class AppController {\r\n    /**\r\n     * @constructor\r\n     * @param element {jQuery|HTML Element}\r\n     */\r\n    constructor(element) {\r\n        /**\r\n         * Root DOM element.\r\n         *\r\n         * @property $element\r\n         * @type {jQuery|HTML Element}\r\n         * @default body\r\n         */\r\n        this.$element = $(element);\r\n\r\n        this.$canvasesElement = null;\r\n        this._eventBus = EventBus;\r\n        this.loadingView = null;\r\n        this.contentQueue = null;\r\n        this.airlineCollection = null;\r\n        this.airportGuideController = null;\r\n        this.inputController = null;\r\n        this.canvasController = null;\r\n        this.changelogController = null;\r\n\r\n        return this._init()\r\n            .setupHandlers()\r\n            .enable();\r\n    }\r\n\r\n    /**\r\n     * @for AppController\r\n     * @method _init\r\n     * @chainable\r\n     * @private\r\n     */\r\n    _init() {\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Create and bind handler methods\r\n     *\r\n     * @for AppController\r\n     * @method setupHandlers\r\n     * @chainable\r\n     */\r\n    setupHandlers() {\r\n        this.onAirportChangeHandler = this.onAirportChange.bind(this);\r\n        this.onTrafficResetHandler = this.onTrafficReset.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for AppController\r\n     * @method enable\r\n     * @chainable\r\n     */\r\n    enable() {\r\n        this._eventBus.on(EVENT.AIRPORT_CHANGE, this.onAirportChangeHandler);\r\n        this._eventBus.on(EVENT.TRAFFIC_RESET, this.onTrafficResetHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for AppController\r\n     * @method destroy\r\n     * @chainable\r\n     */\r\n    disable() {\r\n        this._eventBus.off(EVENT.AIRPORT_CHANGE, this.onAirportChangeHandler);\r\n        this._eventBus.off(EVENT.TRAFFIC_RESET, this.onTrafficResetHandler);\r\n\r\n        return this.destroy();\r\n    }\r\n\r\n    /**\r\n     * @for AppController\r\n     * @method destroy\r\n     * @chainable\r\n     */\r\n    destroy() {\r\n        // TODO: add static class.destroy() here\r\n        this.$element = null;\r\n        this.$canvasesElement = null;\r\n        this._eventBus = null;\r\n        this.loadingView = null;\r\n        this.contentQueue = null;\r\n        this.airlineCollection = null;\r\n        this.airportGuideController = null;\r\n        this.inputController = null;\r\n        this.canvasController = null;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Create child instances and initialize singletons.\r\n     *\r\n     * This method will be called from `App.setupChildren()` only after all the required data has been retrieved\r\n     *\r\n     * @for AppController\r\n     * @method setupChildren\r\n     * @param airportLoadList {array<object>}\r\n     * @param initialAirportIcao {string}\r\n     * @param initialAirportData {object}\r\n     * @param airlineList {array<object>}\r\n     * @param aircraftTypeDefinitionList {array<object>}\r\n     * @param airportGuideData {object}\r\n     */\r\n    setupChildren(\r\n        airportLoadList,\r\n        initialAirportIcao,\r\n        initialAirportData,\r\n        airlineList,\r\n        aircraftTypeDefinitionList,\r\n        airportGuideData\r\n    ) {\r\n        EventTracker.recordEvent(TRACKABLE_EVENT.AIRPORTS, 'initial-load', initialAirportIcao);\r\n\r\n        this.$canvasesElement = this.$element.find(SELECTORS.DOM_SELECTORS.CANVASES);\r\n\r\n        // TODO: this entire method needs to be re-written. this is a temporary implemenation used to\r\n        // get things working in a more cohesive manner. soon, all this instantiation should happen\r\n        // in a different class and the window methods should disappear.\r\n        this.loadingView = new LoadingView();\r\n        this.contentQueue = new ContentQueue(this.loadingView);\r\n        zlsa.atc.loadAsset = (options) => this.contentQueue.add(options);\r\n\r\n        // IMPORTANT:\r\n        // The order in which the following classes are instantiated is extremely important. Changing\r\n        // this order could break a lot of things. This interdependency is something we should\r\n        // work on reducing in the future.\r\n        AirportController.init(initialAirportIcao, initialAirportData, airportLoadList);\r\n        NavigationLibrary.init(initialAirportData);\r\n        SpawnPatternCollection.init(initialAirportData);\r\n\r\n        this.airlineController = new AirlineController(airlineList);\r\n        this.scopeModel = new ScopeModel();\r\n        this.aircraftController = new AircraftController(aircraftTypeDefinitionList, this.airlineController, this.scopeModel);\r\n        this.scoreController = new ScoreController(this.aircraftController);\r\n\r\n        SpawnScheduler.init(this.aircraftController);\r\n\r\n        // TEMPORARY!\r\n        // some instances are attached to the window here as an intermediate step away from global functions.\r\n        // this allows for any module file to call window.{module}.{method} and will make the transition to\r\n        // explicit instance parameters easier.\r\n        window.aircraftController = this.aircraftController;\r\n\r\n        UiController.init(this.$element);\r\n\r\n        this.canvasController = new CanvasController(this.$canvasesElement, this.aircraftController, this.scopeModel);\r\n\r\n        this.inputController = new InputController(this.$element, this.aircraftController, this.scopeModel);\r\n        this.airportInfoController = new AirportInfoController(this.$element);\r\n        this.airportGuideController = new AirportGuideViewController(this.$element, airportGuideData, initialAirportData.icao);\r\n        this.changelogController = new ChangelogController(this.contentQueue);\r\n\r\n        this.updateViewControls();\r\n    }\r\n\r\n    /**\r\n     * @for AppController\r\n     * @method init_pre\r\n     */\r\n    init_pre() {\r\n        GameController.init_pre();\r\n        this.inputController.input_init_pre();\r\n    }\r\n\r\n    /**\r\n     * @for AppController\r\n     * @method init\r\n     */\r\n    init() {\r\n        speech_init();\r\n\r\n        this.canvasController.canvas_init();\r\n        UiController.ui_init();\r\n    }\r\n\r\n    /**\r\n     * @for AppController\r\n     * @method done\r\n     */\r\n    done() {}\r\n\r\n    /**\r\n     * @for AppController\r\n     * @method resize\r\n     */\r\n    resize() {\r\n        this.canvasController.canvas_resize();\r\n    }\r\n\r\n    /**\r\n     * @for AppController\r\n     * @method complete\r\n     */\r\n    complete() {\r\n        this.loadingView.complete();\r\n        GameController.complete();\r\n        this.canvasController.canvas_complete();\r\n        UiController.ui_complete();\r\n    }\r\n\r\n    /**\r\n     * @for AppController\r\n     * @method updatePre\r\n     */\r\n    updatePre() {\r\n        this.airportInfoController.updateClock();\r\n        GameController.update_pre();\r\n        this.aircraftController.update();\r\n    }\r\n\r\n    /**\r\n     * @for AppController\r\n     * @method update\r\n     */\r\n    update() {}\r\n\r\n    /**\r\n     * @for AppController\r\n     * @method updatePost\r\n     */\r\n    updatePost() {\r\n        this.canvasController.canvasUpdatePost();\r\n        this.aircraftController.updateAircraftStrips();\r\n    }\r\n\r\n\r\n    /**\r\n     * `onChange` callback fired from within the `AirportModel` when an airport is changed.\r\n     *\r\n     * When an airport changes various classes need to clear and reset internal properties for\r\n     * the new airport. this callback provides a way to orchestrate all that and send the classes\r\n     * new data.\r\n     *\r\n     * This method will not run on initial load.\r\n     *\r\n     * @for App\r\n     * @method onAirportChange\r\n     * @param nextAirportJson {object}  response or cached object from airport json\r\n     */\r\n    onAirportChange(nextAirportJson) {\r\n        if (!AirportController.current) {\r\n            // if `current` is null, then this is the initial load and we dont need to reset andything\r\n            return;\r\n        }\r\n\r\n        EventTracker.recordEvent(TRACKABLE_EVENT.AIRPORTS, 'airport-switcher', nextAirportJson.icao);\r\n        NavigationLibrary.reset();\r\n        this.airlineController.reset();\r\n        this.aircraftController.aircraft_remove_all();\r\n        this.scopeModel.radarTargetCollection.reset();\r\n        SpawnPatternCollection.reset();\r\n        GameController.destroyTimers();\r\n\r\n        NavigationLibrary.init(nextAirportJson);\r\n        SpawnPatternCollection.init(nextAirportJson);\r\n        SpawnScheduler.startScheduler();\r\n\r\n        this.updateViewControls();\r\n    }\r\n\r\n    /**\r\n     * event callback fired from within the `TrafficRateController` when traffic should be cleared and respawned.\r\n     *\r\n     * @for AppController\r\n     * @method onTrafficReset\r\n     */\r\n    onTrafficReset() {\r\n        EventTracker.recordEvent(TRACKABLE_EVENT.AIRPORTS, 'traffic-reset', AirportController.current.icao);\r\n        this.aircraftController.aircraft_remove_all();\r\n        this.scopeModel.radarTargetCollection.reset();\r\n        AirportController.current.resetAllRunwayQueues();\r\n        SpawnScheduler.createPreSpawnDepartures();\r\n        SpawnScheduler.resetAirborneTraffic();\r\n    }\r\n\r\n    // TODO: this should live in a view class somewhere. temporary inclusion here to prevent tests from failing\r\n    // due to jQuery and because this does not belong in the `AirportModel`\r\n    /**\r\n     * Update visibility of icons at the bottom of the view that allow toggling of\r\n     * certain view elements.\r\n     *\r\n     * Abstracted from `AirportModel`\r\n     *\r\n     * @for App\r\n     * @method updateViewControls\r\n     */\r\n    updateViewControls() {\r\n        const { current: airport } = AirportController;\r\n\r\n        this._eventBus.trigger(EVENT.MARK_SHALLOW_RENDER);\r\n\r\n        $(SELECTORS.DOM_SELECTORS.TOGGLE_RESTRICTED_AREAS).toggle((airport.restricted_areas || []).length > 0);\r\n        $(SELECTORS.DOM_SELECTORS.TOGGLE_SIDS).toggle(NavigationLibrary.hasSids);\r\n        $(SELECTORS.DOM_SELECTORS.TOGGLE_TERRAIN).toggle(airport.data.has_terrain);\r\n    }\r\n}\r\n","import { TRACKABLE_EVENT } from './constants/trackableEvents';\r\n\r\n/**\r\n * Provide methods to send tracking events to google analytics\r\n *\r\n * Exported as a singleton\r\n *\r\n * @class EventTracker\r\n */\r\nclass EventTracker {\r\n    /**\r\n     * @for EventTracker\r\n     * @constructor\r\n     */\r\n    constructor() {\r\n        if (!this._isEnabled()) {\r\n            console.error('Event tracking is disabled because we couldn\\'t find `gtag` on the window');\r\n\r\n            return;\r\n        }\r\n\r\n        this._gtag = window.gtag;\r\n    }\r\n\r\n    // TODO: UiController.onToggleTerrain() and other toggle methods seem to be expecting a\r\n    // different order to these arguments, possibly screwing up the way events are reported to GA\r\n    /**\r\n     * Send a custom event to google analytics\r\n     *\r\n     * @for EventTracker\r\n     * @method recordEvent\r\n     * @param category {TRACKABLE_EVENT}\r\n     * @param action {string}\r\n     * @param label {string}\r\n     * @param value {string|null} [optional]\r\n     */\r\n    recordEvent(category, action, label, value = null) {\r\n        if (!this._isEnabled()) {\r\n            console.error('Event tracking is disabled because we couldn\\'t find `gtag` on the window');\r\n\r\n            return;\r\n        }\r\n\r\n        // using underscores here to match google analytics api\r\n        const event = {\r\n            event_category: category,\r\n            event_action: action,\r\n            event_label: label\r\n        };\r\n\r\n        if (value) {\r\n            event.value = value;\r\n        }\r\n\r\n        return this._gtag('event', event.event_category, event);\r\n    }\r\n\r\n    /**\r\n     * Track a click on an outbound link\r\n     *\r\n     * @for EventTracker\r\n     * @method recordClickOnOutboundLink\r\n     * @param url {string}\r\n     */\r\n    recordClickOnOutboundLink(url) {\r\n        if (!this._isEnabled()) {\r\n            console.error('Event tracking is disabled because we couldn\\'t find `gtag` on the window');\r\n\r\n            return;\r\n        }\r\n\r\n        // using underscores here to match google analytics api\r\n        const event = {\r\n            event_category: TRACKABLE_EVENT.OUTBOUND,\r\n            event_label: url,\r\n            transport_type: 'beacon'\r\n        };\r\n\r\n        return this._gtag('event', 'click', event);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @method _isEnabled\r\n     * @returns {boolean}\r\n     */\r\n    _isEnabled() {\r\n        return typeof window.gtag !== 'undefined';\r\n    }\r\n}\r\n\r\nexport default new EventTracker();\r\n","/* eslint-disable camelcase, no-mixed-operators, object-shorthand, expected-return */\r\nimport $ from 'jquery';\r\nimport _has from 'lodash/has';\r\nimport _includes from 'lodash/includes';\r\nimport AirportController from './airport/AirportController';\r\nimport AutocompleteController from './ui/autocomplete/AutocompleteController';\r\nimport CanvasStageModel from './canvas/CanvasStageModel';\r\nimport DynamicPositionModel from './base/DynamicPositionModel';\r\nimport EventBus from './lib/EventBus';\r\nimport GameController from './game/GameController';\r\nimport UiController from './ui/UiController';\r\nimport CommandParser from './commands/parsers/CommandParser';\r\nimport ScopeCommandModel from './commands/scopeCommand/ScopeCommandModel';\r\nimport EventTracker from './EventTracker';\r\nimport MeasureTool from './measurement/MeasureTool';\r\nimport FixCollection from './navigationLibrary/FixCollection';\r\nimport { clamp } from './math/core';\r\nimport { EVENT } from './constants/eventNames';\r\nimport { GAME_OPTION_NAMES } from './constants/gameOptionConstants';\r\nimport { INVALID_NUMBER } from './constants/globalConstants';\r\nimport {\r\n    COMMAND_CONTEXT,\r\n    KEY_CODES,\r\n    LEGACY_KEY_CODES,\r\n    MOUSE_BUTTON_NAMES,\r\n    MOUSE_EVENT_CODE,\r\n    PARSED_COMMAND_NAME\r\n} from './constants/inputConstants';\r\nimport { SELECTORS, CLASSNAMES } from './constants/selectors';\r\nimport { TRACKABLE_EVENT } from './constants/trackableEvents';\r\n\r\n// Temporary const declaration here to attach to the window AND use as internal propert\r\nconst input = {};\r\n\r\n/**\r\n * @class InputController\r\n */\r\nexport default class InputController {\r\n    /**\r\n     * @constructor\r\n     * @param $element {JQuery|HTML Element}\r\n     * @param aircraftController {AircraftController}\r\n     * @param scopeModel {ScopeModel}\r\n     */\r\n    constructor($element, aircraftController, scopeModel) {\r\n        this.$element = $element;\r\n        this.$body = null;\r\n        this.$window = null;\r\n        this.$commandInput = null;\r\n        this.$canvases = null;\r\n\r\n        this._eventBus = EventBus;\r\n        this._aircraftController = aircraftController;\r\n        this._scopeModel = scopeModel;\r\n        this._autocompleteController = new AutocompleteController(this.$element, this, this._aircraftController);\r\n\r\n        prop.input = input;\r\n        this.input = input;\r\n        this.input.callsign = '';\r\n        this.input.history = [];\r\n        this.input.history_item = null;\r\n        this._mouseDownScreenPosition = [0, 0];\r\n        this.input.isMouseDown = false;\r\n        this.commandBarContext = COMMAND_CONTEXT.AIRCRAFT;\r\n\r\n        this._init();\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method _init\r\n     */\r\n    _init() {\r\n        this.$body = this.$element[0];\r\n        this.$window = $(window);\r\n        this.$commandInput = this.$element.find(SELECTORS.DOM_SELECTORS.COMMAND);\r\n        this.$canvases = this.$element.find(SELECTORS.DOM_SELECTORS.CANVASES);\r\n\r\n        return this.setupHandlers().enable();\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method setupHandlers\r\n     */\r\n    setupHandlers() {\r\n        this.onKeydownHandler = this._onKeydown.bind(this);\r\n        this.onKeyupHandler = this._onKeyup.bind(this);\r\n        this.onMouseScrollHandler = this._onMouseScroll.bind(this);\r\n        this.onMouseClickAndDragHandler = this._onMouseClickAndDrag.bind(this);\r\n        this.onMouseUpHandler = this._onMouseUp.bind(this);\r\n        this.onMouseDownHandler = this._onMouseDown.bind(this);\r\n        this.onMouseDblclickHandler = this._onMouseDblclick.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Enable all event handlers\r\n     *\r\n     * @for InputController\r\n     * @method enable\r\n     */\r\n    enable() {\r\n        this.$window.on('keydown', this.onKeydownHandler);\r\n        this.$window.on('keyup', this.onKeyupHandler);\r\n        // TODO: these are non-standard events and will be deprecated soon. this should be moved\r\n        // over to the `wheel` event. This should also be moved over to `.on()` instead of `.bind()`\r\n        // https://developer.mozilla.org/en-US/docs/Web/Events/wheel\r\n        // this.$commandInput.on('DOMMouseScroll mousewheel', this.onMouseScrollHandler);\r\n        this.$canvases.bind('DOMMouseScroll mousewheel', this.onMouseScrollHandler);\r\n        this.$canvases.on('mousemove', this.onMouseClickAndDragHandler);\r\n        this.$canvases.on('mouseup', this.onMouseUpHandler);\r\n        this.$canvases.on('mousedown', this.onMouseDownHandler);\r\n        this.$canvases.on('dblclick', this.onMouseDblclickHandler);\r\n        this.$body.addEventListener('contextmenu', (event) => event.preventDefault());\r\n\r\n        // TODO: Fix this\r\n        this._eventBus.on(EVENT.STRIP_CLICK, this.selectAircraftByCallsign);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Disable all event handlers and destroy the instance\r\n     *\r\n     * @for InputController\r\n     * @method disable\r\n     */\r\n    disable() {\r\n        this.$window.off('keydown', this.onKeydownHandler);\r\n        this.$window.off('keyup', this.onKeyupHandler);\r\n        // uncomment only after `.on()` for this event has been implemented.\r\n        // this.$commandInput.off('DOMMouseScroll mousewheel', this.onMouseScrollHandler);\r\n        this.$canvases.off('mousemove', this.onMouseClickAndDragHandler);\r\n        this.$canvases.off('mouseup', this.onMouseUpHandler);\r\n        this.$canvases.off('mousedown', this.onMouseDownHandler);\r\n        this.$canvases.off('dblclick', this.onMouseDblclickHandler);\r\n        this.$body.removeEventListener('contextmenu', (event) => event.preventDefault());\r\n\r\n        this._eventBus.off(EVENT.STRIP_CLICK, this.selectAircraftByCallsign);\r\n\r\n        return this.destroy();\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method destroy\r\n     */\r\n    destroy() {\r\n        this.$element = null;\r\n        this.$body = null;\r\n        this.$window = null;\r\n        this.$commandInput = null;\r\n        this.$canvases = null;\r\n\r\n        this._autocompleteController = null;\r\n\r\n        this.input = input;\r\n        this.input.callsign = '';\r\n        this.input.history = [];\r\n        this.input.history_item = null;\r\n        this._mouseDownScreenPosition = [0, 0];\r\n        this.input.isMouseDown = false;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method input_init_pre\r\n     */\r\n    input_init_pre() {\r\n        // TODO: these prop properties can be removed except for `this.input`\r\n        this.input = input;\r\n        this.input.callsign = '';\r\n        this.input.history = [];\r\n        this.input.history_item = null;\r\n        this._mouseDownScreenPosition = [0, 0];\r\n        this.input.isMouseDown = false;\r\n    }\r\n\r\n    /**\r\n     * De-selects any selected aircraft\r\n     *\r\n     * This clears the current aircraft callsign from the command input\r\n     * and de-selects an active aircraft's:\r\n     * - flight strip\r\n     * - radar target\r\n     *\r\n     * @for InputController\r\n     * @method deselectAircraft\r\n     */\r\n    deselectAircraft() {\r\n        // TODO: Refactor out the prop\r\n        // using `prop` here so CanvasController knows which aircraft is selected\r\n        prop.input.callsign = '';\r\n        this.input.callsign = '';\r\n        this.$commandInput.val('');\r\n\r\n        this._eventBus.trigger(EVENT.DESELECT_AIRCRAFT, {});\r\n    }\r\n\r\n    /**\r\n     * Adds a point to the measuring tool\r\n     *\r\n     * @for InputController\r\n     * @method _addMeasurePoint\r\n     * @param event {jquery Event}\r\n     * @param shouldReplaceLastPoint {boolean} Indicates whether this will replace the last point\r\n     * @private\r\n     */\r\n    _addMeasurePoint(event, shouldReplaceLastPoint = false) {\r\n        const mouseCanvasPosition = CanvasStageModel.calculateCanvasPositionFromPagePosition(\r\n            event.pageX, event.pageY\r\n        );\r\n        let relativePosition = CanvasStageModel.calculateRelativePositionFromCanvasPosition(...mouseCanvasPosition);\r\n\r\n        // Snapping should only be done when the shift key is depressed\r\n        if (event.originalEvent.shiftKey) {\r\n            const [aircraftModel, distanceFromAircraft] = this._findClosestAircraftAndDistanceToCanvasPosition(\r\n                ...mouseCanvasPosition\r\n            );\r\n            const [fixModel, distanceFromFix] = this._findClosestFixAndDistanceToCanvasPosition(...mouseCanvasPosition);\r\n            let distance;\r\n            let nearestModel;\r\n\r\n            // Which model is closest\r\n            if (distanceFromFix < distanceFromAircraft) {\r\n                distance = distanceFromFix;\r\n                nearestModel = fixModel;\r\n            } else {\r\n                distance = distanceFromAircraft;\r\n                nearestModel = aircraftModel;\r\n            }\r\n\r\n            // Only snap if the distance is with 50px, otherwise the behaviour is jarring\r\n            if (distance < CanvasStageModel.translatePixelsToKilometers(50)) {\r\n                relativePosition = nearestModel;\r\n            }\r\n        }\r\n\r\n        if (MeasureTool.hasStarted && shouldReplaceLastPoint) {\r\n            MeasureTool.updateLastPoint(relativePosition);\r\n        } else {\r\n            MeasureTool.addPoint(relativePosition);\r\n        }\r\n\r\n        // Mark for shallow render so the draw motion is smooth\r\n        this._eventBus.trigger(EVENT.MARK_SHALLOW_RENDER);\r\n    }\r\n\r\n    /**\r\n     * Removes the last point in the measuring tool\r\n     *\r\n     * @for InputController\r\n     * @method _removePreviousMeasurePoint\r\n     * @private\r\n     */\r\n    _removePreviousMeasurePoint() {\r\n        MeasureTool.removePreviousPoint();\r\n\r\n        // Mark for shallow render so the feedback is immediate\r\n        this._eventBus.trigger(EVENT.MARK_SHALLOW_RENDER);\r\n    }\r\n\r\n    /**\r\n     * Resets the measuring tool, clearing existing paths\r\n     *\r\n     * @for InputController\r\n     * @method _resetMeasuring\r\n     * @private\r\n     */\r\n    _resetMeasuring() {\r\n        const { hasPaths } = MeasureTool;\r\n\r\n        MeasureTool.reset();\r\n\r\n        // Mark for shallow render so the feedback is immediate\r\n        if (hasPaths) {\r\n            this._eventBus.trigger(EVENT.MARK_SHALLOW_RENDER);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Starts the measuring tool\r\n     *\r\n     * @for InputController\r\n     * @method _startMeasuring\r\n     * @private\r\n     */\r\n    _startMeasuring() {\r\n        if (MeasureTool.isMeasuring) {\r\n            return;\r\n        }\r\n\r\n        MeasureTool.startNewPath();\r\n    }\r\n\r\n    /**\r\n     * Stops the measuring tool\r\n     *\r\n     * @for InputController\r\n     * @method _stopMeasuring\r\n     * @private\r\n     */\r\n    _stopMeasuring() {\r\n        MeasureTool.endPath();\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method _onMouseScroll\r\n     * @param event {jquery Event}\r\n     */\r\n    _onMouseScroll(event) {\r\n        if (event.originalEvent.wheelDelta > 0 || event.originalEvent.detail < 0) {\r\n            CanvasStageModel.zoomIn();\r\n\r\n            return;\r\n        }\r\n\r\n        CanvasStageModel.zoomOut();\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method _onMouseClickAndDrag\r\n     * @param event {jquery Event}\r\n     */\r\n    _onMouseClickAndDrag(event) {\r\n        if (MeasureTool.hasStarted) {\r\n            this._addMeasurePoint(event, true);\r\n\r\n            return this;\r\n        }\r\n\r\n        if (!this.input.isMouseDown) {\r\n            return this;\r\n        }\r\n\r\n        const nextXPan = event.pageX - this._mouseDownScreenPosition[0];\r\n        const nextYPan = event.pageY - this._mouseDownScreenPosition[1];\r\n\r\n        CanvasStageModel.updatePan(nextXPan, nextYPan);\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method _onMouseUp\r\n     * @param event {jquery Event}\r\n     */\r\n    _onMouseUp(event) {\r\n        this.input.isMouseDown = false;\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method _onMouseDown\r\n     * @param event {jquery Event}\r\n     */\r\n    _onMouseDown(event) {\r\n        event.preventDefault();\r\n\r\n        switch (event.which) {\r\n            case MOUSE_EVENT_CODE.LEFT_PRESS:\r\n                this._onLeftMouseButtonPress(event);\r\n\r\n                break;\r\n            case MOUSE_EVENT_CODE.MIDDLE_PRESS:\r\n                CanvasStageModel.zoomReset();\r\n\r\n                break;\r\n            case MOUSE_EVENT_CODE.RIGHT_PRESS:\r\n                this._onRightMousePress(event);\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method _onMouseDblclick\r\n     * @param event {jquery Event}\r\n     */\r\n    _onMouseDblclick(event) {\r\n        // HACK: for \"when an aircraft's radar return is double clicked\"\r\n        // caveat: double click is series of mousedown-mouseup-mousedown-mouseup events in rapid succession\r\n        // there is no guarantee that pointer is stationary throughout the process!\r\n        // event handler is for entire canvas, not for things drawn on it; need to resolve which aircraft\r\n        // _onLeftMouseButtonPress identifies and selects nearest aircraft within 50px of mousedown events\r\n        // so we can just piggyback off the aircraft (if any) already selected by the second mousedown\r\n        if (!this.input.callsign) {\r\n            return;\r\n        }\r\n\r\n        this._eventBus.trigger(\r\n            EVENT.SCROLL_TO_AIRCRAFT,\r\n            this._aircraftController.findAircraftByCallsign(this.input.callsign)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method selectAircraft\r\n     * @param aircraftModel {AircraftModel}\r\n     */\r\n    selectAircraft = (aircraftModel) => {\r\n        if (!aircraftModel || !aircraftModel.isControllable) {\r\n            this.deselectAircraft();\r\n\r\n            return;\r\n        }\r\n\r\n        // TODO: Refactor out the prop\r\n        // using `prop` here so CanvasController knows which aircraft is selected\r\n        prop.input.callsign = aircraftModel.callsign;\r\n        this.input.callsign = aircraftModel.callsign;\r\n        this.$commandInput.val(`${aircraftModel.callsign} `);\r\n\r\n        if (!this.$commandInput.is(':focus')) {\r\n            this.$commandInput.focus();\r\n        }\r\n\r\n        this._eventBus.trigger(EVENT.SELECT_AIRCRAFT, aircraftModel);\r\n    };\r\n\r\n    /**\r\n     * Select aircraft by callsign\r\n     *\r\n     * @for InputController\r\n     * @method selectAircraftByCallsign\r\n     * @param callsign {string}\r\n     */\r\n    selectAircraftByCallsign = (callsign) => {\r\n        const aircraftModel = this._aircraftController.findAircraftByCallsign(callsign);\r\n\r\n        this.selectAircraft(aircraftModel);\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method _onKeydown\r\n     * @param event {jquery Event}\r\n     * @private\r\n     */\r\n    _onKeydown(event) {\r\n        let { code } = event.originalEvent;\r\n        const isEscape = code === KEY_CODES.ESCAPE || code === LEGACY_KEY_CODES.ESCAPE;\r\n\r\n        if (this._isDialog(event.target) && !isEscape) {\r\n            // ignore input for dialogs\r\n            return;\r\n        }\r\n\r\n        // pass keboard inputs to autocomplete if it is active\r\n        if (this._autocompleteController.active) {\r\n            this._autocompleteController.onKeydownHandler(event);\r\n            return;\r\n        }\r\n\r\n        const currentCommandInputValue = this.$commandInput.val();\r\n\r\n\r\n        if (code == null) {\r\n            // fallback for legacy browsers like IE/Edge\r\n            code = event.originalEvent.keyCode;\r\n        }\r\n\r\n        // TODO: this switch can be simplified, there is a lot of repetition here\r\n        switch (code) {\r\n            case KEY_CODES.CONTROL_LEFT:\r\n            case KEY_CODES.CONTROL_RIGHT:\r\n                this._startMeasuring();\r\n\r\n                break;\r\n            case KEY_CODES.ENTER:\r\n            case KEY_CODES.NUM_ENTER:\r\n            case LEGACY_KEY_CODES.ENTER:\r\n                this.processCommand();\r\n\r\n                break;\r\n            case KEY_CODES.PAGE_UP:\r\n            case LEGACY_KEY_CODES.PAGE_UP:\r\n                this.selectPreviousAircraft();\r\n                event.preventDefault();\r\n\r\n                break;\r\n            case KEY_CODES.PAGE_DOWN:\r\n            case LEGACY_KEY_CODES.PAGE_DOWN:\r\n                this.selectNextAircraft();\r\n                event.preventDefault();\r\n\r\n                break;\r\n            // turning\r\n            case KEY_CODES.LEFT_ARROW:\r\n            case LEGACY_KEY_CODES.LEFT_ARROW:\r\n                if (this._isArrowControlMethod() && this.commandBarContext === COMMAND_CONTEXT.AIRCRAFT) {\r\n                    this.$commandInput.val(`${currentCommandInputValue} t l `);\r\n                    event.preventDefault();\r\n                }\r\n\r\n                break;\r\n            case KEY_CODES.RIGHT_ARROW:\r\n            case LEGACY_KEY_CODES.RIGHT_ARROW:\r\n                if (this._isArrowControlMethod() && this.commandBarContext === COMMAND_CONTEXT.AIRCRAFT) {\r\n                    this.$commandInput.val(`${currentCommandInputValue} t r `);\r\n                    event.preventDefault();\r\n                }\r\n\r\n                break;\r\n            // climb / descend\r\n            case KEY_CODES.UP_ARROW:\r\n            case LEGACY_KEY_CODES.UP_ARROW:\r\n                if (this._isArrowControlMethod() && this.commandBarContext === COMMAND_CONTEXT.AIRCRAFT) {\r\n                    this.$commandInput.val(`${currentCommandInputValue} c `);\r\n                    event.preventDefault();\r\n                } else {\r\n                    this.selectPreviousAircraft();\r\n                    event.preventDefault();\r\n                }\r\n\r\n                break;\r\n            case KEY_CODES.DOWN_ARROW:\r\n            case LEGACY_KEY_CODES.DOWN_ARROW:\r\n                if (this._isArrowControlMethod() && this.commandBarContext === COMMAND_CONTEXT.AIRCRAFT) {\r\n                    this.$commandInput.val(`${currentCommandInputValue} d `);\r\n                    event.preventDefault();\r\n                } else {\r\n                    this.selectNextAircraft();\r\n                    event.preventDefault();\r\n                }\r\n\r\n                break;\r\n            // takeoff / landing\r\n            case KEY_CODES.NUM_DIVIDE:\r\n            case LEGACY_KEY_CODES.NUM_DIVIDE:\r\n                if (this.commandBarContext === COMMAND_CONTEXT.AIRCRAFT) {\r\n                    this.$commandInput.val(`${currentCommandInputValue} / `);\r\n                    event.preventDefault();\r\n                }\r\n\r\n                break;\r\n            case KEY_CODES.NUM_MULTIPLY:\r\n            case LEGACY_KEY_CODES.NUM_MULTIPLY:\r\n                if (this.commandBarContext === COMMAND_CONTEXT.AIRCRAFT) {\r\n                    this.$commandInput.val(`${currentCommandInputValue} * `);\r\n                    event.preventDefault();\r\n                }\r\n\r\n                break;\r\n            // speed up / slow down\r\n            case KEY_CODES.NUM_ADD:\r\n            case LEGACY_KEY_CODES.NUM_ADD:\r\n                if (this.commandBarContext === COMMAND_CONTEXT.AIRCRAFT) {\r\n                    this.$commandInput.val(`${currentCommandInputValue} + `);\r\n                    event.preventDefault();\r\n                }\r\n\r\n                break;\r\n            case KEY_CODES.NUM_SUBTRACT:\r\n            case LEGACY_KEY_CODES.NUM_SUBTRACT:\r\n                if (this.commandBarContext === COMMAND_CONTEXT.AIRCRAFT) {\r\n                    this.$commandInput.val(`${currentCommandInputValue} - `);\r\n                    event.preventDefault();\r\n                }\r\n\r\n                break;\r\n            case KEY_CODES.F1:\r\n            case LEGACY_KEY_CODES.F1:\r\n                event.preventDefault();\r\n                this._scopeModel.decreasePtlLength();\r\n\r\n                break;\r\n            case KEY_CODES.F2:\r\n            case LEGACY_KEY_CODES.F2:\r\n                event.preventDefault();\r\n                this._scopeModel.increasePtlLength();\r\n\r\n                break;\r\n            case KEY_CODES.F7:\r\n            case LEGACY_KEY_CODES.F7:\r\n                if (this.commandBarContext !== COMMAND_CONTEXT.SCOPE) {\r\n                    return;\r\n                }\r\n\r\n                this.$commandInput.val('QP_J ');\r\n                event.preventDefault();\r\n\r\n                break;\r\n            case KEY_CODES.BACKQUOTE:\r\n            case LEGACY_KEY_CODES.BACKQUOTE:\r\n                this.$commandInput.val('');\r\n                event.preventDefault();\r\n                this._toggleCommandBarContext();\r\n\r\n                break;\r\n            case KEY_CODES.TAB:\r\n            case LEGACY_KEY_CODES.TAB:\r\n                event.preventDefault();\r\n\r\n                if (this.commandBarContext === COMMAND_CONTEXT.AIRCRAFT) {\r\n                    this._autocompleteController.activate();\r\n                }\r\n\r\n                break;\r\n            case KEY_CODES.ESCAPE:\r\n            case LEGACY_KEY_CODES.ESCAPE:\r\n                // TODO: Probably should have its own cancel button\r\n                this._resetMeasuring();\r\n\r\n                UiController.closeAllDialogs();\r\n\r\n                const hasCallsign = _includes(currentCommandInputValue, this.input.callsign);\r\n                const hasOnlyCallsign = currentCommandInputValue.trim() === this.input.callsign;\r\n                const hasSelectedCallsign = this.input.callsign !== '';\r\n\r\n                if (!hasCallsign || hasOnlyCallsign || !hasSelectedCallsign) {\r\n                    this.deselectAircraft();\r\n\r\n                    return;\r\n                }\r\n\r\n                this.$commandInput.val(`${this.input.callsign} `);\r\n\r\n                break;\r\n            default:\r\n                this.$commandInput.focus();\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method _onKeydown\r\n     * @param event {jquery Event}\r\n     * @private\r\n     */\r\n    _onKeyup(event) {\r\n        let { code } = event.originalEvent;\r\n\r\n        if (code == null) {\r\n            // fallback for legacy browsers like IE/Edge\r\n            code = event.originalEvent.keyCode;\r\n        }\r\n\r\n        switch (code) {\r\n            case KEY_CODES.CONTROL_LEFT:\r\n            case KEY_CODES.CONTROL_RIGHT:\r\n                this._stopMeasuring();\r\n                this._eventBus.trigger(EVENT.MARK_SHALLOW_RENDER);\r\n\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns true if $element is part of a dialog\r\n     *\r\n     * @for InputController\r\n     * @method _isDialog\r\n     * @param element {jquery element}\r\n     * @return {boolean}\r\n     * @private\r\n     */\r\n    _isDialog($element) {\r\n        if ($element.classList.contains(CLASSNAMES.DIALOG)) {\r\n            return true;\r\n        }\r\n\r\n        const { parentElement } = $element;\r\n\r\n        return parentElement && this._isDialog(parentElement);\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method input_history_clamp\r\n     */\r\n    input_history_clamp() {\r\n        this.input.history_item = clamp(0, this.input.history_item, this.input.history.length - 1);\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method selectPreviousAircraft\r\n     */\r\n    selectPreviousAircraft() {\r\n        if (this.input.history.length === 0) {\r\n            return;\r\n        }\r\n\r\n        if (this.input.history_item == null) {\r\n            this.input.history.unshift(this.$commandInput.val());\r\n            this.input.history_item = 0;\r\n        }\r\n\r\n        this.input.history_item += 1;\r\n        this.input_history_clamp();\r\n\r\n        const callsign = this.input.history[this.input.history_item];\r\n        const aircraftModel = this._aircraftController.findAircraftByCallsign(callsign);\r\n\r\n        this.selectAircraft(aircraftModel);\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method selectNextAircraft\r\n     */\r\n    selectNextAircraft() {\r\n        if (this.input.history.length === 0 || !this.input.history_item) {\r\n            return;\r\n        }\r\n\r\n        this.input.history_item -= 1;\r\n\r\n        if (this.input.history_item <= 0) {\r\n            this.$commandInput.val(this.input.history[0]);\r\n\r\n            this.input.history.splice(0, 1);\r\n            this.input.history_item = null;\r\n\r\n            return;\r\n        }\r\n\r\n        this.input_history_clamp();\r\n\r\n        const callsign = this.input.history[this.input.history_item];\r\n        const aircraftModel = this._aircraftController.findAircraftByCallsign(callsign);\r\n\r\n        this.selectAircraft(aircraftModel);\r\n    }\r\n\r\n    /**\r\n     * Encapsulation of repeated boolean logic\r\n     *\r\n     * @for InputController\r\n     * @method _isArrowControlMethod\r\n     * @return {boolean}\r\n     */\r\n    _isArrowControlMethod() {\r\n        return GameController.game.option.getOptionByName(GAME_OPTION_NAMES.CONTROL_METHOD) === 'arrows';\r\n    }\r\n\r\n    /**\r\n     * Toggle command bar between aircraft commands and scope commands\r\n     *\r\n     * @for InputController\r\n     * @method _toggleCommandBarContext\r\n     */\r\n    _toggleCommandBarContext() {\r\n        switch (this.commandBarContext) {\r\n            case COMMAND_CONTEXT.AIRCRAFT:\r\n                this.commandBarContext = COMMAND_CONTEXT.SCOPE;\r\n                this.$commandInput.attr('placeholder', 'enter scope command');\r\n                this.$commandInput.toggleClass(SELECTORS.CLASSNAMES.COMMAND_SCOPE_MODE);\r\n\r\n                return;\r\n            case COMMAND_CONTEXT.SCOPE:\r\n                this.commandBarContext = COMMAND_CONTEXT.AIRCRAFT;\r\n                this.$commandInput.attr('placeholder', 'enter aircraft command');\r\n                this.$commandInput.toggleClass(SELECTORS.CLASSNAMES.COMMAND_SCOPE_MODE);\r\n\r\n                break;\r\n\r\n            default:\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Process user command to be applied to an aircraft\r\n     *\r\n     * @for InputController\r\n     * @method processAircraftCommand\r\n     */\r\n    processAircraftCommand() {\r\n        const userCommand = this.$commandInput.val().trim().toLowerCase();\r\n\r\n        // Using try/catch here very much on purpose. the `CommandParser` will throw when it encounters any kind\r\n        // of error; invalid length, validation, parse, etc. Here we catch those errors, log them to the screen\r\n        // and then throw them all at once\r\n        let cmd;\r\n        try {\r\n            const parser = new CommandParser(userCommand);\r\n            cmd = parser.parse();\r\n        } catch (error) {\r\n            UiController.ui_log('Command not understood', true);\r\n            throw error;\r\n        }\r\n        const parsedCommand = cmd;\r\n        if (parsedCommand.command !== PARSED_COMMAND_NAME.TRANSMIT) {\r\n            return this.processSystemCommand(parsedCommand);\r\n        }\r\n\r\n        this.input.history.unshift(this.input.callsign);\r\n        this.input.history_item = null;\r\n\r\n        return this.processTransmitCommand(parsedCommand);\r\n    }\r\n\r\n    /**\r\n     * Process the command currently in the command bar\r\n     *\r\n     * @for InputController\r\n     * @method processCommand\r\n     * @return {array} [success of operation, response]\r\n     */\r\n    processCommand() {\r\n        let response = [];\r\n\r\n        if (this.commandBarContext === COMMAND_CONTEXT.AIRCRAFT) {\r\n            response = this.processAircraftCommand();\r\n        } else if (this.commandBarContext === COMMAND_CONTEXT.SCOPE) {\r\n            response = this.processScopeCommand();\r\n        }\r\n\r\n        this.deselectAircraft();\r\n\r\n        return response;\r\n    }\r\n\r\n    /**\r\n     * Process user command to be applied to the user's scope\r\n     *\r\n     * @for InputController\r\n     * @method processScopeCommand\r\n     */\r\n    processScopeCommand() {\r\n        let scopeCommandModel;\r\n        const userCommand = this.$commandInput.val().trim().toLowerCase();\r\n\r\n        try {\r\n            scopeCommandModel = new ScopeCommandModel(userCommand);\r\n        } catch (error) {\r\n            UiController.ui_log('ERROR: BAD SYNTAX', true);\r\n\r\n            throw error;\r\n        }\r\n\r\n        const [successful, response] = this._scopeModel.runScopeCommand(scopeCommandModel);\r\n        const isWarning = !successful;\r\n\r\n        UiController.ui_log(response, isWarning);\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method processSystemCommand\r\n     * @param parsedCommand {ParsedCommand}\r\n     * @return {boolean}\r\n     */\r\n    processSystemCommand(parsedCommand) {\r\n        switch (parsedCommand.command) {\r\n            case PARSED_COMMAND_NAME.TUTORIAL:\r\n                UiController.onToggleTutorial();\r\n\r\n                return true;\r\n\r\n            case PARSED_COMMAND_NAME.AUTO:\r\n                // TODO: does this function exist anywhere?\r\n                // aircraft_toggle_auto();\r\n                //\r\n                // if (this._aircraftController.aircraft.auto.enabled) {\r\n                //     UiController.ui_log('automatic controller ENGAGED');\r\n                // } else {\r\n                //     UiController.ui_log('automatic controller OFF');\r\n                // }\r\n\r\n                return true;\r\n\r\n            case PARSED_COMMAND_NAME.PAUSE:\r\n                GameController.game_pause_toggle();\r\n\r\n                return true;\r\n\r\n            case PARSED_COMMAND_NAME.TIMEWARP:\r\n                let nextTimewarpValue = 0;\r\n\r\n                if (parsedCommand.args) {\r\n                    // timewarp has just one argument\r\n                    [nextTimewarpValue] = parsedCommand.args;\r\n                }\r\n\r\n                GameController.updateTimescale(nextTimewarpValue);\r\n                EventTracker.recordEvent(TRACKABLE_EVENT.OPTIONS, 'timewarp-maunal-entry', `${nextTimewarpValue}`);\r\n\r\n                return true;\r\n\r\n            case PARSED_COMMAND_NAME.CLEAR:\r\n                localStorage.clear();\r\n                location.reload();\r\n\r\n                break;\r\n            case PARSED_COMMAND_NAME.AIRPORT: {\r\n                // TODO: it may be better to do this in the parser\r\n                const airportIcao = parsedCommand.args[0];\r\n\r\n                if (_has(AirportController.airports, airportIcao)) {\r\n                    AirportController.airport_set(airportIcao);\r\n                }\r\n\r\n                return true;\r\n            }\r\n            case PARSED_COMMAND_NAME.AIRAC: {\r\n                const airportIcao = AirportController.current.icao.toUpperCase();\r\n                const airacCycle = AirportController.getAiracCycle();\r\n\r\n                if (!airacCycle) {\r\n                    UiController.ui_log(`${airportIcao} AIRAC cycle: unknown`);\r\n\r\n                    return true;\r\n                }\r\n\r\n                UiController.ui_log(`${airportIcao} AIRAC cycle: ${airacCycle}`);\r\n\r\n                return true;\r\n            }\r\n            // TODO: this will be removed entirely, eventually.\r\n            case PARSED_COMMAND_NAME.RATE:\r\n                UiController.ui_log('this command has been deprecated', true);\r\n\r\n                return true;\r\n            default:\r\n                return true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @for InputController\r\n     * @method processTransmitCommand\r\n     * @param parsedCommand {ParsedCommand}\r\n     * @return {boolean}\r\n     */\r\n    processTransmitCommand(parsedCommand) {\r\n        // TODO: abstract the aircraft callsign matching\r\n        let matches = 0;\r\n        let match = INVALID_NUMBER;\r\n\r\n        for (let i = 0; i < this._aircraftController.aircraft.list.length; i++) {\r\n            const aircraft = this._aircraftController.aircraft.list[i];\r\n\r\n            if (aircraft.matchCallsign(parsedCommand.callsign)) {\r\n                matches += 1;\r\n                match = i;\r\n            }\r\n        }\r\n\r\n        if (matches > 1) {\r\n            UiController.ui_log('multiple aircraft match the callsign, say again', true);\r\n\r\n            return true;\r\n        }\r\n\r\n        if (match === INVALID_NUMBER) {\r\n            UiController.ui_log('no such aircraft, say again', true);\r\n\r\n            return true;\r\n        }\r\n\r\n        const aircraft = this._aircraftController.aircraft.list[match];\r\n\r\n        return this._aircraftController.aircraftCommander.runCommands(aircraft, parsedCommand.args);\r\n    }\r\n\r\n    /**\r\n     * Given a mouse click event, retrieve and return the [x, y] offset from the airport center, in km\r\n     *\r\n     * @for InputController\r\n     * @method _calculateRelativePositionFromEvent\r\n     * @param event {jQuery Event}\r\n     * @return {array<number>}\r\n     */\r\n    _calculateRelativePositionFromEvent(event) {\r\n        const canvasPosition = CanvasStageModel.calculateCanvasPositionFromPagePosition(event.pageX, event.pageY);\r\n        const relativePosition = CanvasStageModel.calculateRelativePositionFromCanvasPosition(...canvasPosition);\r\n\r\n        return relativePosition;\r\n    }\r\n\r\n    /**\r\n     * Facade for `_aircraftController.aircraft_get_nearest()`\r\n     *\r\n     * Accepts current mouse position in canvas coordinates x, y\r\n     *\r\n     * @for InputController\r\n     * @method _findClosestAircraftAndDistanceToCanvasPosition\r\n     * @param x {number}\r\n     * @param y {number}\r\n     * @returns [aircraftModel, number]\r\n     * @private\r\n     */\r\n    _findClosestAircraftAndDistanceToCanvasPosition(x, y) {\r\n        return this._aircraftController.aircraft_get_nearest(\r\n            CanvasStageModel.calculateRelativePositionFromCanvasPosition(x, y)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Facade for `FixCollection.getNearest`\r\n     *\r\n     * Accepts current mouse position in canvas coordinates x, y\r\n     *\r\n     * @for InputController\r\n     * @method _findClosestFixAndDistanceToCanvasPosition\r\n     * @param x {number}\r\n     * @param y {number}\r\n     * @returns [FixModel, number]\r\n     * @private\r\n     */\r\n    _findClosestFixAndDistanceToCanvasPosition(x, y) {\r\n        return FixCollection.getNearestFix(\r\n            CanvasStageModel.calculateRelativePositionFromCanvasPosition(x, y)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Log the provided lat/lon coordinates to the console, display in command log, and copy to clipboard\r\n     *\r\n     * @for InputController\r\n     * @method _logAndCopyCoordinates\r\n     * @param latLonCoordinates {array<number>} [lat, lon]\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _logAndCopyCoordinates(latLonCoordinates) {\r\n        const coordinateText = latLonCoordinates.map((coord) => coord.toFixed(9)).join(', ');\r\n\r\n        window.navigator.clipboard.writeText(coordinateText).then(() => {\r\n            console.log(coordinateText);\r\n            UiController.ui_log(`Clicked coordinates: ${coordinateText} (logged to console and copied to clipboard!)`, true);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Triggered when a user clicks on the `right` mouse button and\r\n     * records the position of the `right click` event.\r\n     *\r\n     * @for InputController\r\n     * @method _onRightMousePress\r\n     * @param event {jquery Event}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onRightMousePress(event) {\r\n        if (MeasureTool.isMeasuring) {\r\n            this._removePreviousMeasurePoint();\r\n\r\n            return;\r\n        }\r\n\r\n        // copy mouse click position to clipboard on shift+alt+rightclick\r\n        if (event.originalEvent.shiftKey && event.originalEvent.altKey) {\r\n            const relativePosition = this._calculateRelativePositionFromEvent(event);\r\n            const referencePosition = AirportController.current.positionModel;\r\n            const latLonCoordinates = DynamicPositionModel.calculateGpsCoordinatesFromRelativePosition(\r\n                relativePosition, referencePosition\r\n            );\r\n\r\n            return this._logAndCopyCoordinates(latLonCoordinates);\r\n        }\r\n\r\n        this._markMousePressed(event, MOUSE_BUTTON_NAMES.RIGHT);\r\n    }\r\n\r\n    /**\r\n     * Logic that happens when a user clicks on the `left` mouse button\r\n     *\r\n     * TODO: this method is a first step at simplification. there is still\r\n     * more work to do here, but this at least gets us moving in\r\n     * the right direction\r\n     *\r\n     * @for InputController\r\n     * @method _onLeftMouseButtonPress\r\n     * @param event {jquery Event}\r\n     * @private\r\n     */\r\n    _onLeftMouseButtonPress(event) {\r\n        if (MeasureTool.isMeasuring) {\r\n            this._addMeasurePoint(event);\r\n\r\n            return;\r\n        }\r\n\r\n        const mouseCanvasPos = CanvasStageModel.calculateCanvasPositionFromPagePosition(event.pageX, event.pageY);\r\n        const [aircraftModel, distanceFromPosition] = this._findClosestAircraftAndDistanceToCanvasPosition(...mouseCanvasPos);\r\n\r\n        if (distanceFromPosition > CanvasStageModel.translatePixelsToKilometers(50)) {\r\n            this.deselectAircraft();\r\n            this._markMousePressed(event, MOUSE_BUTTON_NAMES.LEFT);\r\n        } else if (this.commandBarContext === COMMAND_CONTEXT.SCOPE) {\r\n            this.$commandInput.val(`${this.$commandInput.val()} ${aircraftModel.callsign}`);\r\n            this.processCommand();\r\n        } else if (aircraftModel) {\r\n            this.selectAircraft(aircraftModel);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Method to initiate a mouse click and drag. Checks whether or not\r\n     * the correct button is pressed, records the position, and marks the\r\n     * mouse as down.\r\n     *\r\n     * @for InputController\r\n     * @method _markMousePressed\r\n     * @param {String} mouseButton\r\n     */\r\n    _markMousePressed(event, mouseButton) {\r\n        const canvasDragButton = GameController.getGameOption(GAME_OPTION_NAMES.MOUSE_CLICK_DRAG);\r\n\r\n        // The mouse button that's been pressed isn't the one\r\n        // that drags the canvas, so we return.\r\n        if (mouseButton !== canvasDragButton) {\r\n            return;\r\n        }\r\n\r\n        const mousePositionX = event.pageX - CanvasStageModel._panX;\r\n        const mousePositionY = event.pageY - CanvasStageModel._panY;\r\n\r\n        // Record mouse down position for panning\r\n        this._mouseDownScreenPosition = [\r\n            mousePositionX,\r\n            mousePositionY\r\n        ];\r\n        this.input.isMouseDown = true;\r\n    }\r\n}\r\n","import $ from 'jquery';\r\nimport { SELECTORS } from './constants/selectors';\r\n\r\n/**\r\n * Provides access to the full page takeover presented on app load\r\n *\r\n * @class LoadingView\r\n */\r\nexport default class LoadingView {\r\n    /**\r\n     * @for LoadingView\r\n     * @constructor\r\n     */\r\n    constructor() {\r\n        /**\r\n         * Root DOM element\r\n         *\r\n         * @property $element\r\n         * @type {jquery|null}\r\n         */\r\n        this.$element = null;\r\n\r\n        return this._setupChildren();\r\n    }\r\n\r\n    /**\r\n     * @for LoadingView\r\n     * @method _setupChildren\r\n     * @chainable\r\n     * @private\r\n     */\r\n    _setupChildren() {\r\n        this.$element = $(SELECTORS.DOM_SELECTORS.LOADING_VIEW);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for LoadingView\r\n     * @method destroy\r\n     * @chainable\r\n     */\r\n    destroy() {\r\n        this.$element = null;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Initiates a timer that will fadeout the `#loadingView`\r\n     *\r\n     * Called from `AppController` once everything is loaded\r\n     * and the app is ready to start.\r\n     *\r\n     * @for LoadingView\r\n     * @method complete\r\n     */\r\n    complete() {\r\n        global.setTimeout(() => {\r\n            this.$element.fadeOut(1000);\r\n            this.$element.css('pointerEvents', 'none');\r\n        }, 1500);\r\n    }\r\n}\r\n","import _has from 'lodash/has';\r\nimport _isNil from 'lodash/isNil';\r\nimport _map from 'lodash/map';\r\nimport _round from 'lodash/round';\r\nimport AirportController from '../airport/AirportController';\r\nimport EventBus from '../lib/EventBus';\r\nimport GameController from '../game/GameController';\r\nimport NavigationLibrary from '../navigationLibrary/NavigationLibrary';\r\nimport UiController from '../ui/UiController';\r\nimport { MCP_MODE } from './ModeControl/modeControlConstants';\r\nimport {\r\n    FLIGHT_PHASE\r\n} from '../constants/aircraftConstants';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport { radians_normalize } from '../math/circle';\r\nimport { round } from '../math/core';\r\nimport { AIRCRAFT_COMMAND_MAP } from '../commands/aircraftCommand/aircraftCommandMap';\r\nimport { speech_say } from '../speech';\r\nimport {\r\n    radio_runway,\r\n    radio_spellOut,\r\n    radio_heading,\r\n    radio_altitude\r\n} from '../utilities/radioUtilities';\r\nimport { heading_to_string, radiansToDegrees, degreesToRadians } from '../utilities/unitConverters';\r\n\r\n/**\r\n *\r\n *\r\n * @class AircraftCommander\r\n */\r\nexport default class AircraftCommander {\r\n    constructor(onChangeTransponderCode, findAircraftById) {\r\n        this._eventBus = EventBus;\r\n        this._findAircraftById = findAircraftById;\r\n        this._onChangeTransponderCode = onChangeTransponderCode;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runCommands\r\n     * @param aircraft {AircraftModel}\r\n     * @param commands {array<AircraftCommandParser>}\r\n     * @param isPreSpawn {boolean}\r\n     */\r\n    runCommands(aircraft, commands, isPreSpawn = false) {\r\n        if (!aircraft.isControllable && !isPreSpawn) {\r\n            return true;\r\n        }\r\n\r\n        let response = [];\r\n        let response_end = '';\r\n        let redResponse = false;\r\n        const deferred = [];\r\n\r\n        for (let i = 0; i < commands.length; i++) {\r\n            const command = commands[i][0];\r\n            const args = commands[i].splice(1);\r\n\r\n            if (command === FLIGHT_PHASE.TAKEOFF) {\r\n                deferred.push([command, args]);\r\n\r\n                continue;\r\n            }\r\n\r\n            let retval = this.run(aircraft, command, args);\r\n\r\n            if (retval) {\r\n                if (!retval[0]) {\r\n                    redResponse = true;\r\n                }\r\n\r\n                if (!_has(retval[1], 'log') || !_has(retval[1], 'say')) {\r\n                    // TODO: reassigning a value using itself is dangerous. this should be re-wroked\r\n                    retval = [\r\n                        retval[0],\r\n                        {\r\n                            log: retval[1],\r\n                            say: retval[1]\r\n                        }\r\n                    ];\r\n                }\r\n\r\n                response.push(retval[1]);\r\n\r\n                if (retval[2]) {\r\n                    // eslint-disable-next-line prefer-destructuring\r\n                    response_end = retval[2];\r\n                }\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < deferred.length; i += 1) {\r\n            const command = deferred[i][0];\r\n            const args = deferred[i][1];\r\n            const retval = this.run(aircraft, command, args);\r\n\r\n            if (retval) {\r\n                if (!retval[0]) {\r\n                    redResponse = true;\r\n                }\r\n                // TODO: fix the logic here this very purposly using `!=`. length is not an object and thus,\r\n                // never null but by using coercion it evaluates to falsey if its not an array\r\n                // true if array, and not log/say object\r\n                if (retval[1].length != null) {\r\n                    // make into log/say object\r\n                    retval[1] = {\r\n                        say: retval[1],\r\n                        log: retval[1]\r\n                    };\r\n                }\r\n\r\n                response.push(retval[1]);\r\n            }\r\n        }\r\n\r\n        if (isPreSpawn) {\r\n            return true;\r\n        }\r\n\r\n        if (commands.length === 0) {\r\n            response = [{\r\n                say: 'say again',\r\n                log: 'say again'\r\n            }];\r\n        }\r\n\r\n        if (response.length >= 1) {\r\n            if (response_end) {\r\n                response_end = `, ${response_end}`;\r\n            }\r\n\r\n            const r_log = _map(response, (r) => r.log).join(', ');\r\n            const r_say = _map(response, (r) => r.say).join(', ');\r\n\r\n            UiController.ui_log(`${aircraft.callsign}, ${r_log} ${response_end}`, redResponse);\r\n            speech_say(\r\n                [\r\n                    { type: 'callsign', content: aircraft },\r\n                    { type: 'text', content: `${r_say} ${response_end}` }\r\n                ],\r\n                aircraft.pilotVoice\r\n            );\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method run\r\n     * @param aircraft {AircraftModel}\r\n     * @param command {string}\r\n     * @param data {array}\r\n     * @return {function}\r\n     */\r\n    run(aircraft, command, data) {\r\n        const { functionName } = AIRCRAFT_COMMAND_MAP[command];\r\n\r\n        if (typeof functionName === 'undefined') {\r\n            return [false, 'say again?'];\r\n        }\r\n\r\n        return this[functionName](aircraft, data);\r\n    }\r\n\r\n    /**\r\n     * Aborts an action. Deprecated.\r\n     *\r\n     * @for AircraftCommander\r\n     * @method runAbort\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runAbort() {\r\n        return [false, \"the 'abort' command has been deprecated, please see documentation for help\"];\r\n    }\r\n\r\n    /**\r\n     * Set the aircraft to maintain an assigned altitude, and provide a readback\r\n     *\r\n     * @for AircraftCommander\r\n     * @method runAltitude\r\n     * @param aircraft {AircraftModel}\r\n     * @param data {array}\r\n     * @return {array}  [success of operation, readback]\r\n     */\r\n    runAltitude(aircraft, data) {\r\n        const altitudeRequested = data[0];\r\n        const expediteRequested = data[1];\r\n        const shouldUseSoftCeiling = GameController.game.option.getOptionByName('softCeiling') === 'yes';\r\n        const airport = AirportController.airport_get();\r\n\r\n        return aircraft.pilot.maintainAltitude(\r\n            altitudeRequested,\r\n            expediteRequested,\r\n            shouldUseSoftCeiling,\r\n            airport,\r\n            aircraft\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Direct an aircraft to fly and maintain a specific heading\r\n     *\r\n     * @for AircraftCommander\r\n     * @method runHeading\r\n     * @param aircraft {AircraftModel}\r\n     * @param data {array}\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runHeading(aircraft, data) {\r\n        let direction = data[0];\r\n        const heading = data[1];\r\n        const incremental = data[2];\r\n        const readback = aircraft.pilot.maintainHeading(aircraft, heading, direction, incremental);\r\n\r\n        if (!direction) {\r\n            direction = '';\r\n        }\r\n\r\n        aircraft.target.turn = direction;\r\n\r\n        if (aircraft.hasApproachClearance) {\r\n            aircraft.pilot.cancelApproachClearance(aircraft);\r\n        }\r\n\r\n        return readback;\r\n    }\r\n\r\n    /**\r\n     * Activate the flightplan stored in the FMS\r\n     *\r\n     * @for AircraftCommander\r\n     * @method runClearedAsFiled\r\n     * @param aircraft {AircraftModel}\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runClearedAsFiled(aircraft) {\r\n        return aircraft.pilot.clearedAsFiled();\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runClimbViaSID\r\n     * @param aircraft {AircraftModel}\r\n     * @param data {array}\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runClimbViaSID(aircraft, data) {\r\n        const altitude = data[0];\r\n\r\n        return aircraft.pilot.climbViaSid(aircraft, altitude);\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runCross\r\n     * @param aircraft {AircraftModel}\r\n     * @param data {array}\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runCross(aircraft, data) {\r\n        const fix = data[0].toUpperCase();\r\n        const altitude = data[1];\r\n        const speed = data[2];\r\n\r\n        return aircraft.pilot.crossFix(aircraft, fix, altitude, speed);\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runDescendViaStar\r\n     * @param aircraft {AircraftModel}\r\n     * @param data {array}\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runDescendViaStar(aircraft, data = []) {\r\n        const altitude = data[0];\r\n\r\n        return aircraft.pilot.descendViaStar(aircraft, altitude);\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runSpeed\r\n     * @param aircraft {AircraftModel}\r\n     * @param data {array}\r\n     */\r\n    runSpeed(aircraft, data) {\r\n        const nextSpeed = data[0];\r\n\r\n        return aircraft.pilot.maintainSpeed(nextSpeed, aircraft);\r\n    }\r\n\r\n    /**\r\n     * Setup the Fms to enter a holding pattern,\r\n     *\r\n     * Can be used to hold at:\r\n     * - A Waypoint in the current flight plan: which will be made the currentWaypoint via `fms.skipToWaypointName()`\r\n     * - A Fix not in the flight plan: a new `LegModel` will be created and prepended thus making it the currentWaypoint\r\n     * - The current position: a new `LegModel` will be created and prepended thus making it the currentWaypoint\r\n     *\r\n     * @for AircraftCommander\r\n     * @method runHold\r\n     * @param aircraft {AircraftModel}\r\n     * @param data {array}\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runHold(aircraft, data) {\r\n        const [turnDirection, legLength, fixName, radial] = data;\r\n\r\n        if (!fixName) {\r\n            return [false, 'unable to hold over present position, we can only hold over fixes'];\r\n        }\r\n\r\n        const fixModel = NavigationLibrary.findFixByName(fixName);\r\n\r\n        if (!fixModel) {\r\n            return [false, `unable to hold at unknown fix ${fixName}`];\r\n        }\r\n\r\n        const holdParameters = {};\r\n        let fallbackInboundHeading;\r\n\r\n        // Instead of using DEFAULT_HOLD_PARAMETERS here, we only pass the values\r\n        // provided by the player. These then are used to patch the _holdParameters as\r\n        // specified in the `WaypointModel`\r\n        if (turnDirection !== null) {\r\n            holdParameters.turnDirection = turnDirection;\r\n        }\r\n\r\n        if (legLength !== null) {\r\n            holdParameters.legLength = legLength;\r\n        }\r\n\r\n        if (radial !== null) {\r\n            // Radial is given as the outbound course, so it needs to be inverted\r\n            holdParameters.inboundHeading = radians_normalize(degreesToRadians(radial) + Math.PI);\r\n        } else {\r\n            // As radial has not been explicitly requested, we need to pass a \"fallback\"\r\n            // inboundHeading, as it's possible that a default inboundHeading doesn't exist for\r\n            // the `WaypointModel`s _holdParameters (eg. if the procedure JSON has no holds)\r\n            fallbackInboundHeading = fixModel.positionModel.bearingFromPosition(aircraft.positionModel);\r\n        }\r\n\r\n        return aircraft.pilot.initiateHoldingPattern(fixName, holdParameters, fallbackInboundHeading);\r\n    }\r\n\r\n    /**\r\n     * Exit holding pattern and resume navigation\r\n     *\r\n     * @for AircraftCommander\r\n     * @method runCancelHoldingPattern\r\n     * @param aircraft {AircraftModel}\r\n     * @param args {array}\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runCancelHoldingPattern(aircraft, args) {\r\n        const fixName = args[0];\r\n\r\n        return aircraft.pilot.cancelHoldingPattern(fixName);\r\n    }\r\n\r\n    /**\r\n     * Skip forward to a particular fix that already exists further along the aircraft's route\r\n     *\r\n     * @for AircraftCommander\r\n     * @method runDirect\r\n     * @param data\r\n     */\r\n    runDirect(aircraft, data) {\r\n        // TODO: maybe handle with parser?\r\n        const fixName = data[0].toUpperCase();\r\n\r\n        aircraft.target.turn = null;\r\n\r\n        return aircraft.pilot.proceedDirect(fixName);\r\n    }\r\n\r\n    /**\r\n     * Set the arrival runway to expect for approach and landing\r\n     *\r\n     * @for AircraftCommander\r\n     * @method runExpectArrivalRunway\r\n     * @param aircraft {AircraftModel}\r\n     * @param data {array}\r\n     * @return {array} [success of operation, response]\r\n     */\r\n    runExpectArrivalRunway(aircraft, data) {\r\n        const airportModel = AirportController.airport_get();\r\n        const runwayName = data[0];\r\n        const runwayModel = airportModel.getRunway(runwayName);\r\n\r\n        if (_isNil(runwayModel)) {\r\n            const previousRunwayModel = aircraft.fms.arrivalRunwayModel;\r\n            const readback = {};\r\n            readback.log = `unable to find Runway ${runwayName} on our charts, ` +\r\n                `expecting Runway ${previousRunwayModel.name} instead`;\r\n            readback.say = `unable to find Runway ${radio_runway(runwayName)} on our ` +\r\n                `charts, expecting Runway ${previousRunwayModel.getRadioName()} instead`;\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        return aircraft.pilot.updateStarLegForArrivalRunway(aircraft, runwayModel);\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runFlyPresentHeading\r\n     * @param aircraft {AircraftModel}\r\n     */\r\n    runFlyPresentHeading(aircraft) {\r\n        if (aircraft.flightPhase === FLIGHT_PHASE.APRON) {\r\n            return [false, 'we\\'re still at the gate'];\r\n        }\r\n\r\n        if (aircraft.flightPhase === FLIGHT_PHASE.TAXI) {\r\n            const runway = aircraft.fms.departureRunwayModel;\r\n            const readback = {};\r\n            readback.log = `we're still taxiing to Runway ${runway.name}`;\r\n            readback.say = `we're still taxiing to Runway ${radio_runway(runway.name)}`;\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        return aircraft.pilot.maintainPresentHeading(aircraft);\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runSayRoute\r\n     * @param aircraft {AircraftModel}\r\n     * @return {array}   [success of operation, readback]\r\n     */\r\n    runSayRoute(aircraft) {\r\n        return aircraft.pilot.sayRoute();\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runSID\r\n     * @param aircraft {AircraftModel}\r\n     * @param data {array<string>} a string representation of the SID (may also include exit, eg sid.exit)\r\n     * @return {array}   [success of operation, readback]\r\n     */\r\n    runSID(aircraft, data) {\r\n        const routeString = data[0];\r\n        const airportModel = AirportController.airport_get();\r\n\r\n        return aircraft.pilot.applyDepartureProcedure(routeString, airportModel.icao);\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runSTAR\r\n     * @param data {array<string>} a string representation of the STAR, ex: `QUINN.BDEGA2.KSFO`\r\n     * @return {array}   [success of operation, readback]\r\n     */\r\n    runSTAR(aircraft, data) {\r\n        const routeString = data[0];\r\n        const airportModel = AirportController.airport_get();\r\n\r\n        return aircraft.pilot.applyArrivalProcedure(routeString, airportModel.name);\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runMoveDataBlock\r\n     * @deprecated\r\n     */\r\n    runMoveDataBlock() {\r\n        return [false, 'moving data blocks is now a scope command; see documentation for help'];\r\n    }\r\n\r\n    /**\r\n     * Adds a new Leg to fms with a user specified route\r\n     * Note: See notes on 'runReroute' for how to format input for this command\r\n     *\r\n     * @for AircraftCommander\r\n     * @method runRoute\r\n     * @param data\r\n     * @return {array}   [success of operation, readback]\r\n     */\r\n    runRoute(aircraft, data) {\r\n        // TODO: is this .toUpperCase() necessary??\r\n        const routeString = data[0].toUpperCase();\r\n\r\n        return aircraft.pilot.applyPartialRouteAmendment(routeString);\r\n    }\r\n\r\n    /**\r\n      * Removes all legs, and replaces them with the specified route\r\n      * Note: Input data needs to be provided with single dots connecting all\r\n      * procedurally-linked points (eg KSFO.OFFSH9.SXC or SGD.V87.MOVER), and\r\n      * all other points that will be simply a fix direct to another fix need\r\n      * to be connected with double-dots (eg HLI..SQS..BERRA..JAN..KJAN)\r\n      *\r\n      * @for AircraftCommander\r\n      * @method runReroute\r\n      * @param data\r\n      * @return {array}   [success of operation, readback]\r\n      */\r\n    runReroute(aircraft, data) {\r\n        // TODO: is this .toUpperCase() necessary??\r\n        const routeString = data[0].toUpperCase();\r\n        const readback = aircraft.pilot.replaceFlightPlanWithNewRoute(routeString);\r\n\r\n        // Only change to LNAV mode if the route was applied successfully, else\r\n        // continue with the previous instructions (whether a heading, etc)\r\n        if (readback[0]) {\r\n            aircraft.mcp.setHeadingLnav();\r\n        }\r\n\r\n        return readback;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runSayAltitude\r\n     * @param aircraft\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runSayAltitude(aircraft) {\r\n        const altitude = _round(aircraft.altitude, -2);\r\n        const isClimbingOrDescending = aircraft.trend !== 0;\r\n        const readback = {};\r\n        let altitudeChangeString = 'at ';\r\n\r\n        if (isClimbingOrDescending) {\r\n            altitudeChangeString = 'leaving ';\r\n        }\r\n\r\n        readback.log = `${altitudeChangeString}${altitude}`;\r\n        readback.say = `${altitudeChangeString}${radio_altitude(altitude)}`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runSayAssignedAltitude\r\n     * @param aircraft\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runSayAssignedAltitude(aircraft) {\r\n        const altitude = _round(aircraft.mcp.altitude, -2);\r\n        const readback = {};\r\n\r\n        if (altitude === 0) {\r\n            return [false, 'we haven\\'t been assigned an altitude'];\r\n        }\r\n\r\n        readback.log = `assigned ${altitude}`;\r\n        readback.say = `assigned ${radio_altitude(altitude)}`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runSayHeading\r\n     * @param aircraft\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runSayHeading(aircraft) {\r\n        const heading = heading_to_string(aircraft.heading);\r\n        const readback = {};\r\n\r\n        readback.log = `heading ${heading}`;\r\n        readback.say = `heading ${radio_heading(heading)}`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runSayAssignedHeading\r\n     * @param aircraft\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runSayAssignedHeading(aircraft) {\r\n        if (aircraft.mcp.headingMode !== MCP_MODE.HEADING.HOLD) {\r\n            return [false, 'we haven\\'t been assigned a heading'];\r\n        }\r\n\r\n        const heading = heading_to_string(aircraft.mcp.heading);\r\n        const readback = {};\r\n\r\n        readback.log = `assigned heading ${heading}`;\r\n        readback.say = `assigned heading ${radio_heading(heading)}`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runSaySpeed\r\n     * @param aircraft\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runSayIndicatedAirspeed(aircraft) {\r\n        const speed = _round(aircraft.speed);\r\n        const readback = {};\r\n\r\n        readback.log = `indicating ${speed} knots`;\r\n        readback.say = `indicating ${radio_spellOut(speed)} knots`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runSayAssignedSpeed\r\n     * @param aircraft\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runSayAssignedSpeed(aircraft) {\r\n        if (aircraft.mcp.speedMode !== MCP_MODE.SPEED.HOLD) {\r\n            return [false, 'we haven\\'t been assigned a speed'];\r\n        }\r\n\r\n        const speed = _round(aircraft.mcp.speed);\r\n        const readback = {};\r\n\r\n        readback.log = `assigned ${speed} knots`;\r\n        readback.say = `assigned ${radio_spellOut(speed)} knots}`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Taxi to the specified destination. Currently only supports taxiing to runways.\r\n     *\r\n     * If a runway is requested but doesn't exist, an error is returned.\r\n     *\r\n     * @for AircraftCommander\r\n     * @method runTaxi\r\n     * @param {AircraftModel} aircraftModel\r\n     * @param {array<string>} data\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    runTaxi(aircraftModel, data) {\r\n        const airportModel = AirportController.airport_get();\r\n        const requestedRunwayName = data[0];\r\n\r\n        if (!requestedRunwayName) {\r\n            const readback = 'we don\\'t know which runway to taxi to';\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        const runwayModel = airportModel.getRunway(requestedRunwayName.toUpperCase());\r\n\r\n        if (!runwayModel) {\r\n            const readback = {};\r\n            readback.log = `unable to find Runway ${requestedRunwayName.toUpperCase()} on our charts`;\r\n            readback.say = `unable to find Runway ${radio_runway(requestedRunwayName)} on our charts`;\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        return aircraftModel.taxiToRunway(runwayModel);\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runTakeoff\r\n     * @param aircraft {AircraftModel}\r\n     * @return {array}   [success of operation, readback]\r\n     */\r\n    runTakeoff(aircraft) {\r\n        // TODO: update some of this queue logic to live in the RunwayModel\r\n        const airport = AirportController.airport_get();\r\n        const runway = aircraft.fms.departureRunwayModel;\r\n        const spotInQueue = runway.getAircraftQueuePosition(aircraft.id);\r\n        const isInQueue = spotInQueue > -1;\r\n        const aircraftAhead = this._findAircraftById(runway.queue[spotInQueue - 1]);\r\n        const wind = airport.getWindAtAltitude();\r\n        const roundedWindAngleInDegrees = round(radiansToDegrees(wind.angle) / 10) * 10;\r\n        const roundedWindSpeed = round(wind.speed);\r\n        const readback = {};\r\n\r\n        if (aircraft.isAirborne()) {\r\n            return [false, 'unable to take off, we\\'re already airborne'];\r\n        }\r\n\r\n        if (aircraft.flightPhase === FLIGHT_PHASE.APRON) {\r\n            return [false, 'unable to take off, we\\'re still at the gate'];\r\n        }\r\n\r\n        if (aircraft.flightPhase === FLIGHT_PHASE.TAXI) {\r\n            readback.log = `unable to take off, we're still taxiing to Runway ${runway.name}`;\r\n            readback.say = `unable to take off, we're still taxiing to Runway ${radio_runway(runway.name)}`;\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        if (aircraft.flightPhase === FLIGHT_PHASE.TAKEOFF) {\r\n            return [false, 'already taking off'];\r\n        }\r\n\r\n        if (!isInQueue) {\r\n            return [false, 'unable to take off, we\\'re not at any runway'];\r\n        }\r\n\r\n        if (spotInQueue > 0) {\r\n            readback.log = `number ${spotInQueue} behind ${aircraftAhead.callsign}`;\r\n            readback.say = `number ${spotInQueue} behind ${aircraftAhead.getRadioCallsign()}`;\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        if (!aircraft.pilot.hasDepartureClearance) {\r\n            return [false, 'unable to take off, we never received an IFR clearance'];\r\n        }\r\n\r\n        // see #1154, we may have been rerouted since we started taxiing.\r\n        if (!aircraft.fms.isRunwayModelValidForSid(runway)) {\r\n            readback.log = `according to our charts, Runway ${runway.name} ` +\r\n                `is not valid for the ${aircraft.fms.getSidIcao()} departure`;\r\n            readback.say = `according to our charts, Runway ${runway.getRadioName()} ` +\r\n                `is not valid for the ${aircraft.fms.getSidName()} departure`;\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        runway.removeAircraftFromQueue(aircraft.id);\r\n        aircraft.takeoff(runway);\r\n\r\n        readback.log = `wind ${roundedWindAngleInDegrees} at ${roundedWindSpeed}, ` +\r\n            `Runway ${runway.name}, cleared for takeoff`;\r\n\r\n        // We have to make it say winned to make it sound like \"Wind\" and not \"Whined\"\r\n        readback.say = `winned ${radio_spellOut(roundedWindAngleInDegrees)} at ` +\r\n            `${radio_spellOut(roundedWindSpeed)}, Runway ${radio_runway(runway.name)}, ` +\r\n            'cleared for takeoff';\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runIls\r\n     * @param aircraft {AircraftModel}\r\n     * @param data {array}\r\n     */\r\n    runIls(aircraft, data) {\r\n        const approachType = 'ils';\r\n        const runwayName = data[1].toUpperCase();\r\n        const runwayModel = AirportController.airport_get().getRunway(runwayName);\r\n\r\n        return aircraft.pilot.conductInstrumentApproach(aircraft, approachType, runwayModel);\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runLand\r\n     * @param aircraft {AircraftModel}\r\n     * @param data {array}\r\n     */\r\n    runLand() {\r\n        return [false, 'the \"land\" command has been deprecated, please use \"i\" / \"ils\" instead'];\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runSquawk\r\n     * @param aircraft {AircraftModel}\r\n     * @param data {array<string>}\r\n     * @return {array}   [success of operation, readback]\r\n     */\r\n    runSquawk(aircraft, data) {\r\n        const squawk = data[0];\r\n        const result = this._onChangeTransponderCode(squawk, aircraft);\r\n        let readback = {\r\n            log: `squawk ${squawk}`,\r\n            say: `squawk ${radio_spellOut(squawk)}`\r\n        };\r\n\r\n        if (!result) {\r\n            readback = {\r\n                log: `unable to squawk ${squawk}`,\r\n                say: `unable to squawk ${radio_spellOut(squawk)}`\r\n            };\r\n        }\r\n\r\n        return [result, readback];\r\n    }\r\n\r\n    /**\r\n     * @for AircraftCommander\r\n     * @method runDelete\r\n     * @param aircraft {AircraftModel}\r\n     */\r\n    runDelete(aircraft) {\r\n        this._eventBus.trigger(EVENT.REMOVE_AIRCRAFT, aircraft);\r\n    }\r\n\r\n    /**\r\n     * This command has been deprecated and this method is used only to display a warning to users\r\n     *\r\n     * @deprecated\r\n     * @for AircraftCommander\r\n     * @method runFix\r\n     * @return {array}   [success of operation, readback]\r\n     */\r\n    runFix() {\r\n        const isWarning = true;\r\n\r\n        UiController.ui_log(\r\n            'The fix command has been deprecated. Please use rr, pd or fh instead of fix',\r\n            isWarning\r\n        );\r\n    }\r\n}\r\n","import _includes from 'lodash/includes';\r\nimport _filter from 'lodash/filter';\r\nimport AirportController from '../airport/AirportController';\r\nimport EventBus from '../lib/EventBus';\r\nimport GameController, { GAME_EVENTS } from '../game/GameController';\r\nimport TimeKeeper from '../engine/TimeKeeper';\r\nimport UiController from '../ui/UiController';\r\nimport { abs } from '../math/core';\r\nimport { angle_offset } from '../math/circle';\r\nimport { vlen, vsub, vturn } from '../math/vector';\r\nimport { degreesToRadians } from '../utilities/unitConverters';\r\nimport { SEPARATION } from '../constants/aircraftConstants';\r\nimport { EVENT } from '../constants/eventNames';\r\n\r\n/**\r\n * Details about aircraft in close proximity in relation to 'the rules'\r\n *\r\n * @class AircraftConflict\r\n */\r\nexport default class AircraftConflict {\r\n    constructor(first, second) {\r\n        this._eventBus = EventBus;\r\n\r\n        this.aircraft = [first, second];\r\n        this.distance = vlen(vsub(first.relativePosition, second.relativePosition));\r\n        this.distance_delta = 0;\r\n        this.altitude = abs(first.altitude - second.altitude);\r\n        this.collided = false;\r\n        this.conflicts = {};\r\n        this.violations = {};\r\n\r\n        if (this.isAlreadyKnown()) {\r\n            console.warn(`Duplicate conflict between ${this.aircraft[0].callsign} ` +\r\n                `and ${this.aircraft[1].callsign}! Scoring may be inaccurate!`);\r\n            return;\r\n        }\r\n\r\n        this.update();\r\n    }\r\n\r\n    /**\r\n     * Remove this conflict instance\r\n     *\r\n     * @for AircraftConflict\r\n     * @method destroy\r\n     */\r\n    destroy() {\r\n        this._eventBus.trigger(EVENT.REMOVE_AIRCRAFT_CONFLICT, this);\r\n    }\r\n\r\n    /**\r\n     * Is there anything which should be brought to the controllers attention\r\n     *\r\n     * @for AircraftConflict\r\n     * @method hasAlerts\r\n     * @returns {boolean} whether ANY conflicts OR violations exist\r\n     */\r\n    hasAlerts() {\r\n        return this.hasConflict() || this.hasViolation();\r\n    }\r\n\r\n    /**\r\n     *  Whether any conflicts are currently active\r\n     */\r\n    hasConflict() {\r\n        for (const i in this.conflicts) {\r\n            if (this.conflicts[i]) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     *  Whether any violations are currently active\r\n     */\r\n    hasViolation() {\r\n        for (const i in this.violations) {\r\n            if (this.violations[i]) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Recalculates and updates values for `this.distance`, `this.distance_delta`, and `this.altitude`\r\n     *\r\n     * @for AircraftConflict\r\n     * @method _recalculateLateralAndVerticalDistances\r\n     */\r\n    _recalculateLateralAndVerticalDistances() {\r\n        const distanceAtLastUpdate = this.distance;\r\n        this.distance = vlen(vsub(this.aircraft[0].relativePosition, this.aircraft[1].relativePosition));\r\n        this.distance_delta = this.distance - distanceAtLastUpdate;\r\n        this.altitude = abs(this.aircraft[0].altitude - this.aircraft[1].altitude);\r\n    }\r\n\r\n    /**\r\n     * Update conflict and violation checks, potentially removing this conflict.\r\n     */\r\n    update() {\r\n        if (this.shouldBeRemoved()) {\r\n            this.destroy();\r\n\r\n            return;\r\n        }\r\n\r\n        // Avoid triggering any more conflicts if the two aircraft have collided\r\n        if (this.collided) {\r\n            return;\r\n        }\r\n\r\n        this._recalculateLateralAndVerticalDistances();\r\n        this.checkCollision();\r\n\r\n        // Ignore aircraft below about 1000 feet\r\n        const airportElevation = AirportController.airport_get().elevation;\r\n        const gameTime = TimeKeeper.accumulatedDeltaTime;\r\n        if (((this.aircraft[0].altitude - airportElevation) < 990) ||\r\n            ((this.aircraft[1].altitude - airportElevation) < 990)) {\r\n            return;\r\n        }\r\n\r\n        // TODO: replace magic numbers with enum\r\n        // Ignore aircraft in the first minute of their flight\r\n        if (gameTime - this.aircraft[0].takeoffTime < 90 ||\r\n            gameTime - this.aircraft[1].takeoffTime < 90) {\r\n            return;\r\n        }\r\n\r\n        this.checkProximity();\r\n    }\r\n\r\n    /**\r\n     * Check for collision\r\n     */\r\n    checkCollision() {\r\n        if (this.aircraft[0].isOnGround() || this.aircraft[1].isOnGround()) {\r\n            return; // TEMPORARY FIX FOR CRASHES BTWN ARRIVALS AND TAXIED A/C\r\n        }\r\n\r\n        // TODO: enumerate the magic numbers.\r\n        // Collide within 160 feet\r\n        const airport = AirportController.airport_get();\r\n\r\n        if (\r\n            ((this.distance < 0.05) && (this.altitude < 160)) &&\r\n            (this.aircraft[0].isInsideAirspace(airport) && this.aircraft[1].isInsideAirspace(airport))\r\n        ) {\r\n            this.collided = true;\r\n            const isWarning = true;\r\n\r\n            UiController.ui_log(\r\n                `${this.aircraft[0].callsign} collided with ${this.aircraft[1].callsign}`,\r\n                isWarning\r\n            );\r\n\r\n            GameController.events_recordNew(GAME_EVENTS.COLLISION);\r\n            this.aircraft[0].hit = true;\r\n            this.aircraft[1].hit = true;\r\n        }\r\n    }\r\n\r\n    // TODO: this method is ripe for refactor. lots of logic that can be pulled out to\r\n    // helper functions or other class methods.\r\n    /**\r\n     * Check for physical proximity and trigger crashes if necessary\r\n     */\r\n    checkProximity() {\r\n        // No conflict or warning if vertical separation is present\r\n        if (this.altitude >= SEPARATION.VERTICAL_FT) {\r\n            this.conflicts.proximityConflict = false;\r\n            this.conflicts.proximityViolation = false;\r\n\r\n            return;\r\n        }\r\n\r\n        let conflict = false;\r\n        let violation = false;\r\n        let disableNotices = false;\r\n        const a1 = this.aircraft[0];\r\n        const a2 = this.aircraft[1];\r\n        let applicableLatSepMin = SEPARATION.STANDARD_LATERAL_KM;\r\n\r\n\r\n        // Established on precision guided approaches && both are following different instrument approaches\r\n        if ((a1.isEstablishedOnCourse() && a2.isEstablishedOnCourse()) &&\r\n            (a1.fms.arrivalRunwayModel.name !== a2.fms.arrivalRunwayModel.name)) {\r\n            const runwayRelationship = AirportController.airport_get().getRunwayRelationshipForRunwayNames(\r\n                a1.fms.arrivalRunwayModel.name,\r\n                a2.fms.arrivalRunwayModel.name\r\n            );\r\n\r\n            if (runwayRelationship.parallel) {\r\n                // hide notices for aircraft on adjacent final approach courses\r\n                disableNotices = true;\r\n                applicableLatSepMin = runwayRelationship.separationMinimum;\r\n            }\r\n        }\r\n\r\n        // TODO: this should be another class method: hasSeparationViolation(applicableLatSepMin)\r\n        // Considering all of the above cases,...\r\n        violation = this.distance < applicableLatSepMin;\r\n        // TODO: enumerate the magic number.\r\n        // TODO: this should be another class method\r\n        conflict = (this.distance < applicableLatSepMin + 1.852 && !disableNotices) || violation; // +1.0nm\r\n\r\n        // \"Passing & Diverging\" Rules (the \"exception\" to all of the above rules)\r\n        // test the below only if separation is currently considered insufficient\r\n        if (conflict) {\r\n            const hdg_difference = abs(angle_offset(a1.heading, a2.heading));\r\n            let minHdgDifference = degreesToRadians(15); // FAA JO 7110.65, Para. 5-8-3-a\r\n\r\n            if (a1.fms.currentLeg.isSidLeg && a2.fms.currentLeg.isSidLeg) {\r\n                minHdgDifference = degreesToRadians(10); // FAA JO 7110.65, Para. 5-8-3-c\r\n            }\r\n\r\n            if (hdg_difference >= minHdgDifference) {\r\n                if (hdg_difference > degreesToRadians(135)) {\r\n                    // 'opposite' courses\r\n                    if (this.distance_delta > 0) {\r\n                        // OKAY IF the distance is increasing, since the targets have passed each other\r\n                        conflict = false;\r\n                        violation = false;\r\n                    }\r\n                } else {\r\n                    // TODO: this should definitely be a helper function that lives in one of the math/ files\r\n                    // 'same' or 'crossing' courses\r\n                    // Ray intersection from http://stackoverflow.com/a/2932601\r\n                    const ad = vturn(a1.groundTrack);\r\n                    const bd = vturn(a2.groundTrack);\r\n                    const dx = a2.relativePosition[0] - a1.relativePosition[0];\r\n                    const dy = a2.relativePosition[1] - a1.relativePosition[1];\r\n                    const det = bd[0] * ad[1] - bd[1] * ad[0];\r\n                    const u = (dy * bd[0] - dx * bd[1]) / det; // a1's distance from point of convergence\r\n                    const v = (dy * ad[0] - dx * ad[1]) / det; // a2's distance from point of convergence\r\n\r\n                    // TODO: this should be a helper function that live in one of the math/ files\r\n                    if ((u < 0) || (v < 0)) { // check if either a/c has passed the point of convergence\r\n                        conflict = false; // targets are diverging\r\n                        violation = false; // targets are diverging\r\n                    }\r\n                    // Reference: FAA JO 7110.65, section 5-5-7-a-1:\r\n                    // (a) Aircraft are on opposite/reciprocal courses and you have observed\r\n                    // that they have passed each other; or aircraft are on same or crossing\r\n                    // courses/assigned radar vectors and one aircraft has crossed the\r\n                    // projected course of the other, and the angular difference between\r\n                    // their courses/assigned radar vectors is at least 15 degrees.\r\n                }\r\n            }\r\n        }\r\n\r\n        // TODO: if conflict and violation both return booleans, remove the if/else blocks below and\r\n        // set with those values\r\n\r\n        // Update Conflicts\r\n        if (conflict) {\r\n            this.conflicts.proximityConflict = true;\r\n        } else {\r\n            this.conflicts.proximityConflict = false;\r\n        }\r\n\r\n        if (violation) {\r\n            this.violations.proximityViolation = true;\r\n            // TODO: Add score penalty for 'SEPARATION_LOSS', but only ONCE\r\n        } else {\r\n            this.violations.proximityViolation = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Checks if multiple `AircraftConflict` instances have been recorded for the same conflict\r\n     * between the aircraft involved in `this`.\r\n     *\r\n     * @for AircraftConflict\r\n     * @method isDuplicate\r\n     * @return {Boolean}\r\n     */\r\n    isDuplicate() {\r\n        return this._findInstancesOfThisConflictInAircraftController().length > 1;\r\n    }\r\n\r\n    /**\r\n     * Checks if an `AircraftConflict` instance already exists in `AircraftController.conflicts`\r\n     * for the aircraft involved in `this`.\r\n     *\r\n     * @for AircraftConflict\r\n     * @method isAlreadyKnown\r\n     * @return {Boolean}\r\n     */\r\n    isAlreadyKnown() {\r\n        return this._findInstancesOfThisConflictInAircraftController().length > 0;\r\n    }\r\n\r\n    /**\r\n     * Checks various conditions to determine whether the conflict should be removed\r\n     *\r\n     * @for AircraftConflict\r\n     * @method shouldBeRemoved\r\n     * @return {Boolean}\r\n     */\r\n    shouldBeRemoved() {\r\n        return this._isOutsideBoundingBox() || this.isDuplicate();\r\n    }\r\n\r\n    /**\r\n     * Checks whether the distance between the aircraft is greater than the size of the bounding\r\n     * box within which we will examine the conflict closer\r\n     *\r\n     * @for AircraftConflict\r\n     * @method _isOutsideBoundingBox\r\n     * @private\r\n     * @return {Boolean}\r\n     */\r\n    _isOutsideBoundingBox() {\r\n        this._recalculateLateralAndVerticalDistances();\r\n\r\n        return this.distance > SEPARATION.MAX_KM;\r\n    }\r\n\r\n    /**\r\n     * Finds all instances (whether none, one, or multiple) of `AircraftConflict`s involving\r\n     * the same aircraft included in `this.aircraft`.\r\n     *\r\n     * @for AircraftConflict\r\n     * @method _findInstancesOfThisConflictInAircraftController\r\n     * @return {Boolean}\r\n     */\r\n    _findInstancesOfThisConflictInAircraftController() {\r\n        return _filter(window.aircraftController.conflicts, (conflict) => {\r\n            return _includes(conflict.aircraft, this.aircraft[0]) && _includes(conflict.aircraft, this.aircraft[1]);\r\n        });\r\n    }\r\n}\r\n","/* eslint-disable no-continue */\r\nimport _find from 'lodash/find';\r\nimport _get from 'lodash/get';\r\nimport _isNil from 'lodash/isNil';\r\nimport _without from 'lodash/without';\r\nimport AirlineController from '../airline/AirlineController';\r\nimport AirportController from '../airport/AirportController';\r\nimport ScopeModel from '../scope/ScopeModel';\r\nimport UiController from '../ui/UiController';\r\nimport EventBus from '../lib/EventBus';\r\nimport AircraftTypeDefinitionCollection from './AircraftTypeDefinitionCollection';\r\nimport AircraftModel from './AircraftModel';\r\nimport AircraftCommander from './AircraftCommander';\r\nimport AircraftConflict from './AircraftConflict';\r\nimport StripViewController from './StripView/StripViewController';\r\nimport GameController, { GAME_EVENTS } from '../game/GameController';\r\nimport CommandParser from '../commands/parsers/CommandParser';\r\nimport { airlineNameAndFleetHelper } from '../airline/airlineHelpers';\r\nimport { convertStaticPositionToDynamic } from '../base/staticPositionToDynamicPositionHelper';\r\nimport { abs } from '../math/core';\r\nimport { distance2d } from '../math/distance';\r\nimport { speech_say } from '../speech';\r\nimport { generateTransponderCode, isDiscreteTransponderCode, isValidTransponderCode } from '../utilities/transponderUtilities';\r\nimport { km } from '../utilities/unitConverters';\r\nimport { isEmptyOrNotArray } from '../utilities/validatorUtilities';\r\nimport { FLIGHT_CATEGORY, FLIGHT_PHASE } from '../constants/aircraftConstants';\r\nimport { EVENT, AIRCRAFT_EVENT } from '../constants/eventNames';\r\nimport { GAME_OPTION_NAMES } from '../constants/gameOptionConstants';\r\nimport { INVALID_INDEX } from '../constants/globalConstants';\r\n\r\n// Temporary const declaration here to attach to the window AND use as internal property\r\nconst aircraft = {};\r\n\r\n/**\r\n *\r\n *\r\n * @class AircraftController\r\n */\r\nexport default class AircraftController {\r\n    /**\r\n     * @constructor\r\n     * @for AircraftController\r\n     * @param aircraftTypeDefinitionList {array<object>}\r\n     * @param airlineController {AirlineController}\r\n     * @param scopeModel {ScopeModel}\r\n     * @param aircraftCommander {AircraftCommander}\r\n     */\r\n    constructor(aircraftTypeDefinitionList, airlineController, scopeModel) {\r\n        if (_isNil(aircraftTypeDefinitionList) || _isNil(airlineController) || _isNil(scopeModel)) {\r\n            throw new TypeError('Invalid parameter(s) passed to AircraftController constructor. ' +\r\n                'Expected aircraftTypeDefinitionList, airlineController and scopeModel to be defined, ' +\r\n                `but received ${typeof aircraftTypeDefinitionList}, ${typeof airlineController} and ${typeof scopeModel}`);\r\n        }\r\n\r\n        if (isEmptyOrNotArray(aircraftTypeDefinitionList)) {\r\n            throw new TypeError('Invalid aircraftTypeDefinitionList passed to AircraftController constructor. ' +\r\n                `Expected a non-empty array, but received ${typeof aircraftTypeDefinitionList}`);\r\n        }\r\n\r\n        if (!(airlineController instanceof AirlineController)) {\r\n            throw new TypeError('Invalid airlineController passed to AircraftController constructor. ' +\r\n                `Expected instance of AirlineController, but received ${typeof airlineController}`);\r\n        }\r\n\r\n        if (!(scopeModel instanceof ScopeModel)) {\r\n            throw new TypeError('Invalid scopeModel passed to AircraftController constructor. ' +\r\n                `Expected instance of ScopeModel, but received ${typeof scopeModel}`);\r\n        }\r\n\r\n        /**\r\n         * Reference to an `AirlineController` instance\r\n         *\r\n         * @property _airlineController\r\n         * @type {AirlineController}\r\n         * @default airlineController\r\n         * @private\r\n         */\r\n        this._airlineController = airlineController;\r\n\r\n        /**\r\n         * Reference to an `AircraftCommander` instance\r\n         *\r\n         * @property _aircraftCommander\r\n         * @type {AircraftCommander}\r\n         * @default aircraftCommander\r\n         * @private\r\n         */\r\n        this._aircraftCommander = new AircraftCommander(\r\n            this.onRequestToChangeTransponderCode.bind(this),\r\n            this.findAircraftById.bind(this)\r\n        );\r\n\r\n        /**\r\n         * Local reference to static `EventBus` class\r\n         *\r\n         * @property _eventBus\r\n         * @type {EventBus}\r\n         * @default EventBus\r\n         * @private\r\n         */\r\n        this._eventBus = EventBus;\r\n\r\n        /**\r\n         * Reference to an `AircraftTypeDefinitionCollection` instance\r\n         *\r\n         * Provides definitions for all available aircraft types\r\n         *\r\n         * @property AircraftTypeDefinitionCollection\r\n         * @type {AircraftTypeDefinitionCollection}\r\n         */\r\n        this.aircraftTypeDefinitionCollection = new AircraftTypeDefinitionCollection(aircraftTypeDefinitionList);\r\n\r\n        /**\r\n         * Local reference to the scope model\r\n         *\r\n         * @for AircraftController\r\n         * @property _scopeModel\r\n         * @type {ScopeModel}\r\n         * @private\r\n         */\r\n        this._scopeModel = scopeModel;\r\n\r\n        /**\r\n         * List of `transponderCode` values in use\r\n         *\r\n         * Each `transponderCode` should be unique, thus we maintain this list\r\n         * so we can know which codes are active.\r\n         *\r\n         * @property _transponderCodesInUse\r\n         * @type {array<string>}\r\n         * @private\r\n         */\r\n        this._transponderCodesInUse = [];\r\n\r\n        prop.aircraft = aircraft;\r\n        this.aircraft = aircraft;\r\n\r\n        // TODO: this should its own collection class\r\n        this.aircraft.list = [];\r\n        this.aircraft.auto = { enabled: false };\r\n        this.conflicts = [];\r\n\r\n        /**\r\n         * Instance of the `StripViewController`\r\n         *\r\n         * @property _stripViewController\r\n         * @type {StripViewController}\r\n         * @private\r\n         */\r\n        this._stripViewController = new StripViewController();\r\n\r\n        return this.init()\r\n            ._setupHandlers()\r\n            .enable();\r\n    }\r\n\r\n    /**\r\n     * Get the instance of AircraftCommander that was created by this Controller\r\n     *\r\n     * @for AircraftController\r\n     * @property aircraftCommander\r\n     * @type {AircraftCommander}\r\n     */\r\n    get aircraftCommander() {\r\n        return this._aircraftCommander;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftController\r\n     * @method init\r\n     * @chainable\r\n     */\r\n    init() {\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set up event handlers\r\n     *\r\n     * @for AircraftController\r\n     * @method _setupHandlers\r\n     * @private\r\n     * @chainable\r\n     */\r\n    _setupHandlers() {\r\n        this._onRemoveAircraftHandler = this.aircraft_remove.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftController\r\n     * @method enable\r\n     * @chainable\r\n     */\r\n    enable() {\r\n        this._eventBus.on(EVENT.ADD_AIRCRAFT, this.addItem);\r\n        this._eventBus.on(EVENT.STRIP_DOUBLE_CLICK, this._onStripDoubleClickHandler);\r\n        this._eventBus.on(EVENT.SELECT_AIRCRAFT, this._onSelectAircraft);\r\n        this._eventBus.on(EVENT.DESELECT_AIRCRAFT, this._onDeselectAircraft);\r\n        this._eventBus.on(EVENT.SCROLL_TO_AIRCRAFT, this._onScrollToAircraft);\r\n        this._eventBus.on(EVENT.REMOVE_AIRCRAFT, this._onRemoveAircraftHandler);\r\n        this._eventBus.on(EVENT.REMOVE_AIRCRAFT_CONFLICT, this.removeConflict);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftController\r\n     * @method disable\r\n     * @chainable\r\n     */\r\n    disable() {\r\n        this._eventBus.off(EVENT.ADD_AIRCRAFT, this.addItem);\r\n        this._eventBus.off(EVENT.STRIP_DOUBLE_CLICK, this._onStripDoubleClickHandler);\r\n        this._eventBus.off(EVENT.SELECT_AIRCRAFT, this._onSelectAircraft);\r\n        this._eventBus.off(EVENT.DESELECT_AIRCRAFT, this._onDeselectAircraft);\r\n        this._eventBus.off(EVENT.SCROLL_TO_AIRCRAFT, this._onScrollToAircraft);\r\n        this._eventBus.off(EVENT.REMOVE_AIRCRAFT, this._onRemoveAircraftHandler);\r\n        this._eventBus.off(EVENT.REMOVE_AIRCRAFT_CONFLICT, this.removeConflict);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Adds an `AircraftModel` to the collection\r\n     *\r\n     * @for AircraftController\r\n     * @method addItem\r\n     * @param item {AircraftModel}\r\n     */\r\n    addItem = (item) => this.aircraft.list.push(item);\r\n\r\n    /**\r\n     * Callback method fired by an interval defined in the `SpawnScheduler`.\r\n     *\r\n     * This is the entry method for creating new departing and arriving aircraft.\r\n     * This method should only be called as a callback from a `SpawnScheduler` timer.\r\n     *\r\n     * @for AircraftController\r\n     * @method createAircraftWithSpawnPatternModel\r\n     * @param spawnPatternModel {SpawnPatternModel}\r\n     * @private\r\n     */\r\n    createAircraftWithSpawnPatternModel = (spawnPatternModel) => {\r\n        const initializationProps = this._buildAircraftProps(spawnPatternModel);\r\n\r\n        this._createAircraftWithInitializationProps(initializationProps);\r\n    }\r\n\r\n    /**\r\n     * Build aircraft props for `spawnPatternModel` and add\r\n     * preSpawn data to `baseAircraftProps`.\r\n     *\r\n     * Used when creating aircraft already along an arrival route on load\r\n     * or on airport change.\r\n     *\r\n     * This method should be called directly and not via a timer callback\r\n     *\r\n     * This hooks into the same method used to build spawning aircraft\r\n     * and simply adds another layer on top of that to build a preSpawn aircraft.\r\n     *\r\n     * @for AircraftController\r\n     * @method createPreSpawnAircraftWithSpawnPatternModel\r\n     * @param  spawnPatternModel {SpawnPatternModel}\r\n     * @private\r\n     */\r\n    createPreSpawnAircraftWithSpawnPatternModel = (spawnPatternModel) => {\r\n        const isPreSpawn = true;\r\n\r\n        for (let i = 0; i < spawnPatternModel.preSpawnAircraftList.length; i++) {\r\n            const preSpawnHeadingAndPosition = spawnPatternModel.preSpawnAircraftList[i];\r\n            const baseAircraftProps = this._buildAircraftProps(spawnPatternModel, isPreSpawn);\r\n            const initializationProps = Object.assign({}, baseAircraftProps, preSpawnHeadingAndPosition);\r\n\r\n            this._createAircraftWithInitializationProps(initializationProps);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @for AircraftController\r\n     * @method aircraft_auto_toggle\r\n     */\r\n    aircraft_auto_toggle() {\r\n        this.aircraft.auto.enabled = !this.aircraft.auto.enabled;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftController\r\n     * @method aircraft_get_nearest\r\n     * @param position {array<number>} These are x, y canvas units (km)\r\n     */\r\n    aircraft_get_nearest(position) {\r\n        let nearest = null;\r\n        let distance = Infinity;\r\n\r\n        for (let i = 0; i < this.aircraft.list.length; i++) {\r\n            const aircraft = this.aircraft.list[i];\r\n            const d = distance2d(aircraft.relativePosition, position);\r\n\r\n            if (d < distance && aircraft.isVisible() && !aircraft.hit) {\r\n                distance = d;\r\n                nearest = i;\r\n            }\r\n        }\r\n\r\n        return [this.aircraft.list[nearest], distance];\r\n    }\r\n\r\n    /**\r\n     * Returns whether the specified aircraft model is in an area where they are controllable\r\n     *\r\n     * @for AircraftController\r\n     * @method isAircraftVisible\r\n     * @param aircraft {AircraftModel}\r\n     * @param factor {number}\r\n     * @returns {boolean}\r\n     */\r\n    isAircraftVisible(aircraft, factor = 1) {\r\n        const visibleDistance = AirportController.airport_get().ctr_radius * factor;\r\n\r\n        return aircraft.distance < visibleDistance;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftController\r\n     * @method aircraft_remove_all\r\n     */\r\n    aircraft_remove_all() {\r\n        // iterating backwards because each iteration removes a list item\r\n        // iterating forward would cause skipping as the array shifts\r\n        for (let i = this.aircraft.list.length - 1; i >= 0; i--) {\r\n            this.aircraft_remove(this.aircraft.list[i]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @for AircraftController\r\n     * @method aircraft_remove\r\n     * @param aircraftModel {AircraftModel}\r\n     */\r\n    aircraft_remove(aircraftModel) {\r\n        AirportController.removeAircraftFromAllRunwayQueues(aircraftModel);\r\n        this.removeFlightNumberFromList(aircraftModel);\r\n        this.removeAircraftModelFromList(aircraftModel);\r\n        this._removeTransponderCodeFromUse(aircraftModel);\r\n        this.removeAllAircraftConflictsForAircraft(aircraftModel);\r\n        this.removeStripView(aircraftModel);\r\n        this._scopeModel.radarTargetCollection.removeRadarTargetModelForAircraftModel(aircraftModel);\r\n    }\r\n\r\n    /**\r\n     * This method is part of the game loop.\r\n     *\r\n     * Every effort should be made to optimize this method and\r\n     * any other methods called from within\r\n     *\r\n     * @for AircraftController\r\n     * @method update\r\n     */\r\n    update() {\r\n        if (this.aircraft.list.length === 0) {\r\n            return;\r\n        }\r\n\r\n        // TODO: this is getting better, but still needs more simplification\r\n        for (let i = 0; i < this.aircraft.list.length; i++) {\r\n            const aircraftModel = this.aircraft.list[i];\r\n\r\n            aircraftModel.update();\r\n            aircraftModel.updateWarning();\r\n\r\n            // TODO: conflict checking eats up a lot of resources when there are more than\r\n            //       30 aircraft, exit early if we're still taxiing\r\n            if (aircraftModel.isTaxiing()) {\r\n                continue;\r\n            }\r\n\r\n            this._updateAircraftConflicts(aircraftModel, i);\r\n            this._updateAircraftVisibility(aircraftModel);\r\n\r\n            if (!aircraftModel.isControllable) {\r\n                this.removeStripView(aircraftModel);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Finds an aircraft by its callsign\r\n     *\r\n     * @method findAircraftByCallsign\r\n     * @param  {string} callsign\r\n     * @return {AircraftModel}\r\n     */\r\n    findAircraftByCallsign(callsign) {\r\n        if (!callsign) {\r\n            return;\r\n        }\r\n\r\n        const normalizedCallsign = callsign.toUpperCase();\r\n\r\n        return _find(this.aircraft.list, (aircraft) => aircraft.callsign === normalizedCallsign);\r\n    }\r\n\r\n    /**\r\n     * Finds an aircraft by its internal id\r\n     *\r\n     * @method findAircraftById\r\n     * @param  {string} id\r\n     * @return {AircraftModel}\r\n     */\r\n    findAircraftById(id) {\r\n        if (!id) {\r\n            return;\r\n        }\r\n\r\n        return _find(this.aircraft.list, (aircraft) => aircraft.id === id);\r\n    }\r\n\r\n    /**\r\n     * Update all the `StripViewModel` objects with up-to-date aircraft data\r\n     *\r\n     * This is a **HOT** method and will run within the game loop\r\n     *\r\n     * @for AircraftController\r\n     * @method updateAircraftStrips\r\n     */\r\n    updateAircraftStrips() {\r\n        this._stripViewController.update(this.aircraft.list);\r\n    }\r\n\r\n    /**\r\n     * @method debug\r\n     * @param  {string} [callsign='']\r\n     * @return {AircraftModel}\r\n     */\r\n    debug(callsign = '') {\r\n        return this.findAircraftByCallsign(callsign);\r\n    }\r\n\r\n    /**\r\n     * Add a new `AircraftConflict` instance to the list of existing conflicts\r\n     *\r\n     * @for AircraftController\r\n     * @method addConflict\r\n     * @param aircraft {AircraftModel}       aircraft 1\r\n     * @param otherAircraft {AircraftModel}  aircraft 2\r\n     */\r\n    addConflict(aircraft, otherAircraft) {\r\n        const conflict = new AircraftConflict(aircraft, otherAircraft);\r\n\r\n        if (conflict.shouldBeRemoved()) {\r\n            conflict.destroy();\r\n            return;\r\n        }\r\n\r\n        this.conflicts.push(conflict);\r\n        aircraft.addConflict(conflict, otherAircraft);\r\n        otherAircraft.addConflict(conflict, aircraft);\r\n    }\r\n\r\n    /**\r\n     * Pass the call onto the `airlineController` to remove flightNumber\r\n     * from the list of active flightNumbers\r\n     *\r\n     * @for AircraftController\r\n     * @method removeFlightNumberFromList\r\n     * @param airlineId {string}\r\n     * @param callsign {string}\r\n     */\r\n    removeFlightNumberFromList({ airlineId, callsign }) {\r\n        this._airlineController.removeFlightNumberFromList(airlineId, callsign);\r\n    }\r\n\r\n    /**\r\n     * Remove the specified aircraft from `AircraftController.aircraft.list`\r\n     *\r\n     * @for AircraftController\r\n     * @method removeAircraftModelFromList\r\n     * @param  {AircraftModel} aircraft the aircraft to remove\r\n     */\r\n    removeAircraftModelFromList(aircraft) {\r\n        this.aircraft.list = _without(this.aircraft.list, aircraft);\r\n    }\r\n\r\n    /**\r\n     * Remove an `AircraftConflict` instance from the list of existing conflicts\r\n     *\r\n     * May be called via an `EventBus.trigger()`\r\n     *\r\n     * @for AircraftController\r\n     * @method removeConflict\r\n     * @param  conflict {AircraftConflict} the conflict instance to remove\r\n     */\r\n    removeConflict = (conflict) => {\r\n        conflict.aircraft[0].removeConflict(conflict.aircraft[1]);\r\n        conflict.aircraft[1].removeConflict(conflict.aircraft[0]);\r\n\r\n        this.conflicts = _without(this.conflicts, conflict);\r\n    };\r\n\r\n    /**\r\n     * Remove any conflicts that involve the specified aircraft\r\n     *\r\n     * @for AircraftController\r\n     * @method removeAllAircraftConflictsForAircraft\r\n     * @param aircraft {AircraftModel}  the aircraft to remove\r\n     */\r\n    removeAllAircraftConflictsForAircraft(aircraft) {\r\n        for (const otherAircraftCallsign in aircraft.conflicts) {\r\n            aircraft.conflicts[otherAircraftCallsign].destroy();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove a `StripViewModel` associated with the `aircraftModel`\r\n     *\r\n     * This will remove it from the DOM and properly destroy the model.\r\n     *\r\n     * @for AircraftController\r\n     * @method removeStripView\r\n     * @param aircraftModel {AircraftModel}\r\n     */\r\n    removeStripView(aircraftModel) {\r\n        this._stripViewController.removeStripView(aircraftModel);\r\n    }\r\n\r\n    /**\r\n     * Called from within the `AircraftCommander` this method is used:\r\n     * - to verify that the `nextTransponderCode` is valid\r\n     * - remove the previous `transponderCode` from `#_transponderCodesInUse`\r\n     * - add `nextTransponderCode` to `#_transponderCodesInUse`\r\n     *\r\n     * @for AircraftController\r\n     * @method onRequestToChangeTransponderCode\r\n     * @param transponderCode {string}\r\n     * @param aircraftModel {aircraftModel}\r\n     * @return {boolean}\r\n     */\r\n    onRequestToChangeTransponderCode = (transponderCode, aircraftModel) => {\r\n        if (!isValidTransponderCode(transponderCode) || this._isTransponderCodeInUse(transponderCode)) {\r\n            return false;\r\n        }\r\n\r\n        this._removeTransponderCodeFromUse(aircraftModel.transponderCode);\r\n        this._addTransponderCodeToInUse(transponderCode);\r\n\r\n        aircraftModel.transponderCode = transponderCode;\r\n\r\n        return true;\r\n    };\r\n\r\n    /**\r\n     * Accept a pre-built object that can be used to create an `AircraftModel`\r\n     * and then add it to the collection.\r\n     *\r\n     * This could be a spawning aircraft or one that already exists along a route.\r\n     *\r\n     * This method is the *_single place_* to create a new `AircraftModel`.\r\n     * Any method that needs to create a new aircraft should be routed through here.\r\n     *\r\n     * @for AircraftController\r\n     * @method _createAircraftWithInitializationProps\r\n     * @param initializationProps {object}\r\n     * @private\r\n     */\r\n    _createAircraftWithInitializationProps(initializationProps) {\r\n        const aircraftModel = new AircraftModel(initializationProps);\r\n        const isDeparture = initializationProps.category === 'departure';\r\n        const isArrival = initializationProps.category === 'arrival';\r\n        const isAutoTower = GameController.getGameOption(GAME_OPTION_NAMES.TOWER_CONTROLLER) === 'SYSTEM';\r\n        const runwayCommands = initializationProps.commands;\r\n\r\n        // triggering event bus rather than calling locally because multiple classes\r\n        // are listening for the event and aircraft model\r\n        this._eventBus.trigger(EVENT.ADD_AIRCRAFT, aircraftModel);\r\n\r\n        if (isArrival) {\r\n            this._runCommandOnPreSpawnAircraft(aircraftModel, runwayCommands, aircraftModel.fms.arrivalRunwayModel.name);\r\n        }\r\n\r\n        if (isDeparture && isAutoTower) {\r\n            // create the StripView immediately for departures; arrival strips are made when controllable\r\n            this._stripViewController.createStripView(aircraftModel);\r\n            aircraftModel.pilot.clearedAsFiled();\r\n            aircraftModel.moveToRunway(aircraftModel.fms.departureRunwayModel);\r\n            aircraftModel.fms.departureRunwayModel.addAircraftToQueue(aircraftModel.id);\r\n            aircraftModel.setFlightPhase(FLIGHT_PHASE.WAITING);\r\n\r\n            aircraftModel.shouldTakeOffWhenRunwayIsClear = true;\r\n\r\n            this._runCommandOnPreSpawnAircraft(aircraftModel, runwayCommands, aircraftModel.fms.departureRunwayModel.name);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Used to build up the appropriate data needed to instantiate an `AircraftModel`\r\n     *\r\n     * @for AircraftController\r\n     * @method _buildAircraftProps\r\n     * @param spawnPatternModel {SpawnPatternModel}\r\n     * @param isPreSpawn {boolean} [default = false]\r\n     * @return {object}\r\n     * @private\r\n     */\r\n    _buildAircraftProps(spawnPatternModel, isPreSpawn = false) {\r\n        const airlineId = spawnPatternModel.getRandomAirlineForSpawn();\r\n        // TODO: update `airlineNameAndFleetHelper` to accept a string\r\n        const { name, fleet } = airlineNameAndFleetHelper([airlineId]);\r\n        let airlineModel = this._airlineController.findAirlineById(name);\r\n\r\n        if (typeof airlineModel === 'undefined') {\r\n            console.warn(`Expected airline \"${name}\" to be defined, but it is not! Using AAL instead.`);\r\n\r\n            airlineModel = this._airlineController.findAirlineById('aal');\r\n        }\r\n\r\n        // TODO: impove the `airlineModel` logic here\r\n        // this seems inefficient to find the model here and then pass it back to the controller but\r\n        // since we already have it, it makes little sense to look for it again in the controller\r\n        const flightNumber = this._airlineController.generateFlightNumberWithAirlineModel(airlineModel);\r\n        const aircraftTypeDefinition = this._getRandomAircraftTypeDefinitionForAirlineId(airlineId, airlineModel);\r\n        // TODO: this may need to be reworked.\r\n        // if we are building a preSpawn aircraft, cap the altitude at 18000 so aircraft that spawn closer to\r\n        // airspace can safely enter controlled airspace properly\r\n        let { altitude } = spawnPatternModel;\r\n\r\n        if (isPreSpawn && spawnPatternModel.category === FLIGHT_CATEGORY.ARRIVAL) {\r\n            altitude = Math.min(18000, altitude);\r\n        }\r\n\r\n        const dynamicPositionModel = convertStaticPositionToDynamic(spawnPatternModel.positionModel);\r\n        const transponderCode = this._generateUniqueTransponderCode(AirportController.airport_get().icao);\r\n\r\n        return {\r\n            fleet,\r\n            altitude,\r\n            transponderCode,\r\n            origin: spawnPatternModel.origin,\r\n            destination: spawnPatternModel.destination,\r\n            callsign: flightNumber,\r\n            category: spawnPatternModel.category,\r\n            airline: airlineModel.icao,\r\n            airlineCallsign: airlineModel.radioName,\r\n            speed: spawnPatternModel.speed,\r\n            heading: spawnPatternModel.heading,\r\n            positionModel: dynamicPositionModel,\r\n            icao: aircraftTypeDefinition.icao,\r\n            model: aircraftTypeDefinition,\r\n            routeString: spawnPatternModel.routeString,\r\n            commands: spawnPatternModel.commands,\r\n            // TODO: this may not be needed anymore\r\n            waypoints: _get(spawnPatternModel, 'waypoints', [])\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Execute a command on a new or preSpawned aircraft.\r\n     *\r\n     * @for AircraftController\r\n     * @method _runCommandOnPreSpawnAircraft\r\n     * @param aircraft {AircraftModel}\r\n     * @param command {Object}\r\n     * @param runwayName {String}\r\n     * @private\r\n     */\r\n    _runCommandOnPreSpawnAircraft(aircraft, commands, runwayName) {\r\n        if (!commands || !(runwayName in commands)) {\r\n            return;\r\n        }\r\n\r\n        const commandString = commands[runwayName];\r\n        const command = new CommandParser(`${aircraft.getCallsign()} ${commandString}`).parse();\r\n\r\n        this._aircraftCommander.runCommands(aircraft, command.args, true);\r\n    }\r\n\r\n    /**\r\n     * Given an `airlineId`, find a random aircraft type from the airline.\r\n     *\r\n     * This is useful for when we need to create an aircraft to spawn and\r\n     * only know the airline that it belongs to.\r\n     *\r\n     * @for AircraftController\r\n     * @method _getRandomAircraftTypeDefinitionForAirlineId\r\n     * @param airlineId {string}\r\n     * @param airlineModel {AirlineModel}\r\n     * @return aircraftDefinition {AircraftTypeDefinitionModel}\r\n     * @private\r\n     */\r\n    _getRandomAircraftTypeDefinitionForAirlineId(airlineId, airlineModel) {\r\n        return this.aircraftTypeDefinitionCollection.getAircraftDefinitionForAirlineId(airlineId, airlineModel);\r\n    }\r\n\r\n    /**\r\n     * Generate a unique `transponderCode`\r\n     *\r\n     * This method should only be run while building props for a\r\n     * soon-to-be-instantiated `AircraftModel` at the specified\r\n     * `icao` airport code\r\n     *\r\n     * @for AircraftController\r\n     * @method _generateUniqueTransponderCode\r\n     * @param icao {sting}\r\n     * @return {string}\r\n     * @private\r\n     */\r\n    _generateUniqueTransponderCode(icao) {\r\n        const transponderCode = generateTransponderCode();\r\n\r\n        if (!isDiscreteTransponderCode(icao, transponderCode) || this._isTransponderCodeInUse(transponderCode)) {\r\n            // the value generated isn't valid or is already in use, recurse back through this method and try again\r\n            return this._generateUniqueTransponderCode(icao);\r\n        }\r\n\r\n        this._addTransponderCodeToInUse(transponderCode);\r\n\r\n        return transponderCode;\r\n    }\r\n\r\n    /**\r\n     * Add a given `transponderCode` to the `#_transponderCodesInUse` list\r\n     *\r\n     * @for AircraftController\r\n     * @method _addTransponderCodeToInUse\r\n     * @param transponderCode {string}\r\n     */\r\n    _addTransponderCodeToInUse(transponderCode) {\r\n        this._transponderCodesInUse.push(transponderCode);\r\n    }\r\n\r\n    /**\r\n     * Remove the `transponderCode` from the list of `#_transponderCodesInUse`\r\n     *\r\n     * @for AircraftController\r\n     * @method _removeTransponderCodeFromUse\r\n     * @param transponderCode {string}\r\n     */\r\n    _removeTransponderCodeFromUse({ transponderCode }) {\r\n        this._transponderCodesInUse = _without(this._transponderCodesInUse, transponderCode);\r\n    }\r\n\r\n    /**\r\n     * Boolean helper used to determine if a given `transponderCode` is already\r\n     * present within the `#_transponderCodesInUse` list.\r\n     *\r\n     * @for AircraftController\r\n     * @method _isTransponderCodeInUse\r\n     * @param transponderCode {string}\r\n     * @return {booelean}\r\n     */\r\n    _isTransponderCodeInUse(transponderCode) {\r\n        return this._transponderCodesInUse.indexOf(transponderCode) !== INVALID_INDEX;\r\n    }\r\n\r\n    /**\r\n     * Show a `StripViewModel` as selected\r\n     *\r\n     * @for AircraftController\r\n     * @method _onSelectAircraft\r\n     * @param  aircraftModel {AircraftModel}\r\n     * @private\r\n     */\r\n    _onSelectAircraft = (aircraftModel) => {\r\n        if (!aircraftModel.isControllable) {\r\n            return;\r\n        }\r\n\r\n        this._stripViewController.selectStripView(aircraftModel);\r\n    };\r\n\r\n    /**\r\n     * Remove the css classname used to show a `StripViewModel` as selected.\r\n     *\r\n     * This method is usually called when it is not known what, or if,\r\n     * a `StripViewModel` is active.\r\n     *\r\n     * This method is called as the result of an event\r\n     *\r\n     * @for AircraftController\r\n     * @method _onDeselectAircraft\r\n     * @private\r\n     */\r\n    _onDeselectAircraft = () => {\r\n        this._stripViewController.findAndDeselectActiveStripView();\r\n    };\r\n\r\n    /**\r\n     * Scroll a `StripViewModel` into view\r\n     *\r\n     * @for AircraftController\r\n     * @method _onScrollToAircraft\r\n     * @param  aircraftModel {AircraftModel}\r\n     * @private\r\n     */\r\n    _onScrollToAircraft = (aircraftModel) => {\r\n        if (!aircraftModel.isControllable) {\r\n            return;\r\n        }\r\n\r\n        this._stripViewController.scrollToStripView(aircraftModel);\r\n    };\r\n\r\n    /**\r\n     * Triggered `EventBus` callback\r\n     *\r\n     * This method allows us to find an `AircraftModel` from a callsign,\r\n     * then trigger another event for the `CanvasController`.\r\n     *\r\n     * @for AircraftController\r\n     * @method _onStripDoubleClickHandler\r\n     * @param callsign {string}\r\n     * @private\r\n     */\r\n    _onStripDoubleClickHandler = (callsign) => {\r\n        const { relativePosition } = this.findAircraftByCallsign(callsign);\r\n\r\n        this._eventBus.trigger(EVENT.REQUEST_TO_CENTER_POINT_IN_VIEW, relativePosition);\r\n    };\r\n\r\n    /**\r\n     * Encapsulates math and logic used to detrmine if a new `AircraftConflict` should\r\n     * be created for two specific aircraft\r\n     *\r\n     * Fast 2D bounding box check, there are no conflicts over 8nm apart (14.816km)\r\n     * no violation can occur in this case\r\n     * Variation of:\r\n     * http://gamedev.stackexchange.com/questions/586/what-is-the-fastest-way-to-work-out-2d-bounding-box-intersection\r\n     *\r\n     * @for AircraftController\r\n     * @method _shouldAddNewConflict\r\n     * @param {AircraftModel} aircraftModel\r\n     * @param {AircraftModel} comparisonAircraftModel\r\n     * @return {boolean}\r\n     * @private\r\n     */\r\n    _shouldAddNewConflict(aircraftModel, comparisonAircraftModel) {\r\n        const boundingBoxLength = km(8);\r\n        const dx = abs(aircraftModel.relativePosition[0] - comparisonAircraftModel.relativePosition[0]);\r\n        const dy = abs(aircraftModel.relativePosition[1] - comparisonAircraftModel.relativePosition[1]);\r\n\r\n        return dx < boundingBoxLength && dy < boundingBoxLength;\r\n    }\r\n\r\n    /**\r\n     * Given an `aircraftModel` check against each other aircraft for conflicts\r\n     * after physics (current position) have been updated\r\n     *\r\n     * @for AircraftController\r\n     * @param {AircraftModel} aircraftModel\r\n     * @param {number} currentUpdateIndex\r\n     * @private\r\n     */\r\n    _updateAircraftConflicts(aircraftModel, currentUpdateIndex) {\r\n        for (let j = currentUpdateIndex + 1; j < this.aircraft.list.length; j++) {\r\n            const otherAircraftModel = this.aircraft.list[j];\r\n\r\n            // TODO: though looking better, this logic still needs some work\r\n            if (otherAircraftModel.isTaxiing()) {\r\n                continue;\r\n            }\r\n\r\n            if (aircraftModel.hasConflictWithAircraftModel(otherAircraftModel)) {\r\n                aircraftModel.conflicts[otherAircraftModel.callsign].update();\r\n\r\n                continue;\r\n            }\r\n\r\n            if (this._shouldAddNewConflict(aircraftModel, otherAircraftModel)) {\r\n                this.addConflict(aircraftModel, otherAircraftModel);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Determine if an `aircraftModel` has exited controlled airspace then notify\r\n     * user and score event\r\n     *\r\n     * TODO: This method needs to include some logic currently happeing in `AircraftModel`\r\n     *       used to remove a departing aricraft\r\n     *\r\n     * @for AircraftController\r\n     * @param {AircraftModel} aircraftModel\r\n     * @private\r\n     */\r\n    _updateAircraftVisibility(aircraftModel) {\r\n        // TODO: these next 3 logic blocks could use some cleaning/abstraction\r\n        if (aircraftModel.isArrival() && aircraftModel.isStopped() && !aircraftModel.hit) {\r\n            EventBus.trigger(AIRCRAFT_EVENT.FULLSTOP, aircraftModel, aircraftModel.fms.arrivalRunwayModel);\r\n\r\n            UiController.ui_log(`${aircraftModel.callsign} switching to ground, good day`);\r\n            speech_say(\r\n                [\r\n                    { type: 'callsign', content: aircraftModel },\r\n                    { type: 'text', content: ', switching to ground, good day' }\r\n                ],\r\n                aircraftModel.pilotVoice\r\n            );\r\n\r\n            GameController.events_recordNew(GAME_EVENTS.ARRIVAL);\r\n            this.aircraft_remove(aircraftModel);\r\n\r\n            return;\r\n        }\r\n\r\n        if (aircraftModel.hit && aircraftModel.isOnGround()) {\r\n            UiController.ui_log(`Lost radar contact with ${aircraftModel.callsign}`, true);\r\n            this.aircraft_remove(aircraftModel);\r\n\r\n            speech_say(\r\n                [\r\n                    { type: 'callsign', content: aircraftModel },\r\n                    { type: 'text', content: ', radar contact lost' }\r\n                ],\r\n                aircraftModel.pilotVoice\r\n            );\r\n        }\r\n\r\n        // Clean up the screen from aircraft that are too far\r\n        if (!this.isAircraftVisible(aircraftModel, 2) && !aircraftModel.isControllable && aircraftModel.isRemovable) {\r\n            this.aircraft_remove(aircraftModel);\r\n        }\r\n    }\r\n}\r\n","import _ceil from 'lodash/ceil';\r\nimport _defaultTo from 'lodash/defaultTo';\r\nimport _findIndex from 'lodash/findIndex';\r\nimport _floor from 'lodash/floor';\r\nimport _forEach from 'lodash/forEach';\r\nimport _get from 'lodash/get';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport _isEqual from 'lodash/isEqual';\r\nimport _isNil from 'lodash/isNil';\r\nimport _uniqueId from 'lodash/uniqueId';\r\nimport AirportController from '../airport/AirportController';\r\nimport Fms from './FlightManagementSystem/Fms';\r\nimport GameController, { GAME_EVENTS } from '../game/GameController';\r\nimport ModeController from './ModeControl/ModeController';\r\nimport Pilot from './Pilot/Pilot';\r\nimport TimeKeeper from '../engine/TimeKeeper';\r\nimport UiController from '../ui/UiController';\r\nimport EventBus from '../lib/EventBus';\r\nimport { AIRCRAFT_EVENT } from '../constants/eventNames';\r\nimport {\r\n    radians_normalize,\r\n    angle_offset\r\n} from '../math/circle';\r\nimport {\r\n    abs,\r\n    cos,\r\n    extrapolate_range_clamp,\r\n    sin,\r\n    spread\r\n} from '../math/core';\r\nimport {\r\n    getOffset,\r\n    calculateCrosswindAngle,\r\n    calculateTurnInitiationDistance\r\n} from '../math/flightMath';\r\nimport {\r\n    distance_to_poly,\r\n    point_to_mpoly,\r\n    point_in_poly,\r\n    vadd,\r\n    vectorize2dFromRadians,\r\n    vlen,\r\n    vradial,\r\n    vscale,\r\n    vsub\r\n} from '../math/vector';\r\nimport { speech_say, randomizePilotVoice } from '../speech';\r\nimport {\r\n    digits_decimal,\r\n    groupNumbers,\r\n    radio_runway,\r\n    radio_altitude,\r\n    radio_spellOut\r\n} from '../utilities/radioUtilities';\r\nimport {\r\n    degreesToRadians,\r\n    nm,\r\n    nm_ft,\r\n    UNIT_CONVERSION_CONSTANTS\r\n} from '../utilities/unitConverters';\r\nimport {\r\n    MCP_MODE,\r\n    MCP_MODE_NAME\r\n} from './ModeControl/modeControlConstants';\r\nimport {\r\n    FLIGHT_CATEGORY,\r\n    FLIGHT_PHASE,\r\n    PERFORMANCE,\r\n    ENGINE_TYPE\r\n} from '../constants/aircraftConstants';\r\nimport {\r\n    AIRPORT_CONSTANTS,\r\n    AIRPORT_CONTROL_POSITION_NAME\r\n} from '../constants/airportConstants';\r\nimport {\r\n    INVALID_NUMBER,\r\n    TIME\r\n} from '../constants/globalConstants';\r\nimport { ENVIRONMENT } from '../constants/environmentConstants';\r\n\r\n/**\r\n * @property FLIGHT_RULES\r\n * @type {Object}\r\n * @final\r\n */\r\nconst FLIGHT_RULES = {\r\n    VFR: 'vfr',\r\n    IFR: 'ifr'\r\n};\r\n\r\n/**\r\n * Each simulated aircraft in the game. Contains a model, fms, and conflicts.\r\n *\r\n * @class AircraftModel\r\n */\r\nexport default class AircraftModel {\r\n    /**\r\n     * @for AircraftModel\r\n     * @constructor\r\n     * @param options {object}\r\n     */\r\n    constructor(options = {}) {\r\n        /**\r\n         * Unique id\r\n         *\r\n         * Useful for debugging\r\n         *\r\n         * @for AircraftModel\r\n         * @property id\r\n         * @type {string}\r\n         */\r\n        this.id = _uniqueId('aircraft-');\r\n\r\n        /**\r\n         * Aircraft's DynamicPositionModel\r\n         *\r\n         * @for AircraftModel\r\n         * @property positionModel\r\n         * @type {DynamicPositionModel|null}\r\n         */\r\n        this.positionModel = null;\r\n\r\n        /**\r\n         * AircraftTypeDefinitionModel for the type of aircraft being flown\r\n         *\r\n         * @for AircraftModel\r\n         * @property model\r\n         * @type {AircraftTypeDefinitionModel|null}\r\n         * @default null\r\n         */\r\n        this.model = null;\r\n\r\n        /**\r\n         * Airline Identifier (eg. 'AAL')\r\n         *\r\n         * @property airlineId\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.airlineId = '';\r\n\r\n        /**\r\n         * Airline's radio callsign (eg. 'American')\r\n         *\r\n         * @for AircraftModel\r\n         * @property airlineCallsign\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.airlineCallsign = '';\r\n\r\n        /**\r\n         * Flight Number ONLY (eg. '551')\r\n         *\r\n         * @for AircraftModel\r\n         * @property flightNumber\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.flightNumber = '';\r\n\r\n        /**\r\n         * Option to tell aircraft to take off on its own when there is no other traffic on the runway\r\n         *\r\n         * @for AircraftModel\r\n         * @property shouldTakeOffWhenRunwayIsClear\r\n         * @type boolean\r\n         * @default false\r\n         */\r\n        this.shouldTakeOffWhenRunwayIsClear = false;\r\n\r\n        /**\r\n         * Trasponder code\r\n         *\r\n         * Initially generated and assined on instantiation by the `AircraftController`\r\n         *\r\n         * @for AircraftModel\r\n         * @property transponderCode\r\n         * @type {number}\r\n         * @default 1200\r\n         */\r\n        this.transponderCode = 1200;\r\n\r\n        /**\r\n         * Pilot's voice\r\n         *\r\n         * Initially generated and assined on instantiation by the `AircraftController`\r\n         *\r\n         * @for AircraftModel\r\n         * @property pilotVoice\r\n         * @type {string}\r\n         */\r\n        this.pilotVoice = randomizePilotVoice();\r\n\r\n        /**\r\n         * Magnetic heading the aircraft is facing\r\n         *\r\n         * @for AircraftModel\r\n         * @property heading\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.heading = 0;\r\n\r\n        /**\r\n         * Altitude, ft MSL\r\n         *\r\n         * @for AircraftModel\r\n         * @property altitude\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.altitude = 0;\r\n\r\n        /**\r\n         * Indicated Airspeed (IAS), knots\r\n         * Not to be confused with #trueAirspeed\r\n         *\r\n         * @property speed\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.speed = 0;\r\n\r\n        /**\r\n         * Groundspeed (GS), knots\r\n         *\r\n         * @for AircraftModel\r\n         * @property groundSpeed\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.groundSpeed = 0;\r\n\r\n        /**\r\n         * Azimuth of movement across the ground, in radians\r\n         *\r\n         * @for AircraftModel\r\n         * @property groundTrack\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.groundTrack = 0;\r\n\r\n        /**\r\n         * Game time takeoff occurred\r\n         *\r\n         * @for AircraftModel\r\n         * @property takeoffTime\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.takeoffTime = 0;\r\n\r\n        /**\r\n         * True Airspeed, not to be confused with indicated airspeed (#speed)\r\n         *\r\n         * @for AircraftModel\r\n         * @property trueAirspeed\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.trueAirspeed = 0;\r\n\r\n        /**\r\n         * Azimuth from airport center to aircraft, in radians\r\n         *\r\n         * @for AircraftModel\r\n         * @property radial\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.radial = 0;\r\n\r\n        /**\r\n         * Distance from the airport, in km\r\n         *\r\n         * @for AircraftModel\r\n         * @property distance\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.distance = 0;\r\n\r\n        /**\r\n         * The origin ariport for an aircraft\r\n         *\r\n         * This will only be populated for dpearture aircraft\r\n         *\r\n         * @for AircraftModel\r\n         * @property origin\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.origin = '';\r\n\r\n        /**\r\n         * The destination airpot of an aircraft\r\n         *\r\n         * This will only be populated for arrivals\r\n         *\r\n         * @for AircraftModel\r\n         * @property destination\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.destination = '';\r\n\r\n        /**\r\n         * Indicator of descent/level/climb (-1, 0, or 1)\r\n         *\r\n         * @for AircraftModel\r\n         * @property trend\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.trend = 0;\r\n\r\n        /**\r\n         * Array of previous positions\r\n         *\r\n         * @for AircraftModel\r\n         * @property history\r\n         * @type <array<array<number>>>\r\n         * @default []\r\n         */\r\n        this.history = [];\r\n\r\n        /**\r\n         * @for AircraftModel\r\n         * @property restricted\r\n         * @type {object}\r\n         * @default { list: [] }\r\n         */\r\n        this.restricted = { list: [] };\r\n\r\n        /**\r\n         * @for AircraftModel\r\n         * @property warning\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.warning = false;\r\n\r\n        /**\r\n         * Whether aircraft has crashed\r\n         *\r\n         * @for AircraftModel\r\n         * @property hit\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.hit = false;\r\n\r\n        /**\r\n         * Game time an aircraft starts the taxi\r\n         *\r\n         * @for AircraftModel\r\n         * @property taxi_start\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.taxi_start = 0;\r\n\r\n        /**\r\n         * Time spent taxiing to the runway. *NOTE* this should be INCREASED\r\n         * to around 60 once the taxi vs LUAW issue is resolved (#406)\r\n         *\r\n         * @for AircraftModel\r\n         * @property taxi_time\r\n         * @type {number}\r\n         * @default 3\r\n         */\r\n        this.taxi_time = 3;\r\n\r\n        /**\r\n         * Either IFR or VFR (Instrument/Visual Flight Rules)\r\n         *\r\n         * @for AircraftModel\r\n         * @property rules\r\n         * @type {FLIGHT_RULES}\r\n         * @default FLIGHT_RULES.IFR\r\n         */\r\n        this.rules = FLIGHT_RULES.IFR;\r\n\r\n        /**\r\n         * Flag for if an aircraft is within controlled airspace, thus\r\n         * making an aircraft _controllable_\r\n         *\r\n         * @for AircraftModel\r\n         * @property isControllable\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.isControllable = false;\r\n\r\n        /**\r\n         * List of aircraft that MAY be in conflict (bounding box)\r\n         *\r\n         * @for AircraftModel\r\n         * @property conflicts\r\n         * @type {object}\r\n         * @default {}\r\n         */\r\n        this.conflicts = {};\r\n\r\n        /**\r\n         * @for AircraftModel\r\n         * @property terrain_ranges\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.terrain_ranges = false;\r\n\r\n        /**\r\n         * Flag used to determine if an aircraft is established on a holding pattern\r\n         *\r\n         * This is switched to true after the first turn of a holding pattern is made.\r\n         * This allows for offset calculations to be performed on the legLength to\r\n         * account for the time it takes to make a turn from one leg to the next\r\n         * in a holding pattern.\r\n         *\r\n         * @for AircraftModel\r\n         * @property _isEstablishedOnHoldingPattern\r\n         * @type {boolean}\r\n         * @default false\r\n         * @private\r\n         */\r\n        this._isEstablishedOnHoldingPattern = false;\r\n\r\n        /**\r\n         * Flag used to determine if an aircraft can be removed from the sim.\r\n         *\r\n         * This tells the `AircraftController` that this instance is safe to remove.\r\n         * This property should only be changed via the `.setIsRemovable()` method.\r\n         *\r\n         * @for AircraftModel\r\n         * @property isRemovable\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.isRemovable = false;\r\n\r\n        // Set to true when simulating future movements of the aircraft\r\n        // Should be checked before updating global state such as score\r\n        // or HTML.\r\n        this.projected = false;\r\n        this.relativePositionHistory = [];\r\n\r\n        this.category = options.category; // 'arrival' or 'departure'\r\n\r\n        // target represents what the pilot makes of the tower's commands. It is\r\n        // most important when the plane is in a 'guided' situation, that is it is\r\n        // not given a heading directly, but has a fix or is following an ILS path\r\n        this.target = {\r\n            altitude: 0,\r\n            heading: null,\r\n            turn: null,\r\n            speed: 0\r\n        };\r\n\r\n        // TODO: Move all target properties here in order to utilize getters/setters\r\n        // this._targetAltitude = 0;\r\n        // this._targetAltitudeExpedite = false;\r\n        this._targetHeading = null;\r\n        this._targetGroundTrack = null;\r\n        // this._targetTurnDirection = null;\r\n        // this._targetIndicatedAirspeed = 0;\r\n\r\n        /**\r\n         * @for AircraftModel\r\n         * @property model\r\n         * @type {AircraftTypeDefinitionModel}\r\n         */\r\n        this.model = options.model;\r\n\r\n        /**\r\n         * @for AircraftModel\r\n         * @property mcp\r\n         * @type {ModeController}\r\n         */\r\n        this.mcp = new ModeController();\r\n\r\n        /**\r\n         * @for AircraftModel\r\n         * @property fms\r\n         * @type {Fms}\r\n         */\r\n        this.fms = new Fms(options);\r\n\r\n        /**\r\n         * @for AircraftModel\r\n         * @property pilot\r\n         * @type {Pilot}\r\n         */\r\n        this.pilot = new Pilot(this.fms, this.mcp);\r\n\r\n        this.takeoffTime = options.category === FLIGHT_CATEGORY.ARRIVAL ?\r\n            TimeKeeper.accumulatedDeltaTime :\r\n            null;\r\n\r\n        this.buildCurrentTerrainRanges();\r\n        this.buildRestrictedAreaLinks();\r\n        this.parse(options);\r\n\r\n        const airport = AirportController.airport_get();\r\n        // const initialRunway = airport.getActiveRunwayForCategory(this.category);\r\n\r\n        if (this.category === FLIGHT_CATEGORY.DEPARTURE) {\r\n            this.setFlightPhase(FLIGHT_PHASE.APRON);\r\n            this.altitude = airport.positionModel.elevation;\r\n            this.speed = 0;\r\n        } else if (this.category !== FLIGHT_CATEGORY.ARRIVAL && this.category !== FLIGHT_CATEGORY.OVERFLIGHT) {\r\n            throw new Error('Invalid #category found in AircraftModel');\r\n        } else {\r\n            const bottomAltitude = this.fms.getBottomAltitude();\r\n            const airportModel = AirportController.airport_get();\r\n            const airspaceCeiling = airportModel.maxAssignableAltitude;\r\n\r\n            this.mcp.initializeForAirborneFlight(\r\n                bottomAltitude,\r\n                airspaceCeiling,\r\n                this.altitude,\r\n                this.heading,\r\n                this.speed\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * The magnetic heading to target while applying NO correction for the wind, in radians\r\n     * NOTE: This will not be the heading the aircraft moves along-- the wind will blow it off\r\n     *       course. For that heading, use #targetGroundTrack instead.\r\n     *\r\n     * @for AircraftModel\r\n     * @property targetHeading\r\n     * @type {number} heading, in radians magnetic\r\n     */\r\n    get targetHeading() {\r\n        if (_isNil(this._targetHeading)) {\r\n            if (_isNil(this._targetGroundTrack)) {\r\n                throw new TypeError('Expected a targetHeading OR targetGroundTrack, but neither has been set!');\r\n            }\r\n\r\n            return this._calculateCrabHeadingForGroundTrack(this._targetGroundTrack);\r\n        }\r\n\r\n        return this._targetHeading;\r\n    }\r\n\r\n    set targetHeading(heading) {\r\n        this._targetHeading = heading;\r\n        this._targetGroundTrack = null;\r\n    }\r\n\r\n    /**\r\n    * The magnetic heading to target, for which a/c SHOULD apply wind correction, in radians\r\n    * NOTE: This will not be the heading the aircraft is actually facing-- the aircraft will be crabbing into\r\n    *       the wind. For the heading the aircraft is physically pointing at, use #targetHeading instead.\r\n    *\r\n    * @for AircraftModel\r\n    * @property targetGroundTrack\r\n    * @type {number} heading, in radians magnetic\r\n    */\r\n    get targetGroundTrack() {\r\n        if (_isNil(this._targetGroundTrack)) {\r\n            if (_isNil(this._targetHeading)) {\r\n                throw new TypeError('Expected a targetHeading OR targetGroundTrack, but neither has been set!');\r\n            }\r\n\r\n            return this._calculateGroundTrackForHeading(this._targetHeading);\r\n        }\r\n\r\n        return this._targetGroundTrack;\r\n    }\r\n\r\n    set targetGroundTrack(groundTrack) {\r\n        this._targetGroundTrack = groundTrack;\r\n        this._targetHeading = null;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftModel\r\n     * @property callsign\r\n     * @return {string}\r\n     */\r\n    get callsign() {\r\n        return `${this.airlineId.toUpperCase()}${this.flightNumber.toUpperCase()}`;\r\n    }\r\n\r\n    /**\r\n     * Current flight phase\r\n     *\r\n     * @for AircraftModel\r\n     * @property flightPhase\r\n     * @type {string}\r\n     */\r\n    get flightPhase() {\r\n        return this.fms.currentPhase;\r\n    }\r\n\r\n    /**\r\n     * Fascade to access relative position\r\n     *\r\n     * @for AircraftModel\r\n     * @property relativePosition\r\n     * @type {array<number>} [kilometersNorth, kilometersEast]\r\n     */\r\n    get relativePosition() {\r\n        return this.positionModel.relativePosition;\r\n    }\r\n\r\n    // TODO: this feels like it belongs in either the AirportModel or the AirspaceModel which then exposes a\r\n    // method that will check collisions\r\n    /**\r\n     * @for AircraftModel\r\n     * @method buildCurrentTerrainRanges\r\n     */\r\n    buildCurrentTerrainRanges() {\r\n        const terrain = _get(prop, 'airport.current.terrain', null);\r\n\r\n        if (!terrain) {\r\n            return;\r\n        }\r\n\r\n        this.terrain_ranges = {};\r\n        this.terrain_level = 0;\r\n\r\n        _forEach(terrain, (terrainRange, k) => {\r\n            this.terrain_ranges[k] = {};\r\n\r\n            _forEach(terrainRange, (range, j) => {\r\n                this.terrain_ranges[k][j] = Infinity;\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Set up links to restricted areas\r\n     *\r\n     * @for AircraftModel\r\n     * @method buildRestrictedAreaLinks\r\n     */\r\n    buildRestrictedAreaLinks() {\r\n        const restrictedAreas = AirportController.current.restricted_areas;\r\n\r\n        _forEach(restrictedAreas, (area) => {\r\n            this.restricted.list.push({\r\n                data: area,\r\n                range: null,\r\n                inside: false\r\n            });\r\n        });\r\n    }\r\n\r\n    parse(data) {\r\n        this.positionModel = data.positionModel;\r\n        this.transponderCode = data.transponderCode;\r\n        this.airlineId = data.airline;\r\n        this.airlineCallsign = data.airlineCallsign;\r\n        this.flightNumber = data.callsign;\r\n        this.category = data.category;\r\n        this.heading = data.heading;\r\n        this.altitude = data.altitude;\r\n        this.speed = data.speed;\r\n        this.origin = _get(data, 'origin', this.origin);\r\n        this.destination = _get(data, 'destination', this.destination);\r\n\r\n        this.target.altitude = this.altitude;\r\n        this.targetHeading = this.heading;\r\n        this.target.speed = this.speed;\r\n\r\n        // This assumes and arrival spawns outside the airspace\r\n        this.isControllable = data.category === FLIGHT_CATEGORY.DEPARTURE;\r\n    }\r\n\r\n    /**\r\n     * Build an object that contains all the correct data, in the correct shape,\r\n     * so it can be injected into the view.\r\n     *\r\n     * This method should only be used by the `StripView` classes when instantiating\r\n     * or updating the aircraft progress strips.\r\n     *\r\n     * The data here should be considered read-only.\r\n     *\r\n     * @for AircraftModel\r\n     * @method getViewModel\r\n     * @return {object<string, string>}\r\n     */\r\n    getViewModel() {\r\n        let assignedAltitude = '-';\r\n        let flightPlanAltitude = '-';\r\n\r\n        if (this.mcp.altitude !== INVALID_NUMBER) {\r\n            assignedAltitude = Math.round(this.mcp.altitude) * UNIT_CONVERSION_CONSTANTS.FT_FL;\r\n        }\r\n\r\n        if (this.fms.flightPlanAltitude !== INVALID_NUMBER) {\r\n            flightPlanAltitude = this.fms.flightPlanAltitude * UNIT_CONVERSION_CONSTANTS.FT_FL;\r\n        }\r\n\r\n        return {\r\n            id: this.id,\r\n            insideCenter: this.isControllable,\r\n            callsign: this.callsign,\r\n            transponderCode: this.transponderCode,\r\n            icaoWithWeightClass: this.model.icaoWithWeightClass,\r\n            assignedAltitude,\r\n            flightPlanAltitude,\r\n            arrivalAirportId: this.destination.toUpperCase(),\r\n            departureAirportId: this.origin.toUpperCase(),\r\n            flightPlan: this.fms.getFullRouteStringWithoutAirportsWithSpaces()\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Returns a true value if there is a match from the callsignToMatch\r\n     *\r\n     * @for AircraftModel\r\n    * @method matchCallsign\r\n    * @param callsign {string}\r\n     */\r\n    matchCallsign(callsignToMatch) {\r\n        const shouldMatchAnyCallsign = callsignToMatch === '*';\r\n        // checks to see if the given call sign matches the airline Id + callsign format\r\n        if (shouldMatchAnyCallsign || (this.airlineId.toUpperCase() + callsignToMatch.toUpperCase() === this.callsign)) {\r\n            return true;\r\n        }\r\n\r\n        // Checks to see if the given callsign matches only the callsign since callsign numbers should be unique\r\n        return _isEqual(callsignToMatch.toUpperCase(), this.callsign);\r\n    }\r\n\r\n    /**\r\n     * verifies if there is a matched callsign and if the  aircraft is visable.\r\n     * @for AircraftModel\r\n     * @method getCallsign\r\n     * @return {string}\r\n     */\r\n    getCallsign() {\r\n        return this.callsign.toUpperCase();\r\n    }\r\n\r\n    /**\r\n     * @for AircraftModel\r\n     * @method getRadioCallsign\r\n     * @return cs {string}\r\n     */\r\n    getRadioCallsign() {\r\n        let weight = this.model.getRadioWeightClass();\r\n\r\n        if (!_isEmpty(weight)) {\r\n            weight = ` ${weight}`;\r\n        }\r\n\r\n        if (this.airlineCallsign === 'November') {\r\n            return `${this.airlineCallsign} ${radio_spellOut(this.flightNumber)}${weight}`;\r\n        }\r\n\r\n        return `${this.airlineCallsign} ${groupNumbers(this.flightNumber)}${weight}`;\r\n    }\r\n\r\n\r\n    // TODO: this method should move to the `AircraftTypeDefinitionModel`\r\n    /**\r\n     * @for AircraftModel\r\n     * @method getClimbRate\r\n     * @return {number}\r\n     */\r\n    getClimbRate() {\r\n        let serviceCeilingClimbRate;\r\n        let cr_uncorr;\r\n        let cr_current;\r\n        const { altitude } = this;\r\n        const rate = this.model.rate.climb;\r\n        const { ceiling } = this.model;\r\n\r\n        if (this.model.engines.type === ENGINE_TYPE.JET) {\r\n            serviceCeilingClimbRate = 500;\r\n        } else {\r\n            serviceCeilingClimbRate = 100;\r\n        }\r\n\r\n        // TODO: enumerate the magic number\r\n        // in troposphere\r\n        if (this.altitude < 36152) {\r\n            // TODO: break this assignemnt up into smaller parts and holy magic numbers! enumerate the magic numbers\r\n            cr_uncorr = rate * 420.7 * ((1.232 * (((518.6 - 0.00356 * altitude) / 518.6) ** 5.256)) /\r\n                (518.6 - 0.00356 * altitude));\r\n            cr_current = cr_uncorr - (altitude / ceiling * cr_uncorr) + (altitude / ceiling * serviceCeilingClimbRate);\r\n        } else {\r\n            // in lower stratosphere\r\n            // re-do for lower stratosphere\r\n            // Reference: https://www.grc.nasa.gov/www/k-12/rocket/atmos.html\r\n            // also recommend using graphing calc from desmos.com\r\n            return this.model.rate.climb; // <-- NOT VALID! Just a placeholder!\r\n        }\r\n\r\n        return cr_current;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftModel\r\n     * @method cancelFix\r\n     */\r\n    cancelFix() {\r\n        this.fms.cancelFix();\r\n    }\r\n\r\n    /**\r\n     * Abort the landing attempt, and fly present heading, climbing to the minimum safe altitude\r\n     *\r\n     * @for AircraftModel\r\n     * @method cancelLanding\r\n     */\r\n    cancelLanding() {\r\n        if (this.projected) {\r\n            return;\r\n        }\r\n\r\n        const missedApproachAltitude = _ceil(this.fms.arrivalRunwayModel.elevation + 2000, -3);\r\n        const nextIfrAltitudeBelow = _floor(this.altitude, -3);\r\n        let nextAltitudeToMaintain = missedApproachAltitude;\r\n        let radioMessage = `going missed approach, present heading, climbing to ${missedApproachAltitude}`;\r\n\r\n        if (nextIfrAltitudeBelow >= missedApproachAltitude) {\r\n            nextAltitudeToMaintain = nextIfrAltitudeBelow;\r\n            radioMessage = `going missed approach, present heading, leveling at ${nextIfrAltitudeBelow}`;\r\n        }\r\n\r\n        this.pilot.hasApproachClearance = false;\r\n\r\n        this.mcp.setAltitudeFieldValue(nextAltitudeToMaintain);\r\n        this.mcp.setAltitudeHold();\r\n        this.mcp.setHeadingFieldValue(this.heading);\r\n        this.mcp.setHeadingHold();\r\n        this.setFlightPhase(FLIGHT_PHASE.DESCENT);\r\n        this.radioCall(radioMessage, AIRPORT_CONTROL_POSITION_NAME.APPROACH, true);\r\n    }\r\n\r\n    /**\r\n     * Return whether the aircraft is off the ground\r\n     *\r\n     * @for AircraftModel\r\n     * @method isAirborne\r\n     * @return {boolean}\r\n     */\r\n    isAirborne() {\r\n        return !this.isOnGround();\r\n    }\r\n\r\n    /**\r\n     * Returns whether it is time to begin deceleration in order to comply with the posted speed restrictions\r\n     *\r\n     * @for AircraftModel\r\n     * @method isBeyondDecelerationPointForWaypointModel\r\n     * @param waypointModel {WaypointModel} the waypoint with a speed restriction\r\n     * @return {boolean}\r\n     */\r\n    isBeyondDecelerationPointForWaypointModel(waypointModel) {\r\n        if (_isNil(waypointModel)) {\r\n            return false;\r\n        }\r\n\r\n        const waypointSpeed = waypointModel.speedMaximum;\r\n        const waypointDistance = this.positionModel.distanceToPosition(waypointModel.positionModel);\r\n        const speedChange = waypointSpeed - this.speed;\r\n        const decelerationRate = -this.model.rate.decelerate / 2; // units of rate.decel are 'knots per 2 seconds'\r\n        const decelerationTime = speedChange / decelerationRate;\r\n        const timeUntilWaypoint = waypointDistance / this.groundSpeed * TIME.ONE_HOUR_IN_SECONDS;\r\n\r\n        return decelerationTime > timeUntilWaypoint;\r\n    }\r\n\r\n    /**\r\n     * Returns whether it is time to begin descent in order to comply with the posted altitude restrictions\r\n     *\r\n     * @for AircraftModel\r\n     * @method isBeyondTopOfDescentForWaypointModel\r\n     * @param waypointModel {WaypointModel} the waypoint at which to comply with the restriction\r\n     * @param targetAltitude {number} the altitude to comnply with\r\n     * @return {boolean}\r\n     */\r\n    isBeyondTopOfDescentForWaypointModel(waypointModel, targetAltitude) {\r\n        const targetPosition = waypointModel.positionModel;\r\n        const waypointDistance = this.positionModel.distanceToPosition(targetPosition);\r\n        const altitudeChange = targetAltitude - this.altitude;\r\n        const descentRate = -this.model.rate.descent * PERFORMANCE.TYPICAL_DESCENT_FACTOR;\r\n        const descentTime = altitudeChange / descentRate;\r\n        const timeUntilWaypoint = waypointDistance / this.groundSpeed * TIME.ONE_HOUR_IN_MINUTES;\r\n\r\n        return descentTime > timeUntilWaypoint;\r\n    }\r\n\r\n    /**\r\n     * Returns whether the aircraft is an arrival\r\n     *\r\n     * @for AircraftModel\r\n     * @method isArrival\r\n     * @returns {boolean}\r\n     */\r\n    isArrival() {\r\n        return this.fms.isArrival();\r\n    }\r\n\r\n    /**\r\n     * Returns whether the aircraft is a departure\r\n     *\r\n     * @for AircraftModel\r\n     * @method isDeparture\r\n     * @returns {booelan}\r\n     */\r\n    isDeparture() {\r\n        return this.fms.isDeparture();\r\n    }\r\n\r\n    /**\r\n     * Returns whether or not this aircraft is an overflight (neither departing or arriving within our airspace)\r\n     *\r\n     * @for AircraftModel\r\n     * @method isArrival\r\n     * @returns booelan\r\n     */\r\n    isOverflight() {\r\n        return this.origin === '' && this.destination === '';\r\n    }\r\n\r\n    /**\r\n     * Returns whether aircraft is above the glidepath at (or abeam) their current position\r\n     *\r\n     * Note that a small allowance is applied here to still be considered \"on or below\"\r\n     *\r\n     * @for AircraftModel\r\n     * @method isAboveGlidepath\r\n     * @return {boolean}\r\n     */\r\n    isAboveGlidepath() {\r\n        const glideslopeAltitude = this._calculateArrivalRunwayModelGlideslopeAltitude();\r\n        const altitudeDifference = glideslopeAltitude - this.altitude;\r\n\r\n        return altitudeDifference < -PERFORMANCE.MAXIMUM_ALTITUDE_DIFFERENCE_CONSIDERED_ESTABLISHED_ON_GLIDEPATH;\r\n    }\r\n\r\n    /**\r\n     * Aircraft is established on the course tuned into the nav radio and course\r\n     *\r\n     * @for AircraftModel\r\n     * @method isEstablishedOnCourse\r\n     * @return {boolean}\r\n     */\r\n    isEstablishedOnCourse() {\r\n        const runwayModel = this.fms.arrivalRunwayModel;\r\n\r\n        if (!runwayModel) {\r\n            return false;\r\n        }\r\n\r\n        // TODO: the `this` here is ugly, but will be needed until `getOffset`\r\n        // is refactored (#291 - https://github.com/openscope/openscope/issues/291)\r\n        // TODO: The methods called here should be moved to the AircraftModel,\r\n        // so that it can also be used for non-runway course interception\r\n        return runwayModel.isOnApproachCourse(this) && runwayModel.isOnCorrectApproachGroundTrack(this.groundTrack);\r\n\r\n        // TODO: Use this instead\r\n        // const courseDatum = this.mcp.nav1Datum;\r\n        // const course = this.mcp.course;\r\n        // const courseOffset = getOffset(this, courseDatum.relativePosition, course);\r\n        // const lateralDistanceFromCourse_nm = abs(nm(courseOffset[0]));\r\n        // const allowableLateralDistanceFromCourse = PERFORMANCE.MAXIMUM_DISTANCE_CONSIDERED_ESTABLISHED_ON_APPROACH_COURSE_NM;\r\n        // const isAlignedWithCourse = lateralDistanceFromCourse_nm <= allowableLateralDistanceFromCourse;\r\n        // const heading_diff = abs(angle_offset(this.heading, course));\r\n        // const isOnCourseHeading = heading_diff < PERFORMANCE.MAXIMUM_ANGLE_CONSIDERED_ESTABLISHED_ON_APPROACH_COURSE;\r\n        //\r\n        // return isAlignedWithCourse && isOnCourseHeading;\r\n    }\r\n\r\n    /**\r\n     * Aircraft is established on the glidepath\r\n     *\r\n     * Note that this is currently only usable for runway glideslopes, but should eventually\r\n     * be elaborated upon to support other types of glidepaths (such as those from FMS VNAV)\r\n     *\r\n     * @for AircraftModel\r\n     * @method isEstablishedOnCourse\r\n     * @return {boolean}\r\n     */\r\n    isEstablishedOnGlidepath() {\r\n        const glideslopeAltitude = this._calculateArrivalRunwayModelGlideslopeAltitude();\r\n        const glideslopeAltitudeDifference = abs(glideslopeAltitude - this.altitude);\r\n\r\n        return glideslopeAltitudeDifference <= PERFORMANCE.MAXIMUM_ALTITUDE_DIFFERENCE_CONSIDERED_ESTABLISHED_ON_GLIDEPATH;\r\n    }\r\n\r\n    /**\r\n     * Checks if the aircraft is inside the airspace of a specified airport\r\n     *\r\n     * @for AircraftModel\r\n     * @method isInsideAirspace\r\n     * @param  {AirportModel} airport the airport whose airspace we are checking\r\n     * @return {boolean}\r\n     */\r\n    isInsideAirspace(airport) {\r\n        return airport.isPointWithinAirspace(this.relativePosition, this.altitude);\r\n    }\r\n\r\n    /**\r\n     * Returns whether the aircraft is on the approach course and within the final approach fix\r\n     *\r\n     * @for AircraftModel\r\n     * @method isOnFinal\r\n     * @return {boolean}\r\n     */\r\n    isOnFinal() {\r\n        if (!this.isEstablishedOnCourse()) {\r\n            return false;\r\n        }\r\n\r\n        const approachDistanceNm = this.positionModel.distanceToPosition(this.mcp.nav1Datum);\r\n        const maxDistanceConsideredOnFinalNm = AIRPORT_CONSTANTS.FINAL_APPROACH_FIX_DISTANCE_NM;\r\n\r\n        return approachDistanceNm <= maxDistanceConsideredOnFinalNm;\r\n    }\r\n\r\n    /**\r\n     * Aircraft has \"weight-on-wheels\" (on the ground)\r\n     *\r\n     * @for AircraftModel\r\n     * @method isOnGround\r\n     * @return {boolean}\r\n     */\r\n    isOnGround() {\r\n        if (this.isOverflight()) {\r\n            return false;\r\n        }\r\n\r\n        let airportModel = this.fms.departureAirportModel;\r\n        let runwayModel = this.fms.departureRunwayModel;\r\n\r\n        if (this.isArrival()) {\r\n            airportModel = this.fms.arrivalAirportModel;\r\n            runwayModel = this.fms.arrivalRunwayModel;\r\n        }\r\n\r\n        const errorAllowanceInFeet = 5;\r\n        const isAtOrBelowRunwayAltitude = this.altitude - runwayModel.elevation < errorAllowanceInFeet;\r\n        const isAtOrBelowAirportAltitude = this.altitude - airportModel.elevation < errorAllowanceInFeet;\r\n\r\n        return isAtOrBelowRunwayAltitude || isAtOrBelowAirportAltitude;\r\n    }\r\n\r\n    /**\r\n     * Aircraft is on the apron\r\n     *\r\n     * @for AircraftModel\r\n     * @method isApron\r\n     * @return {boolean}\r\n     */\r\n    isApron() {\r\n        return this.flightPhase === FLIGHT_PHASE.APRON;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftModel\r\n     * @method isStopped\r\n     */\r\n    isStopped() {\r\n        // TODO: enumerate the magic number.\r\n        return this.isOnGround() && this.speed < 5;\r\n    }\r\n\r\n    /**\r\n     * Return whether the aircraft is in flight AND below its stall speed\r\n     *\r\n     * @for AircraftModel\r\n     * @method isStalling\r\n     * @return {boolean}\r\n     */\r\n    isStalling() {\r\n        const isStalling = this.speed < this.model.speed.min && this.isAirborne();\r\n\r\n        return isStalling;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftModel\r\n     * @method isTaxiing\r\n     */\r\n    isTaxiing() {\r\n        return this.flightPhase === FLIGHT_PHASE.APRON ||\r\n            this.flightPhase === FLIGHT_PHASE.TAXI ||\r\n            this.flightPhase === FLIGHT_PHASE.WAITING;\r\n    }\r\n\r\n    /**\r\n     * Returns whether the aircraft is currently taking off\r\n     *\r\n     * @for AircraftModel\r\n     * @method isTakeoff\r\n     */\r\n    isTakeoff() {\r\n        return this.flightPhase === FLIGHT_PHASE.TAKEOFF;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftModel\r\n     * @method isVisible\r\n     * @return {boolean}\r\n     */\r\n    isVisible() {\r\n        // hide aircraft on taxiways\r\n        if (this.flightPhase === FLIGHT_PHASE.APRON || this.flightPhase === FLIGHT_PHASE.TAXI) {\r\n            return false;\r\n        }\r\n\r\n        if (this.flightPhase === FLIGHT_PHASE.WAITING) {\r\n            // show only the first aircraft in the takeoff queue\r\n            return this.fms.departureRunwayModel.isAircraftNextInQueue(this.id);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Sets `#isRemovable` to true\r\n     *\r\n     * Provides a single source of change for the value of `#isRemovable`\r\n     * This is evaluated by the `AircraftController` when determining\r\n     * if an aircraft should be removed or not\r\n     *\r\n     * @for AircraftModel\r\n     * @method setIsRemovable\r\n     */\r\n    setIsRemovable() {\r\n        this.isRemovable = true;\r\n    }\r\n\r\n    /**\r\n      * @for AircraftModel\r\n      * @method getWindComponents\r\n      * @return {object} headwind and crosswind\r\n      */\r\n    getWindComponents() {\r\n        const { wind } = AirportController.airport_get();\r\n        const crosswindAngle = calculateCrosswindAngle(this.heading, wind.angle);\r\n\r\n        return {\r\n            cross: sin(crosswindAngle) * wind.speed,\r\n            head: cos(crosswindAngle) * wind.speed\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Reposition the aircraft to the location of the specified runway\r\n     *\r\n     * @for AircraftModel\r\n     * @method moveToRunway\r\n     * @param runwayModel {RunwayModel}\r\n     */\r\n    moveToRunway(runwayModel) {\r\n        this.positionModel.setCoordinates(runwayModel.gps);\r\n\r\n        this.heading = runwayModel.angle;\r\n        this.altitude = runwayModel.elevation;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftModel\r\n     * @method radioCall\r\n     * @param msg {string}\r\n     * @param sectorType {string}\r\n     * @param alert {string}\r\n     */\r\n    radioCall(msg, sectorType, alert) {\r\n        if (this.projected) {\r\n            return;\r\n        }\r\n\r\n        const writtenCallsign = this.callsign;\r\n        const spokenCallsign = this.getRadioCallsign();\r\n\r\n        // let call = '';\r\n        //\r\n        // if (sectorType) {\r\n        //     call += AirportController.airport_get().radio[sectorType];\r\n        // }\r\n        //\r\n        // call += \", \" + this.callsign + \" \" + msg;\r\n\r\n        // TODO: quick abstraction, this doesn't belong here.\r\n        const logMessage = (callsign) => `${AirportController.airport_get().radio[sectorType]}, ${callsign} ${msg}`;\r\n\r\n        if (alert) {\r\n            const isWarning = true;\r\n            UiController.ui_log(logMessage(writtenCallsign), isWarning);\r\n        } else {\r\n            UiController.ui_log(logMessage(writtenCallsign));\r\n        }\r\n\r\n        speech_say(\r\n            [{\r\n                type: 'text',\r\n                content: logMessage(spokenCallsign)\r\n            }],\r\n            this.pilotVoice\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @for AircraftModel\r\n     * @method callUp\r\n     */\r\n    callUp() {\r\n        let alt_log;\r\n        let alt_say;\r\n\r\n        if (this.isAirborne()) {\r\n            const altdiff = this.altitude - this.mcp.altitude;\r\n            const alt = digits_decimal(this.altitude, -2);\r\n\r\n            if (Math.abs(altdiff) > 200) {\r\n                if (altdiff > 0) {\r\n                    alt_log = `descending through ${alt} for ${this.mcp.altitude}`;\r\n                    alt_say = `descending through ${radio_altitude(alt)} for ${radio_altitude(this.mcp.altitude)}`;\r\n                } else if (altdiff < 0) {\r\n                    alt_log = `climbing through ${alt} for ${this.mcp.altitude}`;\r\n                    alt_say = `climbing through ${radio_altitude(alt)} for ${radio_altitude(this.mcp.altitude)}`;\r\n                }\r\n            } else {\r\n                alt_log = `at ${alt}`;\r\n                alt_say = `at ${radio_altitude(alt)}`;\r\n            }\r\n\r\n            UiController.ui_log(`${AirportController.airport_get().radio.app}, ${this.callsign} with you ${alt_log}`);\r\n            speech_say(\r\n                [\r\n                    { type: 'text', content: `${AirportController.airport_get().radio.app}, ` },\r\n                    { type: 'callsign', content: this },\r\n                    { type: 'text', content: `with you ${alt_say}` }\r\n                ],\r\n                this.pilotVoice\r\n            );\r\n        } else {\r\n            UiController.ui_log(`${AirportController.airport_get().radio.twr}, ${this.callsign}, ready to taxi`);\r\n            speech_say(\r\n                [\r\n                    { type: 'text', content: AirportController.airport_get().radio.twr },\r\n                    { type: 'callsign', content: this },\r\n                    { type: 'text', content: ', ready to taxi' }\r\n                ],\r\n                this.pilotVoice\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @for AircraftModel\r\n     * @method taxiToRunway\r\n     * @param runwayModel {RunwayModel}\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    taxiToRunway(runwayModel) {\r\n        if (this.isAirborne()) {\r\n            return [false, 'unable to taxi, we\\'re already airborne'];\r\n        }\r\n\r\n        if (this.flightPhase === FLIGHT_PHASE.TAKEOFF) {\r\n            return [false, 'unable to taxi, we\\'re already taking off'];\r\n        }\r\n\r\n        if (this.isArrival()) {\r\n            return [false, 'unable to taxi to runway, we have just landed'];\r\n        }\r\n\r\n        if (this.fms.departureRunwayModel === runwayModel) {\r\n            if (this.flightPhase === FLIGHT_PHASE.WAITING) {\r\n                const readback = {\r\n                    log: `we're already holding short of Runway ${runwayModel.name}`,\r\n                    say: `we're already holding short of Runway ${runwayModel.getRadioName()}`\r\n                };\r\n\r\n                return [false, readback];\r\n            }\r\n\r\n            if (this.flightPhase === FLIGHT_PHASE.TAXI) {\r\n                const readback = {\r\n                    log: `we're already taxiing to Runway ${runwayModel.name}`,\r\n                    say: `we're already taxiing to Runway ${runwayModel.getRadioName()}`\r\n                };\r\n\r\n                return [false, readback];\r\n            }\r\n        }\r\n\r\n        this.setFlightPhase(FLIGHT_PHASE.TAXI);\r\n        // remove aircraft from previous runway's queue\r\n        this.fms.departureRunwayModel.removeAircraftFromQueue(this.id);\r\n        this.fms.setDepartureRunway(runwayModel);\r\n        this.fms.departureRunwayModel.addAircraftToQueue(this.id);\r\n\r\n        this.taxi_start = TimeKeeper.accumulatedDeltaTime;\r\n\r\n        const readback = {};\r\n        readback.log = `taxi to and hold short of Runway ${runwayModel.name}`;\r\n        readback.say = `taxi to and hold short of Runway ${radio_runway(runwayModel.name)}`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Initialize all autopilot systems after being given an IFR clearance to destination and execute takeoff.\r\n     *\r\n     * @for AircraftModel\r\n     * @method takeoff\r\n     * @param runway {RunwayModel} the runway taking off on\r\n     */\r\n    takeoff(runway) {\r\n        const cruiseSpeed = this.model.speed.cruise;\r\n        const initialAltitude = this.fms.getInitialClimbClearance();\r\n\r\n        this._prepareMcpForTakeoff(initialAltitude, runway.angle, cruiseSpeed);\r\n        this.setFlightPhase(FLIGHT_PHASE.TAKEOFF);\r\n        EventBus.trigger(AIRCRAFT_EVENT.TAKEOFF, this, runway);\r\n\r\n        this.takeoffTime = TimeKeeper.accumulatedDeltaTime;\r\n        runway.lastDepartedAircraftModel = this;\r\n    }\r\n\r\n    /**\r\n     * Initialize all autopilot systems for takeoff.\r\n     *\r\n     * @for AircraftModel\r\n     * @method _prepareMcpForTakeoff\r\n     * @param altitude {number}\r\n     * @param heading {number}\r\n     * @param speed {number}\r\n     */\r\n    _prepareMcpForTakeoff(altitude, heading, speed) {\r\n        if (this.mcp.altitude === INVALID_NUMBER) {\r\n            this.mcp.setAltitudeFieldValue(altitude);\r\n        }\r\n\r\n        if (this.mcp.altitudeMode === MCP_MODE.ALTITUDE.OFF) {\r\n            this.mcp.setAltitudeHold();\r\n        }\r\n\r\n        if (this.mcp.heading === INVALID_NUMBER) {\r\n            this.mcp.setHeadingFieldValue(heading);\r\n        }\r\n\r\n        if (this.mcp.headingMode === MCP_MODE.HEADING.OFF) {\r\n            this.mcp.setHeadingLnav();\r\n        }\r\n\r\n        if (this.mcp.speed === INVALID_NUMBER) {\r\n            this.mcp.setSpeedFieldValue(speed);\r\n        }\r\n\r\n        if (this.mcp.speedMode === MCP_MODE.SPEED.OFF) {\r\n            this.mcp.setSpeedN1();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update the aircraft's targeted telemetry (altitude, heading, and speed)\r\n     *\r\n     * @for AircraftModel\r\n     * @method updateTarget\r\n     */\r\n    updateTarget() {\r\n        this.target.altitude = _defaultTo(this._calculateTargetedAltitude(), this.target.altitude);\r\n\r\n        this._updateTargetedDirectionality();\r\n\r\n        this.target.speed = _defaultTo(this._calculateTargetedSpeed(), this.target.speed);\r\n\r\n        // TODO: this method may not be needed but could be leveraged for housekeeping if deemed appropriate\r\n        this.overrideTarget();\r\n    }\r\n\r\n    /**\r\n     * @for AircraftModel\r\n     * @method overrideTarget\r\n     */\r\n    overrideTarget() {\r\n        switch (this.flightPhase) {\r\n            case FLIGHT_PHASE.APRON:\r\n                // TODO: Is this needed?\r\n                // this.target.altitude = this.altitude;\r\n                // this.targetHeading = this.heading;\r\n                // this.target.speed = 0;\r\n\r\n                break;\r\n\r\n            case FLIGHT_PHASE.TAXI:\r\n                // TODO: Is this needed?\r\n                // this.target.altitude = this.altitude;\r\n                // this.targetHeading = this.heading;\r\n                // this.target.speed = 0;\r\n\r\n                break;\r\n\r\n            case FLIGHT_PHASE.WAITING:\r\n                // TODO: Is this needed?\r\n                // this.target.altitude = this.altitude;\r\n                // this.targetHeading = this.heading;\r\n                // this.target.speed = 0;\r\n\r\n                break;\r\n\r\n            case FLIGHT_PHASE.TAKEOFF: {\r\n                this.target.altitude = this.altitude;\r\n\r\n                if (this.speed >= this.model.speed.min) {\r\n                    this.target.altitude = this.model.ceiling;\r\n                }\r\n\r\n                this.targetHeading = this.heading;\r\n                this.target.speed = this.model.speed.min;\r\n\r\n                if (this.mcp.heading === INVALID_NUMBER) {\r\n                    console.warn(`${this.callsign} took off with no directional instructions!`);\r\n                }\r\n\r\n                break;\r\n            }\r\n\r\n            case FLIGHT_PHASE.CLIMB:\r\n                break;\r\n\r\n            case FLIGHT_PHASE.CRUISE:\r\n                break;\r\n\r\n            case FLIGHT_PHASE.DESCENT:\r\n                break;\r\n\r\n            case FLIGHT_PHASE.APPROACH:\r\n                break;\r\n\r\n            case FLIGHT_PHASE.LANDING: {\r\n                if (this.altitude <= this.mcp.nav1Datum.elevation) {\r\n                    this.altitude = this.mcp.nav1Datum.elevation;\r\n                    this.target.speed = 0;\r\n                }\r\n\r\n                break;\r\n            }\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        // If stalling, make like a meteorite and fall to the earth!\r\n        if (this.isStalling()) {\r\n            this.target.altitude = Math.min(0, this.target.altitude);\r\n        }\r\n\r\n        // Limit speed to 250 knots while under 10,000 feet MSL (it's the law!)\r\n        // TODO: Isn't this covered by `this._calculateLegalSpeed()`?\r\n        if (this.altitude < 10000) {\r\n            this.target.speed = Math.min(this.target.speed, AIRPORT_CONSTANTS.MAX_SPEED_BELOW_10K_FEET);\r\n        }\r\n\r\n        if (this.target.altitude > this.model.ceiling) {\r\n            this.target.altitude = this.model.ceiling;\r\n        }\r\n\r\n        if (this.target.speed > this.model.speed.max) {\r\n            this.target.speed = this.model.speed.max;\r\n        }\r\n\r\n        if (this.target.speed < this.model.speed.min && this.isAirborne()) {\r\n            this.target.speed = this.model.speed.min;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Fascade to set the fms's flight phase\r\n     *\r\n     * @for AircraftModel\r\n     * @method setFlightPhase\r\n     * @param phase {string}\r\n     */\r\n    setFlightPhase(phase) {\r\n        this.fms.setFlightPhase(phase);\r\n    }\r\n\r\n    /**\r\n     * Update the FMS's flight phase\r\n     *\r\n     * @for AircraftModel\r\n     * @method updateFlightPhase\r\n     */\r\n    updateFlightPhase() {\r\n        const runwayModel = this.fms.departureRunwayModel;\r\n\r\n        switch (this.flightPhase) {\r\n            case FLIGHT_PHASE.TAXI: {\r\n                const elapsed = TimeKeeper.accumulatedDeltaTime - this.taxi_start;\r\n\r\n                if (elapsed > this.taxi_time) {\r\n                    this.setFlightPhase(FLIGHT_PHASE.WAITING);\r\n                    this.moveToRunway(runwayModel);\r\n                }\r\n\r\n                break;\r\n            }\r\n\r\n            case FLIGHT_PHASE.WAITING:\r\n                const iAmTheNextDeparture = this.fms.departureRunwayModel.isAircraftNextInQueue(this.id);\r\n\r\n                if (this.shouldTakeOffWhenRunwayIsClear && iAmTheNextDeparture) {\r\n                    const lastDeparture = this.fms.departureRunwayModel.lastDepartedAircraftModel;\r\n                    const iAmTheFirstEverDeparture = lastDeparture === null;\r\n\r\n                    if (!iAmTheFirstEverDeparture) {\r\n                        const actualDistance = nm_ft(this.distanceToAircraft(lastDeparture));\r\n                        const requiredDistance = this.model.calculateSameRunwaySeparationDistanceInFeet(lastDeparture.model);\r\n                        const towerUtilizedDistance = requiredDistance + 2000;\r\n\r\n                        if (actualDistance < towerUtilizedDistance || lastDeparture.isOnGround()) {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    this.fms.departureRunwayModel.removeAircraftFromQueue(this.id);\r\n                    this.takeoff(this.fms.departureRunwayModel);\r\n                }\r\n\r\n                break;\r\n\r\n            case FLIGHT_PHASE.TAKEOFF:\r\n                if ((this.altitude - runwayModel.elevation) > PERFORMANCE.TAKEOFF_TURN_ALTITUDE) {\r\n                    this.pilot.raiseLandingGearAndActivateAutopilot();\r\n                    this.setFlightPhase(FLIGHT_PHASE.CLIMB);\r\n                }\r\n\r\n                break;\r\n\r\n            case FLIGHT_PHASE.CLIMB:\r\n                if (this.altitude === this.fms.flightPlanAltitude) {\r\n                    this.setFlightPhase(FLIGHT_PHASE.CRUISE);\r\n                }\r\n\r\n                break;\r\n\r\n            case FLIGHT_PHASE.CRUISE:\r\n                if (this.altitude < this.fms.flightPlanAltitude) {\r\n                    this.setFlightPhase(FLIGHT_PHASE.DESCENT);\r\n                }\r\n\r\n                break;\r\n\r\n            case FLIGHT_PHASE.DESCENT:\r\n                if (this.pilot.hasApproachClearance && this.isEstablishedOnCourse()) {\r\n                    this.setFlightPhase(FLIGHT_PHASE.APPROACH);\r\n\r\n                    if (!this.projected) {\r\n                        EventBus.trigger(AIRCRAFT_EVENT.APPROACH, this);\r\n                    }\r\n                }\r\n\r\n                break;\r\n\r\n            case FLIGHT_PHASE.APPROACH: {\r\n                if (!this.isOnFinal()) {\r\n                    break;\r\n                }\r\n\r\n                if (!this.isEstablishedOnGlidepath()) {\r\n                    this.cancelLanding();\r\n\r\n                    break;\r\n                }\r\n\r\n                this.setFlightPhase(FLIGHT_PHASE.LANDING);\r\n\r\n                if (!this.projected) {\r\n                    EventBus.trigger(AIRCRAFT_EVENT.FINAL_APPROACH, this, this.fms.arrivalRunwayModel);\r\n                }\r\n\r\n                break;\r\n            }\r\n\r\n            case FLIGHT_PHASE.LANDING:\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculate the glideslope altitude abeam the current position for the expected landing runway\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateArrivalRunwayModelGlideslopeAltitude\r\n     * @private\r\n     */\r\n    _calculateArrivalRunwayModelGlideslopeAltitude() {\r\n        const runwayModel = this.fms.arrivalRunwayModel;\r\n        const offset = getOffset(this, runwayModel.relativePosition, runwayModel.angle);\r\n        const distanceOnFinalKm = offset[1];\r\n        const glideslopeAltitude = runwayModel.getGlideslopeAltitude(distanceOnFinalKm);\r\n\r\n        return glideslopeAltitude;\r\n    }\r\n\r\n    /**\r\n     * Calculate the heading needed in order for the aircraft to move along a specified angle across the ground\r\n     * https://www.cliffsnotes.com/study-guides/trigonometry/vectors/vector-operations (see example 2)\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateCrabHeadingForGroundTrack\r\n     * @param {number} groundTrackHeading\r\n     * @returns {number} magnetic heading, in radians\r\n     * @private\r\n     */\r\n    _calculateCrabHeadingForGroundTrack(groundTrackHeading) {\r\n        const windVector = AirportController.airport_get().getWindVectorAtAltitude(this.altitude);\r\n        const windAngle = vradial(windVector);\r\n        const angleDifference = groundTrackHeading - windAngle;\r\n        const crabAngle = Math.asin((vlen(windVector) * sin(angleDifference)) / this.trueAirspeed);\r\n\r\n        return groundTrackHeading + crabAngle;\r\n    }\r\n\r\n    /**\r\n     * Calculate the angle across the ground which results from the aircraft's heading and the wind\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateGroundTrackForHeading\r\n     * @param {number} heading\r\n     * @returns {number} magnetic heading, in radians\r\n     * @priate\r\n     */\r\n    _calculateGroundTrackForHeading(heading) {\r\n        const headingVector = vscale(vectorize2dFromRadians(heading), this.trueAirspeed);\r\n        const windVector = AirportController.airport_get().getWindVectorAtAltitude(this.altitude);\r\n        const groundTrackHeading = vradial(vadd(headingVector, windVector));\r\n\r\n        return radians_normalize(groundTrackHeading);\r\n    }\r\n\r\n    /**\r\n     * Determine the appropriate heading, or ground track, that the aircraft should be attempting to follow\r\n     * Then, you can use #targetHeading and/or #targetGroundTrack to retrieve the desired information\r\n     *\r\n     * @for AircraftModel\r\n     * @method _updateTargetedDirectionality\r\n     * @private\r\n     */\r\n    _updateTargetedDirectionality() {\r\n        if (this.mcp.autopilotMode !== MCP_MODE.AUTOPILOT.ON) {\r\n            return;\r\n        }\r\n\r\n        if (this.flightPhase === FLIGHT_PHASE.LANDING) {\r\n            this.targetGroundTrack = this._calculateTargetedGroundTrackDuringLanding();\r\n\r\n            return;\r\n        }\r\n\r\n        switch (this.mcp.headingMode) {\r\n            case MCP_MODE.HEADING.OFF: {\r\n                this.targetHeading = this.heading;\r\n\r\n                break;\r\n            }\r\n\r\n            case MCP_MODE.HEADING.HOLD: {\r\n                this.targetHeading = this.mcp.heading;\r\n\r\n                break;\r\n            }\r\n\r\n            case MCP_MODE.HEADING.LNAV: {\r\n                this.targetGroundTrack = this._calculateTargetedGroundTrackLnav();\r\n\r\n                break;\r\n            }\r\n\r\n            case MCP_MODE.HEADING.VOR_LOC: {\r\n                this.targetGroundTrack = this._calculateTargetedHeadingToInterceptCourse();\r\n\r\n                break;\r\n            }\r\n\r\n            default:\r\n                console.warn('Expected MCP heading mode of \"OFF\", \"HOLD\", \"LNAV\", or \"VOR\", ' +\r\n                    `but received \"${this.mcp.headingMode}\"`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculate the aircraft's targeted speed\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedSpeed\r\n     * @private\r\n     */\r\n    _calculateTargetedSpeed() {\r\n        if (this.mcp.autopilotMode !== MCP_MODE.AUTOPILOT.ON) {\r\n            return;\r\n        }\r\n\r\n        if (this.flightPhase === FLIGHT_PHASE.LANDING) {\r\n            return this._calculateTargetedSpeedDuringLanding();\r\n        }\r\n\r\n        switch (this.mcp.speedMode) {\r\n            case MCP_MODE.SPEED.OFF:\r\n                return this._calculateLegalSpeed(this.speed);\r\n\r\n            case MCP_MODE.SPEED.HOLD:\r\n                return this._calculateLegalSpeed(this.mcp.speed);\r\n\r\n                // future functionality\r\n                // case MCP_MODE.SPEED.LEVEL_CHANGE:\r\n                //     return;\r\n\r\n            case MCP_MODE.SPEED.N1:\r\n                return this._calculateLegalSpeed(this.model.speed.max);\r\n\r\n            case MCP_MODE.SPEED.VNAV: {\r\n                const vnavSpeed = this._calculateTargetedSpeedVnav();\r\n\r\n                return this._calculateLegalSpeed(vnavSpeed);\r\n            }\r\n\r\n            default:\r\n                console.warn('Expected MCP speed mode of \"OFF\", \"HOLD\", \"LEVEL_CHANGE\", \"N1\", or \"VNAV\", but ' +\r\n                    `received \"${this.mcp[MCP_MODE_NAME.SPEED]}\"`);\r\n                return this._calculateLegalSpeed(this.speed);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method limits the aircraft's speed to a maximum of a specific speed\r\n     * while below 10,000 feet MSL, to comply with regulations.\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateLegalSpeed\r\n     * @param speed {number} desired speed\r\n     * @return {number}      permitted speed\r\n     */\r\n    _calculateLegalSpeed(speed) {\r\n        if (this.altitude < 10000) {\r\n            return Math.min(speed, AIRPORT_CONSTANTS.MAX_SPEED_BELOW_10K_FEET);\r\n        }\r\n\r\n        return speed;\r\n    }\r\n\r\n    /**\r\n     * Calculate the aircraft's targeted altitude\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedAltitude\r\n     * @private\r\n     */\r\n    _calculateTargetedAltitude() {\r\n        if (this.mcp.autopilotMode !== MCP_MODE.AUTOPILOT.ON) {\r\n            return;\r\n        }\r\n\r\n        if (this.flightPhase === FLIGHT_PHASE.LANDING) {\r\n            return this._calculateTargetedAltitudeDuringLanding();\r\n        }\r\n\r\n        switch (this.mcp.altitudeMode) {\r\n            case MCP_MODE.ALTITUDE.OFF:\r\n                return this.altitude;\r\n\r\n            case MCP_MODE.ALTITUDE.HOLD:\r\n                return this.mcp.altitude;\r\n\r\n            case MCP_MODE.ALTITUDE.APPROACH:\r\n                return this._calculateTargetedAltitudeToInterceptGlidepath();\r\n\r\n                // future functionality\r\n                // case MCP_MODE.ALTITUDE.LEVEL_CHANGE:\r\n                //     return;\r\n\r\n                // future functionality\r\n                // case MCP_MODE.ALTITUDE.VERTICAL_SPEED:\r\n                //     return;\r\n\r\n            case MCP_MODE.ALTITUDE.VNAV: {\r\n                return this._calculateTargetedAltitudeVnav();\r\n            }\r\n\r\n            default:\r\n                console.warn('Expected MCP altitude mode of \"OFF\", \"HOLD\", \"APPROACH\", \"LEVEL_CHANGE\", ' +\r\n                    `\"VERTICAL_SPEED\", or \"VNAV\", but received \"${this.mcp[MCP_MODE_NAME.ALTITUDE]}\"`);\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculate the altitude to target while intercepting a vertically aligned course\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedAltitudeToInterceptGlidepath\r\n     * @private\r\n     */\r\n    _calculateTargetedAltitudeToInterceptGlidepath() {\r\n        // GENERALIZED CODE\r\n        // const glideDatum = this.mcp.nav1Datum;\r\n        // const distanceFromDatum_nm = this.positionModel.distanceToPosition(glideDatum);\r\n        // const slope = Math.tan(degreesToRadians(3));\r\n        // const distanceFromDatum_ft = distanceFromDatum_nm * UNIT_CONVERSION_CONSTANTS.NM_FT;\r\n        // const glideslopeAltitude = glideDatum.elevation + (slope * (distanceFromDatum_ft));\r\n        // const altitudeToTarget = _clamp(glideslopeAltitude, glideDatum.elevation, this.altitude);\r\n\r\n        if (!this.isEstablishedOnCourse()) {\r\n            return this.mcp.altitude;\r\n        }\r\n\r\n        // ILS SPECIFIC CODE\r\n        const glideslopeAltitude = this._calculateArrivalRunwayModelGlideslopeAltitude();\r\n        const altitudeToTarget = Math.min(this.mcp.altitude, glideslopeAltitude);\r\n\r\n        return altitudeToTarget;\r\n    }\r\n\r\n    /**\r\n     * Calculate the heading to target while intercepting a horizontally aligned course\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedHeadingToInterceptCourse\r\n     * @private\r\n     */\r\n    _calculateTargetedHeadingToInterceptCourse() {\r\n        // Guide aircraft onto the localizer\r\n        const { course, nav1Datum } = this.mcp;\r\n        const courseOffset = getOffset(this, nav1Datum.relativePosition, course);\r\n        const lateralDistanceFromCourseNm = nm(courseOffset[0]);\r\n        const headingDifference = angle_offset(course, this.heading);\r\n        const bearingFromAircaftToRunway = this.positionModel.bearingToPosition(nav1Datum);\r\n        const angleAwayFromLocalizer = course - bearingFromAircaftToRunway;\r\n        const turnTimeInSeconds = abs(headingDifference) / PERFORMANCE.TURN_RATE; // time to turn headingDifference degrees\r\n        // TODO: this should be moved to a class method `.getTurningRadius()`\r\n        const turningRadius = this.speed * (turnTimeInSeconds * TIME.ONE_SECOND_IN_HOURS); // dist covered in the turn, nm\r\n        const distanceCoveredDuringTurn = turningRadius * abs(headingDifference);\r\n        const distanceToLocalizer = lateralDistanceFromCourseNm / sin(headingDifference); // dist from localizer intercept, nm\r\n        const distanceEarly = 0.5; // start turn early, to avoid overshoots from tailwind\r\n        const shouldAttemptIntercept = (distanceToLocalizer > 0 &&\r\n            distanceToLocalizer <= distanceCoveredDuringTurn + distanceEarly);\r\n        const inTheWindow = abs(angleAwayFromLocalizer) < degreesToRadians(1.5); // move to loc regardless of assigned heading\r\n\r\n        if (!shouldAttemptIntercept && !inTheWindow) {\r\n            return this.mcp.heading;\r\n        }\r\n        // continue if shouldAttemptIntercept OR inTheWindow\r\n\r\n        const severity_of_correction = 20; // controls steepness of heading adjustments during localizer tracking\r\n        let interceptAngle = angleAwayFromLocalizer * -severity_of_correction;\r\n        const minimumInterceptAngle = degreesToRadians(10);\r\n        const isAlignedWithCourse = abs(lateralDistanceFromCourseNm) <=\r\n            PERFORMANCE.MAXIMUM_DISTANCE_CONSIDERED_ESTABLISHED_ON_APPROACH_COURSE_NM;\r\n\r\n        // TODO: This is a patch fix, and it stinks. This whole method needs to be improved greatly.\r\n        if (inTheWindow || isAlignedWithCourse) {\r\n            this.target.turn = null;\r\n\r\n            return course + interceptAngle;\r\n        }\r\n\r\n        interceptAngle = spread(interceptAngle, -minimumInterceptAngle, minimumInterceptAngle);\r\n        const interceptHeading = course + interceptAngle;\r\n\r\n        // TODO: This should be abstracted\r\n        if (this.mcp.heading < this.mcp.course) {\r\n            const headingToFly = Math.max(interceptHeading, this.mcp.heading);\r\n\r\n            return headingToFly;\r\n        }\r\n\r\n        if (this.mcp.heading > this.mcp.course) {\r\n            const headingToFly = Math.min(interceptHeading, this.mcp.heading);\r\n\r\n            return headingToFly;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This will update the FIX for the aircraft and will change the aircraft's heading\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedGroundTrackLnav\r\n     */\r\n    _calculateTargetedGroundTrackLnav() {\r\n        if (!this.fms.currentWaypoint) {\r\n            return new Error('Unable to utilize LNAV, because there are no waypoints in the FMS');\r\n        }\r\n\r\n        if (this.fms.currentWaypoint.isVectorWaypoint) {\r\n            return this.fms.currentWaypoint.getVector();\r\n        }\r\n\r\n        if (this.fms.currentWaypoint.isHoldWaypoint) {\r\n            return this._calculateTargetedHeadingHold();\r\n        }\r\n\r\n        const waypointPosition = this.fms.currentWaypoint.positionModel;\r\n        const distanceToWaypoint = this.positionModel.distanceToPosition(waypointPosition);\r\n        const groundTrackToWaypoint = this.positionModel.bearingToPosition(waypointPosition);\r\n        const turnInitiationDistance = calculateTurnInitiationDistance(this, waypointPosition);\r\n        const isTimeToStartTurning = distanceToWaypoint < turnInitiationDistance;\r\n        const closeToBeingOverFix = distanceToWaypoint < PERFORMANCE.MAXIMUM_DISTANCE_TO_PASS_WAYPOINT_NM;\r\n        const closeEnoughToFlyByFix = distanceToWaypoint < PERFORMANCE.MAXIMUM_DISTANCE_TO_FLY_BY_WAYPOINT_NM;\r\n        const shouldFlyByFix = closeEnoughToFlyByFix && isTimeToStartTurning;\r\n        let shouldMoveToNextFix = closeToBeingOverFix;\r\n\r\n        if (!this.fms.currentWaypoint.isFlyOverWaypoint) {\r\n            shouldMoveToNextFix = closeToBeingOverFix || shouldFlyByFix;\r\n        }\r\n\r\n        if (shouldMoveToNextFix) {\r\n            if (!this.fms.hasNextWaypoint()) {\r\n                // we've hit this block because and aircraft is about to fly over the last waypoint in its flightPlan\r\n                this.pilot.maintainPresentHeading(this);\r\n\r\n                return this.groundTrack;\r\n            }\r\n\r\n            this.fms.moveToNextWaypoint();\r\n\r\n            const { currentWaypoint } = this.fms;\r\n\r\n            if (currentWaypoint.isVectorWaypoint) {\r\n                return currentWaypoint.getVector();\r\n            }\r\n\r\n            const nextWaypointPosition = currentWaypoint.positionModel;\r\n\r\n            if (_isNil(nextWaypointPosition)) {\r\n                console.warn('Expected a valid PositionModel object for waypoint ' +\r\n                    `\"${currentWaypoint.name}\", but received ${nextWaypointPosition}`);\r\n            }\r\n\r\n            return this.positionModel.bearingToPosition(nextWaypointPosition);\r\n        }\r\n\r\n        return groundTrackToWaypoint;\r\n    }\r\n\r\n    /**\r\n     * This will sets up and prepares the aircraft to hold\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedHeadingHold\r\n     */\r\n    _calculateTargetedHeadingHold() {\r\n        const { currentWaypoint } = this.fms;\r\n        const { holdParameters } = currentWaypoint;\r\n        const waypointRelativePosition = currentWaypoint.relativePosition;\r\n        const bearingToHoldFix = vradial(vsub(waypointRelativePosition, this.relativePosition));\r\n\r\n        if (typeof holdParameters.inboundHeading === 'undefined') {\r\n            // store the current heading as inbound heading, see #836\r\n            holdParameters.inboundHeading = bearingToHoldFix;\r\n        }\r\n\r\n        const { inboundHeading, legLength } = holdParameters;\r\n        const outboundHeading = radians_normalize(inboundHeading + Math.PI);\r\n        const groundTrack = radians_normalize(this.groundTrack);\r\n        const offset = getOffset(this, waypointRelativePosition, inboundHeading);\r\n        const gameTime = TimeKeeper.accumulatedDeltaTime;\r\n        const isPastFix = offset[1] < 1 && offset[2] < 2;\r\n        const isTimerSet = holdParameters.timer !== INVALID_NUMBER;\r\n        const isTimerExpired = isTimerSet && gameTime > holdParameters.timer;\r\n\r\n        if (isPastFix && !this._isEstablishedOnHoldingPattern) {\r\n            this._isEstablishedOnHoldingPattern = true;\r\n        }\r\n\r\n        if (!this._isEstablishedOnHoldingPattern) {\r\n            return bearingToHoldFix;\r\n        }\r\n\r\n        let nextTargetHeading = outboundHeading;\r\n\r\n        if (abs(groundTrack - outboundHeading) < PERFORMANCE.MAXIMUM_ANGLE_CONSIDERED_ESTABLISHED_ON_HOLD_COURSE && !isTimerSet) {\r\n            let holdLegDurationInSeconds;\r\n\r\n            if (legLength.indexOf('min') !== -1) {\r\n                const holdLegDurationInMinutes = legLength.replace('min', '');\r\n                holdLegDurationInSeconds = holdLegDurationInMinutes * TIME.ONE_MINUTE_IN_SECONDS;\r\n            } else {\r\n                // Leg is a distance, use the ground speed to determine the duration\r\n                const holdLegDistance = legLength.replace('nm', '');\r\n                holdLegDurationInSeconds = (holdLegDistance / this.groundSpeed) * TIME.ONE_HOUR_IN_SECONDS;\r\n            }\r\n\r\n            currentWaypoint.setHoldTimer(gameTime + holdLegDurationInSeconds);\r\n        }\r\n\r\n        if (isTimerExpired) {\r\n            nextTargetHeading = bearingToHoldFix;\r\n\r\n            if (isPastFix) {\r\n                currentWaypoint.resetHoldTimer();\r\n                nextTargetHeading = outboundHeading;\r\n            }\r\n        }\r\n\r\n        this.target.turn = holdParameters.turnDirection;\r\n\r\n        return nextTargetHeading;\r\n    }\r\n\r\n    /**\r\n     * Calculates the altitude for a landing aircraft\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedAltitudeDuringLanding\r\n     * @return {number}\r\n     */\r\n    _calculateTargetedAltitudeDuringLanding() {\r\n        const runwayModel = this.fms.arrivalRunwayModel;\r\n        const offset = getOffset(this, runwayModel.relativePosition, runwayModel.angle);\r\n        const distanceOnFinal_km = offset[1];\r\n\r\n        if (distanceOnFinal_km > 0) {\r\n            return this._calculateTargetedAltitudeToInterceptGlidepath();\r\n        }\r\n\r\n        return runwayModel.elevation;\r\n    }\r\n\r\n    /**\r\n     * Calculates the altitude for an aircraft in a VNAV-guided altitude change\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedAltitudeVnav\r\n     * @return {number}\r\n     */\r\n    _calculateTargetedAltitudeVnav() {\r\n        const altitudeMaximumWaypoint = this.fms.findNextWaypointWithMaximumAltitudeRestriction();\r\n        const altitudeMinimumWaypoint = this.fms.findNextWaypointWithMinimumAltitudeRestriction();\r\n        const maximumAltitudeExists = !_isNil(altitudeMaximumWaypoint);\r\n        const minimumAltitudeExists = !_isNil(altitudeMinimumWaypoint);\r\n\r\n        if (this.mcp.altitude < this.altitude) {\r\n            // we want to descend...\r\n            if (!minimumAltitudeExists || altitudeMinimumWaypoint.altitudeMinimum < this.mcp.altitude) {\r\n                // ... and there is nothing that can stop us.\r\n                return this.mcp.altitude;\r\n            }\r\n\r\n            const { altitudeMinimum } = altitudeMinimumWaypoint;\r\n\r\n            if (this.altitude < altitudeMinimum) {\r\n                // ... but we are too low and we have to comply with VNAV restriction\r\n                return this._calculateTargetedAltitudeVnavClimb(altitudeMinimumWaypoint);\r\n            }\r\n\r\n            if (maximumAltitudeExists) {\r\n                const { altitudeMaximum } = altitudeMaximumWaypoint;\r\n\r\n                if (this.mcp.altitude > altitudeMaximum) {\r\n                    // we are too high but we are prioritizing clearance over VNAV restriction\r\n                    return this.mcp.altitude;\r\n                }\r\n\r\n                if (this.altitude > altitudeMaximum) {\r\n                    // we are too high...\r\n                    if (altitudeMinimum > altitudeMaximum) {\r\n                        // the minimum altitude is above the maximum altiude, check if we can descend all the way down\r\n                        // without violating VNAV restrictions.\r\n                        const firstWaypoint = this._findFirstWaypoint(\r\n                            this.fms.waypoints,\r\n                            altitudeMinimumWaypoint,\r\n                            altitudeMaximumWaypoint\r\n                        );\r\n\r\n                        if (firstWaypoint.name === altitudeMinimumWaypoint.name) {\r\n                            // ... but we can not descend all the way down yet\r\n                            return this._calculateTargetedAltitudeVnavDescent(altitudeMinimumWaypoint, altitudeMinimum);\r\n                        }\r\n                    }\r\n                    // ...so descend to comply with VNAV restriction\r\n                    return this._calculateTargetedAltitudeVnavDescent(altitudeMaximumWaypoint, altitudeMaximum);\r\n                }\r\n            }\r\n        } else {\r\n            // we want to climb...\r\n            if (!maximumAltitudeExists || this.mcp.altitude < altitudeMaximumWaypoint.altitudeMaximum) {\r\n                // ... and there is nothing that can stop us.\r\n                return this.mcp.altitude;\r\n            }\r\n\r\n            const { altitudeMaximum } = altitudeMaximumWaypoint;\r\n\r\n            if (this.altitude > altitudeMaximum) {\r\n                // .. but we are too high and have to comply with NAV restriction\r\n                return this._calculateTargetedAltitudeVnavDescent(altitudeMaximumWaypoint, altitudeMaximum);\r\n            }\r\n\r\n            if (minimumAltitudeExists) {\r\n                const { altitudeMinimum } = altitudeMinimumWaypoint;\r\n\r\n                if (this.mcp.altitude < altitudeMinimum) {\r\n                    // we are too low but we are prioritizing clearance over VNAV restriction\r\n                    return this.mcp.altitude;\r\n                }\r\n\r\n                if (this.altitude < altitudeMinimum) {\r\n                    // we are too low ...\r\n                    if (altitudeMaximum < altitudeMinimum) {\r\n                        // the maximum altitude is below the minimal altiude, check if we can climb all the way up\r\n                        // without violating VNAV restrictions.\r\n                        const firstWaypoint = this._findFirstWaypoint(\r\n                            this.fms.waypoints, altitudeMinimumWaypoint, altitudeMaximumWaypoint\r\n                        );\r\n\r\n                        if (firstWaypoint.name === altitudeMaximumWaypoint.name) {\r\n                            // ... but we can not climb all the way up yet\r\n                            return altitudeMaximum;\r\n                        }\r\n                    }\r\n                    // ... climb to comply with VNAV restriction\r\n                    return this._calculateTargetedAltitudeVnavClimb(altitudeMinimumWaypoint);\r\n                }\r\n            }\r\n\r\n            return altitudeMaximum;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Takes two waypoints and returns the waypoint that comes first in the list of waypoints\r\n     *\r\n     * @for AircraftModel\r\n     * @method _findFirstWaypoint\r\n     * @param waypoints\r\n     * @param waypointA {WaypointModel}\r\n     * @param waypointB {WaypointModel}\r\n     * @return waypointA or waypointB {WaypointModel}\r\n     */\r\n    _findFirstWaypoint(waypoints, waypointA, waypointB) {\r\n        const indexOfA = _findIndex(waypoints, (waypoint) => waypoint.name === waypointA.name);\r\n        const indexOfB = _findIndex(waypoints, (waypoint) => waypoint.name === waypointB.name);\r\n\r\n        return indexOfA < indexOfB ? waypointA : waypointB;\r\n    }\r\n\r\n    /**\r\n     * Calculates the altitude for an aircraft in a VNAV-guided climb\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedAltitudeVnavClimb\r\n     * @param waypointWithMinimumAltitudeRestriction {WaypointModel}\r\n     * @return {number}\r\n     */\r\n    _calculateTargetedAltitudeVnavClimb(waypointWithMinimumAltitudeRestriction) {\r\n        const waypointMinimumAltitude = waypointWithMinimumAltitudeRestriction.altitudeMinimum;\r\n\r\n        return waypointMinimumAltitude;\r\n    }\r\n\r\n    /**\r\n     * Calculates the altitude for an aircraft in a VNAV-guided descent\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedAltitudeVnavDescent\r\n     * @param waypointModel {WaypointModel} the waypoint at which to comply with the restriction\r\n     * @param targetAltitude {number} the altitude to comply with\r\n     * @return {number}\r\n     */\r\n    _calculateTargetedAltitudeVnavDescent(waypointModel, targetAltitude) {\r\n        if (!this.isBeyondTopOfDescentForWaypointModel(waypointModel, targetAltitude)) {\r\n            return;\r\n        }\r\n\r\n        return targetAltitude;\r\n    }\r\n\r\n    /**\r\n     * Calculates the heading for a landing aircraft\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedGroundTrackDuringLanding\r\n     * @return {number}\r\n     */\r\n    _calculateTargetedGroundTrackDuringLanding() {\r\n        const runwayModel = this.fms.arrivalRunwayModel;\r\n        const offset = getOffset(this, runwayModel.relativePosition, runwayModel.angle);\r\n        const distanceOnFinal_nm = nm(offset[1]);\r\n\r\n        if (distanceOnFinal_nm > 0) {\r\n            const bearingFromAircaftToRunway = this.positionModel.bearingToPosition(runwayModel.positionModel);\r\n\r\n            return bearingFromAircaftToRunway;\r\n        }\r\n\r\n        return runwayModel.angle;\r\n    }\r\n\r\n    /**\r\n     * Calculates the speed for a landing aircraft\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedSpeedDuringLanding\r\n     * @return {number}\r\n     */\r\n    _calculateTargetedSpeedDuringLanding() {\r\n        let startSpeed = this.speed;\r\n        const runwayModel = this.fms.arrivalRunwayModel;\r\n        const offset = getOffset(this, runwayModel.relativePosition, runwayModel.angle);\r\n        const distanceOnFinal_nm = nm(offset[1]);\r\n        const stableApproachTimeHours = PERFORMANCE.STABLE_APPROACH_TIME_SECONDS * TIME.ONE_SECOND_IN_HOURS;\r\n        const stableApproachDistance = this.model.speed.landing * stableApproachTimeHours;\r\n\r\n        if (distanceOnFinal_nm <= 0 && this.isOnGround()) {\r\n            return 0;\r\n        }\r\n\r\n        if (this.mcp.speedMode === MCP_MODE.SPEED.HOLD) {\r\n            startSpeed = this.mcp.speed;\r\n        }\r\n\r\n        const nextSpeed = extrapolate_range_clamp(\r\n            stableApproachDistance,\r\n            distanceOnFinal_nm,\r\n            AIRPORT_CONSTANTS.FINAL_APPROACH_FIX_DISTANCE_NM,\r\n            this.model.speed.landing,\r\n            startSpeed\r\n        );\r\n\r\n        return nextSpeed;\r\n    }\r\n\r\n    /**\r\n     * Calculates the speed for an aircraft in a VNAV-guided speed change\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedSpeedVnav\r\n     * @return {number} speed, in knots\r\n     */\r\n    _calculateTargetedSpeedVnav() {\r\n        const nextSpeedMaximumWaypoint = this.fms.findNextWaypointWithMaximumSpeedAtOrBelow(this.speed);\r\n        const nextSpeedMinimumWaypoint = this.fms.findNextWaypointWithMinimumSpeedAtOrAbove(this.speed);\r\n        const hasMaximumSpeed = !_isNil(nextSpeedMaximumWaypoint);\r\n        const hasMinimumSpeed = !_isNil(nextSpeedMinimumWaypoint);\r\n\r\n        if (!hasMaximumSpeed && !hasMinimumSpeed) {\r\n            return this.mcp.speed;\r\n        }\r\n\r\n        if (hasMaximumSpeed && hasMinimumSpeed) {\r\n            const { waypoints } = this.fms;\r\n            const indexOfMax = _findIndex(waypoints, (waypoint) => waypoint.name === nextSpeedMaximumWaypoint.name);\r\n            const indexOfMin = _findIndex(waypoints, (waypoint) => waypoint.name === nextSpeedMinimumWaypoint.name);\r\n\r\n            if (indexOfMax < indexOfMin) {\r\n                return this._calculateTargetedSpeedVnavDeceleration(nextSpeedMaximumWaypoint);\r\n            }\r\n\r\n            return this._calculateTargetedSpeedVnavAcceleration(nextSpeedMinimumWaypoint);\r\n        }\r\n\r\n        if (hasMaximumSpeed) {\r\n            return this._calculateTargetedSpeedVnavDeceleration(nextSpeedMaximumWaypoint);\r\n        }\r\n\r\n        if (hasMinimumSpeed) {\r\n            return this._calculateTargetedSpeedVnavAcceleration(nextSpeedMinimumWaypoint);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculates the speed for an aircraft in a VNAV-guided acceleration\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedSpeedVnavAcceleration\r\n     * @param waypointWithMinimumSpeedRestriction {WaypointModel}\r\n     * @return {number}\r\n     */\r\n    _calculateTargetedSpeedVnavAcceleration(waypointWithMinimumSpeedRestriction) {\r\n        const waypointMinimumSpeed = waypointWithMinimumSpeedRestriction.speedMinimum;\r\n\r\n        return Math.min(waypointMinimumSpeed, this.mcp.speed);\r\n    }\r\n\r\n    /**\r\n     * Calculates the speed for an aircraft in a VNAV-guided deceleration\r\n     *\r\n     * @for AircraftModel\r\n     * @method _calculateTargetedSpeedVnavDeceleration\r\n     * @param hardRestrictedWaypointModel {WaypointModel}\r\n     * @return {number}\r\n     */\r\n    _calculateTargetedSpeedVnavDeceleration(waypointWithMaximumSpeedRestriction) {\r\n        const waypointMaximumSpeed = waypointWithMaximumSpeedRestriction.speedMaximum;\r\n\r\n        if (!this.isBeyondDecelerationPointForWaypointModel(waypointWithMaximumSpeedRestriction)) {\r\n            return;\r\n        }\r\n\r\n        return Math.min(waypointMaximumSpeed, this.mcp.speed);\r\n    }\r\n\r\n    // TODO: this method needs a lot of love. its much too long with waaay too many nested if/else ifs.\r\n    /**\r\n     * @for AircraftModel\r\n     * @method updatePhysics\r\n     */\r\n    updatePhysics() {\r\n        if (this.isTaxiing()) {\r\n            return;\r\n        }\r\n\r\n        if (this.hit) {\r\n            // 90fps fall rate?...\r\n            this.altitude -= 90 * TimeKeeper.getDeltaTimeForGameStateAndTimewarp();\r\n            this.speed *= 0.99;\r\n\r\n            return;\r\n        }\r\n\r\n        this.updateAircraftTurnPhysics();\r\n        this.updateAltitudePhysics();\r\n\r\n        if (this.isOnGround()) {\r\n            this.trend = 0;\r\n        }\r\n\r\n        // SPEED\r\n        this.updateSpeedPhysics();\r\n\r\n        const offsetGameTime = TimeKeeper.accumulatedDeltaTime / GameController.game_speedup();\r\n        // const nextHistoricalPosition = [\r\n        //     this.positionModel.relativePosition[0],\r\n        //     this.positionModel.relativePosition[1],\r\n        //     offsetGameTime\r\n        // ];\r\n\r\n        // TODO: whats the difference here between the if and else blocks? why are we looking for a 0 length?\r\n        // TODO: abstract to AircraftPositionHistory class\r\n        // Trailling\r\n        if (this.relativePositionHistory.length === 0) {\r\n            this.relativePositionHistory.push([\r\n                this.positionModel.relativePosition[0],\r\n                this.positionModel.relativePosition[1],\r\n                offsetGameTime\r\n            ]);\r\n            // TODO: this can be abstracted\r\n        } else if (abs(offsetGameTime - this.relativePositionHistory[this.relativePositionHistory.length - 1][2]) >\r\n            4 / GameController.game_speedup()\r\n        ) {\r\n            this.relativePositionHistory.push([\r\n                this.positionModel.relativePosition[0],\r\n                this.positionModel.relativePosition[1],\r\n                offsetGameTime\r\n            ]);\r\n        }\r\n\r\n        this.updateGroundSpeedPhysics();\r\n\r\n        this.distance = vlen(this.positionModel.relativePosition);\r\n        this.radial = radians_normalize(vradial(this.positionModel.relativePosition));\r\n    }\r\n\r\n    /**\r\n     * This turns the aircraft if it is not on the ground and has not arived at its destenation\r\n     *\r\n     * @for AircraftModel\r\n     * @method updateAircraftTurnPhysics\r\n     */\r\n    updateAircraftTurnPhysics() {\r\n        if (this.isOnGround() || this.heading === this.targetHeading) {\r\n            this.target.turn = null;\r\n\r\n            return;\r\n        }\r\n\r\n        const secondsElapsed = TimeKeeper.getDeltaTimeForGameStateAndTimewarp();\r\n        const angle_diff = angle_offset(this.targetHeading, this.heading);\r\n        const angle_change = PERFORMANCE.TURN_RATE * secondsElapsed;\r\n\r\n        // TODO: clean this up if possible, there is a lot of branching logic here\r\n        if (abs(angle_diff) <= angle_change) {\r\n            this.heading = this.targetHeading;\r\n        } else if (this.target.turn) {\r\n            if (this.target.turn === 'left') {\r\n                this.heading = radians_normalize(this.heading - angle_change);\r\n            } else if (this.target.turn === 'right') {\r\n                this.heading = radians_normalize(this.heading + angle_change);\r\n            }\r\n        } else if (angle_diff <= 0) {\r\n            this.heading = radians_normalize(this.heading - angle_change);\r\n        } else if (angle_diff > 0) {\r\n            this.heading = radians_normalize(this.heading + angle_change);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This updates the Altitude for the instance of the aircraft by checking the difference\r\n     * between current Altitude and requested Altitude\r\n     *\r\n     * @for AircraftModel\r\n     * @method updateAltitudePhysics\r\n     */\r\n    updateAltitudePhysics() {\r\n        this.trend = 0;\r\n\r\n        if (this.target.altitude < this.altitude) {\r\n            this.decreaseAircraftAltitude();\r\n        } else if (this.target.altitude > this.altitude) {\r\n            this.increaseAircraftAltitude();\r\n        }\r\n    }\r\n\r\n    /**\r\n    * Decreases the aircrafts altitude\r\n    *\r\n    * @for AircraftModel\r\n    * @method decreaseAircraftAltitude\r\n    */\r\n    decreaseAircraftAltitude() {\r\n        const altitude_diff = this.altitude - this.target.altitude;\r\n        let descentRate = this.model.rate.descent * PERFORMANCE.TYPICAL_DESCENT_FACTOR;\r\n\r\n        if (this.mcp.shouldExpediteAltitudeChange || this.isEstablishedOnCourse()) {\r\n            descentRate = this.model.rate.descent;\r\n        }\r\n\r\n        const feetPerSecond = descentRate * TIME.ONE_SECOND_IN_MINUTES;\r\n        const feetDescended = feetPerSecond * TimeKeeper.getDeltaTimeForGameStateAndTimewarp();\r\n\r\n        if (abs(altitude_diff) < feetDescended) {\r\n            this.altitude = this.target.altitude;\r\n            this.mcp.shouldExpediteAltitudeChange = false;\r\n        } else {\r\n            this.altitude -= feetDescended;\r\n        }\r\n\r\n        this.trend -= 1;\r\n    }\r\n\r\n    /**\r\n    * Increases the aircrafts altitude\r\n    *\r\n    * @for AircraftModel\r\n    * @method increaseAircraftAltitude\r\n    */\r\n    increaseAircraftAltitude() {\r\n        const altitude_diff = this.altitude - this.target.altitude;\r\n        let climbRate = this.getClimbRate() * PERFORMANCE.TYPICAL_CLIMB_FACTOR;\r\n\r\n        if (this.mcp.shouldExpediteAltitudeChange || this.isTakeoff()) {\r\n            climbRate = this.model.rate.climb;\r\n        }\r\n\r\n        const feetPerSecond = climbRate * TIME.ONE_SECOND_IN_MINUTES;\r\n        const feetClimbed = feetPerSecond * TimeKeeper.getDeltaTimeForGameStateAndTimewarp();\r\n\r\n        if (abs(altitude_diff) < abs(feetClimbed)) {\r\n            this.altitude = this.target.altitude;\r\n            this.mcp.shouldExpediteAltitudeChange = false;\r\n        } else {\r\n            this.altitude += feetClimbed;\r\n        }\r\n\r\n        this.trend = 1;\r\n    }\r\n\r\n    /**\r\n     * This updates the speed for the instance of the aircraft by checking the\r\n     * difference between current speed and requested speed\r\n     *\r\n     * @for AircraftModel\r\n     * @method updateWarning\r\n     */\r\n    updateSpeedPhysics() {\r\n        let speedChange = 0;\r\n        const differenceBetweenPresentAndTargetSpeeds = this.speed - this.target.speed;\r\n\r\n        if (differenceBetweenPresentAndTargetSpeeds === 0) {\r\n            return;\r\n        }\r\n\r\n        if (this.speed > this.target.speed) {\r\n            speedChange = -this.model.rate.decelerate * TimeKeeper.getDeltaTimeForGameStateAndTimewarp() / 2;\r\n\r\n            if (this.isOnGround()) {\r\n                speedChange *= PERFORMANCE.DECELERATION_FACTOR_DUE_TO_GROUND_BRAKING;\r\n            }\r\n        } else if (this.speed < this.target.speed) {\r\n            speedChange = this.model.rate.accelerate * TimeKeeper.getDeltaTimeForGameStateAndTimewarp() / 2;\r\n            speedChange *= extrapolate_range_clamp(0, this.speed, this.model.speed.min, 2, 1);\r\n        }\r\n\r\n        this.speed += speedChange;\r\n\r\n        if (abs(speedChange) > abs(differenceBetweenPresentAndTargetSpeeds)) {\r\n            this.speed = this.target.speed;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This calculates the ground speed\r\n     *\r\n     * @for AircraftModel\r\n     * @method updateVectorPhysics\r\n     * @param scaleSpeed\r\n     */\r\n    updateGroundSpeedPhysics() {\r\n        // TODO: Much of this should be abstracted to helper functions\r\n\r\n        // Calculate true air speed vector\r\n        const indicatedAirspeed = this.speed;\r\n        const trueAirspeedIncreaseFactor = this.altitude * ENVIRONMENT.DENSITY_ALT_INCREASE_FACTOR_PER_FT;\r\n        const trueAirspeed = indicatedAirspeed * (1 + trueAirspeedIncreaseFactor);\r\n        const flightThroughAirVector = vscale(vectorize2dFromRadians(this.heading), trueAirspeed);\r\n\r\n        // Calculate ground speed and direction\r\n        const windVector = AirportController.airport_get().getWindVectorAtAltitude(this.altitude);\r\n        const flightPathVector = vadd(flightThroughAirVector, windVector);\r\n        const groundSpeed = vlen(flightPathVector);\r\n        let groundTrack = vradial(flightPathVector);\r\n\r\n        // Prevent aircraft on the ground from being blown off runway centerline when too slow to crab sufficiently\r\n        if (this.isOnGround()) {\r\n            // TODO: Aircraft crabbing into the wind will show an increase in groundspeed after they reduce to slower than\r\n            // the wind speed. This should be corrected so their groundspeed gradually reduces from touchdown spd to 0.\r\n            groundTrack = this.targetGroundTrack;\r\n        }\r\n\r\n        // Calculate new position\r\n        const hoursElapsed = TimeKeeper.getDeltaTimeForGameStateAndTimewarp() * TIME.ONE_SECOND_IN_HOURS;\r\n        const distanceTraveled_nm = groundSpeed * hoursElapsed;\r\n\r\n        this.positionModel.setCoordinatesByBearingAndDistance(groundTrack, distanceTraveled_nm);\r\n\r\n        this.groundTrack = groundTrack;\r\n        this.groundSpeed = groundSpeed;\r\n        this.trueAirspeed = trueAirspeed;\r\n    }\r\n\r\n    // TODO: this method needs a lot of love. its much too long with waaay too many nested if/else ifs.\r\n    /**\r\n     * @for AircraftModel\r\n     * @method updateWarning\r\n     */\r\n    updateWarning() {\r\n        let area;\r\n        let warning;\r\n        let status;\r\n        let new_inside;\r\n\r\n        // Ignore other aircraft while taxiing\r\n        if (this.isTaxiing()) {\r\n            return;\r\n        }\r\n\r\n        warning = false;\r\n\r\n        // restricted areas\r\n        // players are penalized for each area entry\r\n        if (this.positionModel) {\r\n            for (let i = 0; i < this.restricted.list.length; i++) {\r\n                // TODO: this should be abstracted to a helper function\r\n                //   Polygon matching procedure:\r\n                //\r\n                //   1. Filter polygons by aircraft altitude\r\n                //   2. For other polygons, measure distance to it (distance_to_poly), then\r\n                //      substract travelled distance every turn\r\n                //      If distance is about less than 10 seconds of flight,\r\n                //      assign distance equal to 10 seconds of flight,\r\n                //      otherwise planes flying along the border of entering at shallow angle\r\n                //      will cause too many checks.\r\n                //   3. if distance has reached 0, check if the aircraft is within the poly.\r\n                //      If not, redo #2.\r\n                area = this.restricted.list[i];\r\n\r\n                // filter only those relevant by height\r\n                if (area.data.height < this.altitude) {\r\n                    area.range = null;\r\n                    area.inside = false;\r\n                    continue;\r\n                }\r\n\r\n                // count distance untill the next check\r\n                if (area.range) {\r\n                    area.range -= this.groundSpeed;\r\n                }\r\n\r\n                // recalculate for new areas or those that should be checked\r\n                if (!area.range || area.range <= 0) {\r\n                    new_inside = point_in_poly(this.positionModel.relativePosition, area.data.poly);\r\n\r\n                    // ac has just entered the area: .inside is still false, but st is true\r\n                    if (new_inside && !area.inside) {\r\n                        GameController.events_recordNew(GAME_EVENTS.AIRSPACE_BUST);\r\n                        area.range = this.speed * 1.85 / 3.6 * 50 / 1000; // check in 50 seconds\r\n                        // speed is kts, range is km.\r\n                        // if a plane got into restricted area, don't check it too often\r\n                    } else {\r\n                        // don't calculate more often than every 10 seconds\r\n                        area.range = Math.max(\r\n                            this.speed * 1.85 / 36 / 1000 * 10,\r\n                            distance_to_poly(this.positionModel.relativePosition, area.data.poly)\r\n                        );\r\n                    }\r\n\r\n                    area.inside = new_inside;\r\n                }\r\n            }\r\n\r\n            // this was a $.each() and may need to verified that its working with _forEach()\r\n            // raise warning if in at least one restricted area\r\n            _forEach(this.restricted.list, (k, v) => {\r\n                warning = warning || v.inside;\r\n            });\r\n        }\r\n\r\n        if (this.terrain_ranges && !this.isOnGround()) {\r\n            const { terrain } = AirportController.current;\r\n            const prev_level = this.terrain_ranges[this.terrain_level];\r\n            const ele = Math.ceil(this.altitude, 1000);\r\n            const curr_ranges = this.terrain_ranges[ele];\r\n\r\n            if (ele !== this.terrain_level) {\r\n                for (const lev in prev_level) {\r\n                    prev_level[lev] = Infinity;\r\n                }\r\n\r\n                this.terrain_level = ele;\r\n            }\r\n\r\n            for (const id in curr_ranges) {\r\n                curr_ranges[id] -= this.groundSpeed;\r\n\r\n                if (curr_ranges[id] < 0 || curr_ranges[id] === Infinity) {\r\n                    area = terrain[ele][id];\r\n                    status = point_to_mpoly(this.positionModel.relativePosition, area, id);\r\n\r\n                    if (status.inside) {\r\n                        this.altitude = 0;\r\n\r\n                        if (!this.hit) {\r\n                            this.hit = true;\r\n\r\n                            const isWarning = true;\r\n                            UiController.ui_log(`${this.callsign} collided with terrain in controlled flight`, isWarning);\r\n                            speech_say(\r\n                                [\r\n                                    { type: 'callsign', content: this },\r\n                                    { type: 'text', content: ', we\\'re going down!' }\r\n                                ],\r\n                                this.pilotVoice\r\n                            );\r\n\r\n                            GameController.events_recordNew(GAME_EVENTS.COLLISION);\r\n                        }\r\n                    } else {\r\n                        curr_ranges[id] = Math.max(0.2, status.distance);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        this.warning = warning;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftModel\r\n     * @method update\r\n     */\r\n    update() {\r\n        this.updateFlightPhase();\r\n        this.updateTarget();\r\n        this.updatePhysics();\r\n        this._updateAircraftControllability();\r\n    }\r\n\r\n    /**\r\n     * @for AircraftModel\r\n     * @method addConflict\r\n     * @param {AircraftConflict} conflict\r\n     * @param {AircraftModel} conflictingAircraft\r\n     */\r\n    addConflict(conflict, conflictingAircraft) {\r\n        this.conflicts[conflictingAircraft.callsign] = conflict;\r\n    }\r\n\r\n    /**\r\n     * Used to determine if a `conflictingAircraft.callsign` already exists within\r\n     * the list of known conflicts for an aircaft\r\n     *\r\n     * @for AircraftModel\r\n     * @method hasConflictWithAircraftModel\r\n     * @param {AircraftModel} conflictingAircraft\r\n     * @returns {boolean}\r\n     */\r\n    hasConflictWithAircraftModel(conflictingAircraftModel) {\r\n        return conflictingAircraftModel.callsign in this.conflicts;\r\n    }\r\n\r\n    /**\r\n     * Return the presence/absence of (any existing) conflict or violation in terms\r\n     * of separation with another aircraft\r\n     *\r\n     * @for AircraftModel\r\n     * @method getAlerts\r\n     * @return {array} [hasConflict, hasViolation]\r\n     */\r\n    getAlerts() {\r\n        const alert = [false, false];\r\n\r\n        for (const i in this.conflicts) {\r\n            const hasConflict = this.conflicts[i].hasConflict();\r\n            const hasViolation = this.conflicts[i].hasViolation();\r\n\r\n            alert[0] = (alert[0] || hasConflict);\r\n            alert[1] = (alert[1] || hasViolation);\r\n\r\n            if (alert[0] && alert[1]) {\r\n                return alert;\r\n            }\r\n        }\r\n\r\n        return alert;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftModel\r\n     * @method removeConflict\r\n     * @param {AircraftModel} conflictingAircraft\r\n     */\r\n    removeConflict(conflictingAircraft) {\r\n        delete this.conflicts[conflictingAircraft.callsign];\r\n    }\r\n\r\n    // TODO: needs better name\r\n    /**\r\n     * @for AircraftModel\r\n     * @method _contactAircraftAfterControllabilityChange\r\n     * @private\r\n     */\r\n    _contactAircraftAfterControllabilityChange() {\r\n        // Crossing into the center\r\n        if (this.isControllable) {\r\n            this.callUp();\r\n\r\n            return;\r\n        }\r\n\r\n        this.setIsRemovable();\r\n        EventBus.trigger(AIRCRAFT_EVENT.AIRSPACE_EXIT, this);\r\n    }\r\n\r\n    /**\r\n     * @for AircraftModel\r\n     * @method _updateAircraftControllability\r\n     * @private\r\n     */\r\n    _updateAircraftControllability() {\r\n        if (this.projected) {\r\n            return;\r\n        }\r\n\r\n        const isInsideAirspace = this.isInsideAirspace(AirportController.airport_get());\r\n\r\n        if (this.isControllable === isInsideAirspace) {\r\n            return;\r\n        }\r\n\r\n        this.isControllable = isInsideAirspace;\r\n        this._contactAircraftAfterControllabilityChange();\r\n    }\r\n\r\n    /**\r\n     * Returns the distance to another aircraft in nm\r\n     *\r\n     * @for AircraftModel\r\n     * @method distanceToAircraft\r\n     * @param aircraftModel {AircraftModel}\r\n     * @return {number} distance in nm\r\n     */\r\n    distanceToAircraft(anotherAircraftModel) {\r\n        return this.positionModel.distanceToPosition(anotherAircraftModel.positionModel);\r\n    }\r\n\r\n    /**\r\n     * Ensure that the provided altitude is valid\r\n     *\r\n     * @for AircraftModel\r\n     * @method validateNextAltitude\r\n     * @param nextAltitude {number} altitude the aircraft should maintain\r\n     * @return {array}           [success of operation, readback]\r\n     */\r\n    validateNextAltitude(nextAltitude, airportModel) {\r\n        if (nextAltitude === INVALID_NUMBER) {\r\n            return [false, 'unable, no altitude assigned'];\r\n        }\r\n\r\n        if (typeof nextAltitude !== 'number') {\r\n            return [false, `unable to maintain an altitude of ${nextAltitude}`];\r\n        }\r\n\r\n        if (!this.model.isAbleToMaintainAltitude(nextAltitude)) {\r\n            const readback = {};\r\n            readback.log = `unable to maintain ${nextAltitude} due to performance`;\r\n            readback.say = `unable to maintain ${radio_altitude(nextAltitude)} due to performance`;\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        if (nextAltitude < airportModel.minAssignableAltitude) {\r\n            const minimumAltitude = airportModel.minAssignableAltitude;\r\n            const readback = {};\r\n            readback.log = `unable to maintain ${nextAltitude}, the MSA is ${minimumAltitude}`;\r\n            readback.say = `unable to maintain ${radio_altitude(nextAltitude)}, the MSA is ${radio_altitude(minimumAltitude)}`;\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        return [true];\r\n    }\r\n\r\n    /**\r\n     * Ensure that the provided speed is valid\r\n     *\r\n     * @for AircraftModel\r\n     * @method validateNextSpeed\r\n     * @param nextSpeed {number} speed the aircraft should maintain\r\n     * @return {array}          [success of operation, readback]\r\n     */\r\n    validateNextSpeed(nextSpeed) {\r\n        if (nextSpeed === INVALID_NUMBER) {\r\n            return [false, 'unable, no speed assigned'];\r\n        }\r\n\r\n        if (typeof nextSpeed !== 'number') {\r\n            return [false, `unable to maintain a speed of ${nextSpeed}`];\r\n        }\r\n\r\n        if (!this.model.isAbleToMaintainSpeed(nextSpeed)) {\r\n            const readback = {\r\n                log: `unable to maintain ${nextSpeed} due to performance`,\r\n                say: `unable to maintain ${radio_spellOut(nextSpeed)} knots due to performance`\r\n            };\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        return [true];\r\n    }\r\n}\r\n","import _find from 'lodash/find';\r\nimport _map from 'lodash/map';\r\nimport BaseCollection from '../base/BaseCollection';\r\nimport AircraftTypeDefinitionModel from './AircraftTypeDefinitionModel';\r\nimport { airlineNameAndFleetHelper } from '../airline/airlineHelpers';\r\nimport { isEmptyOrNotArray } from '../utilities/validatorUtilities';\r\n\r\n/**\r\n * Collection of `AircraftModel` objects\r\n *\r\n * Responsible for creating new `AircraftModel` objects when a spawnInterval\r\n * fires its `createAircraftWithSpawnPatternModel` callback.\r\n *\r\n * This collection also keeps a list of `AircraftTypeDefinitionModel` objects, which define each\r\n * aircraft type.\r\n *\r\n * @class AircraftTypeDefinitionCollection\r\n * @extends BaseCollection\r\n */\r\n/* istanbul ignore next */\r\nexport default class AircraftTypeDefinitionCollection extends BaseCollection {\r\n    /**\r\n     * @constructor\r\n     * @for AircraftTypeDefinitionCollection\r\n     * @param aircraftTypeDefinitionList {array<object>}\r\n     */\r\n    constructor(aircraftTypeDefinitionList) {\r\n        super();\r\n\r\n        if (isEmptyOrNotArray(aircraftTypeDefinitionList)) {\r\n            throw new TypeError('Invalid aircraftTypeDefinitionList passed to AircraftTypeDefinitionCollection constructor. ' +\r\n                `Expected a non-empty array, but received ${typeof aircraftTypeDefinitionList}`);\r\n        }\r\n\r\n        /**\r\n         * A collection of `AircraftTypeDefinitionModel` objects\r\n         *\r\n         * Not using the inherited `_items` property here for readability\r\n         * and the fact that we need this property to be public.\r\n         *\r\n         * @property definitionList\r\n         * @type {array}\r\n         * @default []\r\n         */\r\n        this.definitionList = [];\r\n\r\n        this.init(aircraftTypeDefinitionList);\r\n    }\r\n\r\n    /**\r\n     * Lifecycle method. Should be run only once on instantiation.\r\n     *\r\n     * Initializes instance properties.\r\n     *\r\n     * @for AircraftTypeDefinitionCollection\r\n     * @method init\r\n     * @param aircraftTypeDefinitionList {array<object>}\r\n     */\r\n    init(aircraftTypeDefinitionList) {\r\n        this.definitionList = this._buildAircraftTypeDefinitionModelList(aircraftTypeDefinitionList);\r\n    }\r\n\r\n    /**\r\n     * @for AircraftTypeDefinitionCollection\r\n     * @method findAircraftTypeDefinitionModelByIcao\r\n     * @param icao {string}\r\n     * @return {AircraftTypeDefinitionModel}\r\n     */\r\n    findAircraftTypeDefinitionModelByIcao(icao) {\r\n        return _find(this.definitionList, { icao: icao.toUpperCase() });\r\n    }\r\n\r\n    /**\r\n     * Given an `airlineId`, find a random aircraft type from the airline.\r\n     *\r\n     * @for AircraftTypeDefinitionCollection\r\n     * @method getAircraftDefinitionForAirlineId\r\n     * @param airlineId {string}\r\n     * @param airlineModel {AirlineModel}\r\n     * @return aircraftDefinition {AircraftTypeDefinitionModel}\r\n     */\r\n    getAircraftDefinitionForAirlineId(airlineId, airlineModel) {\r\n        const { fleet } = airlineNameAndFleetHelper([airlineId]);\r\n        const aircraftType = airlineModel.getRandomAircraftType(fleet).toUpperCase();\r\n        const aircraftDefinition = _find(this.definitionList, { icao: aircraftType });\r\n\r\n        if (typeof aircraftDefinition === 'undefined') {\r\n            console.error(`Undefined aircraftDefinition found for ${aircraftType}`);\r\n\r\n            // recurse through this method if an error is encountered\r\n            return this.getAircraftDefinitionForAirlineId(airlineId, airlineModel);\r\n        }\r\n\r\n        return aircraftDefinition;\r\n    }\r\n\r\n    /**\r\n     * Loop through aircraft defined in the `definitionList` and create an\r\n     * `AircraftTypeDefinitionModel` for each.\r\n     *\r\n     * @for AircraftTypeDefinitionCollection\r\n     * @method _buildAircraftTypeDefinitionModelList\r\n     * @param aircraftTypeDefinitionList {array}\r\n     * @return definitionList {array<AircraftTypeDefinitionModel>}\r\n     * @private\r\n     */\r\n    _buildAircraftTypeDefinitionModelList(aircraftTypeDefinitionList) {\r\n        const definitionList = _map(aircraftTypeDefinitionList, (aircraftDefinition) => {\r\n            // this is not using a direct return simply for readability\r\n            return new AircraftTypeDefinitionModel(aircraftDefinition);\r\n        });\r\n\r\n        return definitionList;\r\n    }\r\n}\r\n","import BaseModel from '../base/BaseModel';\r\nimport { INVALID_NUMBER } from '../constants/globalConstants';\r\nimport { isEmptyOrNotObject } from '../utilities/validatorUtilities';\r\nimport { WAKE_TURBULENCE_CATEGORY } from '../constants/aircraftConstants';\r\nimport { AIRPORT_CONSTANTS } from '../constants/airportConstants';\r\n\r\n/**\r\n * Provides a definition for a specific type of aircraft.\r\n *\r\n * Encapsulates an aircraft json file into a JS class that can be used to create an `AircraftModel`.\r\n *\r\n * It is important to note that this is not a `type` in the programming sense, this is in reference to\r\n * a specific aircraft type.\r\n *\r\n * @class AircraftTypeDefinitionModel\r\n * @extends BaseModel\r\n */\r\nexport default class AircraftTypeDefinitionModel extends BaseModel {\r\n    /**\r\n     * @constructor\r\n     * @for AircraftTypeDefinitionModel\r\n     * @param aircraftTypeDefinition {object}\r\n     */\r\n    constructor(aircraftTypeDefinition) {\r\n        super();\r\n\r\n        if (isEmptyOrNotObject(aircraftTypeDefinition)) {\r\n            throw new TypeError('Invalid aircraftTypeDefinition passed to AircraftTypeDefinitionModel constructor. ' +\r\n                `Expected a non-empty object, but received ${typeof aircraftTypeDefinition}`);\r\n        }\r\n\r\n        /**\r\n         * Name of the aircratType\r\n         *\r\n         * @property name\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.name = '';\r\n\r\n        /**\r\n         * ICAO identifier of the aircraftType\r\n         *\r\n         * @property icao\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.icao = '';\r\n\r\n        /**\r\n         * Icao identifier that includes a weightClass\r\n         * designation when `Heavy` or `Super`\r\n         *\r\n         * @property icaoWithWeightClass\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.icaoWithWeightClass = '';\r\n\r\n        /**\r\n         * Describes the number and type of engines\r\n         *\r\n         * @property engines\r\n         * @type {object}\r\n         * @default null\r\n         */\r\n        this.engines = null;\r\n\r\n        /**\r\n         * @property weightClass\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.weightClass = '';\r\n\r\n        /**\r\n         * @property category\r\n         * @type {object}\r\n         * @default null\r\n         */\r\n        this.category = null;\r\n\r\n        /**\r\n         * Maximum safe altitude\r\n         *\r\n         * @property ceiling\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this.ceiling = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Describes rate of:\r\n         * - climb\r\n         * - descent\r\n         * - acceleration\r\n         * - deceleratation\r\n         *\r\n         * @property rate\r\n         * @type {object}\r\n         * @default null\r\n         */\r\n        this.rate = null;\r\n\r\n        /**\r\n         * Takeoff distances needed for landing and Takeoff\r\n         *\r\n         * @property runway\r\n         * @type {object}\r\n         * @default null\r\n         */\r\n        this.runway = null;\r\n\r\n        /**\r\n         * Operating speeds\r\n         * - minimum\r\n         * - landing\r\n         * - cruise\r\n         * - maximum\r\n         *\r\n         * @property speed\r\n         * @type {object}\r\n         * @default null\r\n         */\r\n        this.speed = null;\r\n\r\n        /**\r\n         * Boolean values for:\r\n         * - ils\r\n         * - fix\r\n         *\r\n         * @property capability\r\n         * @type {object}\r\n         * @default\r\n         */\r\n        this.capability = null;\r\n\r\n        this.init(aircraftTypeDefinition);\r\n    }\r\n\r\n    /**\r\n     * Lifecycle method, should be run only once on instantiation.\r\n     *\r\n     * Initialize instance properties\r\n     *\r\n     * @for AircraftDefinitionModel\r\n     * @method init\r\n     * @param aircraftTypeDefinition {object}\r\n     */\r\n    init(aircraftTypeDefinition) {\r\n        this.name = aircraftTypeDefinition.name;\r\n        this.icao = aircraftTypeDefinition.icao;\r\n        this.engines = aircraftTypeDefinition.engines;\r\n        this.weightClass = aircraftTypeDefinition.weightClass;\r\n        this.category = aircraftTypeDefinition.category;\r\n        this.ceiling = aircraftTypeDefinition.ceiling;\r\n        this.rate = aircraftTypeDefinition.rate;\r\n        this.runway = aircraftTypeDefinition.runway;\r\n        this.speed = aircraftTypeDefinition.speed;\r\n        this.capability = aircraftTypeDefinition.capability;\r\n\r\n        this.icaoWithWeightClass = this._buildTypeForStripView();\r\n    }\r\n\r\n    /**\r\n     * Destroy the current instance\r\n     *\r\n     * @for AircraftDefinitionModel\r\n     * @method destroy\r\n     */\r\n    destroy() {\r\n        this.name = '';\r\n        this.icao = '';\r\n        this.icaoWithWeightClass = '';\r\n        this.engines = null;\r\n        this.weightClass = '';\r\n        this.category = null;\r\n        this.ceiling = INVALID_NUMBER;\r\n        this.rate = null;\r\n        this.runway = null;\r\n        this.speed = null;\r\n        this.capability = null;\r\n    }\r\n\r\n    /**\r\n     * Build the string used for `#icaoWithWeightClass`\r\n     *\r\n     * @for AircraftTypeDefinitionModel\r\n     * @method _buildTypeForStripView\r\n     * @return {string}\r\n     * @private\r\n     */\r\n    _buildTypeForStripView() {\r\n        let aircraftIcao = `${this.icao}/L`;\r\n\r\n        const wtc = Object.values(WAKE_TURBULENCE_CATEGORY).find((WTC) => WTC.LETTER === this.weightClass) ?? { APPEND: false };\r\n\r\n        if (wtc.APPEND) {\r\n            aircraftIcao = `${wtc.LETTER}/${this.icao}/L`;\r\n        }\r\n\r\n        return aircraftIcao;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftTypeDefinitionModel\r\n     * @method isAbleToMaintainAltitude\r\n     * @param altitude {Number}\r\n     * @return {Boolean}\r\n     */\r\n    isAbleToMaintainAltitude(altitude) {\r\n        return altitude <= this.ceiling;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftTypeDefinitionModel\r\n     * @method isAbleToMaintainSpeed\r\n     * @param speed {Number}\r\n     * @return {Boolean}\r\n     */\r\n    isAbleToMaintainSpeed(speed) {\r\n        return speed >= this.speed.min && speed <= this.speed.max;\r\n    }\r\n\r\n    /**\r\n     * @for AircraftTypeDefinitionModel\r\n     * @method isHeavyOrSuper\r\n     * @returns {Boolean}\r\n     */\r\n    isHeavyOrSuper() {\r\n        return this.weightClass === WAKE_TURBULENCE_CATEGORY.HEAVY.LETTER ||\r\n            this.weightClass === WAKE_TURBULENCE_CATEGORY.SUPER.LETTER;\r\n    }\r\n\r\n    /**\r\n     * Returns the minimal distance that is required to a previous aircraft before another aircraft is allowed to use the runway.\r\n     *\r\n     * @for AircraftTypeDefinitionModel\r\n     * @method calculateSameRunwaySeparationDistanceInFeet\r\n     * @param previousTypeModel {AircraftTypeDefinitionModel} the aircraft type that used the runway before us.\r\n     * @returns {number} distance in feet\r\n     */\r\n    calculateSameRunwaySeparationDistanceInFeet(previousTypeModel) {\r\n        if (previousTypeModel.isSameRunwaySeparationCatThree()) {\r\n            return AIRPORT_CONSTANTS.SRS_REDUCED_MINIMA_FEET.CAT3;\r\n        }\r\n\r\n        switch (this.category.srs) {\r\n            case 1:\r\n                return AIRPORT_CONSTANTS.SRS_REDUCED_MINIMA_FEET.CAT1;\r\n            case 2:\r\n                return AIRPORT_CONSTANTS.SRS_REDUCED_MINIMA_FEET.CAT2;\r\n            default:\r\n                return AIRPORT_CONSTANTS.SRS_REDUCED_MINIMA_FEET.CAT3;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns true if srs cat 3 is required\r\n     *\r\n     * @for AircraftTypeDefinitionModel\r\n     * @method isSameRunwaySeparationCatThree\r\n     * @returns true if srs cat 3 is required\r\n     */\r\n    isSameRunwaySeparationCatThree() {\r\n        return typeof this.category.srs === 'undefined' || this.category.srs === 3;\r\n    }\r\n\r\n    /**\r\n     * Get the weight classifier for an aircraft's callsign, as spoken over the radio\r\n     *\r\n     * @for AircraftTypeDefinitionModel\r\n     * @method getRadioWeightClass\r\n     * @return {string}\r\n     */\r\n    getRadioWeightClass() {\r\n        return Object.values(WAKE_TURBULENCE_CATEGORY).find((WTC) => WTC.LETTER === this.weightClass)?.SPOKEN ?? '';\r\n    }\r\n}\r\n","import _find from 'lodash/find';\r\nimport _findLast from 'lodash/findLast';\r\nimport _includes from 'lodash/includes';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport _isNil from 'lodash/isNil';\r\nimport RouteModel from './RouteModel';\r\nimport AirportController from '../../airport/AirportController';\r\nimport NavigationLibrary from '../../navigationLibrary/NavigationLibrary';\r\nimport RunwayModel from '../../airport/runway/RunwayModel';\r\nimport { isEmptyOrNotObject } from '../../utilities/validatorUtilities';\r\nimport {\r\n    FLIGHT_CATEGORY,\r\n    FLIGHT_PHASE\r\n} from '../../constants/aircraftConstants';\r\nimport { INVALID_NUMBER } from '../../constants/globalConstants';\r\nimport { PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER } from '../../constants/routeConstants';\r\n\r\n/**\r\n * Provides methods to create, update or replace a flightPlan and the legs\r\n * and waypoints that make up that flightPlan.\r\n *\r\n * This class is concerned only about maintaining the flightPlan, which is\r\n * really just the collection of `LegModels` and their respective\r\n * `WaypointModel` objects.\r\n *\r\n * This class should always be instantiated from an `AircraftModel` and\r\n * always instantiated from some form of `spawnPatternModel` using some kind of\r\n * routeString.\r\n *\r\n * This class is always instantiated with a routeString and any changes to the\r\n * flightPlan must happen with a routeString. For every fix/waypoint called out\r\n * in a routeString, there must exist a fix in the airport.json file.\r\n *\r\n *\r\n * RouteString examples and the terms used to describe them:\r\n * - directRouteString: `COWBY`\r\n *   A directRouteString will equate to a `LegModel` with a single `WaypointModel`.\r\n *\r\n * - holdRouteString: `@COWBY`\r\n *   A holdRouteString will equate to a `LegModel` with a single `WaypointModel` that has holding specifications defined\r\n *\r\n * - procedureRouteString: `KLAS.COWBY6.DRK`\r\n *   A procedureRouteString will equate to a single `LegModel` and possibly many waypoints for the individual waypoints\r\n *   that make up a procedureRoute (sid/star).\r\n *\r\n *\r\n * - simpleRouteString: `COWBY..DRK`\r\n * - complexRouteString: `COWBY..@BIKKR..DAG.KEPEC3.KLAS`\r\n *\r\n * When working with a complexRouteString, you will also see terms like `directRouteSegment`, `procedureRouteSegment`\r\n * or `holdRouteSegment`. When the word segment is involved, that means that particular segment is part of a\r\n * larger, likely complex, routeString.\r\n *\r\n *\r\n * @class Fms\r\n */\r\nexport default class Fms {\r\n    /**\r\n     * @constructor\r\n     * @param aircraftInitProps {object}\r\n     */\r\n    constructor(aircraftInitProps) {\r\n        if (isEmptyOrNotObject(aircraftInitProps)) {\r\n            throw new TypeError('Invalid aircraftInitProps passed to Fms constructor. ' +\r\n                `Expected a non-empty object, but received ${typeof aircraftInitProps}`);\r\n        }\r\n\r\n        /**\r\n         * Airport the aircraft arrives at\r\n         *\r\n         * @for Fms\r\n         * @property arrivalAirportModel\r\n         * @type {AirportModel}\r\n         */\r\n        this.arrivalAirportModel = null;\r\n\r\n        /**\r\n         * Runway used at arrival airport\r\n         *\r\n         * @for Fms\r\n         * @property arrivalRunwayModel\r\n         * @type {RunwayModel}\r\n         */\r\n        this.arrivalRunwayModel = null;\r\n\r\n        /**\r\n         * Current flight phase of an aircraft\r\n         *\r\n         * @property currentPhase\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.currentPhase = '';\r\n\r\n        /**\r\n         * Airport the aircraft departs from\r\n         *\r\n         * @for Fms\r\n         * @property departureAirportModel\r\n         * @type {AirportModel}\r\n         */\r\n        this.departureAirportModel = null;\r\n\r\n        /**\r\n         * Runway used at departure airport\r\n         *\r\n         * @for Fms\r\n         * @property departureRunwayModel\r\n         * @type {RunwayModel}\r\n         */\r\n        this.departureRunwayModel = null;\r\n\r\n        // TODO: This value should NOT be changed 'as ATC amends it'\r\n        /**\r\n         * Altitude expected for this flight. Will change as ATC amends it.\r\n         *\r\n         * @property flightPlanAltitude\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this.flightPlanAltitude = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Flight plan route for this aircraft, containing lateral and vertical guidance\r\n         *\r\n         * @for Fms\r\n         * @property _routeModel\r\n         * @type {RouteModel}\r\n         * @private\r\n         */\r\n        this._routeModel = null;\r\n\r\n        this.init(aircraftInitProps);\r\n    }\r\n\r\n    /**\r\n     * The active Leg in the `legCollection`\r\n     *\r\n     * Assumed to ALWAYS be the first `LegModel` in the `legCollection`\r\n     *\r\n     * @property currentLeg\r\n     * @type {LegModel}\r\n     */\r\n    get currentLeg() {\r\n        return this._routeModel.currentLeg;\r\n    }\r\n\r\n    /**\r\n     * The active waypoint an aircraft is flying towards\r\n     *\r\n     * Assumed to ALWAYS be the first `WaypointModel` in the `currentLeg`\r\n     *\r\n     * @property currentWaypoint\r\n     * @type {WaypointModel}\r\n     */\r\n    get currentWaypoint() {\r\n        return this._routeModel.currentWaypoint;\r\n    }\r\n\r\n    /**\r\n     * Return the next waypoint which has an altitude restriction\r\n     *\r\n     * @for Fms\r\n     * @property nextAltitudeRestrictedWaypoint\r\n     * @type {WaypointModel}\r\n     */\r\n    get nextAltitudeRestrictedWaypoint() {\r\n        const waypoints = this.getAltitudeRestrictedWaypoints();\r\n\r\n        return waypoints[0];\r\n    }\r\n\r\n    /**\r\n     * Return the next waypoint which has an \"AT\" altitude restriction\r\n     *\r\n     * @for Fms\r\n     * @property nextHardAltitudeRestrictedWaypoint\r\n     * @type {WaypointModel}\r\n     */\r\n    get nextHardAltitudeRestrictedWaypoint() {\r\n        const waypoints = this.getAltitudeRestrictedWaypoints()\r\n            .filter((waypoint) => waypoint.altitudeMaximum === waypoint.altitudeMinimum);\r\n\r\n        return waypoints[0];\r\n    }\r\n\r\n    /**\r\n     * Return the next waypoint which has an \"AT\" speed restriction\r\n     *\r\n     * @for Fms\r\n     * @property nextHardSpeedRestrictedWaypoint\r\n     * @type {WaypointModel}\r\n     */\r\n    get nextHardSpeedRestrictedWaypoint() {\r\n        const waypoints = this.getSpeedRestrictedWaypoints()\r\n            .filter((waypoint) => waypoint.speedMaximum === waypoint.speedMinimum);\r\n\r\n        return waypoints[0];\r\n    }\r\n\r\n    /**\r\n     * Return the next waypoint which has an altitude or speed restriction\r\n     *\r\n     * @for Fms\r\n     * @property nextRestrictedWaypoint\r\n     * @type {WaypointModel}\r\n     */\r\n    get nextRestrictedWaypoint() {\r\n        const waypoints = this.getRestrictedWaypoints();\r\n\r\n        return waypoints[0];\r\n    }\r\n\r\n    /**\r\n     * Return the next waypoint which has a speed restriction\r\n     *\r\n     * @for Fms\r\n     * @property nextSpeedRestrictedWaypoint\r\n     * @type {WaypointModel}\r\n     */\r\n    get nextSpeedRestrictedWaypoint() {\r\n        const waypoints = this.getSpeedRestrictedWaypoints();\r\n\r\n        return waypoints[0];\r\n    }\r\n\r\n    /**\r\n     * Get the next waypoint in the flight plan, if it exists\r\n     *\r\n     * @for Fms\r\n     * @property nextWaypoint\r\n     * @type {WaypointModel}\r\n     */\r\n    get nextWaypoint() {\r\n        return this._routeModel.nextWaypoint;\r\n    }\r\n\r\n    /**\r\n     * Return an array of all waypoints in all legs of the route\r\n     *\r\n     * @for Fms\r\n     * @property waypoints\r\n     * @type {array<WaypointModel>}\r\n     */\r\n    get waypoints() {\r\n        return this._routeModel.waypoints;\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * Initialize instance properties\r\n     *\r\n     * @for Fms\r\n     * @method init\r\n     * @param aircraftInitProps {object}\r\n     * @chainable\r\n     */\r\n    init(aircraftInitProps) {\r\n        const {\r\n            altitude,\r\n            category,\r\n            destination,\r\n            model,\r\n            nextFix,\r\n            origin,\r\n            routeString\r\n        } = aircraftInitProps;\r\n\r\n        this._routeModel = new RouteModel(routeString);\r\n\r\n        this._verifyRouteContainsMultipleWaypoints();\r\n        this._initializeFlightPhaseForCategory(category);\r\n        this._initializeAirportsAndRunways(origin, destination);\r\n        this._initializeFlightPlanAltitude(altitude, category, model);\r\n        this._initializePositionInRouteToBeginAtFixName(nextFix, category);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Reset instance properties\r\n     *\r\n     * @for LegModel\r\n     * @method reset\r\n     * @chainable\r\n     */\r\n    reset() {\r\n        this.arrivalAirportModel = null;\r\n        this.arrivalRunwayModel = null;\r\n        this.currentPhase = '';\r\n        this.departureAirportModel = null;\r\n        this.departureRunwayModel = null;\r\n        this.flightPlanAltitude = INVALID_NUMBER;\r\n        this._routeModel = null;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Initialize `#arrivalAirportModel`+`#arrivalRunwayModel` and/or\r\n     * `#departureAirportModel`+`#departureRunwayModel` as applicable\r\n     *\r\n     * @for Fms\r\n     * @method _initializeAirportsAndRunways\r\n     * @param origin {string} ICAO identifier specified by spawn pattern\r\n     * @param destination {string} ICAO identifier specified by spawn pattern\r\n     * @private\r\n     */\r\n    _initializeAirportsAndRunways(origin, destination) {\r\n        const originLowerCase = origin.toLowerCase();\r\n        const destinationLowerCase = destination.toLowerCase();\r\n\r\n        if (originLowerCase === AirportController.current.icao) {\r\n            this._initializeDepartureAirport(origin);\r\n            this._initializeDepartureRunway();\r\n        }\r\n\r\n        if (destinationLowerCase === AirportController.current.icao) {\r\n            this._initializeArrivalAirport(destination);\r\n            this._initializeArrivalRunway();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Initialize `#arrivalAirportModel`\r\n     *\r\n     * @for Fms\r\n     * @method _initializeArrivalAirport\r\n     * @param destinationIcao {string} ICAO identifier specified by spawn pattern\r\n     * @private\r\n     */\r\n    _initializeArrivalAirport(destinationIcao) {\r\n        this.arrivalAirportModel = AirportController.airport_get(destinationIcao);\r\n    }\r\n\r\n    /**\r\n     * Initialize `#arrivalRunwayModel`\r\n     *\r\n     * @for Fms\r\n     * @method _initializeArrivalRunway\r\n     * @private\r\n     */\r\n    _initializeArrivalRunway() {\r\n        if (!this.arrivalAirportModel) {\r\n            return;\r\n        }\r\n\r\n        const arrivalRunwayName = this._routeModel.getArrivalRunwayName();\r\n\r\n        if (!arrivalRunwayName) {\r\n            this.setArrivalRunway(this.arrivalAirportModel.arrivalRunwayModel);\r\n\r\n            return;\r\n        }\r\n\r\n        const arrivalRunwayModel = this.arrivalAirportModel.getRunway(arrivalRunwayName);\r\n\r\n        this.setArrivalRunway(arrivalRunwayModel);\r\n    }\r\n\r\n    /**\r\n     * Initialize `#departureAirportModel`\r\n     *\r\n     * @for Fms\r\n     * @method _initializeDepartureAirport\r\n     * @param originIcao {string} ICAO identifier specified by spawn pattern\r\n     * @private\r\n     */\r\n    _initializeDepartureAirport(originIcao) {\r\n        this.departureAirportModel = AirportController.airport_get(originIcao);\r\n    }\r\n\r\n    /**\r\n     * Initialize `#departureRunwayModel`\r\n     *\r\n     * @for Fms\r\n     * @method _initializeDepartureRunway\r\n     * @private\r\n     */\r\n    _initializeDepartureRunway() {\r\n        if (!this.departureAirportModel) {\r\n            return;\r\n        }\r\n\r\n        const departureRunwayName = this._routeModel.getDepartureRunwayName();\r\n\r\n        if (!departureRunwayName) {\r\n            return this.setDepartureRunway(this.departureAirportModel.departureRunwayModel);\r\n        }\r\n\r\n        const departureRunwayModel = this.departureAirportModel.getRunway(departureRunwayName);\r\n\r\n        this.setDepartureRunway(departureRunwayModel);\r\n    }\r\n\r\n    /**\r\n     * Initialize `#currentPhase` as appropriate based on the spawn category\r\n     *\r\n     * @for Fms\r\n     * @method _initializeFlightPhaseForCategory\r\n     * @param category {string}\r\n     * @private\r\n     */\r\n    _initializeFlightPhaseForCategory(category) {\r\n        switch (category) {\r\n            case FLIGHT_CATEGORY.ARRIVAL:\r\n            case FLIGHT_CATEGORY.OVERFLIGHT:\r\n                return this.setFlightPhase(FLIGHT_PHASE.CRUISE);\r\n\r\n            case FLIGHT_CATEGORY.DEPARTURE:\r\n                return this.setFlightPhase(FLIGHT_PHASE.APRON);\r\n\r\n            default:\r\n                throw new TypeError(`Expected known spawn pattern category, but received \"${category}\"`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Initialize `#flightPlanAltitude`\r\n     *\r\n     * @for Fms\r\n     * @method _initializeFlightPlanAltitude\r\n     * @param altitude {number}\r\n     * @param category {string} one of `FLIGHT_CATEGORY` enum\r\n     * @param model {AircraftTypeDefinitionModel}\r\n     * @private\r\n     */\r\n    _initializeFlightPlanAltitude(altitude, category, model) {\r\n        this.flightPlanAltitude = altitude;\r\n\r\n        if (category === FLIGHT_CATEGORY.DEPARTURE && !altitude) {\r\n            this.flightPlanAltitude = model.ceiling;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Skip ahead to the first waypoint a freshly created FMS should be going to\r\n     *\r\n     * This method is available because we have the ability to spawn aircraft\r\n     * in \"the middle\" of any route, rather than requiring them to fly their\r\n     * route from the beginning. This way, we have the choice to place the aircraft\r\n     * wherever we want along the route without having to change its contents.\r\n     *\r\n     * This method takes an argument that specifies which fix to go to after spawn,\r\n     * and if not specified, the FMS will target the second fix (because they are)\r\n     * spawned AT the first fix.\r\n     *\r\n     * @for Fms\r\n     * @method _initializePositionInRouteToBeginAtFixName\r\n     * @param fixName {string}\r\n     * @private\r\n     */\r\n    _initializePositionInRouteToBeginAtFixName(fixName, category) {\r\n        if (category === FLIGHT_CATEGORY.DEPARTURE) {\r\n            return;\r\n        }\r\n\r\n        if (_isNil(fixName)) {\r\n            return this.moveToNextWaypoint();\r\n        }\r\n\r\n        if (!this._routeModel.hasWaypointName(fixName)) {\r\n            throw new TypeError(`Expected initial fix to be in flight plan route, but received '${fixName}'`);\r\n        }\r\n\r\n        this.skipToWaypointName(fixName);\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * Mark the specified waypoint as a hold waypoint\r\n     *\r\n     * @for Fms\r\n     * @method activateHoldForWaypointName\r\n     * @param waypointName {string} name of waypoint in route\r\n     * @param holdParameters {object}\r\n     * @param fallbackInboundHeading {number} an optional inboundHeading that is used if no default is available\r\n     * @returns {array} [success of operation, readback-error OR holdParameters ]\r\n     */\r\n    activateHoldForWaypointName(waypointName, holdParameters, fallbackInboundHeading = undefined) {\r\n        if (!this._routeModel.hasWaypointName(waypointName)) {\r\n            return [false, {\r\n                log: `unable to hold at ${waypointName.toUpperCase()}; it is not on our route!`,\r\n                say: `unable to hold at ${NavigationLibrary.getFixSpokenName(waypointName)}; it is not on our route!`\r\n            }];\r\n        }\r\n\r\n        return [true, this._routeModel.activateHoldForWaypointName(waypointName, holdParameters, fallbackInboundHeading)];\r\n    }\r\n\r\n    /**\r\n     * Apply the specified route, and as applicable, merge it with the current route\r\n     *\r\n     * @for Fms\r\n     * @method applyPartialRouteAmendment\r\n     * @param routeString {tring}  route string in the form of `entry.procedure.airport`\r\n     * @return {array}             [success of operation, readback]\r\n     */\r\n    applyPartialRouteAmendment(routeString) {\r\n        let nextRouteModel;\r\n\r\n        try {\r\n            nextRouteModel = new RouteModel(routeString);\r\n        } catch (error) {\r\n            console.error(error);\r\n\r\n            return [false, `requested route of \"${routeString.toUpperCase()}\" is invalid`];\r\n        }\r\n\r\n        return this._routeModel.absorbRouteModel(nextRouteModel);\r\n    }\r\n\r\n    /**\r\n     * Return the waypoint that matches the provided name\r\n     *\r\n     * @for Fms\r\n     * @method findWaypoiont\r\n     * @param waypointName {string} name of the waypoint\r\n     * @return {WaypointModel}\r\n     */\r\n    findWaypoint(waypointName) {\r\n        const name = waypointName.toUpperCase();\r\n\r\n        return _find(this.waypoints, (waypoint) => waypoint.name === name);\r\n    }\r\n\r\n    /**\r\n     * Return the next waypoint having an #altitudeMaximum equal to or less than the specified value\r\n     *\r\n     * This is helpful to see only future waypoints for which a particular altitude is\r\n     * considered NOT to be compliant. This allows us to focus which waypoints the aircraft\r\n     * will need to adjust altitude for, even if they are many waypoints in the future.\r\n     *\r\n     * @for Fms\r\n     * @method findNextWaypointWithMaximumAltitudeAtOrBelow\r\n     * @param altitude {number}\r\n     * @return {WaypointModel}\r\n     */\r\n    findNextWaypointWithMaximumAltitudeAtOrBelow(altitude) {\r\n        return _find(this.waypoints, (waypointModel) => waypointModel.hasMaximumAltitudeAtOrBelow(altitude));\r\n    }\r\n\r\n    /**\r\n     * Return the next waypoint having an #altitudeMaximum restriction\r\n     *\r\n     * @for Fms\r\n     * @method findNextWaypointWithMaximumAltitudeRestriction\r\n     * @return {WaypointModel}\r\n     */\r\n    findNextWaypointWithMaximumAltitudeRestriction() {\r\n        return _find(this.waypoints, (waypointModel) => waypointModel.hasAltiudeMaximumRestriction);\r\n    }\r\n\r\n    /**\r\n     * Return the next waypoint having a #speedMaximum equal to or less than the specified value\r\n     *\r\n     * This is helpful to see only future waypoints for which a particular speed is\r\n     * considered NOT to be compliant. This allows us to focus which waypoints the aircraft\r\n     * will need to adjust speed for, even if they are many waypoints in the future.\r\n     *\r\n     * @for Fms\r\n     * @method findNextWaypointWithMaximumSpeedAtOrBelow\r\n     * @param speed {number}\r\n     * @return {WaypointModel}\r\n     */\r\n    findNextWaypointWithMaximumSpeedAtOrBelow(speed) {\r\n        return _find(this.waypoints, (waypointModel) => waypointModel.hasMaximumSpeedAtOrBelow(speed));\r\n    }\r\n\r\n    /**\r\n     * Return the next waypoint having an #altitudeMinimum equal to or greater than the specified value\r\n     *\r\n     * This is helpful to see only future waypoints for which a particular altitude is\r\n     * considered NOT to be compliant. This allows us to focus which waypoints the aircraft\r\n     * will need to adjust altitude for, even if they are many waypoints in the future.\r\n     *\r\n     * @for Fms\r\n     * @method findNextWaypointWithMinimumAltitudeAtOrAbove\r\n     * @param altitude {number}\r\n     * @return {WaypointModel}\r\n     */\r\n    findNextWaypointWithMinimumAltitudeAtOrAbove(altitude) {\r\n        return _find(this.waypoints, (waypointModel) => waypointModel.hasMinimumAltitudeAtOrAbove(altitude));\r\n    }\r\n\r\n    /**\r\n     * Return the next waypoint having an #altitudeMinimum restriction\r\n     *\r\n     * @for Fms\r\n     * @method findNextWaypointWithMinimumAltitudeRestriction\r\n     * @return {WaypointModel}\r\n     */\r\n    findNextWaypointWithMinimumAltitudeRestriction() {\r\n        return _find(this.waypoints, (waypointModel) => waypointModel.hasAltiudeMinimumRestriction);\r\n    }\r\n\r\n    /**\r\n     * Return the next waypoint having a #speedMinimum equal to or greater than the specified value\r\n     *\r\n     * This is helpful to see only future waypoints for which a particular speed is\r\n     * considered NOT to be compliant. This allows us to focus which waypoints the aircraft\r\n     * will need to adjust speed for, even if they are many waypoints in the future.\r\n     *\r\n     * @for Fms\r\n     * @method findNextWaypointWithMinimumSpeedAtOrAbove\r\n     * @param speed {number}\r\n     * @return {WaypointModel}\r\n     */\r\n    findNextWaypointWithMinimumSpeedAtOrAbove(speed) {\r\n        return _find(this.waypoints, (waypointModel) => waypointModel.hasMinimumSpeedAtOrAbove(speed));\r\n    }\r\n\r\n    /**\r\n     * Return an array of waypoints in the flight plan that have altitude restrictions\r\n     *\r\n     * @for Fms\r\n     * @method getAltitudeRestrictedWaypoints\r\n     * @return {array<WaypointModel>}\r\n     */\r\n    getAltitudeRestrictedWaypoints() {\r\n        return this._routeModel.getAltitudeRestrictedWaypoints();\r\n    }\r\n\r\n    /**\r\n     * Returns the lowest bottom altitude of any `LegModel` in the `#_legCollection`\r\n     *\r\n     * @for Fms\r\n     * @method getBottomAltitude\r\n     * @return {number}\r\n     */\r\n    getBottomAltitude() {\r\n        return this._routeModel.getBottomAltitude();\r\n    }\r\n\r\n    /**\r\n     * Get the full flight plan route string with legs separated by spaces\r\n     *\r\n     * @for Fms\r\n     * @method getFullRouteStringWithoutAirportsWithSpaces\r\n     * @return {string}\r\n     */\r\n    getFullRouteStringWithoutAirportsWithSpaces() {\r\n        return this._routeModel.getFullRouteStringWithoutAirportsWithSpaces();\r\n    }\r\n\r\n    /**\r\n     * Return the first fix in a flightPlan or the exit fix of\r\n     * the current SID procedure\r\n     *\r\n     * Primarily used for aircraft dataBlock\r\n     *\r\n     * @for Fms\r\n     * @method getFlightPlanEntry\r\n     * @returns {string} First fix in flightPlan or exit fix of SID\r\n     */\r\n    getFlightPlanEntry() {\r\n        return this._routeModel.getFlightPlanEntry();\r\n    }\r\n\r\n    /**\r\n     * Get the position of the next waypoint in the flight plan\r\n     *\r\n     * Currently only used in `calculateTurnInitiationDistance()` helper function\r\n     *\r\n     * @for Fms\r\n     * @method getNextWaypointPositionModel\r\n     * @return waypointPosition {StaticPositionModel}\r\n     */\r\n    getNextWaypointPositionModel() {\r\n        return this.nextWaypoint.positionModel;\r\n    }\r\n\r\n    /**\r\n     * Return an array of waypoints in the flight plan that have altitude or speed restrictions\r\n     *\r\n     * @for Fms\r\n     * @method getRestrictedWaypoints\r\n     * @return {array<WaypointModel>}\r\n     */\r\n    getRestrictedWaypoints() {\r\n        return this.waypoints.filter((waypoint) => waypoint.hasRestriction);\r\n    }\r\n\r\n    /**\r\n     * Get the flight plan route string in dot notation\r\n     *\r\n     * @for Fms\r\n     * @method getRouteString\r\n     * @return {string}\r\n     */\r\n    getRouteString() {\r\n        return this._routeModel.getRouteString();\r\n    }\r\n\r\n    /**\r\n     * Get the flight plan route string with legs separated by spaces\r\n     *\r\n     * This is primarily meant for use in the `StripViewModel`.\r\n     *\r\n     * @for Fms\r\n     * @method getRouteStringWithSpaces\r\n     * @return {string}\r\n     */\r\n    getRouteStringWithSpaces() {\r\n        return this._routeModel.getRouteStringWithSpaces();\r\n    }\r\n\r\n    /**\r\n     * Facade for #_routeModel.getSidIcao\r\n     *\r\n     * @for Fms\r\n     * @method getSidIcao\r\n     * @return {string}\r\n     */\r\n    getSidIcao() {\r\n        return this._routeModel.getSidIcao();\r\n    }\r\n\r\n    /**\r\n     * Facade for #_routeModel.getSidName\r\n     *\r\n     * @for Fms\r\n     * @method getSidName\r\n     * @return {string}\r\n     */\r\n    getSidName() {\r\n        return this._routeModel.getSidName();\r\n    }\r\n\r\n    /**\r\n     * Facade for #_routeModel.getInitialClimbClearance\r\n     *\r\n     * @for Fms\r\n     * @method getInitialClimbClearance\r\n     * @return {number}\r\n     */\r\n    getInitialClimbClearance() {\r\n        return this._routeModel.getInitialClimbClearance();\r\n    }\r\n\r\n    /**\r\n     * Return an array of waypoints in the flight plan that have speed restrictions\r\n     *\r\n     * @for Fms\r\n     * @method getSpeedRestrictedWaypoints\r\n     * @return {array<WaypointModel>}\r\n     */\r\n    getSpeedRestrictedWaypoints() {\r\n        return this.waypoints.filter((waypoint) => waypoint.hasSpeedRestriction);\r\n    }\r\n\r\n    /**\r\n     * Returns the highest top altitude of any `LegModel` in the `#_legCollection`\r\n     *\r\n     * @for LegModel\r\n     * @method getTopAltitude\r\n     * @return {number}\r\n     */\r\n    getTopAltitude() {\r\n        return this._routeModel.getTopAltitude();\r\n    }\r\n\r\n    /**\r\n     * Return whether the route contains a waypoint after the currently active one\r\n     *\r\n     * @for Fms\r\n     * @method hasNextWaypoint\r\n     * @return {boolean}\r\n     */\r\n    hasNextWaypoint() {\r\n        return this._routeModel.hasNextWaypoint();\r\n    }\r\n\r\n    /**\r\n     * Return whether the route contains a waypoint with the specified name\r\n     *\r\n     * @for Fms\r\n     * @method hasWaypointName\r\n     * @param waypointName {string}\r\n     * @return {boolean}\r\n     */\r\n    hasWaypointName(waypointName) {\r\n        return this._routeModel.hasWaypointName(waypointName);\r\n    }\r\n\r\n    /**\r\n     * Returns whether this is an arrival to an airport we control\r\n     *\r\n     * @for Fms\r\n     * @method isArrival\r\n     * @return {boolean}\r\n     */\r\n    isArrival() {\r\n        return !_isNil(this.arrivalAirportModel);\r\n    }\r\n\r\n    /**\r\n     * Returns whether this is a departure from an airport we control\r\n     *\r\n     * @for Fms\r\n     * @method isDeparture\r\n     * @return {boolean}\r\n     */\r\n    isDeparture() {\r\n        return !_isNil(this.departureAirportModel);\r\n    }\r\n\r\n    /**\r\n     * Returns whether this is an overflight\r\n     *\r\n     * @for Fms\r\n     * @method isDeparture\r\n     * @return {boolean}\r\n     */\r\n    isOverflight() {\r\n        return !this.isArrival() && !this.isDeparture;\r\n    }\r\n\r\n    /**\r\n     * Facade for `#_routeModel.isRunwayModelValidForSid()`\r\n     *\r\n     * Other classes will not have access to the `#_routeModel`, but can use this\r\n     * facade to determine whether or not a given runway assignment is allowable,\r\n     * given the departure procedure in the `#_routeModel`.\r\n     *\r\n     * @for Fms\r\n     * @method isRunwayModelValidForSid\r\n     * @param runwayModel {RunwayModel}\r\n     * @return {boolean}\r\n     */\r\n    isRunwayModelValidForSid(runwayModel) {\r\n        return this._routeModel.isRunwayModelValidForSid(runwayModel);\r\n    }\r\n\r\n    /**\r\n     * Facade for `#_routeModel.isRunwayModelValidForStar()`\r\n     *\r\n     * Other classes will not have access to the `#_routeModel`, but can use this\r\n     * facade to determine whether or not a given runway assignment is allowable,\r\n     * given the arrival procedure in the `#_routeModel`.\r\n     *\r\n     * @for Fms\r\n     * @method isRunwayModelValidForStar\r\n     * @param runwayModel {RunwayModel}\r\n     * @return {boolean}\r\n     */\r\n    isRunwayModelValidForStar(runwayModel) {\r\n        return this._routeModel.isRunwayModelValidForStar(runwayModel);\r\n    }\r\n\r\n    /**\r\n     * Move to the next possible waypoint\r\n     *\r\n     * This could be the next waypoint in the current leg,\r\n     * or the first waypoint in the next leg.\r\n     *\r\n     * @for LegModel\r\n     * @method moveToNextWaypoint\r\n     */\r\n    moveToNextWaypoint() {\r\n        return this._routeModel.moveToNextWaypoint();\r\n    }\r\n\r\n    /**\r\n     * Find the arrival procedure (if it exists) within the `#legCollection` and\r\n     * reset it with a new arrival procedure.\r\n     *\r\n     * This method does not remove any `LegModel`s. It instead finds and updates a\r\n     * `LegModel` with a new routeString. If a `LegModel` without a arrival\r\n     * procedure cannot be found, then we create a new `LegModel` and place it\r\n     * at the end of the `#legCollection`.\r\n     *\r\n     * @for Fms\r\n     * @method replaceArrivalProcedure\r\n     * @param routeString {string}\r\n     * @return {array<boolean, string>}\r\n     */\r\n    replaceArrivalProcedure(routeString) {\r\n        const routeStringElements = routeString.toUpperCase().split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER);\r\n\r\n        if (routeStringElements.length !== 3) {\r\n            return [false, 'arrival procedure format not understood'];\r\n        }\r\n\r\n        const procedureId = routeStringElements[1];\r\n\r\n        if (!NavigationLibrary.hasProcedure(procedureId)) {\r\n            return [false, `unknown procedure \"${procedureId}\"`];\r\n        }\r\n\r\n        const wasSuccessful = this._routeModel.replaceArrivalProcedure(routeString);\r\n\r\n        if (wasSuccessful) {\r\n            this._updateArrivalRunwayFromRoute();\r\n\r\n            return [true, ''];\r\n        }\r\n\r\n        return [false, `route of \"${routeString}\" is not valid`];\r\n    }\r\n\r\n    /**\r\n     * Replace departure procedure and departure runway\r\n     *\r\n     * @for Fms\r\n     * @method replaceDepartureProcedure\r\n     * @param routeString {string}\r\n     * @return {boolean}\r\n     */\r\n    replaceDepartureProcedure(routeString, airportIcao) {\r\n        const routeStringElements = routeString.toUpperCase().split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER);\r\n\r\n        if (routeStringElements.length > 3) {\r\n            return [false, 'departure procedure format not understood'];\r\n        }\r\n\r\n        let procedureId = routeStringElements[0];\r\n\r\n        if (routeStringElements.length === 3) { // if the runway IS specified in the route string\r\n            procedureId = routeStringElements[1];\r\n        }\r\n\r\n        const sidModel = NavigationLibrary.getProcedure(procedureId);\r\n\r\n        if (_isNil(sidModel)) {\r\n            return [false, `unknown procedure \"${procedureId}\"`];\r\n        }\r\n\r\n        if (routeStringElements.length === 1) { // RouteString looks like PROC\r\n            const exitPoint = _findLast(this.waypoints, (waypointModel) => sidModel.hasExit(waypointModel.name));\r\n\r\n            if (!exitPoint) {\r\n                return [false, `the ${procedureId.toUpperCase()} departure doesn't have an exit along our route`];\r\n            }\r\n\r\n            routeStringElements.push(exitPoint.name);\r\n        }\r\n\r\n        if (routeStringElements.length === 2) { // RouteString looks like PROC.EXIT\r\n            const expectedRunwayModel = this.departureRunwayModel;\r\n            let entryPoint = `${airportIcao.toUpperCase()}${expectedRunwayModel.name}`;\r\n\r\n            if (!sidModel.hasEntry(entryPoint)) {\r\n                entryPoint = sidModel.getFirstEntryPoint();\r\n\r\n                if (_isEmpty(entryPoint)) {\r\n                    return [false, `the '${procedureId}' departure has no valid entry points`];\r\n                }\r\n            }\r\n\r\n            routeStringElements.unshift(entryPoint);\r\n        }\r\n\r\n        const nextRouteString = routeStringElements.join(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER);\r\n        const readback = this._routeModel.replaceDepartureProcedure(nextRouteString);\r\n\r\n        if (readback[0]) {\r\n            this._updateDepartureRunwayFromRoute();\r\n        }\r\n\r\n        return readback;\r\n    }\r\n\r\n    // TODO: we may need to update the runway in this method\r\n    /**\r\n     * Replace the current route with an entirely new one\r\n     *\r\n     * If route contains the same waypoint as the current waypoint, skip to that waypoint\r\n     * and continue along the new route. This is a somewhat questionable strategy, but\r\n     * has the advantage of supporting reroutes done in the middle of the flight,\r\n     * whereas without this approach, the aircraft would turn around to the very first\r\n     * waypoint as soon as they are rerouted.\r\n     *\r\n     * @for Fms\r\n     * @method replaceFlightPlanWithNewRoute\r\n     * @param routeString {string}\r\n     * @return {boolean} whether the operation was successful\r\n     */\r\n    replaceFlightPlanWithNewRoute(routeString) {\r\n        const currentWaypointName = this.currentWaypoint.name;\r\n        let nextRouteModel;\r\n\r\n        try {\r\n            nextRouteModel = new RouteModel(routeString);\r\n        } catch (error) {\r\n            console.error(error);\r\n\r\n            const readback = {};\r\n            readback.log = `requested route of \"${routeString}\" is invalid`;\r\n            readback.say = 'that route is invalid';\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        this._routeModel = nextRouteModel;\r\n\r\n        this.skipToWaypointName(currentWaypointName);\r\n\r\n        // Build readback\r\n        const readback = {};\r\n        readback.log = `rerouting to: ${this.getRouteStringWithSpaces()}`;\r\n        readback.say = 'rerouting as requested';\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Verify and then set the value of `#arrivalRunwayModel`\r\n     *\r\n     * @for Fms\r\n     * @method setArrivalRunway\r\n     * @param nextRunwayModel {RunwayModel}\r\n     */\r\n    setArrivalRunway(nextRunwayModel) {\r\n        if (!(nextRunwayModel instanceof RunwayModel)) {\r\n            throw new TypeError(`Expected instance of RunwayModel, but received ${nextRunwayModel}`);\r\n        }\r\n\r\n        this.arrivalRunwayModel = nextRunwayModel;\r\n    }\r\n\r\n    /**\r\n     * Verify and then set the value of `#departureRunwayModel`\r\n     *\r\n     * @for Fms\r\n     * @method setDepartureRunway\r\n     * @param runwayModel {RunwayModel}\r\n     */\r\n    setDepartureRunway(runwayModel) {\r\n        if (!(runwayModel instanceof RunwayModel)) {\r\n            throw new TypeError(`Expected instance of RunwayModel, but received ${runwayModel}`);\r\n        }\r\n\r\n        if (this.departureRunwayModel && this.departureRunwayModel.name === runwayModel.name) {\r\n            return;\r\n        }\r\n\r\n        this.departureRunwayModel = runwayModel;\r\n\r\n        this._routeModel.updateSidLegForDepartureRunwayModel(runwayModel);\r\n    }\r\n\r\n    /**\r\n     * Set the `#currentPhase`\r\n     *\r\n     * this value is used to determine how to calculate and aircraft's next\r\n     * altitude, heading and speed.\r\n     *\r\n     * @for Fms\r\n     * @method setFlightPhase\r\n     * @param phase {string}\r\n     */\r\n    setFlightPhase(phase) {\r\n        if (!_includes(FLIGHT_PHASE, phase)) {\r\n            throw new TypeError(`Expected known flight phase, but received '${phase}'`);\r\n        }\r\n\r\n        this.currentPhase = phase;\r\n    }\r\n\r\n    /**\r\n     * Fascade\r\n     *\r\n     * @for Fms\r\n     * @method skipToWaypointName\r\n     * @param waypointName {string}\r\n     */\r\n    skipToWaypointName(waypointName) {\r\n        return this._routeModel.skipToWaypointName(waypointName);\r\n    }\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    // /**\r\n    // * Build a `LegModel` instance that contains a `WaypointModel` with hold properties\r\n    // *\r\n    // * @for Fms\r\n    // * @method _createLegWithHoldWaypoint\r\n    // * @param waypointProps {object}\r\n    // * @return legModel {LegModel}\r\n    // */\r\n    // _createLegWithHoldWaypoint(waypointProps) {\r\n    //     const legModel = new LegModel(\r\n    //         waypointProps.name,\r\n    //         this.currentRunwayName,\r\n    //         this.currentPhase,\r\n    //         waypointProps\r\n    //     );\r\n    //\r\n    //     return legModel;\r\n    // }\r\n\r\n    /**\r\n     * Ensure the STAR leg has the specified arrival runway as the exit point\r\n     *\r\n     * @for Fms\r\n     * @method updateStarLegForArrivalRunway\r\n     * @param nextRunwayModel {RunwayModel}\r\n     * @return {array} [success of operation, response]\r\n     */\r\n    updateStarLegForArrivalRunway(nextRunwayModel) {\r\n        const currentArrivalRunway = this.arrivalRunwayModel;\r\n\r\n        if (!(nextRunwayModel instanceof RunwayModel)) {\r\n            throw new TypeError(`Expected instance of RunwayModel, but received ${nextRunwayModel}`);\r\n        }\r\n\r\n        if (currentArrivalRunway && currentArrivalRunway.name === nextRunwayModel.name) {\r\n            const readback = {};\r\n            readback.log = `expect Runway ${nextRunwayModel.name}`;\r\n            readback.say = `expect Runway ${nextRunwayModel.getRadioName()}`;\r\n\r\n            return [true, readback];\r\n        }\r\n\r\n        if (!this._routeModel.isRunwayModelValidForStar(nextRunwayModel)) {\r\n            const readback = {};\r\n            readback.log = `unable, according to our charts, Runway ${nextRunwayModel.name} is ` +\r\n                `not valid for the ${this._routeModel.getStarIcao()} arrival, expecting ` +\r\n                `Runway ${currentArrivalRunway.name} instead`;\r\n            readback.say = `unable, according to our charts, Runway ${nextRunwayModel.getRadioName()} ` +\r\n                `is not valid for the ${this._routeModel.getStarName()} arrival, expecting ` +\r\n                `Runway ${currentArrivalRunway.getRadioName()} instead`;\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        this._routeModel.updateStarLegForArrivalRunwayModel(nextRunwayModel);\r\n        this.setArrivalRunway(nextRunwayModel);\r\n\r\n        const readback = {};\r\n        readback.log = `expecting Runway ${nextRunwayModel.name}`;\r\n        readback.say = `expecting Runway ${nextRunwayModel.getRadioName()}`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Update the expected arrival runway based on the STAR's exit point runway\r\n     *\r\n     * @for Fms\r\n     * @method _updateArrivalRunwayFromRoute\r\n     */\r\n    _updateArrivalRunwayFromRoute() {\r\n        const arrivalRunwayModel = this._routeModel.getArrivalRunwayModel();\r\n\r\n        if (_isNil(arrivalRunwayModel)) {\r\n            console.error('Expected route to have a valid arrival runway');\r\n\r\n            return;\r\n        }\r\n\r\n        this.setArrivalRunway(arrivalRunwayModel);\r\n    }\r\n\r\n    /**\r\n     * Update the expected departure runway based on the SID's entry point runway\r\n     *\r\n     * @for Fms\r\n     * @method _updateArrivalRunwayFromRoute\r\n     */\r\n    _updateDepartureRunwayFromRoute() {\r\n        const departureRunwayModel = this._routeModel.getDepartureRunwayModel();\r\n\r\n        if (_isNil(departureRunwayModel)) {\r\n            console.error('Expected route to have a valid departure runway');\r\n\r\n            return;\r\n        }\r\n\r\n        this.setDepartureRunway(departureRunwayModel);\r\n    }\r\n\r\n    /**\r\n     * Verify that this FMS's route contains at least two waypoints, or throw an error\r\n     *\r\n     * This is an expectation on spawn so we can point the aircraft somewhere,\r\n     * but OTHER than on spawn, there is no reason an aircraft cannot be assigned\r\n     * a single-fix route (such as \"forget everything else, just go direct to the airport!\").\r\n     *\r\n     * @for Fms\r\n     * @method _verifyRouteContainsMultipleWaypoints\r\n     * @private\r\n     */\r\n    _verifyRouteContainsMultipleWaypoints() {\r\n        if (this.waypoints.length < 2) {\r\n            throw new TypeError('Expected flight plan route to have at least two ' +\r\n                `waypoints, but only found ${this.waypoints.length} waypoints`);\r\n        }\r\n    }\r\n}\r\n","import _findIndex from 'lodash/findIndex';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport _isNil from 'lodash/isNil';\r\nimport _map from 'lodash/map';\r\nimport _without from 'lodash/without';\r\nimport NavigationLibrary from '../../navigationLibrary/NavigationLibrary';\r\nimport WaypointModel from './WaypointModel';\r\nimport {\r\n    INVALID_INDEX,\r\n    INVALID_NUMBER\r\n} from '../../constants/globalConstants';\r\nimport {\r\n    LEG_TYPE,\r\n    PROCEDURE_TYPE,\r\n    PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER\r\n} from '../../constants/routeConstants';\r\n\r\n/**\r\n * A portion of a navigation route containing one or more `WaypointModel` objects.\r\n *\r\n * @class LegModel\r\n */\r\nexport default class LegModel {\r\n    /**\r\n     * @for LegModel\r\n     * @constructor\r\n     * @param routeString {string}\r\n     */\r\n    constructor(routeString) {\r\n        /**\r\n         * Reference to an instance of a `AirwayModel` object (if this is an airway leg)\r\n         *\r\n         * @for LegModel\r\n         * @property _airwayModel\r\n         * @type {AirwayModel|null}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._airwayModel = null;\r\n\r\n        /**\r\n         * Type of leg from list of types defined in `LEG_TYPE`\r\n         *\r\n         * @for LegModel\r\n         * @property _legType\r\n         * @type {string}\r\n         * @default ''\r\n         * @private\r\n         */\r\n        this._legType = '';\r\n\r\n        /**\r\n         * Reference to an instance of a `ProcedureModel` object (if this is a procedure leg)\r\n         *\r\n         * @for LegModel\r\n         * @property _procedureModel\r\n         * @type {ProcedureModel|null}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._procedureModel = null;\r\n\r\n        /**\r\n         * Array of `WaypointModel`s that have been passed (or skipped)\r\n         *\r\n         * Aircraft will proceed along the route to each waypoint, and upon passing\r\n         * a waypoint, it will move that waypoint here to the `#_previousWaypointCollection`,\r\n         * and proceed to the next waypoint in the `#_waypointCollection` until no more\r\n         * `WaypointModel`s remain in the leg, at which point, they continue to the next leg.\r\n         *\r\n         * @for LegModel\r\n         * @property _previousWaypointCollection\r\n         * @type {array<WaypointModel>}\r\n         * @default []\r\n         * @private\r\n         */\r\n        this._previousWaypointCollection = [];\r\n\r\n        /**\r\n         * Standard-formatted route string for this leg, excluding any special characters\r\n         *\r\n         * @for LegModel\r\n         * @property _routeString\r\n         * @type {string}\r\n         * @default ''\r\n         * @private\r\n         */\r\n        this._routeString = '';\r\n\r\n        /**\r\n         * Array of `WaypointModel`s to follow, excluding any waypoints passed (or skipped)\r\n         *\r\n         * Upon completion of a given `WaypointModel` in the `#_waypointCollection`, that\r\n         * waypoint will be moved to the `#_previousWaypointCollection`, and the aircraft will\r\n         * continue to the next `WaypointModel` in the `#_waypointCollection`.\r\n         *\r\n         * @for LegModel\r\n         * @property _waypointCollection\r\n         * @type {array<WaypointModel>}\r\n         * @default []\r\n         * @private\r\n         */\r\n        this._waypointCollection = [];\r\n\r\n        this.init(routeString);\r\n    }\r\n\r\n    /**\r\n     * Returns the active `WaypointModel`\r\n     *\r\n     * Assumed to always be the first item in the `#waypointCollection`\r\n     *\r\n     * @for LegModel\r\n     * @property currentWaypoint\r\n     * @type {WaypointModel}\r\n     */\r\n    get currentWaypoint() {\r\n        if (this._waypointCollection.length === 0) {\r\n            throw new TypeError('Expected the current leg to contain at least one waypoint');\r\n        }\r\n\r\n        return this._waypointCollection[0];\r\n    }\r\n\r\n    /**\r\n     * Returns whether this leg is an airway leg\r\n     *\r\n     * @for LegModel\r\n     * @property isAirwayLeg\r\n     * @type {boolean}\r\n     */\r\n    get isAirwayLeg() {\r\n        return this._legType === LEG_TYPE.AIRWAY;\r\n    }\r\n\r\n    /**\r\n     * Returns whether this leg is a direct leg\r\n     *\r\n     * @for LegModel\r\n     * @property isDirectLeg\r\n     * @type {boolean}\r\n     */\r\n    get isDirectLeg() {\r\n        return this._legType === LEG_TYPE.DIRECT;\r\n    }\r\n\r\n    /**\r\n     * Returns whether this leg is a procedure leg\r\n     *\r\n     * @for LegModel\r\n     * @property isProcedureLeg\r\n     * @type {boolean}\r\n     */\r\n    get isProcedureLeg() {\r\n        return this._legType === LEG_TYPE.PROCEDURE;\r\n    }\r\n\r\n    /**\r\n     * Whether this leg is a SID Procedure leg\r\n     *\r\n     * @for RouteModel\r\n     * @property isSidLeg\r\n     * @type {boolean}\r\n     */\r\n    get isSidLeg() {\r\n        return this.isProcedureLeg && this._procedureModel.procedureType === PROCEDURE_TYPE.SID;\r\n    }\r\n\r\n    /**\r\n     * Whether this leg is a STAR Procedure leg\r\n     *\r\n     * @for RouteModel\r\n     * @property isStarLeg\r\n     * @type {boolean}\r\n     */\r\n    get isStarLeg() {\r\n        return this.isProcedureLeg && this._procedureModel.procedureType === PROCEDURE_TYPE.STAR;\r\n    }\r\n\r\n    /**\r\n     * Returns the type of this leg\r\n     *\r\n     * @for LegModel\r\n     * @property legType\r\n     * @type {string}\r\n     */\r\n    get legType() {\r\n        return this._legType;\r\n    }\r\n\r\n    /**\r\n     * Returns the `WaypointModel` immediately following the `#currentWaypoint`\r\n     *\r\n     * @for LegModel\r\n     * @property nextWaypoint\r\n     * @type {WaypointModel}\r\n     */\r\n    get nextWaypoint() {\r\n        return this._waypointCollection[1];\r\n    }\r\n\r\n    /**\r\n     * Returns the route string for this leg\r\n     *\r\n     * @for LegModel\r\n     * @property routeString\r\n     * @type {string}\r\n     */\r\n    get routeString() {\r\n        return this._routeString;\r\n    }\r\n\r\n    /**\r\n     * Return the `#_waypointCollection`\r\n     *\r\n     * @for LegModel\r\n     * @property waypoints\r\n     * @type {array<WaypointModel>}\r\n     */\r\n    get waypoints() {\r\n        return this._waypointCollection;\r\n    }\r\n\r\n    get altitude() {\r\n        return this._procedureModel.altitude;\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * Initialize instance properties\r\n     *\r\n     * @for LegModel\r\n     * @method init\r\n     * @param routeString {string}\r\n     * @chainable\r\n     */\r\n    init(routeString) {\r\n        this._routeString = routeString;\r\n\r\n        const [entryOrFixName, airwayOrProcedureName, exit] = routeString.split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER);\r\n\r\n        this._ensureRouteStringIsSingleSegment(routeString);\r\n        this._legType = this._determineLegType(airwayOrProcedureName);\r\n        this._airwayModel = NavigationLibrary.getAirway(airwayOrProcedureName);\r\n        this._procedureModel = NavigationLibrary.getProcedure(airwayOrProcedureName);\r\n        this._waypointCollection = this._generateWaypointCollection(entryOrFixName, exit);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Reset instance properties\r\n     *\r\n     * @for LegModel\r\n     * @method reset\r\n     * @chainable\r\n     */\r\n    reset() {\r\n        this._resetWaypointCollection();\r\n\r\n        this._airwayModel = null;\r\n        this._legType = '';\r\n        this._procedureModel = null;\r\n        this._previousWaypointCollection = [];\r\n        this._routeString = '';\r\n        this._waypointCollection = [];\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Return the type of leg this will be, based on the route string\r\n     *\r\n     * @for LegModel\r\n     * @method _determineLegType\r\n     * @param airwayOrProcedureName {string}\r\n     * @return {string} property of `LEG_TYPE` enum\r\n     */\r\n    _determineLegType(airwayOrProcedureName) {\r\n        if (this._routeString.indexOf('.') === INVALID_NUMBER) {\r\n            return LEG_TYPE.DIRECT;\r\n        }\r\n\r\n        if (NavigationLibrary.hasAirway(airwayOrProcedureName)) {\r\n            return LEG_TYPE.AIRWAY;\r\n        }\r\n\r\n        if (NavigationLibrary.hasProcedure(airwayOrProcedureName)) {\r\n            return LEG_TYPE.PROCEDURE;\r\n        }\r\n\r\n        throw new TypeError(`Expected airway or procedure name, but we can't ' +\r\n            'determine what kind of leg ${airwayOrProcedureName} is`);\r\n    }\r\n\r\n    /**\r\n     * Verify that we are not attempting to initialize this `LegModel` with a route\r\n     * string that should have been two separate `LegModels`, and throw errors if\r\n     * we ever DO make such a mistake.\r\n     *\r\n     * @for LegModel\r\n     * @method _ensureRouteStringIsSingleSegment\r\n     * @param routeString {string}\r\n     */\r\n    _ensureRouteStringIsSingleSegment(routeString) {\r\n        if (routeString.indexOf('..') !== INVALID_INDEX) {\r\n            throw new TypeError(`Expected single fix or single procedure route string, but received '${routeString}'`);\r\n        }\r\n\r\n        if (routeString.split('.').length > 3) {\r\n            throw new TypeError(`Expected single procedure route string, but received '${routeString}'`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Generate a `WaypointModel` for the specified data\r\n     *\r\n     * @for LegModel\r\n     * @method _generateWaypoint\r\n     * @param data {string|array<string>}\r\n     * @returns {WaypointModel}\r\n     * @private\r\n     */\r\n    _generateWaypoint(data) {\r\n        const waypoint = new WaypointModel(data);\r\n        const holdParameters = NavigationLibrary.findHoldParametersByFix(waypoint.name);\r\n\r\n        if (holdParameters != null) {\r\n            waypoint.setDefaultHoldParameters(holdParameters);\r\n        }\r\n\r\n        return waypoint;\r\n    }\r\n\r\n    /**\r\n     * Generate an array of `WaypointModel`s an aircraft's FMS will need in order to\r\n     * navigate along this leg instance.\r\n     *\r\n     * @for LegModel\r\n     * @param _generateWaypointCollection\r\n     * @param entryOrFixName {string} name of the entry point (if airway/procedure), or fix name\r\n     * @param exit {string} name of exit point (if airway/procedure), or `undefined`\r\n     * @return {array<WaypointModel>}\r\n     */\r\n    _generateWaypointCollection(entryOrFixName, exit) {\r\n        if (this._legType === LEG_TYPE.DIRECT) {\r\n            return [this._generateWaypoint(entryOrFixName)];\r\n        }\r\n\r\n        if (this._legType === LEG_TYPE.AIRWAY) {\r\n            this._verifyAirwayAndEntryAndExitAreValid(entryOrFixName, exit);\r\n\r\n            return this._airwayModel.getWaypointModelsForEntryAndExit(entryOrFixName, exit);\r\n        }\r\n\r\n        this._verifyProcedureAndEntryAndExitAreValid(entryOrFixName, exit);\r\n\r\n        return this._procedureModel.getWaypointModelsForEntryAndExit(entryOrFixName, exit);\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * Mark the specified waypoint as a hold waypoint\r\n     *\r\n     * @for LegModel\r\n     * @method activateHoldForWaypointName\r\n     * @param waypointName {string} name of waypoint in route\r\n     * @param holdParameters {object}\r\n     * @param fallbackInboundHeading {number} an optional inboundHeading that is used if no default is available\r\n     * @returns {object} The hold parameters set for the `WaypointModel`\r\n     */\r\n    activateHoldForWaypointName(waypointName, holdParameters, fallbackInboundHeading = undefined) {\r\n        if (!this.hasWaypointName(waypointName)) {\r\n            return;\r\n        }\r\n\r\n        const waypointIndex = this._findIndexOfWaypointName(waypointName);\r\n        const waypointModel = this._waypointCollection[waypointIndex];\r\n\r\n        return waypointModel.setHoldParametersAndActivateHold(holdParameters, fallbackInboundHeading);\r\n    }\r\n\r\n    /**\r\n     * Return the identifier of the airway being used in this leg\r\n     *\r\n     * @for LegModel\r\n     * @method getAirwayName\r\n     * @return {string}\r\n     */\r\n    getAirwayName() {\r\n        if (!this.isAirwayLeg) {\r\n            return;\r\n        }\r\n\r\n        return this._airwayModel.icao;\r\n    }\r\n\r\n    /**\r\n     * Return an array of WaypointModels AFTER (not including) the specified waypoint\r\n     *\r\n     * @for LegModel\r\n     * @method getAllWaypointModelsAfterWaypointName\r\n     * @return {array<WaypointModel>}\r\n     */\r\n    getAllWaypointModelsAfterWaypointName(waypointName) {\r\n        const indexOfWaypointName = this._findIndexOfWaypointName(waypointName);\r\n\r\n        return this._waypointCollection.slice().splice(indexOfWaypointName + 1);\r\n    }\r\n\r\n    /**\r\n     * Return an array of WaypointModels BEFORE (not including) the specified waypoint\r\n     *\r\n     * @for LegModel\r\n     * @method getAllWaypointModelsBeforeWaypointName\r\n     * @return {array<WaypointModel>}\r\n     */\r\n    getAllWaypointModelsBeforeWaypointName(waypointName) {\r\n        const indexOfWaypointName = this._findIndexOfWaypointName(waypointName);\r\n        const copyOfWaypointCollection = this._waypointCollection.slice();\r\n\r\n        copyOfWaypointCollection.splice(indexOfWaypointName);\r\n\r\n        return copyOfWaypointCollection;\r\n    }\r\n\r\n    /**\r\n     * Return the ICAO identifier for the airport at which this leg will terminate (if\r\n     * it is in fact a STAR leg, of course).\r\n     *\r\n     * @for LegModel\r\n     * @method getArrivalRunwayAirportIcao\r\n     * @return {string}\r\n     */\r\n    getArrivalRunwayAirportIcao() {\r\n        if (!this.isStarLeg) {\r\n            return null;\r\n        }\r\n\r\n        const airportAndRunway = this._routeString.split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER)[2];\r\n        const arrivalAirportIcao = airportAndRunway.substr(0, 4);\r\n\r\n        return arrivalAirportIcao.toLowerCase();\r\n    }\r\n\r\n    /**\r\n     * Return the name of the runway at which this leg will terminate (if it is in fact\r\n     * a STAR leg, of course).\r\n     *\r\n     * @for LegModel\r\n     * @method getArrivalRunwayName\r\n     * @return {string}\r\n     */\r\n    getArrivalRunwayName() {\r\n        if (!this.isStarLeg) {\r\n            return null;\r\n        }\r\n\r\n        const airportAndRunway = this._routeString.split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER)[2];\r\n        const arrivalRunwayName = airportAndRunway.substr(4);\r\n\r\n        return arrivalRunwayName;\r\n    }\r\n\r\n    /**\r\n    * Returns the lowest `#altitudeMinimum` of all `WaypointModel`s in this leg\r\n    *\r\n    * @for LegModel\r\n    * @method getBottomAltitude\r\n    * @return {number}\r\n    */\r\n    getBottomAltitude() {\r\n        if (!this.isProcedureLeg) {\r\n            return INVALID_NUMBER;\r\n        }\r\n\r\n        const minimumAltitudes = _map(this._waypointCollection, (waypoint) => waypoint.altitudeMinimum);\r\n        const positiveValueRestrictionList = _without(minimumAltitudes, INVALID_NUMBER);\r\n        const bottomAltitude = Math.min(...positiveValueRestrictionList);\r\n\r\n        if (bottomAltitude === Infinity) {\r\n            return INVALID_NUMBER;\r\n        }\r\n\r\n        return bottomAltitude;\r\n    }\r\n\r\n    /**\r\n    * Return the ICAO identifier for the airport at which this leg originates (if\r\n    * it is in fact a SID leg, of course).\r\n    *\r\n    * @for LegModel\r\n    * @method getDepartureRunwayAirportIcao\r\n    * @return {string}\r\n    */\r\n    getDepartureRunwayAirportIcao() {\r\n        if (!this.isSidLeg) {\r\n            return null;\r\n        }\r\n\r\n        const airportAndRunway = this._routeString.split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER)[0];\r\n        const departureAirportIcao = airportAndRunway.substr(0, 4);\r\n\r\n        return departureAirportIcao.toLowerCase();\r\n    }\r\n\r\n    /**\r\n    * Return the name of the runway at which this leg begins (if it is in fact\r\n    * a SID leg, of course).\r\n    *\r\n    * @for LegModel\r\n    * @method getDepartureRunwayName\r\n    * @return {string}\r\n    */\r\n    getDepartureRunwayName() {\r\n        if (!this.isSidLeg) {\r\n            return null;\r\n        }\r\n\r\n        const airportAndRunway = this._routeString.split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER)[0];\r\n        const departureRunwayName = airportAndRunway.substr(4);\r\n\r\n        return departureRunwayName;\r\n    }\r\n\r\n    /**\r\n     * Return the ICAO identifier for the procedure being used by this leg\r\n     *\r\n     * @for LegModel\r\n     * @method getProcedureIcao\r\n     * @return {string}\r\n     */\r\n    getProcedureIcao() {\r\n        if (!this.isProcedureLeg) {\r\n            return;\r\n        }\r\n\r\n        return this._procedureModel.icao;\r\n    }\r\n\r\n    /**\r\n     * Return the name of the procedure being used by this leg\r\n     *\r\n     * @for LegModel\r\n     * @method getProcedureName\r\n     * @return {string}\r\n     */\r\n    getProcedureName() {\r\n        if (!this.isProcedureLeg) {\r\n            return;\r\n        }\r\n\r\n        return this._procedureModel.name;\r\n    }\r\n\r\n    /**\r\n     * Return the name of this leg's exit fix\r\n     *\r\n     * @for LegModel\r\n     * @method getExitFixName\r\n     * @return {string}\r\n     */\r\n    getEntryFixName() {\r\n        if (this.isDirectLeg) {\r\n            return this._routeString;\r\n        }\r\n\r\n        const routeStringElements = this._routeString.split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER);\r\n\r\n        return routeStringElements[0];\r\n    }\r\n\r\n    /**\r\n     * Return the name of this leg's exit fix\r\n     *\r\n     * @for LegModel\r\n     * @method getExitFixName\r\n     * @return {string}\r\n     */\r\n    getExitFixName() {\r\n        if (this.isDirectLeg) {\r\n            return this._routeString;\r\n        }\r\n\r\n        const routeStringElements = this._routeString.split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER);\r\n\r\n        return routeStringElements[2];\r\n    }\r\n\r\n    /**\r\n     * Returns the route string for this leg, removing any airports\r\n     * For example, `KSEA16L.BANGR9.PANGL` --> `BANGR9.PANGL`\r\n     *\r\n     * BE CAREFUL using this method, because technically `BANGR9.PANGL` is not technically a\r\n     * valid route string, as it does not follow the proper format. This method was created\r\n     * as a means to remove the airports from the route strings so we can display a route on\r\n     * the flight strip that excludes the airport, since this is instead shown in a separate\r\n     * section of the flight strip, and should not be included in the route section.\r\n     *\r\n     * @for LegModel\r\n     * @method getRouteStringWithoutAirports\r\n     * @return {string}\r\n     */\r\n    getRouteStringWithoutAirports() {\r\n        const routeString = this._routeString;\r\n\r\n        if (this.isSidLeg) {\r\n            const elements = routeString.split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER);\r\n            const procedure = elements[1];\r\n            const exit = elements[2];\r\n\r\n            return `${procedure}.${exit}`;\r\n        }\r\n\r\n        if (this.isStarLeg) {\r\n            const elements = routeString.split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER);\r\n            const entry = elements[0];\r\n            const procedure = elements[1];\r\n\r\n            return `${entry}.${procedure}`;\r\n        }\r\n\r\n        return routeString;\r\n    }\r\n\r\n    /**\r\n     * Returns the highest `#altitudeMaximum` of all `WaypointModel`s in this leg\r\n     *\r\n     * @for LegModel\r\n     * @method getTopAltitude\r\n     * @return {number}\r\n     */\r\n    getTopAltitude() {\r\n        if (!this.isProcedureLeg) {\r\n            return INVALID_NUMBER;\r\n        }\r\n\r\n        const maximumAltitudes = _map(this._waypointCollection, (waypoint) => waypoint.altitudeMaximum);\r\n        const positiveValueRestrictionList = _without(maximumAltitudes, INVALID_NUMBER);\r\n        const topAltitude = Math.max(...positiveValueRestrictionList);\r\n\r\n        if (topAltitude === -Infinity) {\r\n            return INVALID_NUMBER;\r\n        }\r\n\r\n        return topAltitude;\r\n    }\r\n\r\n    /**\r\n    * Whether there are any `WaypointModel`s in this leg beyond the `#currentWaypoint`\r\n    *\r\n    * @for LegModel\r\n    * @method hasNextWaypoint\r\n    * @return {boolean}\r\n    */\r\n    hasNextWaypoint() {\r\n        return this._waypointCollection.length > 1;\r\n    }\r\n\r\n    /**\r\n    * Whether a `WaypointModel` with the specified name exists within the `#_waypointCollection`\r\n    *\r\n    * Note that this will return false even if the specified fix name IS included\r\n    * in the `#_previousWaypointCollection`.\r\n    *\r\n    * @for LegModel\r\n    * @method hasWaypointName\r\n    * @param waypointName {string}\r\n    * @return {boolean}\r\n    */\r\n    hasWaypointName(waypointName) {\r\n        if (_isEmpty(waypointName)) {\r\n            throw new TypeError(`Expected valid fix name but received '${waypointName}'`);\r\n        }\r\n\r\n        waypointName = waypointName.toUpperCase();\r\n\r\n        // using a for loop instead of `_find()` to maximize performance\r\n        // because this operation could happen quite frequently\r\n        for (let i = 0; i < this._waypointCollection.length; i++) {\r\n            if (this._waypointCollection[i].name === waypointName) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n    * Move the `#currentWaypoint` to the `#_previousWaypointCollection`\r\n    *\r\n    * This also results in the `WaypointModel` previously at index `1` becoming\r\n    * index `0`, thus making it the new `#currentWaypoint`.\r\n    *\r\n    * @for LegModel\r\n    * @method moveToNextWaypoint\r\n    */\r\n    moveToNextWaypoint() {\r\n        const waypointModelToMove = this._waypointCollection.shift();\r\n\r\n        this._previousWaypointCollection.push(waypointModelToMove);\r\n    }\r\n\r\n    procedureHasEntry(entryName) {\r\n        if (!this.isProcedureLeg) {\r\n            return false;\r\n        }\r\n\r\n        return this._procedureModel.hasEntry(entryName);\r\n    }\r\n\r\n    procedureHasExit(exitName) {\r\n        if (!this.isProcedureLeg) {\r\n            return false;\r\n        }\r\n\r\n        return this._procedureModel.hasExit(exitName);\r\n    }\r\n\r\n    /**\r\n     * Move all `WaypointModel`s to the `#_previousWaypointCollection`\r\n     *\r\n     * @for LegModel\r\n     * @method skipAllWaypointsInLeg\r\n     */\r\n    skipAllWaypointsInLeg() {\r\n        this._previousWaypointCollection.push(...this._waypointCollection);\r\n\r\n        this._waypointCollection = [];\r\n    }\r\n\r\n    /**\r\n     * Move all `WaypointModel`s before the specified waypoint to the `#_previousWaypointCollection`\r\n     *\r\n     * This also results in the waypoint with the specified name becoming the new `#currentWaypoint`\r\n     *\r\n     * @for LegModel\r\n     * @method skipToWaypointName\r\n     * @param waypointName {string}\r\n     * @return {boolean} success of operation\r\n     */\r\n    skipToWaypointName(waypointName) {\r\n        const waypointIndex = this._findIndexOfWaypointName(waypointName);\r\n\r\n        if (waypointIndex === INVALID_INDEX) {\r\n            return false;\r\n        }\r\n\r\n        const numberOfWaypointsToMove = waypointIndex;\r\n        const waypointModelsToMove = this._waypointCollection.splice(0, numberOfWaypointsToMove);\r\n\r\n        this._previousWaypointCollection.push(...waypointModelsToMove);\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n    * If applicable, make the SID entry match the specified departure runway\r\n    *\r\n    * @for LegModel\r\n    * @method updateSidLegForDepartureRunwayModel\r\n    * @param runwayModel {RunwayModel}\r\n    */\r\n    updateSidLegForDepartureRunwayModel(runwayModel) {\r\n        if (!this.isSidLeg) {\r\n            return;\r\n        }\r\n\r\n        const routeStringComponents = this._routeString.split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER);\r\n        const currentEntryName = routeStringComponents[0];\r\n        const currentExitName = routeStringComponents[2];\r\n        // assumed first four characters of exit name to be airport ICAO\r\n        const currentRunwayName = currentEntryName.substr(4);\r\n        const nextRunwayName = runwayModel.name;\r\n        const nextEntryName = currentEntryName.substr(0, 4).concat(nextRunwayName);\r\n\r\n        if (runwayModel.name === currentRunwayName) {\r\n            return;\r\n        }\r\n\r\n\r\n        if (!this._procedureModel.hasEntry(nextEntryName)) {\r\n            return;\r\n        }\r\n\r\n        this._waypointCollection = this._generateWaypointCollection(nextEntryName, currentExitName);\r\n    }\r\n\r\n    /**\r\n     * If applicable, make the STAR exit match the specified arrival runway model\r\n     *\r\n     * @for LegModel\r\n     * @method updateStarLegForArrivalRunwayModel\r\n     * @param runwayModel {RunwayModel}\r\n     */\r\n    updateStarLegForArrivalRunwayModel(runwayModel) {\r\n        if (!this.isStarLeg) {\r\n            return;\r\n        }\r\n\r\n        const routeStringComponents = this._routeString.split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER);\r\n        const currentEntryName = routeStringComponents[0];\r\n        const currentExitName = routeStringComponents[2];\r\n        // assumed first four characters of exit name to be airport ICAO\r\n        const currentRunwayName = currentExitName.substr(4);\r\n        const nextRunwayName = runwayModel.name;\r\n        const nextExitName = currentExitName.substr(0, 4).concat(nextRunwayName);\r\n\r\n        if (runwayModel.name === currentRunwayName) {\r\n            return;\r\n        }\r\n\r\n        if (!this._procedureModel.hasExit(nextExitName)) {\r\n            return;\r\n        }\r\n\r\n        this._waypointCollection = this._generateWaypointCollection(currentEntryName, nextExitName);\r\n    }\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    _findIndexOfWaypointName(waypointName) {\r\n        return _findIndex(this._waypointCollection, (waypointModel) => {\r\n            return waypointModel.name === waypointName.toUpperCase();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Reset all waypoints and move them to the `#_previousWaypointCollection`\r\n     *\r\n     * TODO: implement object pooling with `WaypointModel`, this is the method\r\n     *       where the `WaypointModel` is returned to the pool\r\n     *\r\n     * @for LegModel\r\n     * @method _resetWaypointCollection\r\n     * @private\r\n     */\r\n    _resetWaypointCollection() {\r\n        this.skipAllWaypointsInLeg();\r\n\r\n        for (let i = 0; i < this._previousWaypointCollection.length; i++) {\r\n            this._previousWaypointCollection[i].reset();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Ensure that the airway, entry, and exit are all valid and can be used to generate waypoints\r\n     *\r\n     * Note that this should only be run on AIRWAY legs!\r\n     *\r\n     * @for LegModel\r\n     * @method _verifyAirwayAndEntryAndExitAreValid\r\n     * @private\r\n     */\r\n    _verifyAirwayAndEntryAndExitAreValid(entryName, exitName) {\r\n        if (_isNil(this._airwayModel)) {\r\n            throw new TypeError('Unable to generate waypoints because the requested airway does not exist');\r\n        }\r\n\r\n        const airwayIcao = this._airwayModel.icao;\r\n\r\n        if (!this._airwayModel.hasFixName(entryName)) {\r\n            throw new TypeError(`Expected valid entry of ${airwayIcao}, but received ${entryName}`);\r\n        }\r\n\r\n        if (!this._airwayModel.hasFixName(exitName)) {\r\n            throw new TypeError(`Expected valid exit of ${airwayIcao}, but received ${exitName}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Ensure that the procedure, entry, and exit are all valid and can be used to generate waypoints\r\n     *\r\n     * Note that this should only be run on PROCEDURE legs!\r\n     *\r\n     * @for LegModel\r\n     * @method _verifyProcedureAndEntryAndExitAreValid\r\n     * @private\r\n     */\r\n    _verifyProcedureAndEntryAndExitAreValid(entryName, exitName) {\r\n        if (_isNil(this._procedureModel)) {\r\n            throw new TypeError('Unable to generate waypoints because the requested procedure does not exist');\r\n        }\r\n\r\n        const procedureIcao = this._procedureModel.icao;\r\n\r\n        if (!this._procedureModel.hasEntry(entryName)) {\r\n            throw new TypeError(`Expected valid entry of ${procedureIcao}, but received ${entryName}`);\r\n        }\r\n\r\n        if (!this._procedureModel.hasExit(exitName)) {\r\n            throw new TypeError(`Expected valid exit of ${procedureIcao}, but received ${exitName}`);\r\n        }\r\n    }\r\n}\r\n","import _chunk from 'lodash/chunk';\r\nimport _first from 'lodash/first';\r\nimport _findIndex from 'lodash/findIndex';\r\nimport _intersection from 'lodash/intersection';\r\nimport _isNil from 'lodash/isNil';\r\nimport _isString from 'lodash/isString';\r\nimport _last from 'lodash/last';\r\nimport _map from 'lodash/map';\r\nimport _reduce from 'lodash/reduce';\r\nimport _without from 'lodash/without';\r\nimport LegModel from './LegModel';\r\nimport BaseModel from '../../base/BaseModel';\r\nimport AirportController from '../../airport/AirportController';\r\nimport RunwayModel from '../../airport/runway/RunwayModel';\r\nimport {\r\n    INVALID_INDEX,\r\n    INVALID_NUMBER,\r\n    REGEX\r\n} from '../../constants/globalConstants';\r\nimport {\r\n    DIRECT_SEGMENT_DIVIDER,\r\n    PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER\r\n} from '../../constants/routeConstants';\r\nimport { assembleProceduralRouteString } from '../../utilities/navigationUtilities';\r\n\r\n/**\r\n * Representation of an aircraft's flight plan route\r\n *\r\n * This object contains all of the legs and waypoints the FMS will use to navigate.\r\n * Each instance of an Aircraft has an FMS with a `RouteModel`, that it is able\r\n * to modify, including adding/removing legs/waypoints, adding/removing waypoint\r\n * restrictions, absorbing another `RouteModel`, etc.\r\n *\r\n * @class RouteModel\r\n */\r\nexport default class RouteModel extends BaseModel {\r\n    /**\r\n     * @for RouteModel\r\n     * @constructor\r\n     * @param routeString {string}\r\n     */\r\n    constructor(routeString) {\r\n        super();\r\n\r\n        /**\r\n         * Array of `LegModel`s on the route\r\n         *\r\n         * @for RouteModel\r\n         * @property _legCollection\r\n         * @type {array<LegModel>}\r\n         * @private\r\n         */\r\n        this._legCollection = [];\r\n\r\n        /**\r\n         * Array of `LegModel`s that have been passed (or skipped)\r\n         *\r\n         * Aircraft will proceed along the route to each waypoint, and upon completion\r\n         * of any given leg, it will move that leg here to the `#_previousLegCollection`,\r\n         * and proceed to the next leg in the `#_legCollection` until no more `LegModel`s\r\n         * exist, at which point they will simply hold their last assigned heading and altitude.\r\n         *\r\n         * @for RouteModel\r\n         * @property _previousLegCollection\r\n         * @type {array<WaypointModel>}\r\n         * @private\r\n         */\r\n        this._previousLegCollection = [];\r\n\r\n        this.init(routeString);\r\n    }\r\n\r\n    /**\r\n     * Return the current `LegModel`\r\n     *\r\n     * @for RouteModel\r\n     * @property currentLeg\r\n     * @type {LegModel}\r\n     */\r\n    get currentLeg() {\r\n        if (this._legCollection.length < 1) {\r\n            throw new TypeError('Expected the route to contain at least one leg');\r\n        }\r\n\r\n        return this._legCollection[0];\r\n    }\r\n\r\n    /**\r\n     * Return the current `WaypointModel`\r\n     *\r\n     * @for RouteModel\r\n     * @property currentWaypoint\r\n     * @type {WaypointModel}\r\n     */\r\n    get currentWaypoint() {\r\n        return this.currentLeg.currentWaypoint;\r\n    }\r\n\r\n    /**\r\n     * Return the current `#_legCollection`\r\n     *\r\n     * @for RouteModel\r\n     * @property legCollection\r\n     * @type {array<LegModel>}\r\n     */\r\n    get legCollection() {\r\n        return this._legCollection;\r\n    }\r\n\r\n    /**\r\n     * Return the next `LegModel`, if it exists\r\n     *\r\n     * @for RouteModel\r\n     * @property nextLeg\r\n     * @type {LegModel}\r\n     */\r\n    get nextLeg() {\r\n        if (!this.hasNextLeg()) {\r\n            return null;\r\n        }\r\n\r\n        return this._legCollection[1];\r\n    }\r\n\r\n    /**\r\n     * Return the next `WaypointModel`, from current or future leg\r\n     *\r\n     * @for RouteModel\r\n     * @property nextWaypoint\r\n     * @type {WaypointModel}\r\n     */\r\n    get nextWaypoint() {\r\n        if (!this.hasNextWaypoint()) {\r\n            return null;\r\n        }\r\n\r\n        if (this.currentLeg.hasNextWaypoint()) {\r\n            return this.currentLeg.nextWaypoint;\r\n        }\r\n\r\n        return this.nextLeg.currentWaypoint;\r\n    }\r\n\r\n    /**\r\n     * Return an array of all waypoints in all legs of the route\r\n     *\r\n     * @for RouteModel\r\n     * @property waypoints\r\n     * @type {array<WaypointModel>}\r\n     */\r\n    get waypoints() {\r\n        return _reduce(this._legCollection, (waypointList, legModel) => {\r\n            return waypointList.concat(legModel.waypoints);\r\n        }, []);\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * Initialize instance properties\r\n     *\r\n     * @for RouteModel\r\n     * @method init\r\n     * @param routeString {string}\r\n     * @chainable\r\n     */\r\n    init(routeString) {\r\n        this._legCollection = this._generateLegsFromRouteString(routeString);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Reset instance properties\r\n     *\r\n     * @for RouteModel\r\n     * @method reset\r\n     * @chainable\r\n     */\r\n    reset() {\r\n        this._legCollection = [];\r\n\r\n        return this;\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * Merge the provided route model into this route model, if possible\r\n     *\r\n     * @for RouteModel\r\n     * @method absorbRouteModel\r\n     * @param routeModel {RouteModel}\r\n     * @return {array} [success of operation, response]\r\n     */\r\n    absorbRouteModel(routeModel) {\r\n        const firstWaypointName = _first(routeModel.waypoints).name;\r\n        const lastWaypointName = _last(routeModel.waypoints).name;\r\n        const routesConverge = this.hasWaypointName(lastWaypointName);\r\n        const routesDiverge = this.hasWaypointName(firstWaypointName);\r\n\r\n        if (routesConverge && routesDiverge) {\r\n            return this._overwriteRouteBetweenWaypointNames(firstWaypointName, lastWaypointName, routeModel);\r\n        }\r\n\r\n        if (routesConverge) {\r\n            return this._prependRouteModelEndingAtWaypointName(lastWaypointName, routeModel);\r\n        }\r\n\r\n        if (routesDiverge) {\r\n            return this._appendRouteModelBeginningAtWaypointName(firstWaypointName, routeModel);\r\n        }\r\n\r\n        return [false, 'routes do not have continuity!'];\r\n    }\r\n\r\n    /**\r\n     * Mark the specified waypoint as a hold waypoint\r\n     *\r\n     * @for RouteModel\r\n     * @method activateHoldForWaypointName\r\n     * @param waypointName {string} name of waypoint in route\r\n     * @param holdParameters {object}\r\n     * @param fallbackInboundHeading {number} an optional inboundHeading that is used if no default is available\r\n     * @returns {object} The hold parameters set for the `WaypointModel`\r\n     */\r\n    activateHoldForWaypointName(waypointName, holdParameters, fallbackInboundHeading = undefined) {\r\n        if (!this.hasWaypointName(waypointName)) {\r\n            return;\r\n        }\r\n\r\n        const legIndex = this._findIndexOfLegContainingWaypointName(waypointName);\r\n        const legModel = this._legCollection[legIndex];\r\n\r\n        // This calculates the inbound heading to the fix from the preceding waypoint,\r\n        // and uses that as the fallbackInboundHeading.\r\n        // If no preceding waypoing exists, then the original fallbackInboundHeading passed is used\r\n        [fallbackInboundHeading] = this.waypoints.reduce((last, wpt) => {\r\n            let [heading] = last;\r\n            const [, lastWpt] = last;\r\n\r\n            if (lastWpt !== null && wpt.name === waypointName.toUpperCase()) {\r\n                heading = wpt.positionModel.bearingFromPosition(lastWpt.positionModel);\r\n            }\r\n\r\n            return [heading, wpt];\r\n        }, [fallbackInboundHeading, null]);\r\n\r\n        return legModel.activateHoldForWaypointName(waypointName, holdParameters, fallbackInboundHeading);\r\n    }\r\n\r\n    /**\r\n    * Return an array of waypoints in the flight plan that have altitude restrictions\r\n    *\r\n    * @for RouteModel\r\n    * @method getAltitudeRestrictedWaypoints\r\n    * @return {array<WaypointModel>}\r\n    */\r\n    getAltitudeRestrictedWaypoints() {\r\n        return this.waypoints.filter((waypoint) => waypoint.hasAltitudeRestriction);\r\n    }\r\n\r\n    /**\r\n     * Return the ICAO identifier for the airport at whose runway this route will terminate\r\n     *\r\n     * @for LegModel\r\n     * @method getArrivalRunwayAirportIcao\r\n     * @return {string}\r\n     */\r\n    getArrivalRunwayAirportIcao() {\r\n        if (!this.hasStarLeg()) {\r\n            return null;\r\n        }\r\n\r\n        const starLegIndex = this._findStarLegIndex();\r\n\r\n        return this._legCollection[starLegIndex].getArrivalRunwayAirportIcao();\r\n    }\r\n\r\n    /**\r\n     * Return the `AirportModel` at whose runway this route will terminate\r\n     *\r\n     * @for RouteModel\r\n     * @method getArrivalRunwayAirportModel\r\n     * @return {AirportModel}\r\n     */\r\n    getArrivalRunwayAirportModel() {\r\n        const airportIcao = this.getArrivalRunwayAirportIcao();\r\n\r\n        if (!airportIcao) {\r\n            return null;\r\n        }\r\n\r\n        return AirportController.airport_get(airportIcao);\r\n    }\r\n\r\n    /**\r\n     * Return the name of the runway at which this route will terminate\r\n     *\r\n     * @for LegModel\r\n     * @method getArrivalRunwayName\r\n     * @return {string}\r\n     */\r\n    getArrivalRunwayName() {\r\n        if (!this.hasStarLeg()) {\r\n            return null;\r\n        }\r\n\r\n        const starLegIndex = this._findStarLegIndex();\r\n\r\n        return this._legCollection[starLegIndex].getArrivalRunwayName();\r\n    }\r\n\r\n    /**\r\n     * Return the `RunwayModel` at which this route will terminate\r\n     *\r\n     * @for RouteModel\r\n     * @method getArrivalRunwayModel\r\n     * @return {RunwayModel}\r\n     */\r\n    getArrivalRunwayModel() {\r\n        const arrivalRunwayName = this.getArrivalRunwayName();\r\n\r\n        if (!arrivalRunwayName) {\r\n            return null;\r\n        }\r\n\r\n        return this.getArrivalRunwayAirportModel().getRunway(arrivalRunwayName);\r\n    }\r\n\r\n    /**\r\n    * Return the ICAO identifier for the airport at whose runway this route originates\r\n    *\r\n    * @for LegModel\r\n    * @method getDepartureRunwayAirportIcao\r\n    * @return {string}\r\n    */\r\n    getDepartureRunwayAirportIcao() {\r\n        if (!this.hasSidLeg()) {\r\n            return null;\r\n        }\r\n\r\n        const sidLegModel = this._findSidLeg();\r\n\r\n        return sidLegModel.getDepartureRunwayAirportIcao();\r\n    }\r\n\r\n    /**\r\n     * Return the `AirportModel` for the airport at whose runway this route originates\r\n     *\r\n     * @for RouteModel\r\n     * @method getDepartureRunwayAirportModel\r\n     * @return {AirportModel}\r\n     */\r\n    getDepartureRunwayAirportModel() {\r\n        const airportIcao = this.getDepartureRunwayAirportIcao();\r\n\r\n        if (!airportIcao) {\r\n            return null;\r\n        }\r\n\r\n        return AirportController.airport_get(airportIcao);\r\n    }\r\n\r\n    /**\r\n    * Return the name of the runway at which this route originates\r\n    *\r\n    * @for LegModel\r\n    * @method getDepartureRunwayName\r\n    * @return {string}\r\n    */\r\n    getDepartureRunwayName() {\r\n        if (!this.hasSidLeg()) {\r\n            return null;\r\n        }\r\n\r\n        const sidLegModel = this._findSidLeg();\r\n\r\n        return sidLegModel.getDepartureRunwayName();\r\n    }\r\n\r\n    /**\r\n     * Return the `RunwayModel` at which this route originates\r\n     *\r\n     * @for RouteModel\r\n     * @method getDepartureRunwayModel\r\n     * @return {RunwayModel}\r\n     */\r\n    getDepartureRunwayModel() {\r\n        const departureRunwayName = this.getDepartureRunwayName();\r\n\r\n        if (!departureRunwayName) {\r\n            return null;\r\n        }\r\n\r\n        return this.getDepartureRunwayAirportModel().getRunway(departureRunwayName);\r\n    }\r\n\r\n    /**\r\n    * Returns the lowest bottom altitude of any `LegModel` in the `#_legCollection`\r\n    *\r\n    * @for RouteModel\r\n    * @method getBottomAltitude\r\n    * @return {number}\r\n    */\r\n    getBottomAltitude() {\r\n        const minAltitudesFromLegs = _without(\r\n            _map(this._legCollection, (leg) => leg.getBottomAltitude()),\r\n            INVALID_NUMBER\r\n        );\r\n        const bottomAltitude = Math.min(...minAltitudesFromLegs);\r\n\r\n        if (bottomAltitude === Infinity) {\r\n            return INVALID_NUMBER;\r\n        }\r\n\r\n        return bottomAltitude;\r\n    }\r\n\r\n    /**\r\n     * Generate a route string for all legs in the `#_previousLegCollection` an `#_legCollection`\r\n     *\r\n     * @for RouteModel\r\n     * @method getRouteString\r\n     * @return {string}\r\n     */\r\n    getFullRouteString() {\r\n        const pastAndPresentLegModels = this._getPastAndPresentLegModels();\r\n        const pastAndPresentLegRouteStrings = _map(pastAndPresentLegModels, (legModel) => legModel.routeString);\r\n\r\n        return this._combineRouteStrings(pastAndPresentLegRouteStrings);\r\n    }\r\n\r\n    /**\r\n    * Returns the full route string, with airports removed\r\n    *\r\n    * Example:\r\n    * - `KSEA16L.BANGR9.PANGL` --> `BANGR9.PANGL`\r\n    *\r\n    * @for RouteModel\r\n    * @method getFullRouteStringWithoutAirportsWithSpaces\r\n    * @return {string}\r\n    */\r\n    getFullRouteStringWithoutAirportsWithSpaces() {\r\n        const pastAndPresentLegModels = this._getPastAndPresentLegModels();\r\n        const legRouteStringsWithoutAirports = _map(pastAndPresentLegModels, (legModel) => {\r\n            return legModel.getRouteStringWithoutAirports();\r\n        });\r\n\r\n        return this._combineRouteStrings(legRouteStringsWithoutAirports)\r\n            .replace(REGEX.DOUBLE_DOT, ' ')\r\n            .replace(REGEX.SINGLE_DOT, ' ');\r\n    }\r\n\r\n    /**\r\n     * Return `#fullRouteString` with spaces between elements instead of dot notation\r\n     *\r\n     * Example:\r\n     * - `KSEA16L.BANGR9.PANGL` --> `KSEA16L BANGR9 PANGL`\r\n     *\r\n     * Used mostly for representing the route string in the view, like\r\n     * an aircraft strip, etc.\r\n     *\r\n     * @for RouteModel\r\n     * @method getFullRouteStringWithSpaces\r\n     * @return {string}\r\n     */\r\n    getFullRouteStringWithSpaces() {\r\n        const routeString = this.getFullRouteString();\r\n\r\n        return routeString.replace(REGEX.DOUBLE_DOT, ' ').replace(REGEX.SINGLE_DOT, ' ');\r\n    }\r\n\r\n    /**\r\n     * Generate a route string for all legs in the `#_legCollection`\r\n     *\r\n     * @for RouteModel\r\n     * @method getRouteString\r\n     * @return {string}\r\n     */\r\n    getRouteString() {\r\n        const legRouteStrings = _map(this._legCollection, (legModel) => legModel.routeString);\r\n\r\n        return this._combineRouteStrings(legRouteStrings);\r\n    }\r\n\r\n    /**\r\n     * Return `#routeString` with spaces between elements instead of dot notation\r\n     *\r\n     * Example:\r\n     * - `KSEA16L.BANGR9.PANGL..TOU` --> `BANGR9 PANGL TOU`\r\n     *\r\n     * @for RouteModel\r\n     * @method getRouteStringWithSpaces\r\n     * @return {string}\r\n     */\r\n    getRouteStringWithSpaces() {\r\n        const routeString = this.getRouteString();\r\n\r\n        return routeString.replace(REGEX.DOUBLE_DOT, ' ').replace(REGEX.SINGLE_DOT, ' ');\r\n    }\r\n\r\n    /**\r\n     * Returns exit waypoint for a departure aircraft, to be used in datablock\r\n     *\r\n     * When a SID procedure is defined, this will return the exit waypoint\r\n     * Example:\r\n     * - `KLAS07R.BOACH6.TNP` -> `TNP`\r\n     *\r\n     * When no SID procedure is defined, this will return the first fix in the route\r\n     * Example:\r\n     * - `OAL..MLF..PGS` -> `OAL`\r\n     *\r\n     * @for RouteModel\r\n     * @method getFlightPlanEntry\r\n     * @returns {string} First fix in flightPlan or exit fix of SID\r\n     */\r\n    getFlightPlanEntry() {\r\n        if (!this.hasSidLeg()) {\r\n            return this.getFullRouteString().split('..')[0];\r\n        }\r\n\r\n        const sidLegModel = this._findSidLeg();\r\n\r\n        return sidLegModel.getExitFixName();\r\n    }\r\n\r\n    /**\r\n     * Return the ICAO identifier of the SID in use (if any)\r\n     *\r\n     * @for RouteModel\r\n     * @method getSidIcao\r\n     * @return {string}\r\n     */\r\n    getSidIcao() {\r\n        if (!this.hasSidLeg()) {\r\n            return;\r\n        }\r\n\r\n        const sidLegModel = this._findSidLeg();\r\n\r\n        return sidLegModel.getProcedureIcao();\r\n    }\r\n\r\n    /**\r\n     * Return the name of the SID in use (if any)\r\n     *\r\n     * @for RouteModel\r\n     * @method getSidName\r\n     * @return {string}\r\n     */\r\n    getSidName() {\r\n        if (!this.hasSidLeg()) {\r\n            return;\r\n        }\r\n\r\n        const sidLegModel = this._findSidLeg();\r\n\r\n        return sidLegModel.getProcedureName();\r\n    }\r\n\r\n    /**\r\n     * Return the initial altitude of the SID or the airport\r\n     *\r\n     * @for RouteModel\r\n     * @method getInitialClimbClearance\r\n     * @return {number}\r\n     */\r\n    getInitialClimbClearance() {\r\n        const sidLegModel = this._findSidLeg();\r\n\r\n        if (sidLegModel && sidLegModel.altitude) {\r\n            return sidLegModel.altitude;\r\n        }\r\n\r\n        const airport = AirportController.airport_get();\r\n\r\n        return airport.initial_alt;\r\n    }\r\n\r\n    /**\r\n     * Return the ICAO identifier of the STAR in use (if any)\r\n     *\r\n     * @for RouteModel\r\n     * @method getStarIcao\r\n     * @return {string}\r\n     */\r\n    getStarIcao() {\r\n        if (!this.hasStarLeg()) {\r\n            return;\r\n        }\r\n\r\n        const starLegModel = this._legCollection[this._findStarLegIndex()];\r\n\r\n        return starLegModel.getProcedureIcao();\r\n    }\r\n\r\n    /**\r\n     * Return the name of the STAR in use (if any)\r\n     *\r\n     * @for RouteModel\r\n     * @method getStarName\r\n     * @return {string}\r\n     */\r\n    getStarName() {\r\n        if (!this.hasStarLeg()) {\r\n            return;\r\n        }\r\n\r\n        const starLegModel = this._legCollection[this._findStarLegIndex()];\r\n\r\n        return starLegModel.getProcedureName();\r\n    }\r\n\r\n    /**\r\n     * Returns the highest top altitude of any `LegModel` in the `#_legCollection`\r\n    *\r\n    * @for RouteModel\r\n    * @method getTopAltitude\r\n    * @return {number}\r\n    */\r\n    getTopAltitude() {\r\n        const maxAltitudesFromLegs = _without(\r\n            _map(this._legCollection, (leg) => leg.getTopAltitude()),\r\n            INVALID_NUMBER\r\n        );\r\n        const topAltitude = Math.max(...maxAltitudesFromLegs);\r\n\r\n        if (topAltitude === -Infinity) {\r\n            return INVALID_NUMBER;\r\n        }\r\n\r\n        return topAltitude;\r\n    }\r\n\r\n    /**\r\n     * Whether the route has another leg after the current one\r\n     *\r\n     * @for RouteModel\r\n     * @method hasNextLeg\r\n     * @return {boolean}\r\n     */\r\n    hasNextLeg() {\r\n        return this._legCollection.length > 1;\r\n    }\r\n\r\n    /**\r\n     * Whether the route has another waypoint after the current one\r\n     *\r\n     * This includes waypoints in the current and future legs\r\n     *\r\n     * @for RouteModel\r\n     * @method hasNextWaypoint\r\n     * @return {boolean}\r\n     */\r\n    hasNextWaypoint() {\r\n        if (this.currentLeg.hasNextWaypoint()) {\r\n            return true;\r\n        }\r\n\r\n        if (!this.hasNextLeg()) {\r\n            return false;\r\n        }\r\n\r\n        return !_isNil(this.nextLeg.currentWaypoint);\r\n    }\r\n\r\n    /**\r\n     * Return whether the route has a SID leg\r\n     *\r\n     * @for RouteModel\r\n     * @method hasSidLeg\r\n     * @return {boolean}\r\n     */\r\n    hasSidLeg() {\r\n        return this._findSidLegIndex() !== INVALID_INDEX;\r\n    }\r\n\r\n    /**\r\n     * Return whether the route has a STAR leg\r\n     *\r\n     * @for RouteModel\r\n     * @method hasStarLeg\r\n     * @return {boolean}\r\n     */\r\n    hasStarLeg() {\r\n        return this._findStarLegIndex() !== INVALID_INDEX;\r\n    }\r\n\r\n    /**\r\n     * Return whether the route contains a waypoint with the specified name\r\n     *\r\n     * @for RouteModel\r\n     * @method hasWaypointName\r\n     * @param waypointName {string}\r\n     * @return {boolean}\r\n     */\r\n    hasWaypointName(waypointName) {\r\n        for (let i = 0; i < this._legCollection.length; i++) {\r\n            if (this._legCollection[i].hasWaypointName(waypointName)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Returns whether the specified runway is valid for this route's SID leg (if it has one)\r\n     *\r\n     * If there is no SID, there is no issue with changing runways, so we would treat this as \"valid\"\r\n     *\r\n     * @for RouteModel\r\n     * @method isRunwayModelValidForSid\r\n     * @param runwayModel {RunwayModel}\r\n     * @return {boolean}\r\n     */\r\n    isRunwayModelValidForSid(runwayModel) {\r\n        if (!(runwayModel instanceof RunwayModel)) {\r\n            return false;\r\n        }\r\n\r\n        const sidLegModel = this._findSidLeg();\r\n\r\n        if (!sidLegModel) {\r\n            return true;\r\n        }\r\n\r\n        const departureAirportIcao = this.getDepartureRunwayAirportIcao().toUpperCase();\r\n        const entryName = `${departureAirportIcao}${runwayModel.name}`;\r\n\r\n        return sidLegModel.procedureHasEntry(entryName);\r\n    }\r\n\r\n    /**\r\n     * Returns whether the specified runway is valid for this route's STAR leg (if it has one)\r\n     *\r\n     * If there is no STAR, there is no issue with changing runways, so we would treat this as \"valid\"\r\n     *\r\n     * @for RouteModel\r\n     * @method isRunwayModelValidForStar\r\n     * @param runwayModel {RunwayModel}\r\n     * @return {boolean}\r\n     */\r\n    isRunwayModelValidForStar(runwayModel) {\r\n        if (!(runwayModel instanceof RunwayModel)) {\r\n            return false;\r\n        }\r\n\r\n        const starLegIndex = this._findStarLegIndex();\r\n        const starLegModel = this._legCollection[starLegIndex];\r\n\r\n        if (!starLegModel) {\r\n            return true;\r\n        }\r\n\r\n        const arrivalAirportIcao = this.getArrivalRunwayAirportIcao().toUpperCase();\r\n        const exitName = `${arrivalAirportIcao}${runwayModel.name}`;\r\n\r\n        return starLegModel.procedureHasExit(exitName);\r\n    }\r\n\r\n    /**\r\n     * Skip ahead to the next waypoint\r\n     *\r\n     * If there are no more waypoints in the `#currentLeg`, this will also cause\r\n     * us to skip to the next leg.\r\n     *\r\n     * @for RouteModel\r\n     * @method moveToNextWaypoint\r\n     */\r\n    moveToNextWaypoint() {\r\n        if (!this.currentLeg.hasNextWaypoint()) {\r\n            return this.moveToNextLeg();\r\n        }\r\n\r\n        this.currentLeg.moveToNextWaypoint();\r\n    }\r\n\r\n    /**\r\n     * Replace the arrival procedure leg with a new one (if it exists in the route)\r\n     *\r\n     * Create a new STAR leg from the specified route string. If a STAR leg already\r\n     * exists, replace that leg with the new one. Else, add the new one at the end\r\n     * of the #_legCollection.\r\n     *\r\n     * @for RouteModel\r\n     * @method replaceArrivalProcedure\r\n     * @param routeString {string}\r\n     * @return {boolean} whether operation was successful\r\n     */\r\n    replaceArrivalProcedure(routeString) {\r\n        let starLegModel;\r\n\r\n        try {\r\n            starLegModel = new LegModel(routeString);\r\n        } catch (error) {\r\n            console.error(error);\r\n\r\n            return false;\r\n        }\r\n\r\n        // if no STAR leg exists, insert the new one as the new last leg\r\n        if (!this.hasStarLeg()) {\r\n            this._legCollection.push(starLegModel);\r\n\r\n            return true;\r\n        }\r\n\r\n        this._legCollection[this._findStarLegIndex()] = starLegModel;\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Replace the departure procedure leg with a new one (if it exists in the route)\r\n     *\r\n     * Create a new SID leg from the specified route string. If a SID leg already\r\n     * exists, replace that leg with the new one. Else, add the new one at the\r\n     * beginning of the #_legCollection.\r\n     *\r\n     * @for RouteModel\r\n     * @method replaceDepartureProcedure\r\n     * @param routeString {string}\r\n     * @return {array} [success of operation, response]\r\n     */\r\n    replaceDepartureProcedure(routeString) {\r\n        let routeModel;\r\n\r\n        try {\r\n            routeModel = new RouteModel(routeString);\r\n        } catch (error) {\r\n            console.error(error);\r\n\r\n            return [false, `requested route of \"${routeString.toUpperCase()}\" is invalid`];\r\n        }\r\n\r\n        return this.absorbRouteModel(routeModel);\r\n    }\r\n\r\n    /**\r\n     * Move the current leg into the `#_previousLegCollection`\r\n     *\r\n     * This also results in the `#nextLeg` becoming the `#currentLeg`\r\n     *\r\n     * @for RouteModel\r\n     * @method moveToNextLeg\r\n     */\r\n    moveToNextLeg() {\r\n        if (!this.hasNextLeg()) {\r\n            return;\r\n        }\r\n\r\n        const legToMove = this._legCollection.splice(0, 1);\r\n\r\n        this._previousLegCollection.push(...legToMove);\r\n    }\r\n\r\n    /**\r\n     * Skip ahead to the waypoint with the specified name, if it exists\r\n     *\r\n     * @for RouteModel\r\n     * @method skipToWaypointName\r\n     * @param waypointName {string}\r\n     * @return {boolean} success of operation\r\n     */\r\n    skipToWaypointName(waypointName) {\r\n        if (!this.hasWaypointName(waypointName)) {\r\n            return false;\r\n        }\r\n\r\n        if (this.currentLeg.hasWaypointName(waypointName)) {\r\n            return this.currentLeg.skipToWaypointName(waypointName);\r\n        }\r\n\r\n        const legIndex = _findIndex(this._legCollection, (legModel) => legModel.hasWaypointName(waypointName));\r\n        const legModelsToMove = this._legCollection.splice(0, legIndex);\r\n\r\n        this._previousLegCollection.push(...legModelsToMove);\r\n\r\n        return this.currentLeg.skipToWaypointName(waypointName);\r\n    }\r\n\r\n    /**\r\n     * Ensure the SID leg has the specified departure runway as the entry point\r\n     *\r\n     * @for RouteModel\r\n     * @method updateSidLegForDepartureRunwayModel\r\n     * @param runwayModel {RunwayModel}\r\n     */\r\n    updateSidLegForDepartureRunwayModel(runwayModel) {\r\n        if (!this.hasSidLeg()) {\r\n            return;\r\n        }\r\n\r\n        const sidLegModel = this._findSidLeg();\r\n\r\n        sidLegModel.updateSidLegForDepartureRunwayModel(runwayModel);\r\n    }\r\n\r\n    /**\r\n    * Ensure the STAR leg has the specified arrival runway as the exit point\r\n    *\r\n    * @for RouteModel\r\n    * @method updateStarLegForArrivalRunwayModel\r\n    * @param runwayModel {RunwayModel}\r\n    */\r\n    updateStarLegForArrivalRunwayModel(runwayModel) {\r\n        if (!this.hasStarLeg()) {\r\n            return;\r\n        }\r\n\r\n        if (!this.isRunwayModelValidForStar(runwayModel)) {\r\n            console.error(`Received Runway ${runwayModel.name}, which is not valid for the assigned STAR. ` +\r\n                'The runway should have been validated before passing it to this method!');\r\n\r\n            return;\r\n        }\r\n\r\n        const originalCurrentWaypointName = this.currentWaypoint.name;\r\n        const nextExitName = `${this.getArrivalRunwayAirportIcao().toUpperCase()}${runwayModel.name}`;\r\n        const starLegIndex = this._findStarLegIndex();\r\n        const amendedStarLegModel = this._createAmendedStarLegUsingDifferentExitName(nextExitName, starLegIndex);\r\n        this._legCollection[starLegIndex] = amendedStarLegModel;\r\n\r\n        this.skipToWaypointName(originalCurrentWaypointName);\r\n    }\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    /**\r\n     * Append a provided route model onto the end of this RouteModel\r\n     *\r\n     * This method only serves to call the method that contains the appropriate logic\r\n     * based on the type of leg in which the divergent waypoint resides, since this\r\n     * heavily weighs in to how the merging of the routes should be done. Note that\r\n     * the #_legCollection will be mutated in this process.\r\n     *\r\n     * @for RouteModel\r\n     * @method _appendRouteModelBeginningAtWaypointName\r\n     * @param divergentWaypointName {string} name of waypoint at which the two routes have continuity\r\n     * @param routeModel {RouteModel} the RouteModel to be absorbed into this\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    _appendRouteModelBeginningAtWaypointName(divergentWaypointName, routeModel) {\r\n        const indexOfDivergentLeg = this._findIndexOfLegContainingWaypointName(divergentWaypointName);\r\n        const divergentLeg = this._legCollection[indexOfDivergentLeg];\r\n\r\n        if (divergentLeg.isAirwayLeg) {\r\n            return this._appendRouteModelOutOfAirwayLeg(divergentWaypointName, routeModel);\r\n        }\r\n\r\n        if (divergentLeg.isDirectLeg) {\r\n            return this._appendRouteModelOutOfDirectLeg(divergentWaypointName, routeModel);\r\n        }\r\n\r\n        if (divergentLeg.isSidLeg) {\r\n            return this._appendRouteModelOutOfSidLeg(divergentWaypointName, routeModel);\r\n        }\r\n\r\n        if (divergentLeg.isStarLeg) {\r\n            return this._appendRouteModelOutOfStarLeg(divergentWaypointName, routeModel);\r\n        }\r\n\r\n        throw new TypeError(`Expected known leg type, but received \"${divergentLeg.legType}\" ` +\r\n            'type leg, preventing ability to determine the appropriate route merging strategy!');\r\n    }\r\n\r\n    /**\r\n     * Append a provided route model into this RouteModel when the divergent waypoint is in an airway leg\r\n     *\r\n     * This should only ever be called by `._appendRouteModelBeginningAtWaypointName()`\r\n     *\r\n     * @for RouteModel\r\n     * @method _appendRouteModelOutOfAirwayLeg\r\n     * @param divergentWaypointName {string} name of waypoint at which the two routes have continuity\r\n     * @param routeModel {RouteModel} the RouteModel to be absorbed into this\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    _appendRouteModelOutOfAirwayLeg(divergentWaypointName, routeModel) {\r\n        const indexOfDivergentLeg = this._findIndexOfLegContainingWaypointName(divergentWaypointName);\r\n        const amendedAirwayLeg = this._createAmendedAirwayLegUsingDifferentExitName(\r\n            divergentWaypointName,\r\n            indexOfDivergentLeg\r\n        );\r\n\r\n        this._legCollection.splice(indexOfDivergentLeg);\r\n\r\n        this._legCollection = [\r\n            ...this._legCollection,\r\n            amendedAirwayLeg,\r\n            ...routeModel.legCollection\r\n        ];\r\n\r\n        const readback = {};\r\n        readback.log = `rerouting to: ${this.getRouteStringWithSpaces()}`;\r\n        readback.say = 'rerouting as requested';\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Append a provided route model into this RouteModel when the divergent waypoint is in a direct leg\r\n     *\r\n     * This should only ever be called by `._appendRouteModelBeginningAtWaypointName()`\r\n     *\r\n     * @for RouteModel\r\n     * @method _appendRouteModelOutOfDirectLeg\r\n     * @param divergentWaypointName {string} name of waypoint at which the two routes have continuity\r\n     * @param routeModel {RouteModel} the RouteModel to be absorbed into this\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    _appendRouteModelOutOfDirectLeg(divergentWaypointName, routeModel) {\r\n        const indexOfDivergentLeg = this._findIndexOfLegContainingWaypointName(divergentWaypointName);\r\n\r\n        this._legCollection.splice(indexOfDivergentLeg);\r\n        this._legCollection = this._legCollection.concat(routeModel.legCollection);\r\n\r\n        const readback = {};\r\n        readback.log = `rerouting to: ${this.getRouteStringWithSpaces()}`;\r\n        readback.say = 'rerouting as requested';\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Append a provided route model into this RouteModel when the divergent waypoint is in a SID leg\r\n     *\r\n     * This should only ever be called by `._appendRouteModelBeginningAtWaypointName()`\r\n     *\r\n     * @for RouteModel\r\n     * @method _appendRouteModelOutOfSidLeg\r\n     * @param divergentWaypointName {string} name of waypoint at which the two routes have continuity\r\n     * @param routeModel {RouteModel} the RouteModel to be absorbed into this\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    _appendRouteModelOutOfSidLeg(divergentWaypointName, routeModel) {\r\n        const indexOfDivergentLeg = this._findIndexOfLegContainingWaypointName(divergentWaypointName);\r\n        const remainingLegWaypointsAsLegs = this._createLegsFromSidWaypointsBeforeWaypointName(\r\n            divergentWaypointName,\r\n            indexOfDivergentLeg\r\n        );\r\n\r\n        this._legCollection.splice(indexOfDivergentLeg);\r\n\r\n        this._legCollection = [\r\n            ...this._legCollection,\r\n            ...remainingLegWaypointsAsLegs,\r\n            ...routeModel.legCollection\r\n        ];\r\n\r\n        const readback = {};\r\n        readback.log = `rerouting to: ${this.getRouteStringWithSpaces()}`;\r\n        readback.say = 'rerouting as requested';\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Append a provided route model into this RouteModel when the divergent waypoint is in a STAR leg\r\n     *\r\n     * This should only ever be called by `._appendRouteModelBeginningAtWaypointName()`\r\n     *\r\n     * @for RouteModel\r\n     * @method _appendRouteModelOutOfSidLeg\r\n     * @param divergentWaypointName {string} name of waypoint at which the two routes have continuity\r\n     * @param routeModel {RouteModel} the RouteModel to be absorbed into this\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    _appendRouteModelOutOfStarLeg(divergentWaypointName, routeModel) {\r\n        const indexOfDivergentLeg = this._findIndexOfLegContainingWaypointName(divergentWaypointName);\r\n        const divergentLegModel = this._legCollection[indexOfDivergentLeg];\r\n\r\n        if (divergentLegModel.procedureHasExit(divergentWaypointName)) {\r\n            const amendedStarLeg = this._createAmendedStarLegUsingDifferentExitName(\r\n                divergentWaypointName,\r\n                indexOfDivergentLeg\r\n            );\r\n\r\n            this._legCollection.splice(indexOfDivergentLeg);\r\n\r\n            this._legCollection = [\r\n                ...this._legCollection,\r\n                amendedStarLeg,\r\n                ...routeModel.legCollection\r\n            ];\r\n\r\n            const readback = {};\r\n            readback.log = `rerouting to: ${this.getRouteStringWithSpaces()}`;\r\n            readback.say = 'rerouting as requested';\r\n\r\n            return [true, readback];\r\n        }\r\n\r\n        const remainingLegWaypointsAsLegs = this._createLegsFromStarWaypointsBeforeWaypointName(\r\n            divergentWaypointName,\r\n            indexOfDivergentLeg\r\n        );\r\n\r\n        this._legCollection.splice(indexOfDivergentLeg);\r\n\r\n        this._legCollection = [\r\n            ...this._legCollection,\r\n            ...remainingLegWaypointsAsLegs,\r\n            ...routeModel._legCollection\r\n        ];\r\n\r\n        const readback = {};\r\n        readback.log = `rerouting to: ${this.getRouteStringWithSpaces()}`;\r\n        readback.say = 'rerouting as requested';\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n    * Combine all provided route strings\r\n    *\r\n    * This enables us to get a route string for a SPECIFIABLE series of legs, which\r\n    * may be a portion of the `#_legCollection` or of the `#_previousLegCollection`,\r\n    * or any combination thereof, including manipulated route strings.\r\n    *\r\n    * @for RouteModel\r\n    * @method _combineRouteStrings\r\n    * @param legRouteStrings {array<string>}\r\n    * @return {string}\r\n    */\r\n    _combineRouteStrings(legRouteStrings) {\r\n        const directRouteSegments = [_first(legRouteStrings)];\r\n\r\n        for (let i = 1; i < legRouteStrings.length; i++) {\r\n            const exitOfPreviousLeg = _last(legRouteStrings[i - 1].split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER));\r\n            const leg = legRouteStrings[i];\r\n            const legEntry = _first(leg.split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER));\r\n\r\n            if (legEntry === exitOfPreviousLeg) {\r\n                const indexOfPreviousLeg = directRouteSegments.length - 1;\r\n                const legRouteStringWithoutEntry = leg.replace(legEntry, '');\r\n                directRouteSegments[indexOfPreviousLeg] += legRouteStringWithoutEntry;\r\n\r\n                continue;\r\n            }\r\n\r\n            directRouteSegments.push(leg);\r\n        }\r\n\r\n        return directRouteSegments.join(DIRECT_SEGMENT_DIVIDER);\r\n    }\r\n\r\n    /**\r\n     * Create an airway leg based on the provided one, except with the new specified entry\r\n     *\r\n     * NOTE: this assumes the entry fix provided has already been verified as valid for this airway\r\n     *\r\n     * We know that `_createAmendedConvergentLeg()` and `_prependRouteModelIntoAirwayLeg()` both\r\n     * are called only in situations where a requested route amendment ends at a fix that was already\r\n     * included in the #_waypointCollection of an airway leg of the previous route. If this method is\r\n     * called by either of them, we can be confident that the `entryFixName` is on the airway.\r\n     *\r\n     * @for RouteModel\r\n     * @method _createAmendedAirwayLegUsingDifferentEntryName\r\n     * @param entryFixName {string} name of airway entry to use for the new airway leg\r\n     * @param legIndex {number} index of leg in the #_legCollection\r\n     * @return {LegModel}\r\n     */\r\n    _createAmendedAirwayLegUsingDifferentEntryName(entryFixName, legIndex) {\r\n        const convergentLegModel = this._legCollection[legIndex];\r\n        const airwayName = convergentLegModel.getAirwayName();\r\n        const exitFixName = convergentLegModel.getExitFixName();\r\n        const amendedAirwayRouteString = assembleProceduralRouteString(entryFixName, airwayName, exitFixName);\r\n        const amendedAirwayLeg = new LegModel(amendedAirwayRouteString);\r\n\r\n        return amendedAirwayLeg;\r\n    }\r\n\r\n    /**\r\n     * Create an airway leg based on the provided one, except with the new specified exit\r\n     *\r\n     * NOTE: this assumes the exit fix provided has already been verified as valid for this airway\r\n     *\r\n     * @for RouteModel\r\n     * @method _createAmendedAirwayLegUsingDifferentExitName\r\n     * @param exitFixName {string} name of airway exit to use for the new airway leg\r\n     * @param legIndex {number} index of leg in the #_legCollection\r\n     * @return {LegModel}\r\n     */\r\n    _createAmendedAirwayLegUsingDifferentExitName(exitFixName, legIndex) {\r\n        const divergentLeg = this._legCollection[legIndex];\r\n        const airwayName = divergentLeg.getAirwayName();\r\n        const entryFixName = divergentLeg.getEntryFixName();\r\n        const amendedAirwayRouteString = assembleProceduralRouteString(entryFixName, airwayName, exitFixName);\r\n        const amendedAirwayLeg = new LegModel(amendedAirwayRouteString);\r\n\r\n        return amendedAirwayLeg;\r\n    }\r\n\r\n    /**\r\n     * Amend the leg from #_legCollection at which a provided RouteModel converges with this model, such\r\n     * that the amended leg begins at the point of convergence.\r\n     *\r\n     * @for RouteModel\r\n     * @method _createAmendedConvergentLeg\r\n     * @param indexOfConvergentLegModel {number} index of leg which intersects with the provided RouteModel\r\n     * @param endWaypointName {string} name of the waypoint within that leg at which the routes converge\r\n     * @return {array<LegModel>}\r\n     */\r\n    _createAmendedConvergentLeg(indexOfConvergentLegModel, endWaypointName) {\r\n        const convergentLegModel = this._legCollection[indexOfConvergentLegModel];\r\n\r\n        if (convergentLegModel.isAirwayLeg) {\r\n            return [this._createAmendedAirwayLegUsingDifferentEntryName(endWaypointName, indexOfConvergentLegModel)];\r\n        }\r\n\r\n        if (convergentLegModel.isDirectLeg) {\r\n            return [];\r\n        }\r\n\r\n        if (convergentLegModel.isSidLeg) {\r\n            const firstWaypointName = _first(convergentLegModel.waypoints).name;\r\n\r\n            if (firstWaypointName === endWaypointName) {\r\n                return [convergentLegModel];\r\n            }\r\n\r\n            return this._createLegsFromSidWaypointsAfterWaypointName(endWaypointName, indexOfConvergentLegModel);\r\n        }\r\n\r\n        if (convergentLegModel.isStarLeg) {\r\n            const firstWaypointName = _first(convergentLegModel.waypoints).name;\r\n\r\n            if (firstWaypointName === endWaypointName) {\r\n                return [convergentLegModel];\r\n            }\r\n\r\n            if (convergentLegModel.procedureHasEntry(endWaypointName)) {\r\n                return [this._createAmendedStarLegUsingDifferentEntryName(endWaypointName, indexOfConvergentLegModel)];\r\n            }\r\n\r\n            return this._createLegsFromStarWaypointsAfterWaypointName(endWaypointName, indexOfConvergentLegModel);\r\n        }\r\n\r\n        throw new TypeError(`Expected known leg type, but received type \"${convergentLegModel.legType}\"`);\r\n    }\r\n\r\n    /**\r\n     * Amend the leg from #_legCollection at which a provided RouteModel diverges from this model, such\r\n     * that the amended leg ends at the point of divergence.\r\n     *\r\n     * @for RouteModel\r\n     * @method _createAmendedDivergentLeg\r\n     * @param indexOfDivergentLegModel {number} index of leg which intersects with the provided RouteModel\r\n     * @param startWaypointName {string} name of the waypoint within that leg at which the routes diverge\r\n     * @return {array<LegModel>}\r\n     */\r\n    _createAmendedDivergentLeg(indexOfDivergentLegModel, startWaypointName) {\r\n        const divergentLegModel = this._legCollection[indexOfDivergentLegModel];\r\n\r\n        if (divergentLegModel.isAirwayLeg) {\r\n            return [this._createAmendedAirwayLegUsingDifferentExitName(startWaypointName, indexOfDivergentLegModel)];\r\n        }\r\n\r\n        if (divergentLegModel.isDirectLeg) {\r\n            return [];\r\n        }\r\n\r\n        if (divergentLegModel.isSidLeg) {\r\n            const endingWaypointName = _last(divergentLegModel.waypoints).name;\r\n\r\n            if (endingWaypointName === startWaypointName) {\r\n                return [divergentLegModel];\r\n            }\r\n\r\n            return this._createLegsFromSidWaypointsBeforeWaypointName(startWaypointName, indexOfDivergentLegModel);\r\n        }\r\n\r\n        if (divergentLegModel.isStarLeg) {\r\n            const endingWaypointName = _last(divergentLegModel.waypoints).name;\r\n\r\n            if (endingWaypointName === startWaypointName) {\r\n                return [divergentLegModel];\r\n            }\r\n\r\n            if (divergentLegModel.procedureHasExit(startWaypointName)) {\r\n                return [this._createAmendedStarLegUsingDifferentExitName(startWaypointName, indexOfDivergentLegModel)];\r\n            }\r\n\r\n            return this._createLegsFromStarWaypointsBeforeWaypointName(startWaypointName, indexOfDivergentLegModel);\r\n        }\r\n\r\n        throw new TypeError(`Expected known leg type, but received type \"${divergentLegModel.legType}\"`);\r\n    }\r\n\r\n    /**\r\n     * Accept a SID leg, and explode it into direct legs, including only waypoints before the specified one\r\n     *\r\n     * @for RouteModel\r\n     * @method _createLegsFromSidWaypointsBeforeWaypointName\r\n     * @param waypointName {string} name of waypoint where we begin to discard waypoints\r\n     * @param legIndex {number} index of leg in the #_legCollection\r\n     * @return {array<LegModel>}\r\n     */\r\n    _createLegsFromSidWaypointsBeforeWaypointName(waypointName, legIndex) {\r\n        const divergentLeg = this._legCollection[legIndex];\r\n        const waypointModels = divergentLeg.getAllWaypointModelsBeforeWaypointName(waypointName);\r\n        const remainingLegWaypointsAsLegs = this._createLegModelsFromWaypointModels(waypointModels);\r\n\r\n        return remainingLegWaypointsAsLegs;\r\n    }\r\n\r\n    /**\r\n     * Accept a STAR leg, and explode it into direct legs, including only waypoints after the specified one\r\n     *\r\n     * @for RouteModel\r\n     * @method _createLegsFromStarWaypointsAfterWaypointName\r\n     * @param waypointName {string} name of waypoint after which we begin to keep waypoints\r\n     * @param legIndex {number} index of leg in the #_legCollection\r\n     * @return {array<LegModel>}\r\n     */\r\n    _createLegsFromStarWaypointsAfterWaypointName(waypointName, legIndex) {\r\n        const convergentLegModel = this._legCollection[legIndex];\r\n        const waypointModels = convergentLegModel.getAllWaypointModelsAfterWaypointName(waypointName);\r\n        const remainingLegWaypointsAsLegs = this._createLegModelsFromWaypointModels(waypointModels);\r\n\r\n        return remainingLegWaypointsAsLegs;\r\n    }\r\n\r\n    /**\r\n     * Accept a STAR leg, and explode it into direct legs, including only waypoints before the specified one\r\n     *\r\n     * @for RouteModel\r\n     * @method _createLegsFromStarWaypointsBeforeWaypointName\r\n     * @param waypointName {string} name of waypoint where we begin to discard waypoints\r\n     * @param legIndex {number} index of leg in the #_legCollection\r\n     * @return {array<LegModel>}\r\n     */\r\n    _createLegsFromStarWaypointsBeforeWaypointName(waypointName, legIndex) {\r\n        const divergentLegModel = this._legCollection[legIndex];\r\n        const waypointModels = divergentLegModel.getAllWaypointModelsBeforeWaypointName(waypointName);\r\n        const remainingLegWaypointsAsLegs = this._createLegModelsFromWaypointModels(waypointModels);\r\n\r\n        return remainingLegWaypointsAsLegs;\r\n    }\r\n\r\n    /**\r\n     * Return a STAR leg based on the provided leg, except with the new specified entry\r\n     *\r\n     * @for RouteModel\r\n     * @method _createAmendedStarLegUsingDifferentEntryName\r\n     * @param entryFixName {string} name of STAR entry to use for the new STAR leg\r\n     * @param legIndex {number} index of leg in the #_legCollection\r\n     * @return {LegModel}\r\n     */\r\n    _createAmendedStarLegUsingDifferentEntryName(entryFixName, legIndex) {\r\n        const convergentLegModel = this._legCollection[legIndex];\r\n        const procedureIcao = convergentLegModel.getProcedureIcao();\r\n        const exitFixName = convergentLegModel.getExitFixName();\r\n        const amendedStarRouteString = assembleProceduralRouteString(entryFixName, procedureIcao, exitFixName);\r\n        const amendedStarLeg = new LegModel(amendedStarRouteString);\r\n\r\n        return amendedStarLeg;\r\n    }\r\n\r\n    /**\r\n     * Return a STAR leg based on the provided leg, except with the new specified exit\r\n     *\r\n     * @for RouteModel\r\n     * @method _createAmendedStarLegUsingDifferentExitName\r\n     * @param exitFixName {string} name of STAR exit to use for the new STAR leg\r\n     * @param legIndex {number} index of leg in the #_legCollection\r\n     * @return {LegModel}\r\n     */\r\n    _createAmendedStarLegUsingDifferentExitName(exitFixName, legIndex) {\r\n        const divergentLegModel = this._legCollection[legIndex];\r\n        const procedureIcao = divergentLegModel.getProcedureIcao();\r\n        const entryFixName = divergentLegModel.getEntryFixName();\r\n        const amendedStarRouteString = assembleProceduralRouteString(entryFixName, procedureIcao, exitFixName);\r\n        const amendedStarLeg = new LegModel(amendedStarRouteString);\r\n\r\n        return amendedStarLeg;\r\n    }\r\n\r\n    /**\r\n     * Accept a SID leg, and explode it into direct legs, including only waypoints after the specified one\r\n     *\r\n     * @for RouteModel\r\n     * @method _createLegsFromSidWaypointsAfterWaypointName\r\n     * @param waypointName {string} name of waypoint where we begin to keep waypoints\r\n     * @param legIndex {number} index of leg in the #_legCollection\r\n     * @return {array<LegModel>}\r\n     */\r\n    _createLegsFromSidWaypointsAfterWaypointName(waypointName, legIndex) {\r\n        const convergentLeg = this._legCollection[legIndex];\r\n        const waypointModels = convergentLeg.getAllWaypointModelsAfterWaypointName(waypointName);\r\n        const remainingLegWaypointsAsLegs = this._createLegModelsFromWaypointModels(waypointModels);\r\n\r\n        return remainingLegWaypointsAsLegs;\r\n    }\r\n\r\n    // TODO: Also add support for preserving waypoint data (restrictions, hold instructions, etc)\r\n    /**\r\n     * Return an array of direct LegModels, one for each of the proided WaypointModels\r\n     *\r\n     * @for RouteModel\r\n     * @method _createLegModelsFromWaypointModels\r\n     * @param waypointModels {array<WaypointModel>} waypoint models to convert to direct legs\r\n     * @return {array<LegModel>}\r\n     */\r\n    _createLegModelsFromWaypointModels(waypointModels) {\r\n        return _map(waypointModels, (waypointModel) => new LegModel(waypointModel.name));\r\n    }\r\n\r\n    /**\r\n     * Divide a long route string into segments that can be individually represented by a `LegModel`\r\n     *\r\n     * @for RouteModel\r\n     * @method _divideRouteStringIntoSegments\r\n     * @param routeString {string}\r\n     * @return {array<string>}\r\n     * @private\r\n     */\r\n    _divideRouteStringIntoSegments(routeString) {\r\n        if (!_isString(routeString)) {\r\n            throw new TypeError(`Expected routeString's type to be string, but received '${typeof routeString}'`);\r\n        }\r\n\r\n        if (routeString.indexOf(' ') !== INVALID_INDEX) {\r\n            throw new TypeError(`Expected a route string that does not contain spaces, but received '${routeString}'`);\r\n        }\r\n\r\n        const chainedRouteStrings = routeString.split(DIRECT_SEGMENT_DIVIDER);\r\n        const segmentRouteStrings = [];\r\n\r\n        // deal with chained route strings (eg 'KSFO28R.OFFSH9.SXC.V458.IPL')\r\n        for (let i = 0; i < chainedRouteStrings.length; i++) {\r\n            const chainedRouteString = chainedRouteStrings[i];\r\n            const elementsInChain = chainedRouteString.split(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER);\r\n            const firstSegment = elementsInChain.splice(0, 3);\r\n            const segments = [\r\n                firstSegment,\r\n                ..._chunk(elementsInChain, 2)\r\n            ];\r\n\r\n            segmentRouteStrings.push(firstSegment.join(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER));\r\n\r\n            for (let j = 1; j < segments.length; j++) {\r\n                const exitOfPreviousSegment = _last(segments[j - 1]);\r\n                const procedureAndExitOfSegment = segments[j].join(PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER);\r\n\r\n                segmentRouteStrings.push(`${exitOfPreviousSegment}.${procedureAndExitOfSegment}`);\r\n            }\r\n        }\r\n\r\n        return segmentRouteStrings;\r\n    }\r\n\r\n    /**\r\n    * Return the name of the first waypoint at which this route and the specified route converge\r\n    * For routes that do not have continuity, this function will return undefined.\r\n    *\r\n    * @for RouteModel\r\n    * @method _findConvergentWaypointNameWithRouteModel\r\n    * @param routeModel {RouteModel}\r\n    * @return {string} name of the first waypoint where the routes converge\r\n    */\r\n    _findConvergentWaypointNameWithRouteModel(routeModel) {\r\n        const currentRouteWaypointNames = _map(this.waypoints, (waypointModel) => waypointModel.name);\r\n        const nextRouteWaypointNames = _map(routeModel.waypoints, (waypointModel) => waypointModel.name);\r\n\r\n        return _first(_intersection(currentRouteWaypointNames, nextRouteWaypointNames));\r\n    }\r\n\r\n    /**\r\n     * Return the index of the leg in the #_legCollection that contains the specified waypoint name\r\n     *\r\n     * @for RouteModel\r\n     * @method _findIndexOfLegContainingWaypointName\r\n     * @return {number}\r\n     */\r\n    _findIndexOfLegContainingWaypointName(waypointName) {\r\n        return _findIndex(this._legCollection, (legModel) => legModel.hasWaypointName(waypointName));\r\n    }\r\n\r\n    /**\r\n     * Return the index of the SID leg\r\n     *\r\n     * If for some reason there are multiple, this returns the first one.\r\n     * This search does NOT include legs in the `#_previousLegCollection`.\r\n     *\r\n     * @for RouteModel\r\n     * @method _findSidLegIndex\r\n     * @return {number}\r\n     * @private\r\n     */\r\n    _findSidLegIndex() {\r\n        return _findIndex(this._legCollection, (legModel) => legModel.isSidLeg);\r\n    }\r\n\r\n    /**\r\n     * Return the SID leg\r\n     *\r\n     * If for some reason there are multiple, this returns the first one.\r\n     * This search does NOT include legs in the `#_previousLegCollection`.\r\n     *\r\n     * @for RouteModel\r\n     * @method findSidLeg\r\n     * @return {ProcedureModel}\r\n     */\r\n    _findSidLeg() {\r\n        return this._legCollection.find((legModel) => legModel.isSidLeg);\r\n    }\r\n\r\n    /**\r\n     * Return the index of the STAR leg within the `#_legCollection`\r\n     *\r\n     * If for some reason there are multiple, this returns the first one.\r\n     * This search does NOT include legs in the `#_previousLegCollection`.\r\n     *\r\n     * @for RouteModel\r\n     * @method _findStarLegIndex\r\n     * @return {number}\r\n     * @private\r\n     */\r\n    _findStarLegIndex() {\r\n        return _findIndex(this._legCollection, (legModel) => legModel.isStarLeg);\r\n    }\r\n\r\n    /**\r\n     * Generate an array of `LegModel`s according to the provided route string\r\n     *\r\n     * @for RouteModel\r\n     * @method _generateLegsFromRouteString\r\n     * @param routeString {string}\r\n     * @return {array<LegModel>}\r\n     * @private\r\n     */\r\n    _generateLegsFromRouteString(routeString) {\r\n        const segments = this._divideRouteStringIntoSegments(routeString);\r\n        const legs = _map(segments, (segmentRouteString) => {\r\n            return new LegModel(segmentRouteString);\r\n        });\r\n\r\n        return legs;\r\n    }\r\n\r\n    /**\r\n     * Return a single continuous array containing the #_previousLegCollection AND #_legCollection\r\n     *\r\n     * @for RouteModel\r\n     * @method _getPastAndPresentLegModels\r\n     * @return {array<LegModel>}\r\n     */\r\n    _getPastAndPresentLegModels() {\r\n        return [\r\n            ...this._previousLegCollection,\r\n            ...this._legCollection\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * Remove portions of the route between the specified waypoint names, and insert the provided RouteModel\r\n     *\r\n     * This will also result in amending (or exploding into direct legs) any leg with which\r\n     * the provided RouteModel intersects in the middle. For example, if the provided RouteModel\r\n     * intersects an airway leg at a waypoint somewhere other than the entry or exit of that airway\r\n     * leg, this method will change the entry/exit of the airway leg such that it aligns with the\r\n     * provided RouteModel.\r\n     *\r\n     * @for RouteModel\r\n     * @method _overwriteRouteBetweenWaypointNames\r\n     * @param startWaypointName {string}\r\n     * @param endWaypointName {string}\r\n     * @param routeModel {RouteModel}\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    _overwriteRouteBetweenWaypointNames(startWaypointName, endWaypointName, routeModel) {\r\n        const legCollection = this._legCollection.slice(0);\r\n        const indexOfDivergentLegModel = this._findIndexOfLegContainingWaypointName(startWaypointName);\r\n        const indexOfConvergentLegModel = this._findIndexOfLegContainingWaypointName(endWaypointName);\r\n        const amendedDivergentLegModels = this._createAmendedDivergentLeg(indexOfDivergentLegModel, startWaypointName);\r\n        const amendedConvergentLegModels = this._createAmendedConvergentLeg(indexOfConvergentLegModel, endWaypointName);\r\n        const endingLegCollection = legCollection.splice(indexOfConvergentLegModel + 1);\r\n\r\n        legCollection.splice(indexOfDivergentLegModel);\r\n\r\n        const beginningLegCollection = legCollection;\r\n\r\n        this._legCollection = [\r\n            ...beginningLegCollection,\r\n            ...amendedDivergentLegModels,\r\n            ...routeModel.legCollection,\r\n            ...amendedConvergentLegModels,\r\n            ...endingLegCollection\r\n        ];\r\n\r\n        const readback = {};\r\n        readback.log = `rerouting to: ${this.getRouteStringWithSpaces()}`;\r\n        readback.say = 'rerouting as requested';\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Prepend a provided route model into this RouteModel\r\n     *\r\n     * This method only serves to call the method that contains the appropriate logic\r\n     * based on the type of leg in which the convergent waypoint resides, since this\r\n     * heavily weighs in to how the merging of the routes should be done.\r\n     *\r\n     * @for RouteModel\r\n     * @method _prependRouteModelEndingAtWaypointName\r\n     * @param convergentWaypointName {string} name of waypoint at which the two routes have continuity\r\n     * @param routeModel {RouteModel} the RouteModel to be absorbed into this\r\n     */\r\n    _prependRouteModelEndingAtWaypointName(convergentWaypointName, routeModel) {\r\n        const indexOfConvergentLegModel = this._findIndexOfLegContainingWaypointName(convergentWaypointName);\r\n        const convergentLegModel = this._legCollection[indexOfConvergentLegModel];\r\n\r\n        if (convergentLegModel.isAirwayLeg) {\r\n            return this._prependRouteModelIntoAirwayLeg(convergentWaypointName, routeModel);\r\n        }\r\n\r\n        if (convergentLegModel.isDirectLeg) {\r\n            return this._prependRouteModelIntoDirectLeg(convergentWaypointName, routeModel);\r\n        }\r\n\r\n        if (convergentLegModel.isSidLeg) {\r\n            return this._prependRouteModelIntoSidLeg(convergentWaypointName, routeModel);\r\n        }\r\n\r\n        if (convergentLegModel.isStarLeg) {\r\n            return this._prependRouteModelIntoStarLeg(convergentWaypointName, routeModel);\r\n        }\r\n\r\n        throw new TypeError(`Expected known leg type, but received \"${convergentLegModel.legType}\" ` +\r\n            'type leg, preventing ability to determine the appropriate route merging strategy!');\r\n    }\r\n\r\n    /**\r\n     * Prepend a provided route model into this RouteModel when the convergent waypoint is in an airway leg\r\n     *\r\n     * This should only ever be called by `._prependRouteModelEndingAtWaypointName()`\r\n     *\r\n     * @for RouteModel\r\n     * @method _prependRouteModelIntoAirwayLeg\r\n     * @param convergentWaypointName {string} name of waypoint at which the two routes have continuity\r\n     * @param routeModel {RouteModel} the RouteModel to be absorbed into this\r\n     */\r\n    _prependRouteModelIntoAirwayLeg(convergentWaypointName, routeModel) {\r\n        const indexOfConvergentLegModel = this._findIndexOfLegContainingWaypointName(convergentWaypointName);\r\n        const amendedAirwayLeg = this._createAmendedAirwayLegUsingDifferentEntryName(\r\n            convergentWaypointName,\r\n            indexOfConvergentLegModel\r\n        );\r\n\r\n        this._legCollection = [\r\n            ...routeModel.legCollection,\r\n            amendedAirwayLeg,\r\n            ...this._legCollection.splice(indexOfConvergentLegModel + 1)\r\n        ];\r\n\r\n        const readback = {};\r\n        readback.log = `rerouting to: ${this.getRouteStringWithSpaces()}`;\r\n        readback.say = 'rerouting as requested';\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Prepend a provided route model into this RouteModel when the convergent waypoint is in a direct leg\r\n     *\r\n     * This should only ever be called by `._prependRouteModelEndingAtWaypointName()`\r\n     *\r\n     * @for RouteModel\r\n     * @method _prependRouteModelIntoDirectLeg\r\n     * @param convergentWaypointName {string} name of waypoint at which the two routes have continuity\r\n     * @param routeModel {RouteModel} the RouteModel to be absorbed into this\r\n     */\r\n    _prependRouteModelIntoDirectLeg(convergentWaypointName, routeModel) {\r\n        const indexOfConvergentLegModel = this._findIndexOfLegContainingWaypointName(convergentWaypointName);\r\n\r\n        this._legCollection = [\r\n            ...routeModel.legCollection,\r\n            ...this._legCollection.splice(indexOfConvergentLegModel + 1)\r\n        ];\r\n\r\n        const readback = {};\r\n        readback.log = `rerouting to: ${this.getRouteStringWithSpaces()}`;\r\n        readback.say = 'rerouting as requested';\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Prepend a provided route model into this RouteModel when the convergent waypoint is in a SID leg\r\n     *\r\n     * This should only ever be called by `._prependRouteModelEndingAtWaypointName()`\r\n     *\r\n     * @for RouteModel\r\n     * @method _prependRouteModelIntoSidLeg\r\n     * @param convergentWaypointName {string} name of waypoint at which the two routes have continuity\r\n     * @param routeModel {RouteModel} the RouteModel to be absorbed into this\r\n     */\r\n    _prependRouteModelIntoSidLeg(convergentWaypointName, routeModel) {\r\n        const indexOfConvergentLegModel = this._findIndexOfLegContainingWaypointName(convergentWaypointName);\r\n        const remainingLegWaypointsAsLegs = this._createLegsFromSidWaypointsAfterWaypointName(\r\n            convergentWaypointName,\r\n            indexOfConvergentLegModel\r\n        );\r\n\r\n        this._legCollection = [\r\n            ...routeModel.legCollection,\r\n            ...remainingLegWaypointsAsLegs,\r\n            ...this._legCollection.splice(indexOfConvergentLegModel + 1)\r\n        ];\r\n\r\n        const readback = {};\r\n        readback.log = `rerouting to: ${this.getRouteStringWithSpaces()}`;\r\n        readback.say = 'rerouting as requested';\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Prepend a provided route model into this RouteModel when the convergent waypoint is in a STAR leg\r\n     *\r\n     * This should only ever be called by `._prependRouteModelEndingAtWaypointName()`\r\n     *\r\n     * @for RouteModel\r\n     * @method _prependRouteModelIntoStarLeg\r\n     * @param convergentWaypointName {string} name of waypoint at which the two routes have continuity\r\n     * @param routeModel {RouteModel} the RouteModel to be absorbed into this\r\n     */\r\n    _prependRouteModelIntoStarLeg(convergentWaypointName, routeModel) {\r\n        const indexOfConvergentLegModel = this._findIndexOfLegContainingWaypointName(convergentWaypointName);\r\n        const convergentLegModel = this._legCollection[indexOfConvergentLegModel];\r\n\r\n        if (convergentLegModel.procedureHasEntry(convergentWaypointName)) {\r\n            const amendedStarLeg = this._createAmendedStarLegUsingDifferentEntryName(\r\n                convergentWaypointName,\r\n                indexOfConvergentLegModel\r\n            );\r\n\r\n            this._legCollection = [\r\n                ...routeModel.legCollection,\r\n                amendedStarLeg,\r\n                ...this._legCollection.splice(indexOfConvergentLegModel + 1)\r\n            ];\r\n\r\n            const readback = {};\r\n            readback.log = `rerouting to: ${this.getRouteStringWithSpaces()}`;\r\n            readback.say = 'rerouting as requested';\r\n\r\n            return [true, readback];\r\n        }\r\n\r\n        const remainingLegWaypointsAsLegs = this._createLegsFromStarWaypointsAfterWaypointName(\r\n            convergentWaypointName,\r\n            indexOfConvergentLegModel\r\n        );\r\n\r\n        this._legCollection = [\r\n            ...routeModel.legCollection,\r\n            ...remainingLegWaypointsAsLegs,\r\n            ...this._legCollection.splice(indexOfConvergentLegModel + 1)\r\n        ];\r\n\r\n        const readback = {};\r\n        readback.log = `rerouting to: ${this.getRouteStringWithSpaces()}`;\r\n        readback.say = 'rerouting as requested';\r\n\r\n        return [true, readback];\r\n    }\r\n}\r\n","import _isArray from 'lodash/isArray';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport _isNumber from 'lodash/isNumber';\r\nimport FixCollection from '../../navigationLibrary/FixCollection';\r\nimport {\r\n    INVALID_INDEX,\r\n    INVALID_NUMBER\r\n} from '../../constants/globalConstants';\r\nimport {\r\n    DEFAULT_HOLD_PARAMETERS,\r\n    RNAV_WAYPOINT_DISPLAY_NAME,\r\n    RNAV_WAYPOINT_PREFIX\r\n} from '../../constants/waypointConstants';\r\n// import { extractHeadingFromVectorSegment } from '../../navigationLibrary/Route/routeStringFormatHelper';\r\nimport { parseAltitudeRestriction, parseSpeedRestriction } from '../../utilities/navigationUtilities';\r\nimport {\r\n    degreesToRadians,\r\n    DECIMAL_RADIX\r\n} from '../../utilities/unitConverters';\r\n\r\n/**\r\n * A navigation point within an aircraft's flight plan\r\n *\r\n * This may include various types of restrictions or holding information, all\r\n * of which are used by the aircraft to follow various routes and procedures\r\n * utilized by the controller.\r\n *\r\n * @class WaypointModel\r\n */\r\nexport default class WaypointModel {\r\n    /**\r\n     * @for WaypointModel\r\n     * @constructor\r\n     */\r\n    constructor(data) {\r\n        if (typeof data !== 'string' && !_isArray(data)) {\r\n            throw new TypeError(`Expected valid data to create WaypointModel but received ${data}`);\r\n        }\r\n\r\n        this.altitudeMaximum = INVALID_NUMBER;\r\n        this.altitudeMinimum = INVALID_NUMBER;\r\n        this._speedMaximum = INVALID_NUMBER;\r\n        this._speedMinimum = INVALID_NUMBER;\r\n        this._defaultHoldParameters = Object.assign({}, DEFAULT_HOLD_PARAMETERS);\r\n        this._holdParameters = Object.assign({}, DEFAULT_HOLD_PARAMETERS);\r\n        this._isFlyOverWaypoint = false;\r\n        this._isHoldWaypoint = false;\r\n        this._isVectorWaypoint = false;\r\n        this._name = '';\r\n        this._positionModel = null;\r\n\r\n        this.init(data);\r\n    }\r\n\r\n    /**\r\n     * Returns whether this waypoint has a value for #altitudeMaximum\r\n     *\r\n     * @for WaypointModel\r\n     * @property hasAltiudeMaximumRestriction\r\n     * @type {boolean}\r\n     */\r\n    get hasAltiudeMaximumRestriction() {\r\n        return this.altitudeMaximum !== INVALID_NUMBER;\r\n    }\r\n\r\n    /**\r\n     * Returns whether this waypoint has a value for #altitudeMinimum\r\n     *\r\n     * @for WaypointModel\r\n     * @property hasAltiudeMinimumRestriction\r\n     * @type {boolean}\r\n     */\r\n    get hasAltiudeMinimumRestriction() {\r\n        return this.altitudeMinimum !== INVALID_NUMBER;\r\n    }\r\n\r\n    /**\r\n     * Returns whether this waypoint has an altitude restriction of any kind\r\n     *\r\n     * @for WaypointModel\r\n     * @property hasAltitudeRestriction\r\n     * @type {boolean}\r\n     */\r\n    get hasAltitudeRestriction() {\r\n        return this.hasAltiudeMaximumRestriction || this.hasAltiudeMinimumRestriction;\r\n    }\r\n\r\n    /**\r\n     * Returns whether this waypoint has a restriction of any kind\r\n     *\r\n     * @for WaypointModel\r\n     * @property hasRestriction\r\n     * @type {boolean}\r\n     */\r\n    get hasRestriction() {\r\n        return this.hasAltitudeRestriction || this.hasSpeedRestriction;\r\n    }\r\n\r\n    /**\r\n     * Returns whether this waypoint has a value for #speedMaximum\r\n     *\r\n     * @for WaypointModel\r\n     * @property hasSpeedMaximumRestriction\r\n     * @type {boolean}\r\n     */\r\n    get hasSpeedMaximumRestriction() {\r\n        return this.speedMaximum !== INVALID_NUMBER;\r\n    }\r\n\r\n    /**\r\n     * Returns whether this waypoint has a value for #speedMinimum\r\n     *\r\n     * @for WaypointModel\r\n     * @property hasSpeedMinimumRestriction\r\n     * @type {boolean}\r\n     */\r\n    get hasSpeedMinimumRestriction() {\r\n        return this.speedMinimum !== INVALID_NUMBER;\r\n    }\r\n\r\n    /**\r\n     * Returns whether this waypoint has a speed restriction of any kind\r\n     *\r\n     * @for WaypointModel\r\n     * @property hasSpeedRestriction\r\n     * @type {boolean}\r\n     */\r\n    get hasSpeedRestriction() {\r\n        return this.hasSpeedMaximumRestriction || this.hasSpeedMinimumRestriction;\r\n    }\r\n\r\n    /**\r\n     * Provides properties needed for an aircraft to execute a\r\n     * holding pattern.\r\n     *\r\n     * This is used to match an existing API\r\n     *\r\n     * @for WaypointModel\r\n     * @property hold\r\n     * @return {object}\r\n     */\r\n    get holdParameters() {\r\n        if (!this._isHoldWaypoint) {\r\n            return;\r\n        }\r\n\r\n        return this._holdParameters;\r\n    }\r\n\r\n    /**\r\n     * Returns whether this waypoint is a fly-over waypoint\r\n     *\r\n     * Fly-over waypoints are waypoints that aircraft may not begin the turn to their\r\n     * next fix until they fully pass this waypoint\r\n     *\r\n     * @for WaypointModel\r\n     * @property isFlyOverWaypoint\r\n     * @return {boolean}\r\n     */\r\n    get isFlyOverWaypoint() {\r\n        return this._isFlyOverWaypoint;\r\n    }\r\n\r\n    /**\r\n    * Returns whether this waypoint includes an activated holding pattern\r\n    *\r\n    * @for WaypointModel\r\n    * @property isHoldWaypoint\r\n    * @type {boolean}\r\n    */\r\n    get isHoldWaypoint() {\r\n        return this._isHoldWaypoint;\r\n    }\r\n\r\n    /**\r\n    * Returns whether this waypoint is a vector waypoint\r\n    *\r\n    * Vector waypoints are simply an instruction to fly a particular heading\r\n    *\r\n    * @for WaypointModel\r\n    * @property isVector\r\n    * @return {boolean}\r\n    */\r\n    get isVectorWaypoint() {\r\n        return this._isVectorWaypoint;\r\n    }\r\n\r\n    /**\r\n     * Returns the value of #_name\r\n     *\r\n     * @for WaypointModel\r\n     * @property name\r\n     * @type {string}\r\n     */\r\n    get name() {\r\n        return this._name;\r\n    }\r\n\r\n    /**\r\n     * Provide read-only public access to this._positionModel\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @property positionModel\r\n     * @type {StaticPositionModel}\r\n     */\r\n    get positionModel() {\r\n        return this._positionModel;\r\n    }\r\n\r\n    /**\r\n     * Facade to access relative position\r\n     *\r\n     * @for WaypointModel\r\n     * @property relativePosition\r\n     * @return {array<number>} [kilometersNorth, kilometersEast]\r\n     */\r\n    get relativePosition() {\r\n        if (this.isVectorWaypoint) {\r\n            return;\r\n        }\r\n\r\n        return this._positionModel.relativePosition;\r\n    }\r\n\r\n    /**\r\n     * The maxmimum speed allowed for the Waypoint, or hold if `#isHoldwaypoint`\r\n     *\r\n     * @returns {number}\r\n     */\r\n    get speedMaximum() {\r\n        if (this.isHoldWaypoint && this._holdParameters.speedMaximum !== undefined) {\r\n            return this._holdParameters.speedMaximum;\r\n        }\r\n\r\n        return this._speedMaximum;\r\n    }\r\n\r\n    /**\r\n     * The minimum speed allowed for the Waypoint\r\n     *\r\n     * @returns {number}\r\n     */\r\n    get speedMinimum() {\r\n        return this._speedMinimum;\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * Initialize instance properties\r\n     *\r\n     * @for WaypointModel\r\n     * @method init\r\n     * @param data {object}\r\n     * @chainable\r\n     */\r\n    init(data) {\r\n        let fixName = data;\r\n        let restrictions = '';\r\n\r\n        if (_isArray(data)) {\r\n            if (data.length !== 2) {\r\n                throw new TypeError(`Expected restricted fix to have restrictions, but received ${data}`);\r\n            }\r\n\r\n            [fixName, restrictions] = data;\r\n        }\r\n\r\n        this._name = fixName.replace('@', '').replace('^', '');\r\n\r\n        this._initSpecialWaypoint(fixName);\r\n        this._applyRestrictions(restrictions);\r\n        this._initializePosition();\r\n    }\r\n\r\n    /**\r\n     * Reset instance properties\r\n     *\r\n     * @for WaypointModel\r\n     * @method reset\r\n     * @chainable\r\n     */\r\n    reset() {\r\n        this.altitudeMaximum = INVALID_NUMBER;\r\n        this.altitudeMinimum = INVALID_NUMBER;\r\n        this._speedMaximum = INVALID_NUMBER;\r\n        this._speedMinimum = INVALID_NUMBER;\r\n        this._defaultHoldParameters = Object.assign({}, DEFAULT_HOLD_PARAMETERS);\r\n        this._holdParameters = Object.assign({}, DEFAULT_HOLD_PARAMETERS);\r\n        this._isFlyOverWaypoint = false;\r\n        this._isHoldWaypoint = false;\r\n        this._isVectorWaypoint = false;\r\n        this._name = '';\r\n        this._positionModel = null;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Initialize properties to make this waypoint a fly-over waypoint\r\n     *\r\n     * @for WaypointModel\r\n     * @method _initFlyOverWaypoint\r\n     * @private\r\n     */\r\n    _initFlyOverWaypoint() {\r\n        this._isFlyOverWaypoint = true;\r\n    }\r\n\r\n    /**\r\n     * Initialize properties to make this waypoint a hold waypoint\r\n     *\r\n     * @for WaypointModel\r\n     * @method _initHoldWaypoint\r\n     * @private\r\n     */\r\n    _initHoldWaypoint() {\r\n        this._isHoldWaypoint = true;\r\n    }\r\n\r\n    /**\r\n     * Perform additional initialization tasks as needed if waypoint is a flyover/hold/vector/etc waypoint\r\n     *\r\n     * @for WaypointModel\r\n     * @method _initSpecialWaypoint\r\n     * @param fixname {string} name of the fix, including any special characters\r\n     */\r\n    _initSpecialWaypoint(fixName) {\r\n        if (fixName.indexOf('^') !== INVALID_INDEX) {\r\n            this._initFlyOverWaypoint();\r\n\r\n            return;\r\n        }\r\n\r\n        if (fixName.indexOf('@') !== INVALID_INDEX) {\r\n            this._initHoldWaypoint();\r\n\r\n            return;\r\n        }\r\n\r\n        if (fixName.indexOf('#') !== INVALID_INDEX) {\r\n            this._initVectorWaypoint();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Initialize properties to make this waypoint a vector waypoint\r\n     *\r\n     * @for WaypointModel\r\n     * @method _initVectorWaypoint\r\n     * @private\r\n     */\r\n    _initVectorWaypoint() {\r\n        this._isVectorWaypoint = true;\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * Mark this waypoint as a hold waypoint\r\n     *\r\n     * @for WaypointModel\r\n     * @method activateHold\r\n     */\r\n    activateHold() {\r\n        this._isHoldWaypoint = true;\r\n    }\r\n\r\n    /**\r\n     * Calculate the distance between two waypoint models\r\n     *\r\n     * @for WaypointModel\r\n     * @method calculateBearingToWaypoint\r\n     * @param waypointModel {WaypointModel}\r\n     * @return {number} bearing, in radians\r\n     */\r\n    calculateBearingToWaypoint(waypointModel) {\r\n        this._ensureNonVectorWaypointsForThisAndWaypoint(waypointModel);\r\n\r\n        return this._positionModel.bearingToPosition(waypointModel.positionModel);\r\n    }\r\n\r\n    /**\r\n     * Calculate the distance between two waypoint models\r\n     *\r\n     * @for WaypointModel\r\n     * @method calculateDistanceToWaypoint\r\n     * @param waypointModel {WaypointModel}\r\n     * @return {number} distance, in nautical miles\r\n     */\r\n    calculateDistanceToWaypoint(waypointModel) {\r\n        this._ensureNonVectorWaypointsForThisAndWaypoint(waypointModel);\r\n\r\n        return this._positionModel.distanceToPosition(waypointModel.positionModel);\r\n    }\r\n\r\n    /**\r\n     * Cancel any hold at this waypoint\r\n     *\r\n     * @for WaypointModel\r\n     * @method deactivateHold\r\n     */\r\n    deactivateHold() {\r\n        this._isHoldWaypoint = false;\r\n    }\r\n\r\n    /**\r\n     * Returns the name of the waypoint, amended for display to user\r\n     *\r\n     * Will return `[RNAV]` for waypoints prefixed with an underscore\r\n     *\r\n     * @for WaypointModel\r\n     * @property name\r\n     * @type {string}\r\n     */\r\n    getDisplayName() {\r\n        if (this._name.indexOf(RNAV_WAYPOINT_PREFIX) !== INVALID_INDEX) {\r\n            return RNAV_WAYPOINT_DISPLAY_NAME;\r\n        }\r\n\r\n        return this._name;\r\n    }\r\n\r\n    /**\r\n     * When `#_isVector` is true, this gets the heading that should be flown\r\n     *\r\n     * @for WaypointModel\r\n     * @method _getVector\r\n     * @type {number}\r\n     */\r\n    getVector() {\r\n        if (!this._isVectorWaypoint) {\r\n            return;\r\n        }\r\n\r\n        const fixNameWithOutPoundSign = this._name.replace('#', '');\r\n        const headingInDegrees = parseInt(fixNameWithOutPoundSign, DECIMAL_RADIX);\r\n        const headingInRadians = degreesToRadians(headingInDegrees);\r\n\r\n        return headingInRadians;\r\n    }\r\n\r\n    /**\r\n     * Check for a maximum altitude restriction at or below the given altitude\r\n     *\r\n     * @for WaypointModel\r\n     * @method hasMaximumAltitudeAtOrBelow\r\n     * @param altitude {number} in feet\r\n     * @return {boolean}\r\n     */\r\n    hasMaximumAltitudeAtOrBelow(altitude) {\r\n        return this.altitudeMaximum !== INVALID_NUMBER && this.altitudeMaximum <= altitude;\r\n    }\r\n\r\n    /**\r\n     * Check for a minimum altitude restriction at or above the given altitude\r\n     *\r\n     * @for WaypointModel\r\n     * @method hasMinimumAltitudeAtOrAbove\r\n     * @param altitude {number} in feet\r\n     * @return {boolean}\r\n     */\r\n    hasMinimumAltitudeAtOrAbove(altitude) {\r\n        return this.altitudeMinimum !== INVALID_NUMBER && this.altitudeMinimum >= altitude;\r\n    }\r\n\r\n    /**\r\n     * Check for a maximum speed restriction at or below the given speed\r\n     *\r\n     * @for WaypointModel\r\n     * @method hasMaximumSpeedAtOrBelow\r\n     * @param speed {number} in knots\r\n     * @return {boolean}\r\n     */\r\n    hasMaximumSpeedAtOrBelow(speed) {\r\n        const speedMax = this.speedMaximum;\r\n\r\n        return speedMax !== INVALID_NUMBER && speedMax <= speed;\r\n    }\r\n\r\n    /**\r\n     * Check for a minimum speed restriction at or above the given speed\r\n     *\r\n     * @for WaypointModel\r\n     * @method hasMinimumSpeedAtOrAbove\r\n     * @param speed {number} in knots\r\n     * @return {boolean}\r\n     */\r\n    hasMinimumSpeedAtOrAbove(speed) {\r\n        return this.speedMinimum !== INVALID_NUMBER && this.speedMinimum >= speed;\r\n    }\r\n\r\n    /**\r\n     * Reset the value of #_holdParameters.timer to the default\r\n     *\r\n     * @for WaypointModel\r\n     * @method resetHoldTimer\r\n     */\r\n    resetHoldTimer() {\r\n        this._holdParameters.timer = DEFAULT_HOLD_PARAMETERS.timer;\r\n    }\r\n\r\n    /**\r\n     * Set the #speedMinimum and #speedMaximum to the specified speed\r\n     *\r\n     * @for WaypointModel\r\n     * @method setSpeed\r\n     * @param speec {number} in knots\r\n     */\r\n    setSpeed(speed) {\r\n        this.setSpeedMinimum(speed);\r\n        this.setSpeedMaximum(speed);\r\n    }\r\n\r\n    /**\r\n     * Set the #_speedMaximum to the specified speed\r\n     *\r\n     * @for WaypointModel\r\n     * @method setSpeedMaximum\r\n     * @param speedMaximum {number} in knots\r\n     */\r\n    setSpeedMaximum(speedMaximum) {\r\n        if (!_isNumber(speedMaximum)) {\r\n            console.warn(`Expected number to set as max speed of waypoint '${this.name}', ` +\r\n                `but received '${speedMaximum}'`);\r\n\r\n            return;\r\n        }\r\n\r\n        this._speedMaximum = speedMaximum;\r\n    }\r\n\r\n    /**\r\n     * Set the #_speedMinimum to the specified speed\r\n     *\r\n     * @for WaypointModel\r\n     * @method setSpeedMinimum\r\n     * @param speedMinimum {number} in knots\r\n     */\r\n    setSpeedMinimum(speedMinimum) {\r\n        if (!_isNumber(speedMinimum)) {\r\n            console.warn(`Expected number to set as minimum speed of waypoint '${this.name}', ` +\r\n                `but received '${speedMinimum}'`);\r\n\r\n            return;\r\n        }\r\n\r\n        this._speedMinimum = speedMinimum;\r\n    }\r\n\r\n    /**\r\n     * Set the #altitudeMinimum and #altitudeMaximum to the specified altitude\r\n     *\r\n     * @for WaypointModel\r\n     * @method setAltitude\r\n     * @param altitude {number} in feet\r\n     */\r\n    setAltitude(altitude) {\r\n        this.setAltitudeMaximum(altitude);\r\n        this.setAltitudeMinimum(altitude);\r\n    }\r\n\r\n    /**\r\n     * Set the #altitudeMaximum to the specified altitude\r\n     *\r\n     * @for WaypointModel\r\n     * @method setAltitudeMaximum\r\n     * @param altitudeMaximum {number} in feet\r\n     */\r\n    setAltitudeMaximum(altitudeMaximum) {\r\n        if (!_isNumber(altitudeMaximum)) {\r\n            console.warn(`Expected number to set as max altitude of waypoint '${this._name}', ` +\r\n                `but received '${altitudeMaximum}'`);\r\n\r\n            return;\r\n        }\r\n\r\n        if (altitudeMaximum < 0 || altitudeMaximum > 60000) {\r\n            console.warn(`Expected requested waypoint '${this._name}' max altitude to be reasonable, ` +\r\n                `but received altitude of '${altitudeMaximum}'`);\r\n\r\n            return;\r\n        }\r\n\r\n        this.altitudeMaximum = altitudeMaximum;\r\n    }\r\n\r\n    /**\r\n     * Set the #altitudeMinimum to the specified altitude\r\n     *\r\n     * @for WaypointModel\r\n     * @method setAltitudeMinimum\r\n     * @param altitudeMinimum {number} in feet\r\n     */\r\n    setAltitudeMinimum(altitudeMinimum) {\r\n        if (!_isNumber(altitudeMinimum)) {\r\n            console.warn(`Expected number to set as max altitude of waypoint '${this._name}', ` +\r\n                `but received '${altitudeMinimum}'`);\r\n\r\n            return;\r\n        }\r\n\r\n        if (altitudeMinimum < 0 || altitudeMinimum > 60000) {\r\n            console.warn(`Expected requested waypoint '${this._name}' max altitude to be reasonable, ` +\r\n                `but received altitude altitude of '${altitudeMinimum}'`);\r\n\r\n            return;\r\n        }\r\n\r\n        this.altitudeMinimum = altitudeMinimum;\r\n    }\r\n\r\n    /**\r\n     * Set default parameters for the planned holding pattern at this waypoint, and will\r\n     * set both `#_defaultHoldParameters` and `#_holdParameters` properties\r\n     *\r\n     * This should only be called immedately after creating a new `WaypointModel`\r\n     *\r\n     * @for WaypointModel\r\n     * @method setDefaultHoldParameters\r\n     * @param holdParameters {object}\r\n     */\r\n    setDefaultHoldParameters(holdParameters) {\r\n        // The rationale behind having both _defaultHoldParameters and _holdParameters is:\r\n        // * Without this, once a hold command is executed with specific options (eg. HOLD BPK left 225),\r\n        //   it could overwrite the parameters for a procedural hold\r\n        // * This would mean that if the hold was cancelled and re-requested without any specific options (eg. HOLD BPK)\r\n        //   it would still use \"left 225\", and not the expected defaults from the pocedure\r\n\r\n        // These can't be the same reference, as we don't want any changes to made _holdParameters\r\n        // (eg. timer) to be passed onto _defaultHoldParameters\r\n        this._defaultHoldParameters = Object.assign({}, DEFAULT_HOLD_PARAMETERS, holdParameters);\r\n        this._holdParameters = Object.assign({}, DEFAULT_HOLD_PARAMETERS, holdParameters);\r\n    }\r\n\r\n    /**\r\n     * Set parameters for the planned holding pattern at this waypoint. This does NOT\r\n     * inherently make this a hold waypoint, but simply describes the holding pattern\r\n     * aircraft should follow IF they are told to hold at this waypoint\r\n     *\r\n     * @for WaypointModel\r\n     * @method setHoldParameters\r\n     * @param holdParameters {object}\r\n     * @param fallbackInboundHeading {number} an optional inboundHeading that is used if no default is available\r\n     * @returns {object} The hold parameters set for the `WaypointModel`\r\n     */\r\n    setHoldParameters(holdParameters, fallbackInboundHeading) {\r\n        const params = Object.assign({}, this._defaultHoldParameters, holdParameters);\r\n\r\n        if (params.inboundHeading == null) {\r\n            params.inboundHeading = fallbackInboundHeading;\r\n        }\r\n\r\n        this._holdParameters = params;\r\n\r\n        return params;\r\n    }\r\n\r\n    /**\r\n     * Stores provided parameters for holding pattern, and marks this as a hold waypoint\r\n     *\r\n     * @for WaypointModel\r\n     * @method setHoldParametersAndActivateHold\r\n     * @param inboundHeading {number} in radians\r\n     * @param turnDirection {string} either left or right\r\n     * @param legLength {string} length of the hold leg in minutes or nm\r\n     * @param fallbackInboundHeading {number} an optional inboundHeading that is used if no default is available\r\n     * @returns {object} The hold parameters set\r\n     */\r\n    setHoldParametersAndActivateHold(holdParameters, fallbackInboundHeading = undefined) {\r\n        const params = this.setHoldParameters(holdParameters, fallbackInboundHeading);\r\n\r\n        this.activateHold();\r\n\r\n        return params;\r\n    }\r\n\r\n    /**\r\n     * Set the value of #_holdParameters.timer\r\n     *\r\n     * @for WaypointModel\r\n     * @method setHoldTimer\r\n     * @param expirationTime {number} game time (seconds) when the timer should \"expire\"\r\n     */\r\n    setHoldTimer(expirationTime) {\r\n        if (typeof expirationTime !== 'number') {\r\n            throw new TypeError('Expected hold timer expiration time to be a ' +\r\n                `number, but received type ${typeof expirationTime}`);\r\n        }\r\n\r\n        this._holdParameters.timer = expirationTime;\r\n    }\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    /**\r\n     * Apply an altitude restriction in the appropriate properties\r\n     *\r\n     * @for WaypointModel\r\n     * @method _applyAltitudeRestriction\r\n     * @param restriction {string}\r\n     */\r\n    _applyAltitudeRestriction(restriction) {\r\n        const [altitude, limit] = parseAltitudeRestriction(restriction);\r\n\r\n        if (altitude == null) {\r\n            throw new Error(`Expected valid altitude restriction, but received ${restriction}`);\r\n        }\r\n\r\n        if (limit === '+') {\r\n            this.altitudeMinimum = altitude;\r\n\r\n            return;\r\n        }\r\n\r\n        if (limit === '-') {\r\n            this.altitudeMaximum = altitude;\r\n\r\n            return;\r\n        }\r\n\r\n        this.altitudeMaximum = altitude;\r\n        this.altitudeMinimum = altitude;\r\n    }\r\n\r\n    /**\r\n     * Parse the restrictions, and store the inferred meaning in the appropriate properties\r\n     *\r\n     * @for WaypointModel\r\n     * @method _applyRestrictions\r\n     * @param restrictions {string} restrictions, separated by pipe symbol: '|'\r\n     */\r\n    _applyRestrictions(restrictions) {\r\n        if (_isEmpty(restrictions)) {\r\n            return;\r\n        }\r\n\r\n        const restrictionCollection = restrictions.split('|');\r\n\r\n        for (let i = 0; i < restrictionCollection.length; i++) {\r\n            const restriction = restrictionCollection[i];\r\n\r\n            // looking at the first letter of a restriction\r\n            if (restriction[0] === 'A') {\r\n                this._applyAltitudeRestriction(restriction);\r\n            } else if (restriction[0] === 'S') {\r\n                this._applySpeedRestriction(restriction);\r\n            } else {\r\n                throw new TypeError('Expected \"A\" or \"S\" prefix on restriction, ' +\r\n                    `but received prefix '${restriction[0]}'`);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Apply a speed restriction in the appropriate properties\r\n     *\r\n     * @for WaypointModel\r\n     * @method _applySpeedRestriction\r\n     * @param restriction {string}\r\n     */\r\n    _applySpeedRestriction(restriction) {\r\n        const [speed, limit] = parseSpeedRestriction(restriction);\r\n\r\n        if (speed == null) {\r\n            throw new Error(`Expected valid speed restriction, but received ${restriction}`);\r\n        }\r\n\r\n        if (limit === '+') {\r\n            this._speedMinimum = speed;\r\n\r\n            return;\r\n        }\r\n\r\n        if (limit === '-') {\r\n            this._speedMaximum = speed;\r\n\r\n            return;\r\n        }\r\n\r\n        this._speedMaximum = speed;\r\n        this._speedMinimum = speed;\r\n    }\r\n\r\n    /**\r\n     * Verify that this waypoint and the specified waypoint are both valid, non-vector waypoints\r\n     *\r\n     * If either are not, then throw some errors about it.\r\n     *\r\n     * This method is used to protect certain methods that would have undesirable\r\n     * behaviors with vector waypoints (such as those measuring angles or distances\r\n     * between waypoint models, etc). In those cases, we should be cognizant to\r\n     * exclude vector (or other undesirable) waypoints from those operations, rather\r\n     * than attempting to execute a calculation that cannot yield a logical result.\r\n     *\r\n     * @for WaypointModel\r\n     * @method _ensureNonVectorWaypointsForThisAndWaypoint\r\n     * @param waypointModel {WaypointModel}\r\n     * @private\r\n     */\r\n    _ensureNonVectorWaypointsForThisAndWaypoint(waypointModel) {\r\n        if (!(waypointModel instanceof WaypointModel)) {\r\n            throw new TypeError(`Expected a WaypointModel instance, but received type '${waypointModel}'`);\r\n        }\r\n\r\n        if (this._isVectorWaypoint || waypointModel.isVectorWaypoint) {\r\n            throw new TypeError('Expected .calculateBearingToWaypoint() to never be called with vector waypoints!');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Initialize the waypoint's position model based on #_name\r\n     *\r\n     * @for WaypointModel\r\n     * @method _initializePosition\r\n     */\r\n    _initializePosition() {\r\n        if (this._isVectorWaypoint) {\r\n            return;\r\n        }\r\n\r\n        const fixPosition = FixCollection.getPositionModelForFixName(this._name);\r\n\r\n        if (!fixPosition) {\r\n            throw new TypeError(`Expected fix with known position, but cannot find fix '${this._name}'`);\r\n        }\r\n\r\n        this._positionModel = fixPosition;\r\n    }\r\n}\r\n","import {\r\n    MCP_MODE,\r\n    MCP_MODE_NAME,\r\n    MCP_FIELD_NAME\r\n} from './modeControlConstants';\r\nimport { INVALID_NUMBER } from '../../constants/globalConstants';\r\nimport { radiansToDegrees } from '../../utilities/unitConverters';\r\n\r\n/**\r\n * Part of the autopilot system that determines the source from which to derive the aircraft's targeted telemetry\r\n *\r\n * @class ModeController\r\n */\r\nexport default class ModeController {\r\n    /**\r\n     * @constructor\r\n     * @for ModeController\r\n     */\r\n    constructor() {\r\n        /**\r\n         * Flag used to determine if the controller is enabled\r\n         *\r\n         * @property isEnabled\r\n         * @type {boolean}\r\n         * @default flase\r\n         * @private\r\n         */\r\n        this.isEnabled = false;\r\n\r\n        // Mode Selectors\r\n        /**\r\n         * The current altitudeMode\r\n         *\r\n         * This mode informs what value to use for `aircraft.target.altitude`\r\n         *\r\n         * @property\r\n         * @type\r\n         * @default\r\n         */\r\n        this.altitudeMode = MCP_MODE.ALTITUDE.OFF;\r\n\r\n        /**\r\n         *\r\n         *\r\n         * @property autopilotMode\r\n         * @type\r\n         * @default MCP_MODE.AUTOPILOT.OFF\r\n         */\r\n        this.autopilotMode = MCP_MODE.AUTOPILOT.OFF;\r\n\r\n        /**\r\n         * The current headingeMode\r\n         *\r\n         * This mode informs what value to use for `aircraft.targetHeading`\r\n         *\r\n         *\r\n         * @property headingMode\r\n         * @type\r\n         * @default MCP_MODE.HEADING.OFF\r\n         */\r\n        this.headingMode = MCP_MODE.HEADING.OFF;\r\n\r\n        /**\r\n         * The current speedMode\r\n         *\r\n         * This mode informs what value to use for `aircraft.target.speed`\r\n         *\r\n         * @property speedMode\r\n         * @type\r\n         * @default MCP_MODE.SPEED.OFF\r\n         */\r\n        this.speedMode = MCP_MODE.SPEED.OFF;\r\n\r\n        // Fields\r\n\r\n        /**\r\n         * Altitude value\r\n         *\r\n         * Used when `altitudeMode` is 'HOLD'\r\n         *\r\n         * @property altitude\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this.altitude = INVALID_NUMBER;\r\n\r\n        /**\r\n         *\r\n         *\r\n         * @property course\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this.course = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Heading value in radians\r\n         *\r\n         * Used when `headingMode` is `HOLD`\r\n         *\r\n         * Use `#headingInDegrees` when this value needs to\r\n         * be shown to the user, like in the `AircraftStripView`\r\n         *\r\n         * @property heading\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this.heading = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Speed value in knots\r\n         *\r\n         * Used when `speedMode` is `HOLD`\r\n         *\r\n         * @property speed\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this.speed = INVALID_NUMBER;\r\n\r\n        // Other\r\n\r\n        /**\r\n         *\r\n         *\r\n         * @property shouldExpediteAltitudeChange\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.shouldExpediteAltitudeChange = false;\r\n\r\n        /**\r\n         *\r\n         *\r\n         * @property nav1Datum\r\n         * @type\r\n         * @default null\r\n         */\r\n        this.nav1Datum = null;\r\n\r\n        /**\r\n         *\r\n         *\r\n         * @property descentAngle\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.descentAngle = 0;\r\n\r\n        this.init();\r\n    }\r\n\r\n    /**\r\n     * Current heading value expressed in degrees (0 - 359)\r\n     *\r\n     * @property headingInDegrees\r\n     * @return {number}\r\n     */\r\n    get headingInDegrees() {\r\n        return Math.floor(radiansToDegrees(this.heading));\r\n    }\r\n\r\n    /**\r\n     * Initialize the instance\r\n     *\r\n     * @for ModeController\r\n     * @method init\r\n     */\r\n    init() {\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Sets `#isEnabled` flag to `true`\r\n     *\r\n     * @for ModeController\r\n     * @method enable\r\n     */\r\n    enable() {\r\n        if (this.isEnabled) {\r\n            return;\r\n        }\r\n\r\n        this.isEnabled = true;\r\n\r\n        this._setModeSelectorMode(MCP_MODE_NAME.AUTOPILOT, MCP_MODE.AUTOPILOT.ON);\r\n    }\r\n\r\n    /**\r\n     * Sets `#isEnabled` flag to `false`\r\n     *\r\n     * @for ModeController\r\n     * @method disable\r\n     */\r\n    disable() {\r\n        if (!this.isEnabled) {\r\n            return;\r\n        }\r\n\r\n        this.isEnabled = false;\r\n        this._setModeSelectorMode(MCP_MODE_NAME.AUTOPILOT, MCP_MODE.AUTOPILOT.OFF);\r\n    }\r\n\r\n    /**\r\n     *\r\n     *\r\n     * @for ModeController\r\n     * @method setNav1Datum\r\n     * @param nav1Datum {number}\r\n     */\r\n    setNav1Datum(datum) {\r\n        this.nav1Datum = datum;\r\n    }\r\n\r\n    // TODO: the descentAngle is a part of the ILS system itself, and should not be owned by the MCP\r\n    /**\r\n     *\r\n     *\r\n     * @for ModeController\r\n     * @method setDescentAngle\r\n     * @param descentAngle {number}\r\n     */\r\n    setDescentAngle(descentAngle) {\r\n        this.descentAngle = descentAngle;\r\n    }\r\n\r\n    /**\r\n     * Set the MCP altitude mode to `APCH`\r\n     *\r\n     * @for ModeController\r\n     * @method setAltitudeApproach\r\n     */\r\n    setAltitudeApproach() {\r\n        this._setModeSelectorMode(MCP_MODE_NAME.ALTITUDE, MCP_MODE.ALTITUDE.APPROACH);\r\n    }\r\n\r\n    /**\r\n     * Set the value of the MCP's altitude field to a given value\r\n     *\r\n     * @for ModeController\r\n     * @method setAltitudeFieldValue\r\n     * @param altitude {Number} value to set in the altitude field\r\n     */\r\n    setAltitudeFieldValue(altitude) {\r\n        this._setFieldValue(MCP_FIELD_NAME.ALTITUDE, altitude);\r\n    }\r\n\r\n    /**\r\n     * Set the MCP altitude mode to `HOLD`\r\n     *\r\n     * @for ModeController\r\n     * @method setAltitudeHold\r\n     */\r\n    setAltitudeHold() {\r\n        this._setModeSelectorMode(MCP_MODE_NAME.ALTITUDE, MCP_MODE.ALTITUDE.HOLD);\r\n    }\r\n\r\n    /**\r\n     * Set the MCP altitude mode to `VNAV`\r\n     *\r\n     * @for ModeController\r\n     * @method setAltitudeVnav\r\n     */\r\n    setAltitudeVnav() {\r\n        this._setModeSelectorMode(MCP_MODE_NAME.ALTITUDE, MCP_MODE.ALTITUDE.VNAV);\r\n    }\r\n\r\n    /**\r\n     * Set the value of the MCP's course field to a given value\r\n     *\r\n     * @for ModeController\r\n     * @method setCourseFieldValue\r\n     * @param course {number}  magnetic course (in radians)\r\n     */\r\n    setCourseFieldValue(course) {\r\n        this._setFieldValue(MCP_FIELD_NAME.COURSE, course);\r\n    }\r\n\r\n    /**\r\n     * Set the value of the MCP's heading field to a given value\r\n     *\r\n     * @for ModeController\r\n     * @method setHeadingFieldValue\r\n     * @param heading {number}  magnetic heading (in radians)\r\n     */\r\n    setHeadingFieldValue(heading) {\r\n        this._setFieldValue(MCP_FIELD_NAME.HEADING, heading);\r\n    }\r\n\r\n    /**\r\n     * Set the MCP heading mode to `HOLD`\r\n     *\r\n     * @for ModeController\r\n     * @method setHeadingHold\r\n     */\r\n    setHeadingHold() {\r\n        this._setModeSelectorMode(MCP_MODE_NAME.HEADING, MCP_MODE.HEADING.HOLD);\r\n    }\r\n\r\n    /**\r\n     * Set the MCP heading mode to `LNAV`\r\n     *\r\n     * @for ModeController\r\n     * @method setHeadingLnav\r\n     */\r\n    setHeadingLnav() {\r\n        this._setModeSelectorMode(MCP_MODE_NAME.HEADING, MCP_MODE.HEADING.LNAV);\r\n    }\r\n\r\n    /**\r\n     * Set the MCP heading mode to `VOR_LOC`\r\n     *\r\n     * @for ModeController\r\n     * @method setHeadingVorLoc\r\n     */\r\n    setHeadingVorLoc() {\r\n        this._setModeSelectorMode(MCP_MODE_NAME.HEADING, MCP_MODE.HEADING.VOR_LOC);\r\n    }\r\n\r\n    /**\r\n     * Set the value of the MCP's speed field to a given value\r\n     *\r\n     * @for ModeController\r\n     * @method setSpeedFieldValue\r\n     * @param speed {Number}  speed to set value to\r\n     */\r\n    setSpeedFieldValue(speed) {\r\n        this._setFieldValue(MCP_FIELD_NAME.SPEED, speed);\r\n    }\r\n\r\n    /**\r\n     * Set the MCP speed mode to `HOLD`\r\n     *\r\n     * @for ModeController\r\n     * @method setSpeedHold\r\n     */\r\n    setSpeedHold() {\r\n        this._setModeSelectorMode(MCP_MODE_NAME.SPEED, MCP_MODE.SPEED.HOLD);\r\n    }\r\n\r\n    /**\r\n     * Set the MCP speed mode to `N1`\r\n     *\r\n     * @for ModeController\r\n     * @method setSpeedN1\r\n     */\r\n    setSpeedN1() {\r\n        this._setModeSelectorMode(MCP_MODE_NAME.SPEED, MCP_MODE.SPEED.N1);\r\n    }\r\n\r\n    /**\r\n     * Set the MCP speed mode to `VNAV`\r\n     *\r\n     * @for ModeController\r\n     * @method setSpeedVnav\r\n     */\r\n    setSpeedVnav() {\r\n        this._setModeSelectorMode(MCP_MODE_NAME.SPEED, MCP_MODE.SPEED.VNAV);\r\n    }\r\n\r\n    /**\r\n     * Set the appropriate values in the MCP when spawning an aircraft already in flight\r\n     *\r\n     * @for ModeController\r\n     * @method initializeForAirborneFlight\r\n     * @param {number} bottomAltitude - the lowest altitude restriction in the FMS\r\n     * @param {number} airspaceCeiling - maximum altitude belonging to the controller\r\n     * @param {number} currentAltitude - aircraft's current altitude, in feet ASL\r\n     * @param {number} currentHeading - aircraft's current heading, in radians\r\n     * @param {number} currentSpeed - aircraft's current speed, in knots\r\n     */\r\n    initializeForAirborneFlight(bottomAltitude, airspaceCeiling, currentAltitude, currentHeading, currentSpeed) {\r\n        // ensure aircraft will always descend at least to reach our airspace ceiling\r\n        const descentAltitude = Math.min(bottomAltitude, airspaceCeiling, currentAltitude);\r\n\r\n        this.setAltitudeFieldValue(descentAltitude);\r\n        this.setAltitudeVnav();\r\n\r\n        // if unable to descend via STAR, force a descent to the top of our airspace\r\n        if (bottomAltitude === -1) {\r\n            this.setAltitudeFieldValue(Math.min(airspaceCeiling, currentAltitude));\r\n            this.setAltitudeHold();\r\n        }\r\n\r\n        this.setHeadingFieldValue(currentHeading);\r\n        this.setHeadingLnav();\r\n        this.setSpeedFieldValue(currentSpeed);\r\n        this.setSpeedVnav();\r\n        this.enable();\r\n    }\r\n\r\n    /**\r\n    * Set the value of a given fieldName\r\n    *\r\n    * @for ModeController\r\n    * @method _setFieldValue\r\n    * @param fieldName {MCP_FIELD_NAME}\r\n    * @param value {number}\r\n    */\r\n    _setFieldValue(fieldName, value) {\r\n        this[fieldName] = value;\r\n    }\r\n\r\n    /**\r\n     * Set the mode of a given modeSelector\r\n     *\r\n     * @for ModeController\r\n     * @method _setModeSelectorMode\r\n     * @param modeSelector {MCP_MODE_NAME}\r\n     * @param mode {MCP_MODE}\r\n     */\r\n    _setModeSelectorMode(modeSelector, mode) {\r\n        this[modeSelector] = mode;\r\n    }\r\n}\r\n","/**\r\n * Available values for `ModeController#altitudeMode`\r\n *\r\n * @memberof MCP_MODE\r\n * @property MCP_ALTITUDE_MODE\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const MCP_ALTITUDE_MODE = {\r\n    HOLD: 'HOLD',\r\n    APPROACH: 'APPROACH',\r\n    LEVEL_CHANGE: 'LEVEL_CHANGE',\r\n    OFF: 'OFF',\r\n    VERTICAL_SPEED: 'VERTICAL_SPEED',\r\n    VNAV: 'VNAV'\r\n};\r\n\r\n/**\r\n * Available values for `ModeController#autopilotMode`\r\n *\r\n * @memberof MCP_MODE\r\n * @property MCP_AUTOPILOT_MODE\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const MCP_AUTOPILOT_MODE = {\r\n    ON: 'ON',\r\n    OFF: 'OFF'\r\n};\r\n\r\n/**\r\n * Available values for `ModeController#headingMode`\r\n *\r\n * @memberof MCP_MODE\r\n * @property MCP_HEADING_MODE\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const MCP_HEADING_MODE = {\r\n    HOLD: 'HOLD',\r\n    LNAV: 'LNAV',\r\n    OFF: 'OFF',\r\n    VOR_LOC: 'VOR_LOC'\r\n};\r\n\r\n/**\r\n * Available values for `ModeController#speedMode`\r\n *\r\n * @memberof MCP_MODE\r\n * @property MCP_SPEED_MODE\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const MCP_SPEED_MODE = {\r\n    LEVEL_CHANGE: 'LEVEL_CHANGE',\r\n    N1: 'N1',\r\n    OFF: 'OFF',\r\n    HOLD: 'HOLD',\r\n    VNAV: 'VNAV'\r\n};\r\n\r\n/**\r\n * Available modes for `ModeController`\r\n *\r\n * @property MCP_MODE\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const MCP_MODE = {\r\n    ALTITUDE: MCP_ALTITUDE_MODE,\r\n    AUTOPILOT: MCP_AUTOPILOT_MODE,\r\n    HEADING: MCP_HEADING_MODE,\r\n    SPEED: MCP_SPEED_MODE\r\n};\r\n\r\n/**\r\n *\r\n *\r\n * @property MCP_MODE_NAME\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const MCP_MODE_NAME = {\r\n    ALTITUDE: 'altitudeMode',\r\n    AUTOPILOT: 'autopilotMode',\r\n    HEADING: 'headingMode',\r\n    SPEED: 'speedMode'\r\n};\r\n\r\n/**\r\n * Representation of the numerical values of the various dials on the MCP\r\n *\r\n * @property MCP_FIELDS\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const MCP_FIELD_NAME = {\r\n    ALTITUDE: 'altitude',\r\n    COURSE: 'course',\r\n    HEADING: 'heading',\r\n    SPEED: 'speed'\r\n};\r\n","import _ceil from 'lodash/ceil';\r\nimport _find from 'lodash/find';\r\nimport _floor from 'lodash/floor';\r\nimport _isNil from 'lodash/isNil';\r\nimport AirportController from '../../airport/AirportController';\r\nimport Fms from '../FlightManagementSystem/Fms';\r\nimport ModeController from '../ModeControl/ModeController';\r\nimport NavigationLibrary from '../../navigationLibrary/NavigationLibrary';\r\nimport { MCP_MODE } from '../ModeControl/modeControlConstants';\r\nimport { FLIGHT_PHASE } from '../../constants/aircraftConstants';\r\nimport { INVALID_NUMBER } from '../../constants/globalConstants';\r\nimport { radians_normalize } from '../../math/circle';\r\nimport {\r\n    groupNumbers,\r\n    radio_altitude,\r\n    radio_heading,\r\n    radio_runway,\r\n    radio_spellOut,\r\n    radio_trend,\r\n    getRadioCardinalDirectionNameForHeading\r\n} from '../../utilities/radioUtilities';\r\nimport {\r\n    degreesToRadians,\r\n    heading_to_string,\r\n    radiansToDegrees\r\n} from '../../utilities/unitConverters';\r\n\r\n/**\r\n * Executes control actions upon the aircraft by manipulating the MCP and FMS, and provides\r\n * readbacks to air traffic control instructions.\r\n *\r\n * @class Pilot\r\n */\r\nexport default class Pilot {\r\n    /**\r\n     * @for Pilot\r\n     * @constructor\r\n     * @param modeController {ModeController}\r\n     * @param fms {Fms}\r\n     */\r\n    constructor(fms, modeController) {\r\n        if (!(fms instanceof Fms)) {\r\n            throw new TypeError(`Expected fms to an instance of Fms but received ${typeof fms}`);\r\n        }\r\n\r\n        if (!(modeController instanceof ModeController)) {\r\n            throw new TypeError('Expected modeController to an instance of ' +\r\n                `ModeController, but received ${typeof modeController}`);\r\n        }\r\n\r\n        /**\r\n         * @for Pilot\r\n         * @property _fms\r\n         * @type {Fms}\r\n         * @private\r\n         */\r\n        this._fms = null;\r\n\r\n        /**\r\n         * @for Pilot\r\n         * @property _mcp\r\n         * @type {ModeController}\r\n         * @private\r\n         */\r\n        this._mcp = null;\r\n\r\n        /**\r\n         * Whether the aircraft has received a clearance to conduct an approach to a runway\r\n         *\r\n         * @for Pilot\r\n         * @property hasApproachClearance\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.hasApproachClearance = false;\r\n\r\n        /**\r\n         * Whether the aircraft has received an IFR clearance to their destination\r\n         *\r\n         * @for Pilot\r\n         * @property hasDepartureClearance\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.hasDepartureClearance = false;\r\n\r\n        return this.init(fms, modeController);\r\n    }\r\n\r\n    /**\r\n     * @for Pilot\r\n     * @method init\r\n     * @chainable\r\n     */\r\n    init(fms, modeController) {\r\n        this._fms = fms;\r\n        this._mcp = modeController;\r\n        this.hasApproachClearance = false;\r\n        this.hasDepartureClearance = false;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for Pilot\r\n     * @method reset\r\n     * @chainable\r\n     */\r\n    reset() {\r\n        this._fms = null;\r\n        this._mcp = null;\r\n        this.hasApproachClearance = false;\r\n        this.hasDepartureClearance = false;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Maintain a given altitude\r\n     *\r\n     * @for Pilot\r\n     * @method maintainAltitude\r\n     * @param altitude {number}   the altitude to maintain, in feet\r\n     * @param expedite {boolean}  whether to use maximum possible climb/descent rate\r\n     * @param shouldUseSoftCeiling {boolean}\r\n     * @param airportModel {AirportModel}\r\n     * @param aircraftModel {AircraftModel}\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    maintainAltitude(altitude, expedite, shouldUseSoftCeiling, airportModel, aircraftModel) {\r\n        const response = aircraftModel.validateNextAltitude(altitude, airportModel);\r\n\r\n        if (!response[0]) {\r\n            return response;\r\n        }\r\n\r\n        const currentAltitude = aircraftModel.altitude;\r\n        let clampedAltitude = airportModel.clampWithinAssignableAltitudes(altitude);\r\n\r\n        if (shouldUseSoftCeiling && clampedAltitude === airportModel.maxAssignableAltitude) {\r\n            // causes aircraft to 'leave' airspace, and continue climb through ceiling\r\n            clampedAltitude += 1;\r\n        }\r\n\r\n        this.cancelApproachClearance(aircraftModel);\r\n        this._mcp.setAltitudeFieldValue(clampedAltitude);\r\n        this._mcp.setAltitudeHold();\r\n        this._mcp.shouldExpediteAltitudeChange = false;\r\n\r\n        // Build readback\r\n        const readbackAltitude = _floor(clampedAltitude, -2);\r\n        const altitudeInstruction = radio_trend('altitude', currentAltitude, altitude);\r\n        const altitudeVerbal = radio_altitude(readbackAltitude);\r\n        let expediteReadback = '';\r\n\r\n        if (expedite) {\r\n            this._mcp.shouldExpediteAltitudeChange = true;\r\n\r\n            // including space here so when expedite is false there isnt an extra space after altitude\r\n            expediteReadback = ' and expedite';\r\n        }\r\n\r\n        const readback = {};\r\n        readback.log = `${altitudeInstruction} ${readbackAltitude}${expediteReadback}`;\r\n        readback.say = `${altitudeInstruction} ${altitudeVerbal}${expediteReadback}`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Maintain a given heading\r\n     *\r\n     * @for Pilot\r\n     * @method maintainHeading\r\n     * @param aircraftModel {AircraftModel}\r\n     * @param headingInDegrees {number}                 the heading to maintain, in degrees\r\n     * @param direction      {string|null}  (optional)  the direction of turn; either 'left' or 'right'\r\n     * @param incremental    {boolean}      (optional)  whether the value is a numeric heading, or a\r\n     *                                                  number of degrees to turn\r\n     * @return {array}                                  [success of operation, readback]\r\n     */\r\n    maintainHeading(aircraftModel, headingInDegrees, direction, incremental) {\r\n        const nextHeadingInRadians = degreesToRadians(headingInDegrees);\r\n        let correctedHeading = nextHeadingInRadians;\r\n\r\n        if (incremental) {\r\n            // if direction is left\r\n            correctedHeading = radians_normalize(aircraftModel.heading - nextHeadingInRadians);\r\n\r\n            if (direction === 'right') {\r\n                correctedHeading = radians_normalize(aircraftModel.heading + nextHeadingInRadians);\r\n            }\r\n        }\r\n\r\n        this.cancelApproachClearance(aircraftModel);\r\n        this.cancelHoldingPattern();\r\n        this._mcp.setHeadingFieldValue(correctedHeading);\r\n        this._mcp.setHeadingHold();\r\n\r\n        const headingStr = heading_to_string(correctedHeading);\r\n        const readback = {};\r\n        readback.log = `fly heading ${headingStr}`;\r\n        readback.say = `fly heading ${radio_heading(headingStr)}`;\r\n\r\n        if (incremental) {\r\n            readback.log = `turn ${headingInDegrees} degrees ${direction}`;\r\n            readback.say = `turn ${groupNumbers(headingInDegrees)} degrees ${direction}`;\r\n        } else if (direction) {\r\n            readback.log = `turn ${direction} heading ${headingStr}`;\r\n            readback.say = `turn ${direction} heading ${radio_heading(headingStr)}`;\r\n        }\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Maintain the aircraft's present magnetic heading\r\n     *\r\n     * @for Pilot\r\n     * @method maintainPresentHeading\r\n     * @param aircraftModel {AircraftModel} the heading the aircraft is facing at the time the command is given\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    maintainPresentHeading(aircraftModel) {\r\n        this.cancelApproachClearance(aircraftModel);\r\n        this._mcp.setHeadingFieldValue(aircraftModel.heading);\r\n        this._mcp.setHeadingHold();\r\n\r\n        const readback = {};\r\n        const runwayOrPresent = (\r\n            aircraftModel.flightPhase === FLIGHT_PHASE.WAITING || aircraftModel.flightPhase === FLIGHT_PHASE.TAKEOFF\r\n        ) ? 'runway' : 'present';\r\n        readback.log = `fly ${runwayOrPresent} heading`;\r\n        readback.say = `fly ${runwayOrPresent} heading`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Maintain a given speed\r\n     *\r\n     * @for Pilot\r\n     * @method maintainSpeed\r\n     * @param speed {Number} - the speed to maintain, in knots\r\n     * @param aircraftModel {AircraftModel}\r\n     * @return {Array} [success of operation, readback]\r\n     */\r\n    maintainSpeed(speed, aircraftModel) {\r\n        if (!aircraftModel.model.isAbleToMaintainSpeed(speed)) {\r\n            const readback = {};\r\n            readback.log = `unable to maintain ${speed} knots due to performance`;\r\n            readback.say = `unable to maintain ${radio_spellOut(speed)} knots due to performance`;\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        const currentSpeed = aircraftModel.speed;\r\n        const instruction = radio_trend('speed', currentSpeed, speed);\r\n\r\n        this._mcp.setSpeedFieldValue(speed);\r\n        this._mcp.setSpeedHold();\r\n\r\n        // Build the readback\r\n        const readback = {};\r\n        readback.log = `${instruction} ${speed}`;\r\n        readback.say = `${instruction} ${radio_spellOut(speed)}`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Apply the specified arrival procedure by adding it to the fms route\r\n     * Note: SHOULD NOT change the heading mode\r\n     *\r\n     * @for Pilot\r\n     * @method applyArrivalProcedure\r\n     * @param routeString {string}       route string in the form of `entry.procedure.airport`\r\n     * @param airportName {string}\r\n     * @return {array}                   [success of operation, readback]\r\n     */\r\n    applyArrivalProcedure(routeString, airportName) {\r\n        const [successful, response] = this._fms.replaceArrivalProcedure(routeString);\r\n\r\n        if (!successful) {\r\n            return [false, response];\r\n        }\r\n\r\n        this.cancelHoldingPattern();\r\n\r\n        // Build readback\r\n        const readback = {};\r\n        readback.log = `cleared to ${airportName} via the ${this._fms._routeModel.getStarIcao().toUpperCase()} arrival`;\r\n        readback.say = `cleared to ${airportName} via the ${this._fms._routeModel.getStarName().toUpperCase()} arrival`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Apply the specified departure procedure by adding it to the fms route\r\n     * Note: SHOULD NOT change the heading mode\r\n     *\r\n     * @for Pilot\r\n     * @method applyDepartureProcedure\r\n     * @param routeString {String}          the route\r\n     * @param airportIcao {string}          airport icao identifier\r\n     * @return {array}                      [success of operation, readback]\r\n     */\r\n    applyDepartureProcedure(routeString, airportIcao) {\r\n        const [successful, response] = this._fms.replaceDepartureProcedure(routeString, airportIcao);\r\n\r\n        if (!successful) {\r\n            return [false, response];\r\n        }\r\n\r\n        this.hasDepartureClearance = true;\r\n\r\n        const sidIcao = this._fms.getSidIcao();\r\n        const sidName = this._fms.getSidName();\r\n        const readback = {};\r\n        readback.log = `cleared to destination via the ${sidIcao.toUpperCase()} departure, then as filed`;\r\n        readback.say = `cleared to destination via the ${sidName.toUpperCase()} departure, then as filed`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Apply the specified route, and as applicable, merge it with the current route\r\n     *\r\n     * @for Pilot\r\n     * @method applyPartialRouteAmendment\r\n     * @param routeString {tring}  route string in the form of `entry.procedure.airport`\r\n     * @return {array}             [success of operation, readback]\r\n     */\r\n    applyPartialRouteAmendment(routeString) {\r\n        const readback = this._fms.applyPartialRouteAmendment(routeString);\r\n\r\n        if (readback[0]) {\r\n            this.hasDepartureClearance = true;\r\n\r\n            this.cancelHoldingPattern();\r\n        }\r\n\r\n        return readback;\r\n    }\r\n\r\n    /**\r\n     * Ensure the STAR leg has the specified arrival runway as the exit point and\r\n     * set the specified runway as the new arrival runway.\r\n     *\r\n     * @for Pilot\r\n     * @method updateStarLegForArrivalRunway\r\n     * @param aircraft {AircraftModel}\r\n     * @param nextRunwayModel {RunwayModel}\r\n     * @return {array} [success of operation, response]\r\n     */\r\n    updateStarLegForArrivalRunway(aircraft, nextRunwayModel) {\r\n        if (aircraft.isOnGround()) {\r\n            return [false, 'unable to accept arrival runway assignment until airborne'];\r\n        }\r\n\r\n        return this._fms.updateStarLegForArrivalRunway(nextRunwayModel);\r\n    }\r\n\r\n    /**\r\n     * Stop conducting the instrument approach, and maintain:\r\n     * - current or last assigned altitude (whichever is lower)\r\n     * - current heading\r\n     * - last assigned speed\r\n     *\r\n     * @for Pilot\r\n     * @method cancelApproachClearance\r\n     * @param aircraftModel {AircraftModel}\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    cancelApproachClearance(aircraftModel) {\r\n        if (!this.hasApproachClearance) {\r\n            return [false, 'we have no approach clearance to cancel!'];\r\n        }\r\n\r\n        const airport = AirportController.airport_get();\r\n        const currentAltitude = _floor(aircraftModel.altitude, -2);\r\n        const descentAltitude = Math.min(currentAltitude, this._mcp.altitude);\r\n        const altitudeToMaintain = Math.max(descentAltitude, airport.minAssignableAltitude);\r\n\r\n        this._mcp.setAltitudeFieldValue(altitudeToMaintain);\r\n        this._mcp.setAltitudeHold();\r\n        this._mcp.setHeadingFieldValue(aircraftModel.heading);\r\n        this._mcp.setHeadingHold();\r\n        this._mcp.setSpeedHold();\r\n\r\n        this.hasApproachClearance = false;\r\n\r\n        const readback = 'cancel approach clearance, fly present heading, ' +\r\n            'maintain last assigned altitude and speed';\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Cancel departure clearance\r\n     *\r\n     * @for Pilot\r\n     * @method cancelDepartureClearance\r\n     * @param aircraftModel {AircraftModel}\r\n     * @return {array} [success of operation, response]\r\n     */\r\n    cancelDepartureClearance(aircraftModel) {\r\n        if (aircraftModel.isAirborne()) {\r\n            return;\r\n        }\r\n\r\n        this.hasDepartureClearance = false;\r\n\r\n        return [true, 'roger, understand IFR clearance is cancelled, standing by'];\r\n    }\r\n\r\n    /**\r\n    * Arm the exit of the holding pattern\r\n    *\r\n    * @for Pilot\r\n    * @method cancelHoldingPattern\r\n    * @param fixName {string} name of the fix at which the hold should be canceled (optional)\r\n    * @return {array} [success of operation, readback]\r\n    */\r\n    cancelHoldingPattern(fixName) {\r\n        let holdWaypointModel = _find(this._fms.waypoints, (waypointModel) => waypointModel.isHoldWaypoint);\r\n\r\n        if (!holdWaypointModel) {\r\n            return [false, 'that must be for somebody else, we weren\\'t given any holding instructions'];\r\n        }\r\n\r\n        if (fixName) {\r\n            holdWaypointModel = this._fms.findWaypoint(fixName);\r\n\r\n            if (!holdWaypointModel || !holdWaypointModel.isHoldWaypoint) {\r\n                return [false, {\r\n                    log: `that must be for somebody else, we weren't given holding over ${fixName.toUpperCase()}`,\r\n                    say: `that must be for somebody else, we weren't given holding over ${NavigationLibrary.getFixSpokenName(fixName)}`\r\n                }];\r\n            }\r\n        }\r\n\r\n        holdWaypointModel.deactivateHold();\r\n\r\n        return [true, {\r\n            log: `roger, we'll cancel the hold at ${holdWaypointModel.getDisplayName()}`,\r\n            say: `roger, we'll cancel the hold at ${NavigationLibrary.getFixSpokenName(holdWaypointModel.name)}`\r\n        }];\r\n    }\r\n\r\n    /**\r\n     * Configure the aircraft to fly in accordance with the requested flightplan\r\n     *\r\n     * @for Pilot\r\n     * @method clearedAsFiled\r\n     * @return {Array}                  [success of operation, readback]\r\n     */\r\n    clearedAsFiled() {\r\n        this.hasDepartureClearance = true;\r\n\r\n        const readback = {};\r\n        readback.log = 'cleared to destination as filed';\r\n        readback.say = 'cleared to destination as filed';\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Climb in accordance with the altitude restrictions, and sets\r\n     * altitude at which the climb will end regardless of fix restrictions.\r\n     *\r\n     * https://www.faa.gov/about/office_org/headquarters_offices/avs/offices/afx/afs/afs400/afs470/pbn/\r\n     *      media/Climb_Descend_Via_FAQ.pdf\r\n     * https://www.faa.gov/documentLibrary/media/Notice/N7110.584.pdf\r\n     *\r\n     * @for Pilot\r\n     * @method climbViaSid\r\n     * @param aircraftModel {AircraftModel}\r\n     * @param maximumAltitude {number} (optional) altitude at which the climb will end (regardless of fix restrictions)\r\n     * @return {array}           [success of operation, readback]\r\n     */\r\n    climbViaSid(aircraftModel, maximumAltitude) {\r\n        let nextAltitude = maximumAltitude;\r\n\r\n\r\n        if (typeof nextAltitude === 'undefined') {\r\n            nextAltitude = this._fms.flightPlanAltitude;\r\n        }\r\n\r\n        const { departureAirportModel } = this._fms;\r\n        const altitudeCheck = aircraftModel.validateNextAltitude(nextAltitude, departureAirportModel);\r\n\r\n        if (!altitudeCheck[0]) {\r\n            return altitudeCheck;\r\n        }\r\n\r\n        nextAltitude = departureAirportModel.clampWithinAssignableAltitudes(nextAltitude);\r\n\r\n        if (aircraftModel.altitude > nextAltitude) {\r\n            const currentAltitude = _ceil(aircraftModel.altitude, -2);\r\n            const readback = {};\r\n            readback.log = `unable, we're already at ${currentAltitude}`;\r\n            readback.say = `unable, we're already at ${radio_altitude(currentAltitude)}`;\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        this._mcp.setAltitudeFieldValue(nextAltitude);\r\n        this._mcp.setAltitudeVnav();\r\n        this._mcp.setSpeedVnav();\r\n\r\n        const readback = {};\r\n        readback.log = `climb via SID and maintain ${nextAltitude}`;\r\n        readback.say = `climb via SID and maintain ${radio_altitude(nextAltitude)}`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Descend in accordance with the altitude restrictions\r\n     *\r\n     * https://www.faa.gov/about/office_org/headquarters_offices/avs/offices/afx/afs/afs400/afs470/pbn/\r\n     *      media/Climb_Descend_Via_FAQ.pdf\r\n     * https://www.faa.gov/documentLibrary/media/Notice/N7110.584.pdf\r\n     *\r\n     * @for Pilot\r\n     * @method descendViaStar\r\n     * @param aircraftModel {AircraftModel}\r\n     * @param bottomAltitude {number} (optional) altitude at which the descent will end (regardless of fix restrictions)\r\n     * @return {array}                [success of operation, readback]\r\n     */\r\n    descendViaStar(aircraftModel, bottomAltitude) {\r\n        let nextAltitude = bottomAltitude;\r\n\r\n        if (typeof nextAltitude === 'undefined') {\r\n            nextAltitude = this._fms.getBottomAltitude();\r\n        }\r\n\r\n        const { arrivalAirportModel } = this._fms;\r\n        const altitudeCheck = aircraftModel.validateNextAltitude(nextAltitude, arrivalAirportModel);\r\n\r\n        if (!altitudeCheck[0]) {\r\n            return altitudeCheck;\r\n        }\r\n\r\n        nextAltitude = arrivalAirportModel.clampWithinAssignableAltitudes(nextAltitude);\r\n\r\n        if (aircraftModel.altitude < nextAltitude) {\r\n            const currentAltitude = _ceil(aircraftModel.altitude, -2);\r\n            const readback = {};\r\n            readback.log = `unable, we're already at ${currentAltitude}`;\r\n            readback.say = `unable, we're already at ${radio_altitude(currentAltitude)}`;\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        this._mcp.setAltitudeFieldValue(nextAltitude);\r\n        this._mcp.setAltitudeVnav();\r\n        this._mcp.setSpeedVnav();\r\n\r\n        const readback = {};\r\n        readback.log = `descend via STAR and maintain ${nextAltitude}`;\r\n        readback.say = `descend via STAR and maintain ${radio_altitude(nextAltitude)}`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Cross a fix at a certain altitude and/or speed\r\n     *\r\n     * @for Pilot\r\n     * @method crossFix\r\n     * @param aircraftModel {AircraftModel}\r\n     * @param fixName  {string} name of the fix\r\n     * @param altitude {number} the altitude\r\n     * @param speed {number} the speed\r\n     * @return {array}  success of operation, readback]\r\n     */\r\n    crossFix(aircraftModel, fixName, altitude, speed) {\r\n        if (!altitude && !speed) {\r\n            return [false, 'say again? In crossing restrictions, prefix altitudes with A and speeds with S!'];\r\n        }\r\n\r\n        if (!NavigationLibrary.hasFixName(fixName)) {\r\n            const readback = {\r\n                log: `unable to find '${fixName.toUpperCase()}'`,\r\n                say: `unable to find ${NavigationLibrary.getFixSpokenName(fixName)}`\r\n            };\r\n            return [false, readback];\r\n        }\r\n\r\n        if (!this._fms.hasWaypointName(fixName)) {\r\n            const readback = {\r\n                log: `unable, '${fixName.toUpperCase()}' is not on our route`,\r\n                say: `unable, ${NavigationLibrary.getFixSpokenName(fixName)} is not on our route`\r\n            };\r\n            return [false, readback];\r\n        }\r\n\r\n        const airportModel = this._fms.arrivalAirportModel || this._fms.departureAirportModel;\r\n        const waypoint = this._fms.findWaypoint(fixName);\r\n\r\n        // altitude-only crossing restriction\r\n        if (!speed) {\r\n            const altitudeCheck = aircraftModel.validateNextAltitude(altitude, airportModel);\r\n\r\n            if (!altitudeCheck[0]) {\r\n                return altitudeCheck;\r\n            }\r\n\r\n            altitude = airportModel.clampWithinAssignableAltitudes(altitude);\r\n\r\n            waypoint.setAltitude(altitude);\r\n            this._mcp.setAltitudeFieldValue(altitude);\r\n            this._mcp.setAltitudeVnav();\r\n\r\n            const readback = {\r\n                log: `cross ${fixName.toUpperCase()} at ${altitude}`,\r\n                say: `cross ${NavigationLibrary.getFixSpokenName(fixName)} at ${radio_altitude(altitude)}`\r\n            };\r\n\r\n            return [true, readback];\r\n        }\r\n\r\n        // speed-only crossing restriction\r\n        if (!altitude) {\r\n            const speedCheck = aircraftModel.validateNextSpeed(speed);\r\n\r\n            if (!speedCheck[0]) {\r\n                return speedCheck;\r\n            }\r\n\r\n            waypoint.setSpeed(speed);\r\n            this._mcp.setSpeedFieldValue(speed);\r\n            this._mcp.setSpeedVnav();\r\n\r\n            const readback = {\r\n                log: `cross ${fixName.toUpperCase()} at ${speed}kt`,\r\n                say: `cross ${NavigationLibrary.getFixSpokenName(fixName)} at ${radio_spellOut(speed)} knots`\r\n            };\r\n\r\n            return [true, readback];\r\n        }\r\n\r\n        // altitude AND speed crossing restriction\r\n        const altitudeCheck = aircraftModel.validateNextAltitude(altitude, airportModel);\r\n        const speedCheck = aircraftModel.validateNextSpeed(speed);\r\n\r\n        if (!altitudeCheck[0]) {\r\n            return altitudeCheck;\r\n        }\r\n\r\n        if (!speedCheck[0]) {\r\n            return speedCheck;\r\n        }\r\n\r\n        waypoint.setAltitude(altitude);\r\n        waypoint.setSpeed(speed);\r\n        this._mcp.setAltitudeFieldValue(altitude);\r\n        this._mcp.setSpeedFieldValue(speed);\r\n        this._mcp.setAltitudeVnav();\r\n        this._mcp.setSpeedVnav();\r\n\r\n        const readback = {\r\n            log: `cross ${fixName.toUpperCase()} at ${altitude} and ${speed}kt`,\r\n            say: `cross ${NavigationLibrary.getFixSpokenName(fixName)} at ${radio_altitude(altitude)} and ${radio_spellOut(speed)} knots`\r\n        };\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Abort the landing attempt; maintain present heading/speed, and climb to a reasonable altitude\r\n     *\r\n     * @for Pilot\r\n     * @method goAround\r\n     * @param heading {number}           the aircraft's current heading\r\n     * @param speed {number}             the aircraft's current speed\r\n     * @param airportElevation {number}  the elevation of the airport, in feet MSL\r\n     * @return {array}                   [success of operation, readback]\r\n     */\r\n    goAround(heading, speed, airportElevation) {\r\n        const altitudeToMaintain = _ceil(airportElevation, -2) + 1000;\r\n\r\n        this._mcp.setHeadingFieldValue(heading);\r\n        this._mcp.setHeadingHold();\r\n        this._mcp.setAltitudeFieldValue(altitudeToMaintain);\r\n        this._mcp.setAltitudeHold();\r\n        this._mcp.setSpeedFieldValue(speed);\r\n        this._mcp.setSpeedHold();\r\n\r\n        const readback = {};\r\n        readback.log = `go around, fly present heading, maintain ${altitudeToMaintain}`;\r\n        readback.say = `go around, fly present heading, maintain ${radio_altitude(altitudeToMaintain)}`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Intercept a radial course or localizer (horizontal guidance)\r\n     *\r\n     * @for Pilot\r\n     * @method _interceptCourse\r\n     * @param datum {StaticPositionModel}  the position the course is based upon\r\n     * @param course {number}              the heading inbound to the datum\r\n     * @return {array}                     [success of operation, readback]\r\n     * @private\r\n     */\r\n    _interceptCourse(datum, course) {\r\n        this._mcp.setNav1Datum(datum);\r\n        this._mcp.setCourseFieldValue(course);\r\n        this._mcp.setHeadingVorLoc();\r\n\r\n        const readback = {};\r\n        readback.log = 'intercept localizer';\r\n        readback.say = 'intercept localizer';\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Intercept a glidepath or glideslop (vertical guidance)\r\n     *\r\n     * @for Pilot\r\n     * @method _interceptGlidepath\r\n     * @param datum {StaticPositionModel}  the position the glidepath is projected from\r\n     * @param course {number}              the heading inbound to the datum\r\n     * @param descentAngle {number}        the angle of descent along the glidepath\r\n     * @return {array}                     [success of operation, readback]\r\n     * @private\r\n     */\r\n    _interceptGlidepath(datum, course, descentAngle) {\r\n        // TODO: I feel like our description of lateral/vertical guidance should be done with its\r\n        // own class rather than like this by storing all sorts of irrelevant stuff in the pilot/MCP.\r\n        if (this._mcp.nav1Datum !== datum) {\r\n            return [false, 'cannot follow glidepath because we are using lateral navigation from a different origin'];\r\n        }\r\n\r\n        if (this._mcp.course !== course) {\r\n            return [\r\n                false,\r\n                'cannot follow glidepath because its course differs from that specified for lateral guidance'\r\n            ];\r\n        }\r\n\r\n        // TODO: the descentAngle is a part of the ILS system itself, and should not be owned by the MCP\r\n        this._mcp.setDescentAngle(descentAngle);\r\n\r\n        // TODO: Though not realistic, to emulate the refusal to descend below MCP altitude\r\n        // until established on the localizer, we should not be setting the altitude mode to\r\n        // 'APP' until established on the localizer. This will prevent improper descent behaviors.\r\n        this._mcp.setAltitudeApproach();\r\n\r\n        return [true, 'intercept glidepath'];\r\n    }\r\n\r\n    /**\r\n     * Conduct the specified instrument approachType\r\n     * Note: Currently only supports ILS approaches\r\n     * Note: Approach variants cannot yet be specified (eg RNAV-Y)\r\n     *\r\n     * @for pilot\r\n     * @method conductInstrumentApproach\r\n     * @param aircraftModel {AircraftModel} the aircraft model belonging to this pilot\r\n     * @param approachType {string}         the type of instrument approach (eg 'ILS', 'RNAV', 'VOR', etc)\r\n     * @param runwayModel {RunwayModel}     the runway the approach ends at\r\n     * @return {array}                      [success of operation, readback]\r\n     */\r\n    conductInstrumentApproach(aircraftModel, approachType, runwayModel) {\r\n        if (_isNil(runwayModel)) {\r\n            return [false, 'the specified runway does not exist'];\r\n        }\r\n\r\n        const minimumGlideslopeInterceptAltitude = runwayModel.getMinimumGlideslopeInterceptAltitude();\r\n\r\n        if (aircraftModel.mcp.altitude < minimumGlideslopeInterceptAltitude) {\r\n            const readback = {};\r\n\r\n            readback.log = `unable ILS ${runwayModel.name}, our assigned altitude is below the minimum ` +\r\n                `glideslope intercept altitude, request climb to ${minimumGlideslopeInterceptAltitude}`;\r\n            readback.say = `unable ILS ${radio_runway(runwayModel.name)}, our assigned altitude is below the minimum ` +\r\n                `glideslope intercept altitude, request climb to ${radio_altitude(minimumGlideslopeInterceptAltitude)}`;\r\n\r\n            return [false, readback];\r\n        }\r\n\r\n        // TODO: split these two method calls and the corresponding ifs to a new method\r\n        const datum = runwayModel.positionModel;\r\n        const course = runwayModel.angle;\r\n        const descentAngle = runwayModel.ils.glideslopeGradient;\r\n        const lateralGuidance = this._interceptCourse(datum, course);\r\n        const verticalGuidance = this._interceptGlidepath(datum, course, descentAngle);\r\n\r\n        // TODO: As written, `._interceptCourse()` will always return true.\r\n        if (!lateralGuidance[0]) {\r\n            return lateralGuidance;\r\n        }\r\n\r\n        if (!verticalGuidance[0]) {\r\n            return verticalGuidance;\r\n        }\r\n\r\n        this.cancelHoldingPattern();\r\n        this._fms.setArrivalRunway(runwayModel);\r\n        this.hasApproachClearance = true;\r\n\r\n        const readback = {};\r\n        readback.log = `cleared ${approachType.toUpperCase()} runway ${runwayModel.name} approach`;\r\n        readback.say = `cleared ${approachType.toUpperCase()} runway ${radio_runway(runwayModel.name)} approach`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    // TODO: Add ability to hold at present position\r\n    /**\r\n     * Conduct a holding pattern at a specific fix\r\n     *\r\n     * @for Fms\r\n     * @method initiateHoldingPattern\r\n     * @param fixName {string} name of the fix to hold over\r\n     * @param holdParameters {object} parameters to apply to WaypointModel._holdParameters\r\n     * @param fallbackInboundHeading {number} the inboundHeading that is used if no default is available\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    initiateHoldingPattern(fixName, holdParameters, fallbackInboundHeading) {\r\n        const [success, responseValue] = this._fms.activateHoldForWaypointName(fixName, holdParameters, fallbackInboundHeading);\r\n\r\n        if (!success) {\r\n            return [success, responseValue];\r\n        }\r\n\r\n        // When successful, the responseValue contains the actual holdParameters used by the\r\n        // `WaypointModel`. This means that we can send partial holdParameters, to patch\r\n        // the `WaypointModel`s _holdParameters property\r\n        holdParameters = responseValue;\r\n\r\n        const radialText = heading_to_string(holdParameters.inboundHeading + Math.PI);\r\n        const cardinalDirectionFromFix = getRadioCardinalDirectionNameForHeading(holdParameters.inboundHeading);\r\n        const holdParametersReadback = `${holdParameters.turnDirection} turns, ${holdParameters.legLength} legs`;\r\n        const radialReadbackLog = `on the ${radialText} radial`;\r\n        const radialReadbackSay = `on the ${radio_heading(radialText)} radial`;\r\n\r\n        // force lower-case in verbal readback to get speech synthesis to pronounce the fix instead of spelling it\r\n        return [true, {\r\n            log: `hold ${cardinalDirectionFromFix} of ${fixName.toUpperCase()} ${radialReadbackLog}, ${holdParametersReadback}`,\r\n            say: `hold ${cardinalDirectionFromFix} of ${NavigationLibrary.getFixSpokenName(fixName)} ${radialReadbackSay}, ${holdParametersReadback}`\r\n        }];\r\n    }\r\n\r\n    /**\r\n     * Initialize all autopilot systems after being given an IFR clearance to destination\r\n     *\r\n     * @for Pilot\r\n     * @method configureForTakeoff\r\n     * @param initialAltitude {number} the altitude aircraft can automatically climb to at this airport\r\n     * @param runway {RunwayModel} the runway taking off on\r\n     * @param cruiseSpeed {number} the cruise speed of the aircraft, in knots\r\n     */\r\n    configureForTakeoff(initialAltitude, runway, cruiseSpeed) {\r\n        if (this._mcp.altitude === INVALID_NUMBER) {\r\n            this._mcp.setAltitudeFieldValue(initialAltitude);\r\n        }\r\n\r\n        if (this._mcp.altitudeMode === MCP_MODE.ALTITUDE.OFF) {\r\n            this._mcp.setAltitudeHold();\r\n        }\r\n\r\n        if (this._mcp.heading === INVALID_NUMBER) {\r\n            this._mcp.setHeadingFieldValue(runway.angle);\r\n        }\r\n\r\n        if (this._mcp.headingMode === MCP_MODE.HEADING.OFF) {\r\n            this._mcp.setHeadingLnav();\r\n        }\r\n\r\n        if (this._mcp.speed === INVALID_NUMBER) {\r\n            this._mcp.setSpeedFieldValue(cruiseSpeed);\r\n        }\r\n\r\n        if (this._mcp.speedMode === MCP_MODE.SPEED.OFF) {\r\n            this._mcp.setSpeedN1();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Skip ahead in the FMS to the waypoint for the specified waypointName, and activate LNAV to fly to it\r\n     *\r\n     * @for Pilot\r\n     * @method proceedDirect\r\n     * @param waypointName {string}  name of the fix we are flying direct to\r\n     * @return {array}               [success of operation, readback]\r\n     */\r\n    proceedDirect(waypointName) {\r\n        if (!this._fms.hasWaypointName(waypointName)) {\r\n            const readback = {\r\n                log: `cannot proceed direct to ${waypointName}, it does not exist in our flight plan`,\r\n                say: `cannot proceed direct to ${NavigationLibrary.getFixSpokenName(waypointName)}, it does not exist in our flight plan`\r\n            };\r\n            return [false, readback];\r\n        }\r\n\r\n        this._fms.skipToWaypointName(waypointName);\r\n        this.cancelHoldingPattern();\r\n        this._mcp.setHeadingLnav();\r\n\r\n        const readback = {\r\n            log: `proceed direct ${waypointName}`,\r\n            say: `proceed direct ${NavigationLibrary.getFixSpokenName(waypointName)}`\r\n        };\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * End of takeoff, stop hand flying, and give the autopilot control of the aircraft\r\n     *\r\n     * Note: This should be done when the phase changes from takeoff to climb\r\n     * Note: The 'raise landing gear' portion has no relevance, and exists solely for specificity of context\r\n     *\r\n     * @for Pilot\r\n     * @method raiseLandingGearAndActivateAutopilot\r\n     */\r\n    raiseLandingGearAndActivateAutopilot() {\r\n        this._mcp.enable();\r\n    }\r\n\r\n    /**\r\n     * Replace the entire route with a new one built from the provided route string\r\n     *\r\n     * @for Pilot\r\n     * @method replaceFlightPlanWithNewRoute\r\n     * @param routeString {string}  routeString defining the new route to use\r\n     * @return {array}              [success of operation, readback]\r\n     */\r\n    replaceFlightPlanWithNewRoute(routeString) {\r\n        const readback = this._fms.replaceFlightPlanWithNewRoute(routeString);\r\n\r\n        if (readback[0]) {\r\n            this.hasDepartureClearance = true;\r\n        }\r\n\r\n        return readback;\r\n    }\r\n\r\n    /**\r\n     * Return the altitude the aircraft is currently assigned. May be moving toward this altitude,\r\n     * or already established at that altitude.\r\n     *\r\n     * @for Pilot\r\n     * @method sayTargetedAltitude\r\n     * @return {Array} [success of operation, readback]\r\n     */\r\n    sayTargetedAltitude() {\r\n        const readback = {};\r\n        readback.log = `we're assigned ${this._mcp.altitude}`;\r\n        readback.say = `we're assigned ${radio_altitude(this._mcp.altitude)}`;\r\n\r\n        return [true, readback];\r\n    }\r\n\r\n    /**\r\n     * Return the heading the aircraft is currently targeting. May be moving toward this heading,\r\n     * or already established at that heading.\r\n     *\r\n     * @for Pilot\r\n     * @method sayTargetHeading\r\n     * @return {array} [success of operation, readback]\r\n     */\r\n    sayTargetHeading() {\r\n        const readback = {};\r\n\r\n        switch (this._mcp.headingMode) {\r\n            case MCP_MODE.HEADING.HOLD:\r\n                readback.log = `we're assigned heading ${this._mcp.headingInDegrees}`;\r\n                readback.say = `we're assigned heading ${radio_heading(this._mcp.headingInDegrees)}`;\r\n\r\n                return [true, readback];\r\n\r\n            case MCP_MODE.HEADING.VOR_LOC:\r\n                readback.log = `we're joining a course of ${this._mcp.course}`;\r\n                readback.say = `we're joining a course of ${radio_heading(this._mcp.course)}`;\r\n\r\n                return [true, readback];\r\n\r\n            case MCP_MODE.HEADING.LNAV: {\r\n                const waypoint = this._fms.currentWaypoint;\r\n                const waypointPosition = waypoint.positionModel;\r\n                const bearing = Math.round(radiansToDegrees(this.positionModel.bearingToPosition(waypointPosition)));\r\n\r\n                readback.log = `our on-course heading to ${waypoint.getDisplayName()} is ${bearing}`;\r\n                readback.say = `our on-course heading to ${NavigationLibrary.getFixSpokenName(waypoint.getDisplayName())} is ${radio_heading(bearing)}`;\r\n\r\n                return [true, readback];\r\n            }\r\n\r\n            default:\r\n                readback.log = 'we haven\\'t been assigned a heading';\r\n                readback.say = 'we haven\\'t been assigned a heading';\r\n\r\n                return [true, readback];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Return the speed the aircraft is currently assigned. May be moving toward this speed, or\r\n     * already established at this speed.\r\n     *\r\n     * @for Pilot\r\n     * @method sayTargetedSpeed\r\n     */\r\n    sayTargetedSpeed() {\r\n        // TODO: How do we handle the cases where aircraft are using VNAV speed?\r\n        return [true, this._mcp.speed];\r\n    }\r\n\r\n    /**\r\n     * Stop taxiing to the runway and return to the gate\r\n     *\r\n     * @for Pilot\r\n     * @method stopOutboundTaxiAndReturnToGate\r\n     * @return {Array} [success of operation, readback]\r\n     */\r\n    stopOutboundTaxiAndReturnToGate() {\r\n        this._fms.flightPhase = FLIGHT_PHASE.APRON;\r\n        // TODO: What to do with this little number....?\r\n        // aircraft.taxi_start = 0;\r\n\r\n        return [true, 'taxiing back to the gate'];\r\n    }\r\n\r\n    /**\r\n     * Leave the departure line and return to the gate\r\n     *\r\n     * @for Pilot\r\n     * @method stopWaitingInRunwayQueueAndReturnToGate\r\n     * @return {Array} [success of operation, readback]\r\n     */\r\n    stopWaitingInRunwayQueueAndReturnToGate() {\r\n        // TODO: this will likely need to be called from somewhere other than the `AircraftCommander`\r\n        // TODO: remove aircraft from the runway queue (`Runway.removeAircraftFromQueue()`)\r\n        this._fms.flightPhase = FLIGHT_PHASE.APRON;\r\n\r\n        return [true, 'taxiing back to the gate'];\r\n    }\r\n}\r\n","import _find from 'lodash/find';\r\nimport _without from 'lodash/without';\r\nimport BaseCollection from '../../base/BaseCollection';\r\n\r\n/**\r\n * Collection used to manage `StripViewModel` objects\r\n *\r\n * @class StripViewCollection\r\n * @extends BaseCollection\r\n */\r\nexport default class StripViewCollection extends BaseCollection {\r\n    /**\r\n     *\r\n     * @constructor\r\n     */\r\n    constructor() {\r\n        super();\r\n\r\n        /**\r\n         * Inherited from `BaseCollection`\r\n         *\r\n         * @property _items\r\n         * @type {array<any>}\r\n         * @default []\r\n         * @private\r\n         */\r\n\r\n        /**\r\n         * Inherited from `BaseCollection`\r\n         *\r\n         * @property length\r\n         * @type {number}\r\n         */\r\n\r\n        return this._init();\r\n    }\r\n\r\n    /**\r\n     * Initialize the instance\r\n     *\r\n     * @for StripViewCollection\r\n     * @method _init\r\n     */\r\n    _init() {\r\n\r\n    }\r\n\r\n    /**\r\n     * Reset the instance\r\n     *\r\n     * @for StripViewCollection\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        this._items = [];\r\n    }\r\n\r\n    /**\r\n     * Add a `StripViewModel` instance to the collection\r\n     *\r\n     * @for StripViewCollection\r\n     * @method addItem\r\n     */\r\n    addItem(stripViewModel) {\r\n        this._items.push(stripViewModel);\r\n    }\r\n\r\n    /**\r\n     * Remove a `StripViewModel` instance from the collection\r\n     *\r\n     * @for StripViewCollection\r\n     * @method removeItem\r\n     */\r\n    removeItem(stripViewModel) {\r\n        this._items = _without(this._items, stripViewModel);\r\n    }\r\n\r\n    /**\r\n     * Find an active `StripViewModel`.\r\n     *\r\n     * Active is defined by the presence of a specific css classname\r\n     *\r\n     * @for StripViewCollection\r\n     * @method findActiveStripViewModel\r\n     * @return {StripViewModel}\r\n     */\r\n    findActiveStripViewModel() {\r\n        return _find(this._items, { isActive: true });\r\n    }\r\n\r\n    /**\r\n     * Find a `StripViewModel` in the collection by an `aircraftid`\r\n     *\r\n     * @for StripViewCollection\r\n     * @method findStripByAircraftId\r\n     * @param aircraftId {number}\r\n     * @return {StripViewModel|undefined}\r\n     */\r\n    findStripByAircraftId(aircraftId) {\r\n        return _find(this._items, { aircraftId: aircraftId });\r\n    }\r\n}\r\n","import $ from 'jquery';\r\nimport _random from 'lodash/random';\r\nimport _without from 'lodash/without';\r\nimport StripViewCollection from './StripViewCollection';\r\nimport StripViewModel from './StripViewModel';\r\nimport { INVALID_INDEX } from '../../constants/globalConstants';\r\nimport { SELECTORS } from '../../constants/selectors';\r\n\r\n/**\r\n * The highest number allowed for a cid value\r\n *\r\n * @property CID_UPPER_BOUND\r\n * @type {number}\r\n * @final\r\n */\r\nconst CID_UPPER_BOUND = 999;\r\n\r\n/**\r\n * Control modifications of the `$stripViewList` and coordinate\r\n * management of the `StripViewCollection`. Also responsible for\r\n * creating new `StripViewModel` instances.\r\n *\r\n * @class StripViewController\r\n */\r\nexport default class StripViewController {\r\n    /**\r\n     * @constructor\r\n     */\r\n    constructor() {\r\n        /**\r\n         * Collection class used to manage instances of `StripViewModel`s\r\n         *\r\n         * @property _collection\r\n         * @type {StripViewCollection}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._collection = null;\r\n\r\n        /**\r\n         * Root list view element\r\n         *\r\n         * @property $stripView\r\n         * @type {JQuery|HTMLElement}\r\n         */\r\n        this.$stripView = $(SELECTORS.DOM_SELECTORS.STRIP_VIEW);\r\n\r\n        /**\r\n         * List element containing each `StripViewModel` instance that is an Arrival\r\n         *\r\n         * @property $stripViewListArrivals\r\n         * @type {JQuery|HTMLElement}\r\n         */\r\n        this.$stripViewListArrivals = $(SELECTORS.DOM_SELECTORS.STRIP_VIEW_ARRIVALS_LIST);\r\n\r\n        /**\r\n         * List element containing each `StripViewModel` instance that is a Departure\r\n         *\r\n         * @property $stripViewListDepartures\r\n         * @type {JQuery|HTMLElement}\r\n         */\r\n        this.$stripViewListDepartures = $(SELECTORS.DOM_SELECTORS.STRIP_VIEW_DEPARTURES_LIST);\r\n\r\n        /**\r\n         * Trigger that toggles visibility of the `$stripView`\r\n         *\r\n         * @property $stripListTrigger\r\n         * @type {JQuery|HTMLElement}\r\n         */\r\n        this.$stripListTrigger = $(SELECTORS.DOM_SELECTORS.STRIP_VIEW_TRIGGER);\r\n\r\n        /**\r\n         * @property _cidNumbersInUse\r\n         * @type {array<number>}\r\n         * @private\r\n         */\r\n        this._cidNumbersInUse = [];\r\n\r\n        return this._init()\r\n            .enable();\r\n    }\r\n\r\n    /**\r\n     * Initialize the instance\r\n     *\r\n     * Should be run only once on instantiation\r\n     *\r\n     * @for StripViewController\r\n     * @method _init\r\n     */\r\n    _init() {\r\n        this._collection = new StripViewCollection();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Enable handlers\r\n     *\r\n     * @for StripViewController\r\n     * @method enable\r\n     * @chainable\r\n     */\r\n    enable() {\r\n        this.$stripListTrigger.on('click', this._onStripListToggle);\r\n        this.$stripViewListArrivals.on('click', this._onStripListClickOutsideStripViewModel);\r\n        this.$stripViewListDepartures.on('click', this._onStripListClickOutsideStripViewModel);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Tear down handlers and destroy the instance\r\n     *\r\n     * @for StripViewController\r\n     * @method destroy\r\n     */\r\n    destroy() {\r\n        this._collection = null;\r\n    }\r\n\r\n    /**\r\n     * Provides a way to check if a `StripViewModel` exists for a given `AircraftModel`\r\n     *\r\n     * @for StripViewController\r\n     * @method hasStripViewModel\r\n     * @param aircraftModel {AircraftModel}\r\n     * @returns {booelan}\r\n     */\r\n    hasStripViewModel(aircraftModel) {\r\n        const stripViewModel = this._collection.findStripByAircraftId(aircraftModel.id);\r\n\r\n        return typeof stripViewModel !== 'undefined';\r\n    }\r\n\r\n    /**\r\n     * Update each `StripViewModel` with new aricraft data\r\n     *\r\n     * The `StripViewModel` provides an early out when\r\n     * `StripViewModel.shouldUpdate()` returns false\r\n     *\r\n     * This method is part of the animation loop\r\n     *\r\n     * @for StripViewController\r\n     * @method update\r\n     * @param aircraftList {array<AircraftModel>}\r\n     */\r\n    update(aircraftList) {\r\n        // TODO: this should probably work the other way; loop through list items and find an aircraft.\r\n        // We need a proper `AircraftCollection` for that to work\r\n        for (let i = 0; i < aircraftList.length; i++) {\r\n            const aircraftModel = aircraftList[i];\r\n\r\n            if (!aircraftModel.isControllable) {\r\n                continue;\r\n            }\r\n\r\n            let stripViewModel = this._collection.findStripByAircraftId(aircraftModel.id);\r\n\r\n            // Here we create the StripViewModel for ARRIVALS at the moment they become\r\n            // \"controllable\". By contrast, departure strips are created immediately.\r\n            if (typeof stripViewModel === 'undefined') {\r\n                stripViewModel = this.createStripView(aircraftModel);\r\n            }\r\n\r\n            stripViewModel.update(aircraftModel);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create a new `StripViewModel` instance and add it to the collection\r\n     *\r\n     * @for StripViewController\r\n     * @method createStripView\r\n     * @param aircraftModel {AircraftModel}\r\n     * @return {StripViewModel}\r\n     */\r\n    createStripView(aircraftModel) {\r\n        const stripViewCid = this._generateCidNumber();\r\n        const stripViewModel = new StripViewModel(aircraftModel, stripViewCid);\r\n\r\n        this._collection.addItem(stripViewModel);\r\n\r\n        if (aircraftModel.isDeparture() || aircraftModel.isControllable) {\r\n            this._addViewToStripList(stripViewModel);\r\n        }\r\n\r\n        return stripViewModel;\r\n    }\r\n\r\n    /**\r\n     * Find a `StripViewModel` and attempt to add an active state\r\n     *\r\n     * @for StripViewController\r\n     * @method selectStripView\r\n     * @param  aircraftModel {AircraftModel}\r\n     */\r\n    selectStripView(aircraftModel) {\r\n        const stripModel = this._collection.findStripByAircraftId(aircraftModel.id);\r\n\r\n        if (!stripModel) {\r\n            throw Error(`No StripViewModel found for selected Aircraft: ${aircraftModel.callsign}`);\r\n        }\r\n\r\n        this.findAndDeselectActiveStripView();\r\n        stripModel.addActiveState();\r\n    }\r\n\r\n    /**\r\n     * Given a `stripViewModel`, call the `.removeActiveState()` method\r\n     * that will remove the active css classname\r\n     *\r\n     * @for StripViewController\r\n     * @method deselectStripView\r\n     * @param stripViewModel {StripViewModel}\r\n     */\r\n    deselectStripView(stripViewModel) {\r\n        if (!(stripViewModel instanceof StripViewModel)) {\r\n            throw new TypeError('Expected stripViewModel to be an instance of ' +\r\n                `StripViewModel but instead found ${typeof stripViewModel}`);\r\n        }\r\n\r\n        stripViewModel.removeActiveState();\r\n    }\r\n\r\n    /**\r\n     * Find a `StripViewModel` and scroll it into view\r\n     *\r\n     * @for StripViewController\r\n     * @method scrollToStripView\r\n     * @param  aircraftModel {AircraftModel}\r\n     */\r\n    scrollToStripView(aircraftModel) {\r\n        const stripModel = this._collection.findStripByAircraftId(aircraftModel.id);\r\n\r\n        if (!stripModel) {\r\n            throw Error(`No StripViewModel found for selected Aircraft: ${aircraftModel.callsign}`);\r\n        }\r\n\r\n        if (this.$stripView.hasClass(SELECTORS.CLASSNAMES.STRIP_VIEW_IS_HIDDEN)) {\r\n            this.$stripView.removeClass(SELECTORS.CLASSNAMES.STRIP_VIEW_IS_HIDDEN);\r\n            // wait 0.3s for strip view drawer slide out transition to complete\r\n            setTimeout(() => {\r\n                stripModel.scrollIntoView();\r\n            }, 300);\r\n        } else {\r\n            stripModel.scrollIntoView();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Method used to deselect an active `StripViewModel` when\r\n     * the specific model is not known.\r\n     *\r\n     * This useful for when a click is registered within the\r\n     * `stripViewList`, but not on a specific `StripViewModel`\r\n     * or when an event is triggered to clear the active callsign\r\n     *\r\n     * @for StripViewController\r\n     * @method findAndDeselectActiveStripView\r\n     * @private\r\n     */\r\n    findAndDeselectActiveStripView() {\r\n        const activeStripViewModel = this._collection.findActiveStripViewModel();\r\n\r\n        if (!activeStripViewModel) {\r\n            return;\r\n        }\r\n\r\n        this.deselectStripView(activeStripViewModel);\r\n    }\r\n\r\n    /**\r\n     * Remove a `StripViewModel` from the `$stripViewList`\r\n     *\r\n     * @for StripViewController\r\n     * @method removeStripView\r\n     * @param aircraftModel {AircraftModel}\r\n     */\r\n    removeStripView(aircraftModel) {\r\n        const stripViewModel = this._collection.findStripByAircraftId(aircraftModel.id);\r\n\r\n        if (!stripViewModel) {\r\n            return;\r\n        }\r\n\r\n        this._removeCidFromUse(stripViewModel.cid);\r\n        this._collection.removeItem(stripViewModel);\r\n        stripViewModel.destroy();\r\n    }\r\n\r\n    /**\r\n     * Add `StripViewModel` to the `$stripViewList`\r\n     *\r\n     * This adds a given `stripViewModel` into the DOM as a\r\n     * child of `$stripViewList`\r\n     *\r\n     * @for StripViewController\r\n     * @method _addViewToStripList\r\n     * @param stripViewModel {StripViewModel}\r\n     * @private\r\n     */\r\n    _addViewToStripList(stripViewModel) {\r\n        if (!(stripViewModel instanceof StripViewModel)) {\r\n            throw new TypeError(`Expected an instance of StripViewModel but received ${typeof stripViewModel}`);\r\n        }\r\n\r\n        const listView = stripViewModel.isDeparture ? this.$stripViewListDepartures : this.$stripViewListArrivals;\r\n        const scrollPosition = listView.scrollTop();\r\n\r\n        listView.prepend(stripViewModel.$element);\r\n        // shift scroll down one strip's height\r\n        listView.scrollTop(scrollPosition + StripViewModel.HEIGHT);\r\n    }\r\n\r\n    /**\r\n     * Event handler for when a the strip view drawer toggle is clicked\r\n     *\r\n     * @for StripViewController\r\n     * @method _onStripListToggle\r\n     * @param event {JQueryEventObject}\r\n     * @private\r\n     */\r\n    // eslint-disable-next-line no-unused-vars\r\n    _onStripListToggle = (event) => {\r\n        this.$stripView.toggleClass(SELECTORS.CLASSNAMES.STRIP_VIEW_IS_HIDDEN);\r\n    };\r\n\r\n    /**\r\n     * Event handler for when a click is registered within the `$stripViewList`\r\n     * but not targeting a specific `StripViewModel`\r\n     *\r\n     * @for StripViewController\r\n     * @method _onStripListClickOutsideStripViewModel\r\n     * @param event {JQueryEventObject}\r\n     * @private\r\n     */\r\n    // eslint-disable-next-line no-unused-vars\r\n    _onStripListClickOutsideStripViewModel = (event) => this.findAndDeselectActiveStripView();\r\n\r\n    /**\r\n     * Generate a unique number to represent a `CID`\r\n     *\r\n     * Should be displayed with leading zeros, so a `CID` value of `1` should be displayed as `001`\r\n     *\r\n     * @for StripViewController\r\n     * @method _generateCidNumber\r\n     * @return nextCid {number}\r\n     * @private\r\n     */\r\n    _generateCidNumber() {\r\n        const nextCid = _random(1, CID_UPPER_BOUND);\r\n\r\n        if (this._cidNumbersInUse.indexOf(nextCid) !== INVALID_INDEX) {\r\n            return this._generateCidNumber();\r\n        }\r\n\r\n        this._cidNumbersInUse.push(nextCid);\r\n\r\n        return nextCid;\r\n    }\r\n\r\n    /**\r\n     * Remove a given `#cid` from use\r\n     *\r\n     * Used when an aircraft has landed or departed controlled airspace\r\n     *\r\n     * @for StripViewController\r\n     * @method _removeCidFromUse\r\n     * @param cid {number}\r\n     * @private\r\n     */\r\n    _removeCidFromUse(cid) {\r\n        const cidIndex = this._cidNumbersInUse.indexOf(cid);\r\n\r\n        if (cidIndex === INVALID_INDEX) {\r\n            return;\r\n        }\r\n\r\n        this._cidNumbersInUse = _without(this._cidNumbersInUse, cid);\r\n    }\r\n}\r\n","import $ from 'jquery';\r\nimport BaseModel from '../../base/BaseModel';\r\nimport EventBus from '../../lib/EventBus';\r\nimport { STRIP_VIEW_TEMPLATE } from './stripViewTemplate';\r\nimport { EVENT } from '../../constants/eventNames';\r\nimport { INVALID_NUMBER } from '../../constants/globalConstants';\r\nimport { SELECTORS } from '../../constants/selectors';\r\nimport { leftPad } from '../../utilities/generalUtilities';\r\n\r\n/**\r\n * Encapsulation of data and view elements for a single aircraft progress strip\r\n *\r\n * Handles display and updating of an aircraft progress strip\r\n *\r\n * @class StripViewModel\r\n * @extends BaseModel\r\n */\r\nexport default class StripViewModel extends BaseModel {\r\n    /**\r\n     * Height of the AircraftStrip DOM element in px.\r\n     *\r\n     * @property AIRCRAFT_STRIP_HEIGHT\r\n     * @type {number}\r\n     * @static\r\n     */\r\n    static HEIGHT = 60;\r\n\r\n    /**\r\n     * @constructor\r\n     * @param aircraftModel {object}\r\n     * @param cidValue {number}\r\n     */\r\n    constructor(aircraftModel, cidValue) {\r\n        super('stripViewModel');\r\n\r\n        /**\r\n         * Model `#_id` inherited from `BaseModel`\r\n         *\r\n         * @property _id\r\n         * @type {string}\r\n         */\r\n\r\n        /**\r\n         * Internal reference to `EventBus` class\r\n         *\r\n         * @property _eventBus\r\n         * @type {EventBus}\r\n         * @default EventBus\r\n         * @private\r\n         */\r\n        this._eventBus = EventBus;\r\n\r\n        /**\r\n         * If an aircraft is a Departure\r\n         *\r\n         * When this is true it means the aircraft is a Departure\r\n         * and if this is false it means the aircraft is an Arrival.\r\n         *\r\n         * @property isDeparture\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.isDeparture = false;\r\n\r\n        /**\r\n         * Root HTML Element\r\n         *\r\n         * @property $element\r\n         * @type {JQuery Element}\r\n         * @default null\r\n         */\r\n        this.$element = null;\r\n\r\n        /**\r\n         * Reference to the `AircraftModel#id` property\r\n         *\r\n         * Used only for associating a `StripViewModel` with a\r\n         * specific `aircraftId`\r\n         *\r\n         * @property aircraftId\r\n         * @type {string}\r\n         */\r\n        this.aircraftId = aircraftModel.id;\r\n\r\n        /**\r\n         * If an aircraft inside controlled airspace\r\n         *\r\n         * When this is true it means the aircraft is (or should)\r\n         * be under ATC control and it's progress strip should\r\n         * be visible in the strip list.\r\n         *\r\n         * @property insideCenter\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.insideCenter = false;\r\n\r\n        /**\r\n         * CSS classname applied for arrival or departure\r\n         *\r\n         * @property _categoryClassname\r\n         * @type string\r\n         * @default ''\r\n         */\r\n        this._categoryClassName = '';\r\n\r\n        // the following properties are arranged in view order\r\n        // this sort will be used throughout this class\r\n\r\n        /**\r\n         * Aircraft callsign\r\n         *\r\n         * @property _callsign\r\n         * @type {string}\r\n         * @default ''\r\n         * @private\r\n         */\r\n        this._callsign = '';\r\n\r\n        /**\r\n         * HTML Element that holds the `#_callsign` value\r\n         *\r\n         * @property\r\n         * @type {JQuery Element}\r\n         * @default null\r\n         */\r\n        this.$callsignView = null;\r\n\r\n        /**\r\n         * The aircraft type, with weight prefix and equipment suffix\r\n         *\r\n         * Will be generated by the `AircraftTypeDefinitionModel`,\r\n         * this merely caches that value so it doesn't need to be\r\n         * calculated every time.\r\n         *\r\n         * @property _aircraftType\r\n         * @type {string}\r\n         * @default ''\r\n         * @private\r\n         */\r\n        this._aircraftType = '';\r\n\r\n        /**\r\n         * HTML Element that holds the `#_aircraftType` value\r\n         *\r\n         * @property $aircraftTypeView\r\n         * @type {JQuery Element}\r\n         * @default null\r\n         */\r\n        this.$aircraftTypeView = null;\r\n\r\n        /**\r\n         * This value is generated by the `StripViewController` and is\r\n         * unique to every `StripViewModel`\r\n         *\r\n         * Currently only numeric, but could be made alpha-numberic\r\n         *\r\n         * Padded with leading zeros in `#cidString` for display purposes\r\n         *\r\n         * @property cid\r\n         * @type {number}\r\n         * @default cidValue\r\n         */\r\n        this.cid = cidValue;\r\n\r\n        /**\r\n         * A string version of `#cid` for display purposes\r\n         * Has been padded with leading zeros so that it is always\r\n         * displayed as three digits\r\n         *\r\n         * @property cidString\r\n         * @type {string}\r\n         * @default cidValue\r\n         */\r\n        this.cidString = leftPad(cidValue, 3);\r\n\r\n        /**\r\n         * HTML Element that holds `#_cidValue`\r\n         *\r\n         * @property $cidView\r\n         * @type {JQuery Element}\r\n         * @default null\r\n         */\r\n        this.$cidView = null;\r\n\r\n        /**\r\n         * Aircraft transponder code\r\n         *\r\n         * @property _transponder\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._transponder = INVALID_NUMBER;\r\n\r\n        /**\r\n         * HTML Element that holds the `#_transponderCode` value\r\n         *\r\n         * @property $transponderView\r\n         * @type {JQuery Element}\r\n         * @default null\r\n         */\r\n        this.$transponderView = null;\r\n\r\n        /**\r\n         * Altitude aircraft has been assigned in FL feet\r\n         *\r\n         * @property _assingedAltitude\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._assignedAltitude = INVALID_NUMBER;\r\n\r\n        /**\r\n         * HTML Element that holds the `#_assignedAltitude` value\r\n         *\r\n         * @property $assignedAltitudeView\r\n         * @type {JQuery Element}\r\n         * @default null\r\n         */\r\n        this.$assignedAltitudeView = null;\r\n\r\n        /**\r\n         * Cruise altitude\r\n         *\r\n         * @property _flightPlanAltitude\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._flightPlanAltitude = INVALID_NUMBER;\r\n\r\n        /**\r\n         * HTML Element that holds the `#_flightPlanAltitude` value\r\n         *\r\n         * @property $flightPlanAltitudeView\r\n         * @type {JQuery Element}\r\n         * @default null\r\n         */\r\n        this.$flightPlanAltitudeView = null;\r\n\r\n        /**\r\n         * Arrival airport icao\r\n         *\r\n         * @property _arrivalAirport\r\n         * @type\r\n         * @default\r\n         * @private\r\n         */\r\n        this._arrivalAirport = '';\r\n\r\n        /**\r\n         * HTML Element that hold the `#_arrivalAirport` value\r\n         *\r\n         * @property $arrivalAirportView\r\n         * @type {JQuery Element}\r\n         * @default null\r\n         */\r\n        this.$arrivalAirportView = null;\r\n\r\n        /**\r\n         * Departure airport icao\r\n         *\r\n         * @property _departureAirport\r\n         * @type\r\n         * @default\r\n         * @private\r\n         */\r\n        this._departureAirport = '';\r\n\r\n        /**\r\n         * HTML Element that hold the `#_departureAirport` value\r\n         *\r\n         * @property $departureAirportView\r\n         * @type {JQuery Element}\r\n         * @default null\r\n         */\r\n        this.$departureAirportView = null;\r\n\r\n        /**\r\n         * Alternate airport icao\r\n         *\r\n         * @property _alternateAirport\r\n         * @type\r\n         * @default\r\n         * @private\r\n         */\r\n        this._alternateAirport = '';\r\n\r\n        /**\r\n         * HTML Element that hold the `#_alternateAirport` value\r\n         *\r\n         * @property $alternateAirportView\r\n         * @type {JQuery Element}\r\n         * @default null\r\n         */\r\n        this.$alternateAirportView = null;\r\n\r\n        /**\r\n         * Route string that represents the 'filed' flight plan\r\n         *\r\n         * @property _flightPlan\r\n         * @type {string}\r\n         * @default ''\r\n         * @private\r\n         */\r\n        this._flightPlan = '';\r\n\r\n        /**\r\n         * HTML Element that holds the `#_flightPlan` value\r\n         *\r\n         * @property $flightPlanView\r\n         * @type {JQuery Element}\r\n         * @default null\r\n         */\r\n        this.$flightPlanView = null;\r\n\r\n        /**\r\n         * Value of the remarks field\r\n         *\r\n         * @property _remarks\r\n         * @type {string}\r\n         * @default ''\r\n         * @private\r\n         */\r\n        this._remarks = '';\r\n\r\n        /**\r\n         * HTML Element that holds the `#remarks` value\r\n         *\r\n         * @property $remarks\r\n         * @type {JQuery Element}\r\n         * @default null\r\n         */\r\n        this.$remarks = null;\r\n\r\n        /**\r\n         * The expected or assigned runway\r\n         *\r\n         * @property _runwayInformation\r\n         * @type {object}\r\n         * @default ''\r\n         * @private\r\n         */\r\n        this._runwayInformation = null;\r\n\r\n        /**\r\n         * HTML Element that holds the `#runway` value\r\n         *\r\n         * @property $runway\r\n         * @type {JQuery Element}\r\n         * @default null\r\n         */\r\n        this.$runway = null;\r\n\r\n        return this._init(aircraftModel)\r\n            ._createChildren()\r\n            ._setupHandlers()\r\n            ._enable()\r\n            ._layout()\r\n            ._redraw();\r\n    }\r\n\r\n    /**\r\n     * Does `#$element` currently have the active css classname applied\r\n     *\r\n     * This is useful when trying to find the current active `stripView`\r\n     * by looping through the `StripViewCollection#_items`.\r\n     *\r\n     * @property isActive\r\n     * @type {boolean}\r\n     */\r\n    get isActive() {\r\n        return this.$element.hasClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n    }\r\n\r\n    /**\r\n     * Initialize the instance\r\n     *\r\n     * Should be run once only on instantiation\r\n     *\r\n     * @for StripViewModel\r\n     * @method _init\r\n     * @param aircraftModel {object}\r\n     * @chainable\r\n     */\r\n    _init(aircraftModel) {\r\n        const {\r\n            insideCenter,\r\n            callsign,\r\n            transponderCode,\r\n            icaoWithWeightClass,\r\n            assignedAltitude,\r\n            flightPlanAltitude,\r\n            arrivalAirportId,\r\n            departureAirportId,\r\n            flightPlan\r\n        } = aircraftModel.getViewModel();\r\n\r\n        this.insideCenter = insideCenter;\r\n        this._callsign = callsign;\r\n        this._transponder = transponderCode;\r\n        this._aircraftType = icaoWithWeightClass;\r\n        this._assignedAltitude = assignedAltitude;\r\n        this._flightPlanAltitude = flightPlanAltitude;\r\n        this._arrivalAirport = arrivalAirportId;\r\n        this._departureAirport = departureAirportId;\r\n        this._flightPlan = flightPlan;\r\n        this._categoryClassName = this._buildClassnameForFlightCategory(aircraftModel);\r\n        this.isDeparture = aircraftModel.isDeparture();\r\n        this._runwayInformation = this._buildRunwayInformation(aircraftModel);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set initial element references\r\n     *\r\n     * Should be run once only on instantiation\r\n     *\r\n     * @for StripViewModel\r\n     * @method _createChildren\r\n     * @chainable\r\n     */\r\n    _createChildren() {\r\n        this.$element = $(STRIP_VIEW_TEMPLATE);\r\n        this.$callsignView = this.$element.find(SELECTORS.CLASSNAMES.STRIP_VIEW_CALLSIGN);\r\n        this.$aircraftTypeView = this.$element.find(SELECTORS.CLASSNAMES.STRIP_VIEW_AIRCRAFT_TYPE);\r\n        this.$cidView = this.$element.find(SELECTORS.CLASSNAMES.STRIP_VIEW_CID);\r\n        this.$transponderView = this.$element.find(SELECTORS.CLASSNAMES.STRIP_VIEW_TRANSPONDER);\r\n        this.$assignedAltitudeView = this.$element.find(SELECTORS.CLASSNAMES.STRIP_VIEW_ASSIGNED_ALTITUDE);\r\n        this.$flightPlanAltitudeView = this.$element.find(SELECTORS.CLASSNAMES.STRIP_VIEW_FLIGHT_PLAN_ALTITUDE);\r\n        this.$arrivalAirportView = this.$element.find(SELECTORS.CLASSNAMES.STRIP_VIEW_ARRIVAL_AIRPORT_ID);\r\n        this.$departureAirportView = this.$element.find(SELECTORS.CLASSNAMES.STRIP_VIEW_DEPARTURE_AIRPORT_ID);\r\n        this.$alternateAirportView = this.$element.find(SELECTORS.CLASSNAMES.STRIP_VIEW_ALTERNATE_AIRPORT_ID);\r\n        this.$flightPlanView = this.$element.find(SELECTORS.CLASSNAMES.STRIP_VIEW_FLIGHT_PLAN);\r\n        this.$remarks = this.$element.find(SELECTORS.CLASSNAMES.STRIP_VIEW_REMARKS);\r\n        this.$runway = this.$element.find(SELECTORS.CLASSNAMES.STRIP_VIEW_RUNWAY);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Create event handlers\r\n     *\r\n     * Should be run once only on instantiation\r\n     *\r\n     * @for StripViewModel\r\n     * @method _setupHandlers\r\n     * @chainable\r\n     */\r\n    _setupHandlers() {\r\n        this._onClickHandler = this._onClick.bind(this);\r\n        this._onDoubleClickHandler = this._onDoubleClick.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Register handlers with events on the `$element`\r\n     *\r\n     * @for StripViewModel\r\n     * @method _enable\r\n     * @private\r\n     */\r\n    _enable() {\r\n        this.$element.on('click', this._onClickHandler);\r\n        this.$element.on('dblclick', this._onDoubleClickHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set the layout with the correct data\r\n     *\r\n     * This method will be run on instantiation to set up the view for the first time\r\n     * and will also run on every subsequent re-render.\r\n     *\r\n     * We do not selectively render, if one property has changed\r\n     * (as determined by `_shouldUpdate()`) we re-draw everything in one shot.\r\n     *\r\n     * @for StripViewModel\r\n     * @method _layout\r\n     * @chainable\r\n     */\r\n    _layout() {\r\n        this.$element.addClass(this._categoryClassName);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Update the view with new data\r\n     *\r\n     * This method will be run on instantiation to initialize the view with data,\r\n     * and will be run again any time updatable data has changed.\r\n     *\r\n     * After instantiation, this method should only be run after `._shouldUpdate()`\r\n     * has returned true.\r\n     *\r\n     * @for StripViewModel\r\n     * @method _render\r\n     * @chainable\r\n     */\r\n    _redraw() {\r\n        this.$callsignView.text(this._callsign);\r\n        this.$aircraftTypeView.text(this._aircraftType);\r\n        this.$cidView.text(this.cidString);\r\n        this.$transponderView.text(this._transponder);\r\n        this.$assignedAltitudeView.text(this._assignedAltitude);\r\n        this.$flightPlanAltitudeView.text(this._flightPlanAltitude);\r\n        this.$departureAirportView.text(this._departureAirport);\r\n        this.$arrivalAirportView.text(this._arrivalAirport);\r\n        this.$alternateAirportView.text(this._alternateAirport);\r\n        this.$flightPlanView.text(this._flightPlan);\r\n        this.$remarks.text(this._remarks);\r\n        this.$runway.text(this._runwayInformation.name);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Disable the instance ane tear down handlers\r\n     *\r\n     * @for StripViewModel\r\n     * @method disable\r\n     */\r\n    disable() {\r\n        this.$element.off('click', this._onClickHandler);\r\n        this.$element.off('dblclick', this._onDoubleClickHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Destroy the instance\r\n     *\r\n     * @for StripViewModel\r\n     * @method destroy\r\n     * @chainable\r\n     */\r\n    destroy() {\r\n        this.disable();\r\n        this.$element.remove();\r\n\r\n        this.id = '';\r\n        this._eventBus = null;\r\n        this.$element = null;\r\n        this.aircraftId = '';\r\n        this.insideCenter = false;\r\n        this._categoryClassName = '';\r\n        this._callsign = '';\r\n        this.$callsignView = null;\r\n        this._aircraftType = '';\r\n        this.$aircraftTypeView = null;\r\n        this.cid = INVALID_NUMBER;\r\n        this.cidString = '';\r\n        this.$cidView = null;\r\n        this._transponder = 1200;\r\n        this.$transponderView = null;\r\n        this._assignedAltitude = INVALID_NUMBER;\r\n        this.$assignedAltitudeView = null;\r\n        this._flightPlanAltitude = INVALID_NUMBER;\r\n        this.$flightPlanAltitudeView = null;\r\n        this._arrivalAirport = '';\r\n        this.$arrivalAirportView = null;\r\n        this._departureAirport = '';\r\n        this.$departureAirportView = null;\r\n        this._alternateAirport = '';\r\n        this.$alternateAirportView = null;\r\n        this._flightPlan = '';\r\n        this.$flightPlanView = null;\r\n        this._remarks = '';\r\n        this.$remarks = null;\r\n        this._runwayInformation = null;\r\n        this.$runway = null;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Update the instance with new information or return\r\n     * early if nothing has changed\r\n     *\r\n     * @for StripViewModel\r\n     * @method update\r\n     * @param aircraftModel {AircraftModel}\r\n     */\r\n    update(aircraftModel) {\r\n        if (!this._shouldUpdate(aircraftModel)) {\r\n            return;\r\n        }\r\n\r\n        this._updateStripView(aircraftModel);\r\n    }\r\n\r\n    /**\r\n     * Add active css classname\r\n     *\r\n     * @for StripViewModel\r\n     * @method addActiveState\r\n     */\r\n    addActiveState() {\r\n        this.$element.addClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n    }\r\n\r\n    /**\r\n     * Remove active css classname\r\n     *\r\n     * @for StripViewModel\r\n     * @method removeActiveState\r\n     */\r\n    removeActiveState() {\r\n        this.$element.removeClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n    }\r\n\r\n    /**\r\n     * Scroll into view\r\n     *\r\n     * @for StripViewModel\r\n     * @method scrollIntoView\r\n     */\r\n    scrollIntoView() {\r\n        this.$element[0].scrollIntoView({ behavior: 'smooth', block: 'nearest' });\r\n    }\r\n\r\n    /**\r\n     * Return a classname based on whether an aircraft is a `departure` or an `arrival`\r\n     *\r\n     * @for AircraftStripView\r\n     * @method _buildClassnameForFlightCategory\r\n     * @param aircraftModel {AircraftModel}\r\n     * @return {string}\r\n     */\r\n    _buildClassnameForFlightCategory(aircraftModel) {\r\n        if (aircraftModel.isDeparture()) {\r\n            return SELECTORS.CLASSNAMES.DEPARTURE;\r\n        }\r\n\r\n        if (aircraftModel.isOverflight()) {\r\n            return SELECTORS.CLASSNAMES.OVERFLIGHT;\r\n        }\r\n\r\n        return SELECTORS.CLASSNAMES.ARRIVAL;\r\n    }\r\n\r\n    /**\r\n     * Returns the runway and if it is expected or assigned based on whether an\r\n     * aircraft is a `departure` or an `arrival`.\r\n     *\r\n     * @for AircraftStripView\r\n     * @method _buildRunwayInformation\r\n     * @param aircraftModel {AircraftModel}\r\n     * @return {object}\r\n     */\r\n    _buildRunwayInformation(aircraftModel) {\r\n        if (aircraftModel.isDeparture() && aircraftModel.isOnGround()) {\r\n            return {\r\n                hasRunwayAssigned: !aircraftModel.isApron(),\r\n                name: aircraftModel.fms.departureRunwayModel.name\r\n            };\r\n        }\r\n\r\n        if (aircraftModel.isArrival()) {\r\n            return {\r\n                hasRunwayAssigned: aircraftModel.pilot.hasApproachClearance,\r\n                name: aircraftModel.fms.arrivalRunwayModel.name\r\n            };\r\n        }\r\n\r\n        return {\r\n            hasRunwayAssigned: false,\r\n            name: ''\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Click handler for a single click on `StripViewModel`\r\n     *\r\n     * This method will prevent event bubbling so a click\r\n     * doesn't cause the `stripView` to close\r\n     *\r\n     * @for AircraftStripView\r\n     * @method _onClick\r\n     * @param event {jquery event}\r\n     * @private\r\n     */\r\n    _onClick(event) {\r\n        event.stopPropagation();\r\n\r\n        this._eventBus.trigger(EVENT.STRIP_CLICK, this._callsign);\r\n    }\r\n\r\n    /**\r\n     * Handler for a double-click on an AircraftStripView\r\n     *\r\n     * Initiates the process of centering a single aircraft in the middle of the view\r\n     *\r\n     * This method should prevent event bubbling so a click doesn't cause the `stripView` to close\r\n     *\r\n     * @for AircraftStripView\r\n     * @method _onDoubleClick\r\n     * @param  event {Event}\r\n     * @private\r\n     */\r\n    _onDoubleClick(event) {\r\n        event.stopPropagation();\r\n\r\n        this._eventBus.trigger(EVENT.STRIP_DOUBLE_CLICK, this._callsign);\r\n    }\r\n\r\n\r\n    /**\r\n     * Encapsulation of boolean logic used to determine if the view needs to be updated\r\n     *\r\n     * This method provides an implementation an 'early exit', so if the view doesn't\r\n     * need to be updated it can be skipped.\r\n     *\r\n     * @for StripViewModel\r\n     * @method shouldUpdate\r\n     * @param  aircraftModel {AircraftModel}\r\n     * @return {boolean}\r\n     * @private\r\n     */\r\n    _shouldUpdate(aircraftModel) {\r\n        const {\r\n            insideCenter,\r\n            transponderCode,\r\n            assignedAltitude,\r\n            flightPlanAltitude,\r\n            arrivalAirportId,\r\n            departureAirportId,\r\n            flightPlan\r\n        } = aircraftModel.getViewModel();\r\n        const runwayInfo = this._buildRunwayInformation(aircraftModel);\r\n\r\n        return this.insideCenter !== insideCenter ||\r\n            this._transponder !== transponderCode ||\r\n            this._assignedAltitude !== assignedAltitude ||\r\n            this._flightPlanAltitude !== flightPlanAltitude ||\r\n            this._arrivalAirport !== arrivalAirportId ||\r\n            this._departureAirport !== departureAirportId ||\r\n            this._flightPlan !== flightPlan ||\r\n            this._runwayInformation.hasRunwayAssigned !== runwayInfo.hasRunwayAssigned ||\r\n            this._runwayInformation.name !== runwayInfo.name;\r\n    }\r\n\r\n    /**\r\n     * Update instance properties with new values from the `AircraftModel`\r\n     *\r\n     * This method should only be run after `_shouldUpdate()` returns true\r\n     * This method will only update the mutable properties of `StripViewModel`\r\n     *\r\n     * @for StripViewModel\r\n     * @method _updateStripView\r\n     * @param {AircraftModel} aircraftModel\r\n     * @private\r\n     */\r\n    _updateStripView(aircraftModel) {\r\n        const {\r\n            insideCenter,\r\n            transponderCode,\r\n            assignedAltitude,\r\n            flightPlanAltitude,\r\n            arrivalAirportId,\r\n            departureAirportId,\r\n            flightPlan\r\n        } = aircraftModel.getViewModel();\r\n\r\n        this.insideCenter = insideCenter;\r\n        this._transponder = transponderCode;\r\n        this._assignedAltitude = assignedAltitude;\r\n        this._flightPlanAltitude = flightPlanAltitude;\r\n        this._arrivalAirport = arrivalAirportId;\r\n        this._departureAirport = departureAirportId;\r\n        this._flightPlan = flightPlan;\r\n        this._runwayInformation = this._buildRunwayInformation(aircraftModel);\r\n\r\n        this.$runway.toggleClass(\r\n            SELECTORS.CLASSNAMES.STRIP_VIEW_PREPLANNING,\r\n            !this._runwayInformation.hasRunwayAssigned\r\n        );\r\n\r\n        return this._redraw();\r\n    }\r\n}\r\n","/* eslint-disable max-len */\r\n/**\r\n * HTML element used for each `StripViewModel`\r\n *\r\n * @property STRIP_VIEW_TEMPLATE\r\n * @type {string|HTMLElement}\r\n * @final\r\n */\r\nexport const STRIP_VIEW_TEMPLATE = '' +\r\n'<li class=\"stripViewItem\">' +\r\n'   <table class=\"stripViewItem-table\">' +\r\n'       <tbody>' +\r\n'           <tr class=\"stripView-table-tr\">' +\r\n'               <td class=\"stripView-table-td js-stripView-callsign\" title=\"Callsign\"></td>' +\r\n'               <td class=\"stripView-table-td js-stripView-transponder\" title=\"Transponder\"></td>' +\r\n'               <td class=\"stripView-table-td js-stripView-departureAirportId\" title=\"Departure Airport Identifier\"></td>' +\r\n'               <td class=\"stripView-table-td js-stripView-flightPlan\" title=\"Flight Plan Route\" rowspan=\"2\" colspan=\"2\"></td>' +\r\n'           </tr>' +\r\n'           <tr class=\"stripView-table-tr\">' +\r\n'               <td class=\"stripView-table-td js-stripView-aircraftModel\" title=\"Aircraft Model\"></td>' +\r\n'               <td class=\"stripView-table-td mix-stripView-table_borderTop js-stripView-assignedAltitude\" title=\"Assigned Altitude\"></td>' +\r\n'               <td class=\"stripView-table-td js-stripView-arrivalAirportId\" title=\"Arrival Airport Identifier\"></td>' +\r\n'           </tr>' +\r\n'           <tr class=\"stripView-table-tr\">' +\r\n'               <td class=\"stripView-table-td\">' +\r\n'                   <div class=\"u-float-right js-stripView-flightRules\" title=\"IFR (I) or VFR (V)\">I</div>' +\r\n'                   <div class=\"u-float-left js-stripView-cid\" title=\"Computer Identification number\"></div>' +\r\n'               </td>' +\r\n'               <td class=\"stripView-table-td mix-stripView-table_borderTop js-stripView-flightPlanAltitude\" title=\"Flight Plan Altitude\"></td>' +\r\n'               <td class=\"stripView-table-td js-stripView-alternateAirportId\" title=\"Alternate Airport Identifier\"></td>' +\r\n'               <td class=\"stripView-table-td js-stripView-remarks\" title=\"Remarks\"></td>' +\r\n'               <td class=\"stripView-table-td js-stripView-runway stripView-preplanning\" title=\"Runway\"></td>' +\r\n'           </tr>' +\r\n'       </tbody' +\r\n'   </table>' +\r\n'</li>';\r\n","import _find from 'lodash/find';\r\nimport _flatten from 'lodash/flatten';\r\nimport _forEach from 'lodash/forEach';\r\nimport _map from 'lodash/map';\r\nimport BaseCollection from '../base/BaseCollection';\r\nimport AirlineModel from './AirlineModel';\r\nimport { AIRLINE_NAME_FLEET_SEPARATOR } from '../constants/airlineConstants';\r\nimport { INVALID_INDEX } from '../constants/globalConstants';\r\nimport { isEmptyOrNotArray } from '../utilities/validatorUtilities';\r\n\r\n/**\r\n * Houses an `AirlineModel` for each possible airline in the app.\r\n *\r\n * The contents of `_items` shouldn't ever need to change when an airport changes,\r\n * though this class does provide methods to reset each `AirlineModel`.\r\n *\r\n * @class AirlineCollection\r\n * @extends BaseCollection\r\n */\r\nexport default class AirlineCollection extends BaseCollection {\r\n    /**\r\n     * @constructor\r\n     * @for AirlineCollection\r\n     * @param airlineList {array}\r\n     */\r\n    /* istanbul ignore next */\r\n    constructor(airlineList) {\r\n        super(airlineList);\r\n\r\n        if (isEmptyOrNotArray(airlineList)) {\r\n            throw new TypeError('Invalid airlineList passed to AirlineCollection constructor. ' +\r\n                `Expected a non-empty array, but received ${typeof airlineList}`);\r\n        }\r\n\r\n        this.init(airlineList);\r\n    }\r\n\r\n    /**\r\n     * List of all `activeFlightNumbers`\r\n     *\r\n     * Used when generating new flightNumbers to verify a new\r\n     * number isn't already in use\r\n     *\r\n     * @property flightNumbers\r\n     * @return {array<string>}\r\n     */\r\n    get flightNumbers() {\r\n        const flightNumberList = _map(this._items, (airline) => airline.flightNumbers);\r\n\r\n        return _flatten(flightNumberList);\r\n    }\r\n\r\n    /**\r\n     * Lifecycle method. Should be run only once on instantiation\r\n     *\r\n     * Initialize instance properties\r\n     *\r\n     * @for AirlineCollection\r\n     * @method init\r\n     * @param airlineList {array}\r\n     */\r\n    init(airlineList) {\r\n        _forEach(airlineList, (airlineDefinition) => this._buildAirlineModels(airlineDefinition));\r\n    }\r\n\r\n    /**\r\n     * Add and `AirlineModel` to the collection\r\n     *\r\n     * @for AirlineCollection\r\n     * @method addItem\r\n     * @param airlineToAdd {AirlineModel}\r\n     */\r\n    addItem(airlineToAdd) {\r\n        this._items.push(airlineToAdd);\r\n    }\r\n\r\n    /**\r\n     * Find an `AirlineModel` by `id` (also referred to as `icao`).\r\n     *\r\n     * This method accepts airline ids in the shape of:\r\n     * - `aal`\r\n     * - `aal/long`\r\n     *\r\n     * Where a string following the '/' is assumed to be a specific fleet designation.\r\n     * Though this method supports the `name/fleet` shape, the puropse of this method\r\n     * is to find and `AirlineModel` object and not a list of aircraft from a fleet.\r\n     * When a fleet name is encountered it is discarded.\r\n     *\r\n     * If you need to find a specific fleet from an airline, you can use the AirlineModel method:\r\n     * `airlineModel._getRandomAircraftTypeFromFleet(fleetName)`\r\n     *\r\n     * @for AirlineCollection\r\n     * @method findAirlineById\r\n     * @param id {string}\r\n     * @return {AirlineModel|undefined}\r\n     */\r\n    findAirlineById(id) {\r\n        let airlineId = id.toLowerCase();\r\n\r\n        if (airlineId.indexOf(AIRLINE_NAME_FLEET_SEPARATOR) !== INVALID_INDEX) {\r\n            // this should not get hit in most circumstances. The puropse of this method is to find\r\n            // and `AirlineModel` object and not a list of aircraft from a fleet\r\n            console.warn(\r\n                `Found a specific fleet with airline id ${id}. This method should be used to find an ` +\r\n                'AirlineModel instance and not a fleet within an AirlineModel. If you need to find a ' +\r\n                'specific fleet from an airline, you can use the AirlineModel method: ' +\r\n                'airlineModel._getRandomAircraftTypeFromFleet(fleetName)'\r\n            );\r\n            airlineId = id.split(AIRLINE_NAME_FLEET_SEPARATOR)[0];\r\n        }\r\n\r\n        return _find(this._items, { icao: airlineId });\r\n    }\r\n\r\n    /**\r\n     * Reset each `AirlineModel` within the collection\r\n     *\r\n     * Used when an airport change has occurred.\r\n     *\r\n     * @for AirlineCollection\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        _forEach(this._items, (airlineModel) => {\r\n            airlineModel.reset();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Instantiate a new `AirlineModel` and add the new model to the collection\r\n     *\r\n     * @for airlineCollection\r\n     * @method _buildAirlineModels\r\n     * @param airlineDefinition {object}\r\n     * @private\r\n     */\r\n    _buildAirlineModels(airlineDefinition) {\r\n        const airlineToAdd = new AirlineModel(airlineDefinition);\r\n\r\n        this.addItem(airlineToAdd);\r\n    }\r\n}\r\n","import _isNil from 'lodash/isNil';\r\nimport AirlineCollection from './AirlineCollection';\r\nimport AirlineModel from './AirlineModel';\r\nimport { INVALID_INDEX } from '../constants/globalConstants';\r\n\r\n/**\r\n * Controller for all things Airline\r\n *\r\n * @class AirlineController\r\n */\r\nexport default class AirlineController {\r\n    /**\r\n     * @constructor\r\n     * @for AirlineController\r\n     * @param airlineList {array<object>}\r\n     */\r\n    constructor(airlineList) {\r\n        /**\r\n         * Instance of an `AirlineCollection`\r\n         *\r\n         * @property airlineCollection\r\n         * @type {AirlineCollection}\r\n         */\r\n        this.airlineCollection = new AirlineCollection(airlineList);\r\n    }\r\n\r\n    /**\r\n     * Convenience property that exposes a list of all `flightNumbers` currently in use\r\n     *\r\n     * Useful for determining if a freshly generated `flightNumber` is currently in use.\r\n     *\r\n     * @for AirlineController\r\n     * @method flightNumbers\r\n     * @return {array<string>}\r\n     */\r\n    get flightNumbers() {\r\n        return this.airlineCollection.flightNumbers;\r\n    }\r\n\r\n    /**\r\n     * Given an `airlineId` find and return an `AirlineModel`\r\n     *\r\n     * @for AirlineController\r\n     * @method findAirlineById\r\n     * @param airlineId {string}\r\n     * @return {AirlineModel}\r\n     */\r\n    findAirlineById(airlineId) {\r\n        return this.airlineCollection.findAirlineById(airlineId);\r\n    }\r\n\r\n    /**\r\n     * Generates a new `flightNumber` using the `flightNumberGeneration` rules of a given `AirlineModel`.\r\n     *\r\n     * This method provides a higher-level view of all the `flightNumbers` in use, and gurantees unique\r\n     * `flightNumbers` across all airlines. Though not as realistic, having unique `flightNumbers` allows\r\n     * for faster processing of aircraft commands by using only a `flightNumber` for a command.\r\n     *\r\n     * @for AirlineController\r\n     * @method generateFlightNumberWithAirlineModel\r\n     * @param airlineModel {AirlineModel}\r\n     * @return flightNumber {string}\r\n     */\r\n    generateFlightNumberWithAirlineModel(airlineModel) {\r\n        if (!(airlineModel instanceof AirlineModel)) {\r\n            throw new TypeError('Invalid parameter. Expected airlineModel to be an instance of AirlineModel');\r\n        }\r\n\r\n        const flightNumber = airlineModel.generateFlightNumber();\r\n\r\n        if (this._isActiveFlightNumber(flightNumber)) {\r\n            // `flightNumber` already exists, recurse back through this method and generate a new flight number\r\n            return this.generateFlightNumberWithAirlineModel(airlineModel);\r\n        }\r\n\r\n        airlineModel.addFlightNumberToInUse(flightNumber);\r\n\r\n        return flightNumber;\r\n    }\r\n\r\n    /**\r\n     * Remove a provided flightNumber from an airline's list of `activeFlightNumbers`\r\n     *\r\n     * Used when an aircraft leaves controlled airspace. Removing a flightNumber\r\n     * from the list allows it to be used again by another aircraft\r\n     *\r\n     * @for AirlineCollection\r\n     * @method removeFlightNumberFromList\r\n     * @param airlineId {string}\r\n     * @param flightNumber {string}\r\n     */\r\n    removeFlightNumberFromList(airlineId, flightNumber) {\r\n        const airlineModel = this.findAirlineById(airlineId);\r\n\r\n        if (_isNil(airlineModel)) {\r\n            throw new TypeError('Invalid airline passed to removeFlightNumberFromList, no AirlineModel found');\r\n        }\r\n\r\n        airlineModel.removeFlightNumber(flightNumber);\r\n    }\r\n\r\n    /**\r\n     * Reset session specific instance properties\r\n     *\r\n     * Used when changing airports. Clears activeFlightNumbers and\r\n     * any other properties specific to a current session at a\r\n     * specific airport\r\n     *\r\n     * @for AirlineController\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        this.airlineCollection.reset();\r\n    }\r\n\r\n    /**\r\n     * Used to determine if a provided `flightNumber` is already in use\r\n     *\r\n     * @for AirlineController\r\n     * @method _isActiveFlightNumber\r\n     * @param flightNumber {string}\r\n     * @returns {boolean}\r\n     */\r\n    _isActiveFlightNumber(flightNumber) {\r\n        return this.flightNumbers.indexOf(flightNumber) !== INVALID_INDEX;\r\n    }\r\n}\r\n","import _get from 'lodash/get';\r\nimport _has from 'lodash/has';\r\nimport _head from 'lodash/head';\r\nimport _forEach from 'lodash/forEach';\r\nimport _map from 'lodash/map';\r\nimport _random from 'lodash/random';\r\nimport _uniq from 'lodash/uniq';\r\nimport _without from 'lodash/without';\r\nimport BaseModel from '../base/BaseModel';\r\nimport { buildFlightNumber } from './buildFlightNumber';\r\nimport { INVALID_INDEX } from '../constants/globalConstants';\r\nimport { isEmptyOrNotObject } from '../utilities/validatorUtilities';\r\nimport { DEFAULT_CALLSIGN_FORMAT } from '../constants/airlineConstants';\r\n\r\n/**\r\n * An aircraft operating agency\r\n *\r\n * Defines aircraft and fleets used by an airline along with methods\r\n * and rules for flightNumberGeneration.\r\n *\r\n * @class AirlineModel\r\n * @extends BaseModel\r\n */\r\nexport default class AirlineModel extends BaseModel {\r\n    /**\r\n     * @constructor\r\n     * @for AirlineModel\r\n     * @param airlineDefinition {object}\r\n     */\r\n    /* istanbul ignore next */\r\n    constructor(airlineDefinition) {\r\n        super();\r\n\r\n        if (isEmptyOrNotObject(airlineDefinition)) {\r\n            throw new TypeError('Invalid airlineDefinition passed to AirlineModel constructor. ' +\r\n                `Expected a non-empty object, but received ${typeof airlineDefinition}`);\r\n        }\r\n\r\n        /**\r\n         * ICAO airline designation\r\n         *\r\n         * @property icao\r\n         * @type {string}\r\n         */\r\n        this.icao = airlineDefinition.icao;\r\n\r\n        /**\r\n         * Agency name\r\n         *\r\n         * @property name\r\n         * @type {string}\r\n         */\r\n        this.name = _get(airlineDefinition, 'name', 'Default airline');\r\n\r\n        /**\r\n         * Radio callsign\r\n         *\r\n         * @property radioName\r\n         * @type {string}\r\n         * @default 'Default'\r\n         */\r\n        this.radioName = 'Default';\r\n\r\n        /**\r\n         * Parameters for flight number generation\r\n         *\r\n         * @property flightNumberGeneration\r\n         * @type {Object}\r\n         */\r\n        this.flightNumberGeneration = {\r\n            /**\r\n             * Array of callsign formats\r\n             *\r\n             * @memberof flightNumberGeneration\r\n             * @property callsignFormats\r\n             * @type {Array}\r\n             * @default ['###']\r\n            */\r\n\r\n            callsignFormats: [DEFAULT_CALLSIGN_FORMAT]\r\n        };\r\n\r\n        /**\r\n         * Named weighted sets of aircraft\r\n         *\r\n         * @property fleets\r\n         * @type {Object}\r\n         */\r\n        this.fleets = {\r\n            /**\r\n             * @property default\r\n             * @type {array}\r\n             * @default []\r\n             */\r\n            default: []\r\n        };\r\n\r\n        /**\r\n         * List of all flight numbers in use in the app\r\n         *\r\n         * @property activeFlightNumbers\r\n         * @type {array}\r\n         * @default []\r\n         */\r\n        this.activeFlightNumbers = [];\r\n\r\n        this.init(airlineDefinition);\r\n    }\r\n\r\n    /**\r\n     * A unique list of all aircraft in all fleets belonging to this airline\r\n     *\r\n     * @property aircraftList\r\n     * @return {array<string>}\r\n     */\r\n    get aircraftList() {\r\n        const aircraft = [];\r\n\r\n        _forEach(this.fleets, (fleet) => {\r\n            const fleetAircraft = _map(fleet, (aircraft) => _head(aircraft));\r\n\r\n            aircraft.push(...fleetAircraft);\r\n        });\r\n\r\n        return _uniq(aircraft);\r\n    }\r\n\r\n    /**\r\n     * List of all `activeFlightNumbers` by this airline\r\n     *\r\n     * Used when generating new `flightNumbers` to verify a new\r\n     * number isn't already in use\r\n     *\r\n     * @property flightNumbers\r\n     * @return {array<string>}\r\n     */\r\n    get flightNumbers() {\r\n        return this.activeFlightNumbers;\r\n    }\r\n\r\n    /**\r\n     * Lifecycle method\r\n     *\r\n     * Should run only once on instantiation\r\n     *\r\n     * @for AirlineModel\r\n     * @method init\r\n     * @param airlineDefinition {object}\r\n     */\r\n    init(airlineDefinition) {\r\n        // TODO: these _get() lines are likely redundant and could be removed only after proper testing\r\n        this.icao = _get(airlineDefinition, 'icao', this.icao).toLowerCase();\r\n        this.radioName = _get(airlineDefinition, 'callsign.name', this.radioName);\r\n        this.flightNumberGeneration.callsignFormats = _get(airlineDefinition, 'callsign.callsignFormats', this.flightNumberGeneration.callsignFormats); // eslint-disable-line max-len\r\n        this.fleets = _get(airlineDefinition, 'fleets');\r\n\r\n        this._transformFleetNamesToLowerCase();\r\n    }\r\n\r\n    /**\r\n     * Remove a given flight number from the `activeFlightNumbers` list\r\n     *\r\n     * @for AirlineModel\r\n     * @method removeFlightNumber\r\n     * @param flightNumber {string}\r\n     */\r\n    removeFlightNumber(flightNumber) {\r\n        this._deactivateFlightNumber(flightNumber);\r\n    }\r\n\r\n    /**\r\n     * Resets the current list of `activeFlightNumbers`.\r\n     *\r\n     * This can be used when changing airports and all existing\r\n     * aircraft are removed.\r\n     *\r\n     * @for AirlineModel\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        this.activeFlightNumbers = [];\r\n    }\r\n\r\n    /**\r\n     * @method getRandomAircraftType\r\n     * @param fleet {string}\r\n     * @return {string}\r\n     */\r\n    getRandomAircraftType(fleet = '') {\r\n        if (fleet === '') {\r\n            return this._getRandomAircraftTypeFromAllFleets();\r\n        }\r\n\r\n        return this._getRandomAircraftTypeFromFleet(fleet);\r\n    }\r\n\r\n    // TODO: the logic here can be simplified.\r\n    /**\r\n     * Creates a flight number/identifier\r\n     *\r\n     * This method should only be called from the `AircraftController` so the controller\r\n     * can guarantee unique `flightNumbers` across all `AirlineModels`.\r\n     *\r\n     * @for AirlineModel\r\n     * @method generateFlightNumber\r\n     * @return flightNumber {string}\r\n    */\r\n    generateFlightNumber() {\r\n        const flightNumber = buildFlightNumber(this.flightNumberGeneration.callsignFormats);\r\n\r\n        return flightNumber;\r\n    }\r\n\r\n    // TODO: need better name\r\n    /**\r\n     * Add a given `flightNumber` to the `activeFlightNumbers` list.\r\n     *\r\n     * @for AirlineModel\r\n     * @method addFlightNumberToInUse\r\n     * @param flightNumber {string}\r\n     */\r\n    addFlightNumberToInUse(flightNumber) {\r\n        this.activeFlightNumbers.push(flightNumber);\r\n    }\r\n\r\n    /**\r\n     * Returns a random aircraft type from any fleet that belongs to this airline\r\n     *\r\n     * Used when a new aircraft spwans with a defined airline, but no defined aircraft type\r\n     *\r\n     * @for AirlineCollection\r\n     * @method _getRandomAircraftTypeFromAllFleets\r\n     * @return {AirlineModel}\r\n     */\r\n    _getRandomAircraftTypeFromAllFleets() {\r\n        const index = _random(0, this.aircraftList.length - 1);\r\n\r\n        return this.aircraftList[index];\r\n    }\r\n\r\n    // TODO: this returns a random, and not weighted, result\r\n    /**\r\n     * Return a random aircraft type from within a specific fleet\r\n     *\r\n     * @for AirlineModel\r\n     * @method _getRandomAircraftTypeFromFleet\r\n     * @param fleetName {string}\r\n     * @return {string}\r\n     */\r\n    _getRandomAircraftTypeFromFleet(fleetName) {\r\n        // if we want to be uber defensive here we would lowercase the `fleetName` param\r\n        if (!this._hasFleet(fleetName)) {\r\n            // eslint-disable-next-line max-len\r\n            throw new Error(`Invalid fleetName passed to AirlineModel. ${fleetName} is not a fleet defined in ${this.icao}`);\r\n        }\r\n\r\n        const fleet = this.fleets[fleetName];\r\n        const index = _random(0, fleet.length - 1);\r\n\r\n        // entries in `fleets[fleetName]` are of the shape `[TYPE, WEIGHT]` we only need the type here\r\n        return _head(fleet[index]);\r\n    }\r\n\r\n    /**\r\n     * Remove flight number from `activeFlightNumbers` list allowing\r\n     * it to be reused by another aircraft some time in the future\r\n     *\r\n     * @for AirlineModel\r\n     * @method _deactivateFlightNumber\r\n     * @param flightNumber {string}\r\n     */\r\n    _deactivateFlightNumber(flightNumber) {\r\n        if (!this._isActiveFlightNumber(flightNumber)) {\r\n            // TODO: check that the number is there first\r\n            // throw or console.error?\r\n            return;\r\n        }\r\n\r\n        this.activeFlightNumbers = _without(this.activeFlightNumbers, flightNumber);\r\n    }\r\n\r\n    /**\r\n     * Boolean abstraction used to determine if a fleetName is present within\r\n     * this instances `fleets` object.\r\n     *\r\n     * @for AirlineModel\r\n     * @method _hasFleet\r\n     * @param fleetName {string}\r\n     * @return {boolean}\r\n     */\r\n    _hasFleet(fleetName) {\r\n        return _has(this.fleets, fleetName);\r\n    }\r\n\r\n    /**\r\n     *\r\n     *\r\n     * @for AirlineModel\r\n     * @method _isActiveFlightNumber\r\n     * @param flightNumber {string}\r\n     * @return {boolean}\r\n     */\r\n    _isActiveFlightNumber(flightNumber) {\r\n        return this.activeFlightNumbers.indexOf(flightNumber) !== INVALID_INDEX;\r\n    }\r\n\r\n    /**\r\n     * Loop through each aircraft in each fleet defined in the airline and make sure it\r\n     * is defined in lowercase to ease string matching\r\n     *\r\n     * @for AirlineCollection\r\n     * @method _transformFleetNamesToLowerCase\r\n     * @private\r\n     */\r\n    _transformFleetNamesToLowerCase() {\r\n        _forEach(this.fleets, (fleet) => {\r\n            _forEach(fleet, (aircraftInFleet) => {\r\n                const NAME_INDEX = 0;\r\n                aircraftInFleet[NAME_INDEX] = aircraftInFleet[NAME_INDEX].toLowerCase();\r\n            });\r\n        });\r\n    }\r\n}\r\n","import _isArray from 'lodash/isArray';\r\nimport _toLower from 'lodash/toLower';\r\nimport { AIRLINE_NAME_FLEET_SEPARATOR } from '../constants/airlineConstants';\r\nimport { choose_weight } from '../utilities/generalUtilities';\r\n\r\n// TODO: this file needs to be renamed to something more generalized.\r\n\r\n/**\r\n * Enemeration of an index value of `0`\r\n *\r\n * @property FIRST_INDEX\r\n * @type {number}\r\n * @final\r\n */\r\nconst FIRST_INDEX = 0;\r\n\r\n/**\r\n * Enemeration of an index value of `1`\r\n *\r\n * @property SECOND_INDEX\r\n * @type {number}\r\n * @final\r\n */\r\nconst SECOND_INDEX = 1;\r\n\r\n/**\r\n * Accepts a selected airline name, which may or may not contain the `AIRLINE_NAME_FLEET_SEPARATOR`, and\r\n * returns the `airlineNameAndFleet` object with updated property values.\r\n *\r\n * @function _extractNameAndFleetFromCurrentAirline\r\n * @param selectedAirline {string}\r\n * @param airlineNameAndFleet {object}\r\n * @return airlineNameAndFleet {object}\r\n */\r\nfunction _extractNameAndFleetFromCurrentAirline(selectedAirline, airlineNameAndFleet) {\r\n    airlineNameAndFleet.name = _toLower(selectedAirline);\r\n\r\n    if (selectedAirline.indexOf(AIRLINE_NAME_FLEET_SEPARATOR) > -1) {\r\n        const nameAndFleet = selectedAirline.split(AIRLINE_NAME_FLEET_SEPARATOR);\r\n\r\n        airlineNameAndFleet.name = _toLower(nameAndFleet[FIRST_INDEX]);\r\n        airlineNameAndFleet.fleet = nameAndFleet[SECOND_INDEX];\r\n    }\r\n\r\n    return airlineNameAndFleet;\r\n}\r\n\r\n// TODO: this method should be able to handle a string value as a parameter\r\n/**\r\n * Accepts an airline, as defined in an airport json file from the `departures` and `arrivals` sections,\r\n * and returns a consistent object containing an airline name and fleet classification.\r\n *\r\n * example input:\r\n * ```\r\n * - 'aal'\r\n * - 'ual/long'\r\n * - 'aal/90long'\r\n * ```\r\n *\r\n * @function airlineNameAndFleetHelper\r\n * @param airline {array<string>}\r\n * @return airlineNameAndFleet {object}\r\n */\r\nexport function airlineNameAndFleetHelper(airline) {\r\n    if (!_isArray(airline)) {\r\n        throw new TypeError(`Invalid parameter. Expected airline to be an array ' +\r\n            'but instead received ${typeof airline}`);\r\n    }\r\n\r\n    // this could be a model object, but the values used here are temporary so we just use a constant\r\n    // and update its key values as needed.\r\n    const airlineNameAndFleet = {\r\n        name: '',\r\n        fleet: 'default'\r\n    };\r\n\r\n    if (airline.length === 0) {\r\n        return airlineNameAndFleet;\r\n    }\r\n\r\n    // we're being sneaky here. the `airlineNameAndFleet` object is created within this function. It then\r\n    // gets sent off to the next function to be modified.\r\n    return _extractNameAndFleetFromCurrentAirline(airline[FIRST_INDEX], airlineNameAndFleet);\r\n}\r\n\r\n\r\n// @deprecated\r\n/**\r\n * Accepts a list of airlines, as defined in an airport json file from the `departures` and `arrivals` sections,\r\n * and returns a consistent object containing an airline name and fleet classification.\r\n *\r\n * @function randomAirlineSelectionHelper\r\n * @param airlineList {array}\r\n * @return {object}\r\n */\r\nexport function randomAirlineSelectionHelper(airlineList) {\r\n    // TODO: a large portion of this function is duplicated above, refactor\r\n    if (!_isArray(airlineList)) {\r\n        throw new TypeError(`Invalid parameter. Expected airlineList to be an array ' +\r\n            'but instead received ${typeof airlineList}`);\r\n    }\r\n\r\n    // this could be a model object, but the values used here are temporary so we just use a constant\r\n    // and update its key values as needed.\r\n    const airlineNameAndFleet = {\r\n        name: '',\r\n        fleet: ''\r\n    };\r\n\r\n    if (airlineList.length === 0) {\r\n        return airlineNameAndFleet;\r\n    }\r\n\r\n    const selectedAirline = choose_weight(airlineList);\r\n\r\n    return _extractNameAndFleetFromCurrentAirline(selectedAirline, airlineNameAndFleet);\r\n}\r\n","import { choose } from '../utilities/generalUtilities';\r\nimport {\r\n    DEFAULT_CALLSIGN_FORMAT,\r\n    CALLSIGN_RANDOM_DIGIT_CHARACTER,\r\n    CALLSIGN_RANDOM_LETTER_CHARACTER\r\n} from '../constants/airlineConstants';\r\n\r\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz';\r\nconst NUMERIC = '0123456789';\r\nconst defaultCallsignFormats = [DEFAULT_CALLSIGN_FORMAT];\r\n\r\n/**\r\n * This picks a random number. If it is the first value within the callsign (ie. i === 0), then it picks a\r\n * number between 1 and 9. Otherwise, it picks a number between 0 and 9.\r\n *\r\n * @function _generateRandomDigit\r\n * @param i {number}\r\n * @return NUMERIC {string}\r\n*/\r\nfunction _generateRandomDigit(i) {\r\n    if (i === 0) {\r\n        return choose(NUMERIC.substr(1));\r\n    }\r\n\r\n    return choose(NUMERIC);\r\n}\r\n\r\n/**\r\n * This function picks a random letter and returns it.\r\n *\r\n * @function _generateRandomLetter\r\n * @return ALPHA {string}\r\n*/\r\nfunction _generateRandomLetter() {\r\n    return choose(ALPHA);\r\n}\r\n\r\n/**\r\n * This function takes a list of callsignFormats, validates them (ie. ensures that no callsignFormat has a leading 0)\r\n * then returns a list of validated callsignFormats or the default callsignFormat if there are no valid callsignFormats\r\n *\r\n * @function _validateCallsignFormats\r\n * @param callsignFormat {array<string>}\r\n * @return validatedFormats {array<string>}\r\n*/\r\nfunction _validateCallsignFormats(callsignFormats) {\r\n    const validatedFormats = [];\r\n\r\n    for (let i = 0; i < callsignFormats.length; i++) {\r\n        if (callsignFormats[i].charAt(0) === '0') {\r\n            console.warn(`Format ${callsignFormats[i]} is invalid as it has a leading zero!`);\r\n            continue;\r\n        }\r\n\r\n        validatedFormats.push(callsignFormats[i]);\r\n    }\r\n\r\n    if (validatedFormats.length === 0) {\r\n        return defaultCallsignFormats;\r\n    }\r\n\r\n    return validatedFormats;\r\n}\r\n\r\n/**\r\n * Accepts a list of callsign formats, which are defined in the airline files. It randomly selects one of these\r\n * formats and generates a callsign based off this format.\r\n *\r\n * @function buildFlightNumber\r\n * @param callsignFormats {array<string>}\r\n * @return {string}\r\n*/\r\nexport function buildFlightNumber(callsignFormats) {\r\n    let flightNumber = '';\r\n\r\n    const validatedFormats = _validateCallsignFormats(callsignFormats);\r\n    const chosenFormat = choose(validatedFormats);\r\n\r\n    for (let i = 0; i < chosenFormat.length; i++) {\r\n        switch (chosenFormat[i]) {\r\n            case CALLSIGN_RANDOM_DIGIT_CHARACTER:\r\n                flightNumber += _generateRandomDigit(i);\r\n                break;\r\n            case CALLSIGN_RANDOM_LETTER_CHARACTER:\r\n                flightNumber += _generateRandomLetter();\r\n                break;\r\n            default:\r\n                flightNumber += chosenFormat[i];\r\n        }\r\n    }\r\n\r\n    return flightNumber;\r\n}\r\n","import { SELECTORS } from '../constants/selectors';\r\n\r\n/**\r\n * Display information about the active airport\r\n *\r\n * Part of the build includes copying and converting source\r\n * documents to html. This is retrieved via ajax request and\r\n * stored in memory until needed\r\n *\r\n * _Original documentation can be found in `documentation/airport-guides`_\r\n *\r\n * @class AirportGuideView\r\n */\r\nexport default class AirportGuideView {\r\n    /**\r\n     * @constructor\r\n     * @param {JQuery|HTMLElement} $element\r\n     * @param {string} data  html string generated from airport-guide markdown\r\n     */\r\n    constructor($element, data) {\r\n        /**\r\n         * Local instance of the airport guide data\r\n         *\r\n         * @property _airportGuideMarkup\r\n         * @type {string}\r\n         * @private\r\n         */\r\n        this._airportGuideMarkup = data;\r\n\r\n        /**\r\n         * The HTML containing the data itself\r\n         *\r\n         * @property _$airportGuideView\r\n         * @type {JQuery|HTMLElement}\r\n         * @private\r\n         */\r\n        this._$airportGuideView = null;\r\n\r\n        /**\r\n         * The HTML view container of the data (formatted)\r\n         *\r\n         * @property _$element\r\n         * @type {JQuery|HTMLElement}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._$element = null;\r\n\r\n        return this.init($element);\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * Initialize the instance\r\n     *\r\n     * @for AirportGuideView\r\n     * @method init\r\n     * @chainable\r\n     */\r\n    init($element) {\r\n        this._createChildren($element);\r\n        this.update(this._airportGuideMarkup);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Reset the instance\r\n     *\r\n     * @for AirportGuideView\r\n     * @method reset\r\n     * @chainable\r\n     */\r\n    reset() {\r\n        this._airportGuideMarkup = null;\r\n        this._$airportGuideView = null;\r\n        this._$element = null;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Create child elements\r\n     *\r\n     * Should be run only once on instantiation\r\n     *\r\n     * @for AirportGuideView\r\n     * @method _createChildren\r\n     * @param {JQuery|HTMLElement} $element\r\n     * @private\r\n     * @chainable\r\n     */\r\n    _createChildren($element) {\r\n        this._$element = $element.find(SELECTORS.DOM_SELECTORS.AIRPORT_GUIDE_CONTAINER);\r\n        this._$airportGuideView = this._$element.find(SELECTORS.DOM_SELECTORS.AIRPORT_GUIDE_VIEW);\r\n\r\n        return this;\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * Updates the text in the view.\r\n     * Should be run by the controller on airport change.\r\n     *\r\n     * @for AirportGuideView\r\n     * @method update\r\n     * @param {string} nextAirportMarkup\r\n     */\r\n    update(nextAirportMarkup) {\r\n        this._airportGuideMarkup = nextAirportMarkup;\r\n\r\n        this._$airportGuideView.html(this._airportGuideMarkup);\r\n    }\r\n\r\n    /**\r\n     * Toggles visibility of the airport guide modal\r\n     *\r\n     * This method should only be called by the `AirportGuideController`\r\n     *\r\n     * @for AirportGuideView\r\n     * @method toggleView\r\n     */\r\n    toggleView() {\r\n        this._$element.toggleClass(SELECTORS.CLASSNAMES.OPEN);\r\n    }\r\n}\r\n","import _has from 'lodash/has';\r\nimport EventBus from '../lib/EventBus';\r\nimport AirportGuideView from './AirportGuideView';\r\nimport { EVENT } from '../constants/eventNames';\r\n\r\n/**\r\n * Controls airportGuide view\r\n *\r\n * Responsible for maintaining a dictionary of `{[icao: string] html string}`\r\n * where each key is an airport icao with an html string as a value.\r\n * This markup is generated during the build from source markdown files\r\n *\r\n * @class AirportGuideViewController\r\n */\r\nexport default class AirportGuideViewController {\r\n    /**\r\n     * @constructor\r\n     * @param {JQuery|HTMLElement} $element\r\n     * @param {object} airportGuideData  dictionary of airport icao and html string\r\n     * @param {string} initialIcao  airport used during startup of the app\r\n     */\r\n    constructor($element, airportGuideData, initialIcao) {\r\n        /**\r\n         * View instance model\r\n         *\r\n         * Used to show, hide, update the airportGuide view\r\n         *\r\n         * @property _airportGuideView\r\n         * @type {AirportGuideView}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._airportGuideView = null;\r\n\r\n        /**\r\n         * Root DOM element\r\n         *\r\n         * @property _$element\r\n         * @type {JQuery|HTMLElement}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._$element = null;\r\n\r\n        /**\r\n         * Local reference to the EventBus\r\n         *\r\n         * @property _eventBus\r\n         * @type {EventBus}\r\n         * @private\r\n         */\r\n        this._eventBus = null;\r\n\r\n        /**\r\n         * Contains an object with keys of icao idents and values\r\n         * of the airport guides from the documentation folder.\r\n         *\r\n         * @property _guideData\r\n         * @type {object<string, string>}\r\n         * @private\r\n         */\r\n        this._guideData = airportGuideData;\r\n\r\n        /**\r\n         * The ICAO of the initial airport.\r\n         *\r\n         * @property _initialIcao\r\n         * @type {string}\r\n         * @private\r\n         */\r\n        this._initialIcao = initialIcao.toLowerCase();\r\n\r\n        return this.init($element);\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * Enable handlers\r\n     *\r\n     * @for airportGuideViewController\r\n     * @method enable\r\n     * @chainable\r\n     */\r\n    enable() {\r\n        this._eventBus.on(EVENT.AIRPORT_CHANGE, this._onAirportChangeHandler);\r\n        this._eventBus.on(EVENT.TOGGLE_AIRPORT_GUIDE, this._onToggleViewHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Disable handlers\r\n     *\r\n     * @for airportGuideViewController\r\n     * @method disable\r\n     * @chainable\r\n     */\r\n    disable() {\r\n        this._eventBus.off(EVENT.AIRPORT_CHANGE, this._onAirportChangeHandler);\r\n        this._eventBus.off(EVENT.TOGGLE_AIRPORT_GUIDE, this._onToggleViewHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Initialize the instance\r\n     *\r\n     * Should only be run once on instantiation\r\n     *\r\n     * @for airportGuideViewController\r\n     * @method init\r\n     * @chainable\r\n     */\r\n    init($element) {\r\n        this._eventBus = EventBus;\r\n\r\n        this._initAirportGuideView($element);\r\n        this._setupHandlers();\r\n        this.enable();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Reset the instance\r\n     *\r\n     * @for airportGuideViewController\r\n     * @method reset\r\n     * @chainable\r\n     */\r\n    reset() {\r\n        this._resetHandlers();\r\n\r\n        this._eventBus = null;\r\n        this._$element = null;\r\n        this._initialIcao = null;\r\n        this._airportGuideView = null;\r\n        this._guideData = null;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Initialize the `AirportGuideView` instance\r\n     *\r\n     * @for AirportGuideViewController\r\n     * @method _initAirportGuideView\r\n     * @param {Jquery Element} $element\r\n     * @chainable\r\n     * @private\r\n     */\r\n    _initAirportGuideView($element) {\r\n        const activeAirportGuide = this.getAirportGuide(this._initialIcao);\r\n        this._airportGuideView = new AirportGuideView($element, activeAirportGuide);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Bind method handlers\r\n     *\r\n     * Should only be run once on instantiation\r\n     *\r\n     * @for airportGuideViewController\r\n     * @method _setupHandlers\r\n     * @chainable\r\n     */\r\n    _setupHandlers() {\r\n        this._onAirportChangeHandler = this._onAirportChange.bind(this);\r\n        this._onToggleViewHandler = this._onToggleView.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Reset method handlers\r\n     *\r\n     * Should only be run once on instantiation\r\n     *\r\n     * @for airportGuideViewController\r\n     * @method _resetHandlers\r\n     * @chainable\r\n     */\r\n    _resetHandlers() {\r\n        this._onAirportChangeHandler = null;\r\n        this._onToggleViewHandler = null;\r\n\r\n        return this;\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * Main getter method for an airport guide, identified by ICAO\r\n     *\r\n     * @for AirportGuideViewController\r\n     * @method getAirportGuide\r\n     * @param {string} nextIcao\r\n     * @returns {string} - the requested guide\r\n     */\r\n    getAirportGuide(nextIcao) {\r\n        const guideExists = this.hasAirportGuide(nextIcao);\r\n\r\n        if (!guideExists) {\r\n            nextIcao = 'not_found';\r\n        }\r\n\r\n        return this._guideData[nextIcao];\r\n    }\r\n\r\n    /**\r\n     * Returns whether or not an airport guide\r\n     * exists for the given airport\r\n     *\r\n     * @for AirportGuideViewController\r\n     * @method hasAirportGuide\r\n     * @param {string} icao\r\n     * @returns {Boolean} whether a guide was found\r\n     */\r\n    hasAirportGuide(icao) {\r\n        return _has(this._guideData, icao);\r\n    }\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    /**\r\n     * Event handler for when an airport is changed.\r\n     *\r\n     * @for AirportGuideViewController\r\n     * @method _onAirportChange\r\n     * @param {object} nextAirportJson\r\n     * @private\r\n     */\r\n    _onAirportChange(nextAirportJson) {\r\n        const nextIcao = nextAirportJson.icao.toLowerCase();\r\n        const airportGuideMarkupString = this.getAirportGuide(nextIcao);\r\n\r\n        this._airportGuideView.update(airportGuideMarkupString);\r\n    }\r\n\r\n    /**\r\n     * Event handler for toggling visibility of the airport guide view\r\n     *\r\n     * @for airportGuideViewController\r\n     * @method _onToggleView\r\n     * @param event {JQueryEventObject}\r\n     * @private\r\n     */\r\n    _onToggleView() {\r\n        this._airportGuideView.toggleView();\r\n    }\r\n}\r\n","import _has from 'lodash/has';\r\nimport AirportModel from './AirportModel';\r\nimport EventBus from '../lib/EventBus';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport { STORAGE_KEY } from '../constants/storageKeys';\r\n\r\n/**\r\n * Responsible for maintaining references to all the available airports\r\n *\r\n * @class AirportController\r\n */\r\nclass AirportController {\r\n    /**\r\n     * @constructor\r\n     */\r\n    constructor() {\r\n        /**\r\n         * @property _eventBus\r\n         * @type {EventBus}\r\n         */\r\n        this._eventBus = EventBus;\r\n\r\n        /**\r\n         * Local reference to `window.AIRPORT_LOAD_LIST`\r\n         *\r\n         * This is defined in `assets/airports/airportLoadList.json`\r\n         * This property is the only way the possible list of airports\r\n         * makes its way into the app.\r\n         *\r\n         * @property _airportListToLoad\r\n         * @type {Array<object>}\r\n         * @default []\r\n         */\r\n        this._airportListToLoad = [];\r\n\r\n        /**\r\n         * Dictionary of available airports\r\n         *\r\n         * @property airports\r\n         * @type {Object<string, AirportModel>}\r\n         * @default {}\r\n         */\r\n        this.airports = {};\r\n\r\n        /**\r\n         * The current airport\r\n         *\r\n         * This is a mutable property that will change based on\r\n         * the currently selected airport\r\n         *\r\n         * @property current\r\n         * @type {AirportModel}\r\n         * @default null\r\n         */\r\n        this.current = null;\r\n    }\r\n\r\n    /**\r\n     * Lifecycle method. Should run only once on App initialiazation\r\n     *\r\n     * Load each airport in the `airportLoadList`\r\n     *\r\n     * @for AirportController\r\n     * @method init\r\n     * @param InitialAirportIcao {string}\r\n     * @param initialAirportData {object}\r\n     * @param airportLoadList {array<object>}  List of airports to load\r\n     */\r\n    init(initialAirportIcao, initialAirportData, airportLoadList) {\r\n        this._airportListToLoad = airportLoadList;\r\n\r\n        for (let i = 0; i < this._airportListToLoad.length; i++) {\r\n            const airport = this._airportListToLoad[i];\r\n\r\n            this.airport_load(airport);\r\n        }\r\n\r\n        this.airport_set(initialAirportIcao, initialAirportData);\r\n    }\r\n\r\n    /**\r\n     * Create a new `AirportModel` flyweight\r\n     *\r\n     * This will create a minimal `AirportModel` with just enough data to\r\n     * create a valid instance. When switching airports, this model will\r\n     * be filled in with the rest of the airport data if it does\r\n     * not exist already\r\n     *\r\n     * @for AirportController\r\n     * @method airport_load\r\n     * @param icao {string}\r\n     * @param level {string}\r\n     * @param name {string}\r\n     */\r\n    airport_load({ icao, level, name }) {\r\n        icao = icao.toLowerCase();\r\n\r\n        if (this.hasAirport(icao)) {\r\n            console.log(`${icao}: already loaded`);\r\n\r\n            return null;\r\n        }\r\n\r\n        const airportModel = new AirportModel({ icao, level, name });\r\n\r\n        this.airport_add(airportModel);\r\n    }\r\n\r\n    /**\r\n     * Add an airport config to the `#airports` dictionary\r\n     *\r\n     * @for AirportController\r\n     * @method airport_add\r\n     * @param airport {object}\r\n     */\r\n    airport_add(airport) {\r\n        this.airports[airport.icao] = airport;\r\n    }\r\n\r\n    /**\r\n     * Reset the instance\r\n     *\r\n     * Placeholder method, currently not in use\r\n     *\r\n     * @for AircraftController\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        this._eventBus = EventBus;\r\n        this._airportListToLoad = [];\r\n        this.airports = {};\r\n        this.current = null;\r\n    }\r\n\r\n    /**\r\n     * Set a given `icao` as the `#current` airport\r\n     *\r\n     * @for AirportController\r\n     * @method airport_set\r\n     * @param icao {string}\r\n     * @param airportJson {object} [default=null]\r\n     */\r\n    airport_set(icao, airportJson = null) {\r\n        if (this.hasStoredIcao(icao)) {\r\n            icao = localStorage[STORAGE_KEY.ATC_LAST_AIRPORT];\r\n        }\r\n\r\n        icao = icao.toLowerCase();\r\n\r\n        if (!this.airports[icao]) {\r\n            console.warn(`${icao}: no such airport`);\r\n\r\n            return;\r\n        }\r\n\r\n        const nextAirportModel = this.airports[icao];\r\n        this.current = nextAirportModel;\r\n\r\n        // if loaded is true, we wont need to load any data thus the call to `onAirportChange` within the\r\n        // success callback will never fire so we do that here.\r\n        if (nextAirportModel.loaded) {\r\n            this._eventBus.trigger(EVENT.AIRPORT_CHANGE, nextAirportModel.data);\r\n        }\r\n\r\n        nextAirportModel.set(airportJson);\r\n    }\r\n\r\n    /**\r\n     * @for AirportController\r\n     * @method getAiracCycle\r\n     * @property airac\r\n     * @return {number}\r\n    */\r\n    getAiracCycle() {\r\n        return this.current.airac;\r\n    }\r\n\r\n    /**\r\n     * Retrieve a specific `AirportModel` instance\r\n     *\r\n     * @for AirportController\r\n     * @method airport_get\r\n     * @param icao {string}\r\n     * @return {AirportModel}\r\n     */\r\n    airport_get(icao) {\r\n        if (!icao) {\r\n            return this.current;\r\n        }\r\n\r\n        return this.airports[icao.toLowerCase()];\r\n    }\r\n\r\n    /**\r\n     * Return the name of the `arrivalRunwayModel`.\r\n     *\r\n     * This should be used only in the `SpawnPatternModel` when determining initial\r\n     * heading for arrival aircraft. We only need the name so we can properly select\r\n     * an exit segment of a STAR.\r\n     *\r\n     * Sometimes route definitions do not contain enough waypoints in the entry and body\r\n     * segments. This gives us a way to guess the runway and grab an exit segment.\r\n     *\r\n     * @for AirportController\r\n     * @method getInitialArrivalRunwayName\r\n     * @return {string}\r\n     */\r\n    getInitialArrivalRunwayName() {\r\n        return this.current.arrivalRunwayModel.name;\r\n    }\r\n\r\n    /**\r\n     * Boolean helper used to determine if a given `icao` exists within `localStorage`\r\n     *\r\n     * @for AirportController\r\n     * @method hasStoredIcao\r\n     * @param icao {string}\r\n     * @return {boolean}\r\n     */\r\n    hasStoredIcao(icao) {\r\n        return !icao && _has(localStorage, STORAGE_KEY.ATC_LAST_AIRPORT);\r\n    }\r\n\r\n    /**\r\n     * Boolean helper used to determine if a given `icao` exists within `#airports`\r\n     *\r\n     * @for AirportController\r\n     * @method hasAirport\r\n     * @param icao {string}\r\n     * @return {boolean}\r\n     */\r\n    hasAirport(icao) {\r\n        return _has(this.airports, icao);\r\n    }\r\n\r\n    /**\r\n     * Remove an aircraft from the queue of any `AirportModel` `RunwayModel`(s)\r\n     *\r\n     * @for AirportModel\r\n     * @method removeAircraftFromAllRunwayQueues\r\n     * @param  aircraft {AircraftModel}\r\n     */\r\n    removeAircraftFromAllRunwayQueues(aircraft) {\r\n        this.current.removeAircraftFromAllRunwayQueues(aircraft.id);\r\n    }\r\n}\r\n\r\nexport default new AirportController();\r\n","/* eslint-disable max-len */\r\nimport _ceil from 'lodash/ceil';\r\nimport _chunk from 'lodash/chunk';\r\nimport _clamp from 'lodash/clamp';\r\nimport _forEach from 'lodash/forEach';\r\nimport _get from 'lodash/get';\r\nimport _map from 'lodash/map';\r\nimport AirportController from './AirportController';\r\nimport AirspaceModel from './AirspaceModel';\r\nimport DynamicPositionModel from '../base/DynamicPositionModel';\r\nimport EventBus from '../lib/EventBus';\r\nimport GameController from '../game/GameController';\r\nimport MapCollection from './MapCollection';\r\nimport RunwayCollection from './runway/RunwayCollection';\r\nimport StaticPositionModel from '../base/StaticPositionModel';\r\nimport TimeKeeper from '../engine/TimeKeeper';\r\nimport { isValidGpsCoordinatePair } from '../base/positionModelHelpers';\r\nimport { degreesToRadians, parseElevation } from '../utilities/unitConverters';\r\nimport {\r\n    sin,\r\n    cos,\r\n    round\r\n} from '../math/core';\r\nimport {\r\n    vectorize2dFromRadians,\r\n    vlen,\r\n    vsub,\r\n    vadd,\r\n    vscale\r\n} from '../math/vector';\r\nimport {\r\n    FLIGHT_CATEGORY,\r\n    PERFORMANCE\r\n} from '../constants/aircraftConstants';\r\nimport { ENVIRONMENT } from '../constants/environmentConstants';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport { STORAGE_KEY } from '../constants/storageKeys';\r\nimport { distance2d } from '../math/distance';\r\n\r\nconst DEFAULT_CTR_RADIUS_KM = 80;\r\nconst DEFAULT_CTR_CEILING_FT = 10000;\r\nconst DEFAULT_INITIAL_ALTITUDE_FT = 5000;\r\nconst DEFAULT_RANGE_RINGS = {\r\n    enabled: false,\r\n    radius_nm: 0,\r\n    center: [0, 0]\r\n};\r\n\r\n/**\r\n * @class AirportModel\r\n */\r\nexport default class AirportModel {\r\n    /**\r\n     * @constructor\r\n     * @param options {object}\r\n     */\r\n    // istanbul ignore next\r\n    constructor(options = {}) {\r\n        /**\r\n         * @property EventBus\r\n         * @type {EventBus}\r\n         */\r\n        this.eventBus = EventBus;\r\n\r\n        /**\r\n         * cache of airport json data\r\n         *\r\n         * used externally when changing airports\r\n         *\r\n         * @property data\r\n         * @type {object}\r\n         * @default {}\r\n         */\r\n        this.data = {};\r\n\r\n        /**\r\n         * @property arrivalRunwayModel\r\n         * @type {RunwayModel}\r\n         * @default null\r\n         */\r\n        this.arrivalRunwayModel = null;\r\n\r\n        /**\r\n         * @property departureRunwayModel\r\n         * @type {RunwayModel}\r\n         * @default null\r\n         */\r\n        this.departureRunwayModel = null;\r\n\r\n        /**\r\n         * Flag for is an airport has been loaded successfully\r\n         *\r\n         * @property loaded\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.loaded = false;\r\n\r\n        /**\r\n         * Flag for if an airport is in the process of loading\r\n         *\r\n         * @property loading\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.loading = false;\r\n\r\n        /**\r\n         * Name of the airport\r\n         *\r\n         * @property name\r\n         * @type {string}\r\n         * @default null\r\n         */\r\n        this.name = null;\r\n\r\n        /**\r\n         * ICAO identifier of the airport\r\n         *\r\n         * @property icao\r\n         * @type {string}\r\n         * @default null\r\n         */\r\n        this.icao = null;\r\n\r\n        /**\r\n         * AIRAC cycle from which data for the airport was taken\r\n         *\r\n         * @property airac\r\n         * @type {number}\r\n         * @default null\r\n        */\r\n        this.airac = null;\r\n\r\n        /**\r\n         * @property radio\r\n         * @type\r\n         * @default null\r\n         */\r\n        this.radio = null;\r\n\r\n        /**\r\n         * @property level\r\n         * @type\r\n         * @default null\r\n         */\r\n        this.level = null;\r\n\r\n        /**\r\n         * @property _positionModel\r\n         * @type {StaticPositionModel}\r\n         * @default null\r\n         */\r\n        this._positionModel = null;\r\n\r\n        /**\r\n         * Collection of all airport `RunwayModel` objects\r\n         *\r\n         * @property _runwayCollection\r\n         * @type {RunwayCollection}\r\n         * @default null\r\n         */\r\n        this._runwayCollection = null;\r\n\r\n        /**\r\n         * Collection of all `MapModel`s available to be displayed on the scope\r\n         *\r\n         * @property mapCollection\r\n         * @type {MapCollection}\r\n         * @default null\r\n         */\r\n        this.mapCollection = null;\r\n\r\n        /**\r\n         * @property restricted_areas\r\n         * @type {array}\r\n         * @default []\r\n         */\r\n        this.restricted_areas = [];\r\n\r\n        /**\r\n         * areas under this sector's control. If null, draws circle with diameter of 'ctr_radius'\r\n         *\r\n         * @property airspace\r\n         * @type {object}\r\n         * @default null\r\n         */\r\n        this.airspace = null;\r\n\r\n        // TODO: this should really be its own class possibly separate from the `AirportModel`\r\n        /**\r\n         * Container for airport terrain definition\r\n         *\r\n         * @property terrain\r\n         * @type {object}\r\n         * @default {}\r\n         */\r\n        this.terrain = {};\r\n\r\n        /**\r\n         * @property timeout\r\n         * @type {object}\r\n         */\r\n        this.timeout = {\r\n            runway: null,\r\n            departure: null\r\n        };\r\n\r\n        /**\r\n         * current wind settings for an airport\r\n         *\r\n         * @property wind\r\n         * @type {object}\r\n         */\r\n        this.wind = {\r\n            speed: 10,\r\n            angle: 0\r\n        };\r\n\r\n        /**\r\n         * default wind settings for an airport\r\n         * to preserve initial configuration\r\n         *\r\n         * @property wind\r\n         * @type {object}\r\n         */\r\n        this.defaultWind = {\r\n            speed: 10,\r\n            angle: 0\r\n        };\r\n\r\n        /**\r\n         * @for AirportModel\r\n         * @property ctr_radius\r\n         * @type {nunmber}\r\n         */\r\n        this.ctr_radius = null;\r\n\r\n        /**\r\n         * @for AirportModel\r\n         * @property ctr_ceiling\r\n         * @type {nunmber}\r\n         */\r\n        this.ctr_ceiling = null;\r\n\r\n        /**\r\n         * @for AirportModel\r\n         * @property initial_alt\r\n         * @type {nunmber}\r\n         */\r\n        this.initial_alt = null;\r\n\r\n        /**\r\n         * @for AirportModel\r\n         * @property rangeRings\r\n         * @type {object}\r\n         */\r\n        this.rangeRings = null;\r\n\r\n        this.init(options);\r\n    }\r\n\r\n    /**\r\n     * @property elevation\r\n     * @return {number}\r\n     */\r\n    get elevation() {\r\n        return this._positionModel.elevation;\r\n    }\r\n\r\n    /**\r\n     * Provide read-only public access to this._positionModel\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @property position\r\n     * @type {StaticPositionModel}\r\n     */\r\n    get positionModel() {\r\n        return this._positionModel;\r\n    }\r\n\r\n    /**\r\n     * Fascade to access relative position\r\n     *\r\n     * @for AirportModel\r\n     * @property relativePosition\r\n     * @type {array<number>} [kilometersNorth, kilometersEast]\r\n     */\r\n    get relativePosition() {\r\n        return this._positionModel.relativePosition;\r\n    }\r\n\r\n    /**\r\n     * Fascade to access the airport's position's magnetic declination value\r\n     *\r\n     * @for AirportModel\r\n     * @property magneticNorth\r\n     * @return {number}\r\n     */\r\n    get magneticNorth() {\r\n        return this._positionModel.magneticNorth;\r\n    }\r\n\r\n    /**\r\n     * Minimum altitude an aircraft can be assigned to.\r\n     *\r\n     * @property minAssignableAltitude\r\n     * @return {number}\r\n     */\r\n    get minAssignableAltitude() {\r\n        return _ceil(this.elevation + 1000, -2);\r\n    }\r\n\r\n    /**\r\n     * This will return an array of two-value arrays containing a `RunwayModel`\r\n     * for each end of a runway.\r\n     *\r\n     * This should only be used by the `CanvasController` for drawing runways.\r\n     * This returns data in this shape in an effort to maintain a previous api.\r\n     *\r\n     * @property runways\r\n     * @return {array<array<RunwayModel>>}\r\n     */\r\n    get runways() {\r\n        return _chunk(this._runwayCollection.runways, 2);\r\n    }\r\n\r\n    /**\r\n     * Minimum descent altitude of an instrument approach\r\n     *\r\n     * This is 200 feet AGL but every airport is at a different elevation\r\n     * This provides easy access to the correct value from within an aircraft\r\n     *\r\n     * @property minDescentAltitude\r\n     * @return {number}\r\n     */\r\n    get minDescentAltitude() {\r\n        return Math.floor(this.elevation + PERFORMANCE.INSTRUMENT_APPROACH_MINIMUM_DESCENT_ALTITUDE);\r\n    }\r\n\r\n    /**\r\n     * Maximum altitude an aircraft can be assigned to.\r\n     *\r\n     * @property maxAssignableAltitude\r\n     * @return {number}\r\n     */\r\n    get maxAssignableAltitude() {\r\n        return this.ctr_ceiling;\r\n    }\r\n\r\n    /**\r\n     * @for AirportModel\r\n     * @method init\r\n     * @param data {object}\r\n     */\r\n    init(data) {\r\n        this.name = _get(data, 'name', this.name);\r\n        this.icao = _get(data, 'icao', this.icao).toLowerCase();\r\n        this.level = _get(data, 'level', this.level);\r\n        // exit early if `position` doesn't exist in data. on app initialiazation, we loop through every airport\r\n        // in the `airportLoadList` and instantiate a model for each but wont have the full data set until the\r\n        // airport json file is loaded.\r\n        if (!data.position) {\r\n            return;\r\n        }\r\n\r\n        this.setCurrentPosition(data.position, degreesToRadians(data.magnetic_north));\r\n\r\n        this.airac = _get(data, 'airac', this.airac);\r\n        this.radio = _get(data, 'radio', this.radio);\r\n        this.has_terrain = _get(data, 'has_terrain', false);\r\n        this.ctr_radius = _get(data, 'ctr_radius', DEFAULT_CTR_RADIUS_KM);\r\n        this.ctr_ceiling = _get(data, 'ctr_ceiling', DEFAULT_CTR_CEILING_FT);\r\n        this.initial_alt = _get(data, 'initial_alt', DEFAULT_INITIAL_ALTITUDE_FT);\r\n        this._runwayCollection = new RunwayCollection(data.runways, this._positionModel);\r\n        this.mapCollection = new MapCollection(data.maps, data.defaultMaps, this.positionModel, this.magneticNorth);\r\n        this.defaultWind.speed = data.wind.speed;\r\n        this.defaultWind.angle = degreesToRadians(data.wind.angle);\r\n\r\n        this._initRangeRings(data.rangeRings);\r\n        this.loadTerrain();\r\n        this.buildAirspace(data.airspace);\r\n        this.setActiveRunwaysFromNames(data.arrivalRunway, data.departureRunway);\r\n        this.buildRestrictedAreas(data.restricted);\r\n        this.updateCurrentWind(data.wind);\r\n\r\n        this.eventBus.on(EVENT.WIND_CHANGE, this.updateCurrentWind.bind(this));\r\n    }\r\n\r\n    /**\r\n     * Initialize the range ring position model\r\n     *\r\n     * @for AirportModel\r\n     * @method _initRangeRings\r\n     * @param {object} rangeRingData\r\n     * @private\r\n     */\r\n    _initRangeRings(rangeRingData) {\r\n        if (!rangeRingData) {\r\n            this.rangeRings = DEFAULT_RANGE_RINGS;\r\n        }\r\n\r\n        this.rangeRings = {\r\n            enabled: rangeRingData.enabled,\r\n            center: new DynamicPositionModel(\r\n                rangeRingData.center,\r\n                this.positionModel,\r\n                this.magneticNorth\r\n            ),\r\n            radius_nm: rangeRingData.radius_nm\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @for AirportModel\r\n     * @method setCurrentPosition\r\n     * @param gpsCoordinates {array<number>}  [latitude, longitude]\r\n     * @param magneticNorth {number}          magnetic declination (variation), in radians\r\n     */\r\n    setCurrentPosition(gpsCoordinates, magneticNorth) {\r\n        if (!isValidGpsCoordinatePair(gpsCoordinates)) {\r\n            return;\r\n        }\r\n\r\n        this._positionModel = new StaticPositionModel(gpsCoordinates, null, magneticNorth);\r\n    }\r\n\r\n    /**\r\n     * create 3d polygonal airspace\r\n     *\r\n     * @for AirportModel\r\n     * @method buildAirspace\r\n     * @param airspace\r\n     */\r\n    buildAirspace(airspace) {\r\n        if (!airspace) {\r\n            return;\r\n        }\r\n\r\n        // for each area\r\n        this.airspace = _map(airspace, (airspaceSection) => {\r\n            return new AirspaceModel(\r\n                airspaceSection,\r\n                this._positionModel,\r\n                this._positionModel.magneticNorth\r\n            );\r\n        });\r\n\r\n        this.ctr_radius = 0;\r\n\r\n        for (const airspaceModel of this.airspace) {\r\n            this.ctr_radius = Math.max(\r\n                this.ctr_radius,\r\n                ..._map(airspaceModel.poly, (vertexPosition) => vlen(\r\n                    vsub(vertexPosition.relativePosition, this.rangeRings.center.relativePosition)\r\n                ))\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @for AirportModel\r\n     * @method buildRestrictedAreas\r\n     * @param data\r\n     */\r\n    buildRestrictedAreas(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n\r\n        _forEach(data, (areaData) => {\r\n            const restrictedArea = {};\r\n\r\n            if (areaData.name) {\r\n                restrictedArea.name = areaData.name;\r\n            }\r\n\r\n            restrictedArea.height = parseElevation(areaData.height);\r\n            restrictedArea.poly = areaData.poly.map((gps) => {\r\n                return DynamicPositionModel.calculateRelativePosition(gps, this._positionModel, this.magneticNorth);\r\n            });\r\n\r\n            let coords_max = restrictedArea.poly[0];\r\n            let coords_min = restrictedArea.poly[0];\r\n\r\n            _forEach(restrictedArea.poly, (v) => {\r\n                coords_max = [\r\n                    Math.max(v[0], coords_max[0]),\r\n                    Math.max(v[1], coords_max[1])\r\n                ];\r\n                coords_min = [\r\n                    Math.min(v[0], coords_min[0]),\r\n                    Math.min(v[1], coords_min[1])\r\n                ];\r\n            });\r\n\r\n            let labelRelativePositions = [vscale(vadd(coords_max, coords_min), 0.5)];\r\n\r\n            if (areaData.labelPositions) {\r\n                labelRelativePositions = areaData.labelPositions.map((v) => {\r\n                    return DynamicPositionModel.calculateRelativePosition(v, this._positionModel, this.magneticNorth);\r\n                });\r\n            }\r\n\r\n            restrictedArea.labelRelativePositions = labelRelativePositions;\r\n\r\n            this.restricted_areas.push(restrictedArea);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Return an altitude clamped within the min/max assignable altitudes for this airport\r\n     *\r\n     * @for AirportModel\r\n     * @method clampWithinAssignableAltitudes\r\n     * @param altitude\r\n     * @return {number}\r\n     */\r\n    clampWithinAssignableAltitudes(altitude) {\r\n        return _clamp(altitude, this.minAssignableAltitude, this.maxAssignableAltitude);\r\n    }\r\n\r\n    /**\r\n     * @for AirportModel\r\n     * @method updateCurrentWind\r\n     * @param currentWind\r\n     */\r\n    updateCurrentWind(currentWind) {\r\n        if (!currentWind) {\r\n            return;\r\n        }\r\n\r\n        this.wind.speed = currentWind.speed;\r\n        this.wind.angle = degreesToRadians(currentWind.angle);\r\n    }\r\n\r\n    /**\r\n     * @for AirportModel\r\n     * @method set\r\n     * @param airportJson {object}\r\n     */\r\n    set(airportJson) {\r\n        if (!this.loaded) {\r\n            this.load(airportJson);\r\n\r\n            return;\r\n        }\r\n\r\n        localStorage[STORAGE_KEY.ATC_LAST_AIRPORT] = this.icao;\r\n\r\n        // TODO: this should live elsewhere and be called by a higher level controller\r\n        GameController.game_reset_score_and_events();\r\n\r\n        this.start = TimeKeeper.accumulatedDeltaTime;\r\n\r\n        this.eventBus.trigger(EVENT.PAUSE_UPDATE_LOOP, true);\r\n    }\r\n\r\n    /**\r\n     * Get the wind at the specified altitude.\r\n     * When the altitude is not specified, the airport's surface wind is given.\r\n     *\r\n     * @for AirportModel\r\n     * @method getWindAtAltitude\r\n     * @param {number} altitude\r\n     * @returns {object<angle, speed>}\r\n     */\r\n    getWindAtAltitude(altitude = this.elevation) {\r\n        const windTravelSpeedAtSurface = this.wind.speed;\r\n        const altitudeAboveSurface = altitude - this.elevation;\r\n        const windIncreaseFactor = altitudeAboveSurface * ENVIRONMENT.WIND_INCREASE_FACTOR_PER_FT;\r\n        const windTravelSpeedAtAltitude = windTravelSpeedAtSurface * (1 + windIncreaseFactor);\r\n        const wind = {\r\n            angle: this.wind.angle,\r\n            speed: windTravelSpeedAtAltitude\r\n        };\r\n\r\n        return wind;\r\n    }\r\n\r\n    /**\r\n     * @for AirportModel\r\n     * @method getWindForRunway\r\n     * @param runway {runwayModel}\r\n     * @return {object} headwind and crosswind\r\n     */\r\n    getWindForRunway(runway) {\r\n        const crosswindAngle = runway.calculateCrosswindAngleForRunway(this.wind.angle);\r\n\r\n        return {\r\n            cross: sin(crosswindAngle) * this.wind.speed,\r\n            head: cos(crosswindAngle) * this.wind.speed\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Generates a vector representation of the wind at a given altitude.\r\n     * When the altitude is not specified, the airport elevation is used as the assumed altitude.\r\n     *\r\n     * @for AirportModel\r\n     * @method getWindVectorAtAltitude\r\n     * @param {number} altitude\r\n     * @returns {array<number, number>}\r\n     */\r\n    getWindVectorAtAltitude(altitude) {\r\n        const { angle, speed } = this.getWindAtAltitude(altitude);\r\n        const windTravelDirection = angle + Math.PI;\r\n        const windVector = vscale(vectorize2dFromRadians(windTravelDirection), speed);\r\n\r\n        return windVector;\r\n    }\r\n\r\n    /**\r\n     * Set active arrival/departure runways from the runway names\r\n     *\r\n     * @for AirportModel\r\n     * @method setActiveRunwaysFromNames\r\n     * @param arrivalRunwayName {string}\r\n     * @param departureRunwayName {string}\r\n     */\r\n    setActiveRunwaysFromNames(arrivalRunwayName, departureRunwayName) {\r\n        const arrivalRunwayModel = this.getRunway(arrivalRunwayName);\r\n        const departureRunwayModel = this.getRunway(departureRunwayName);\r\n\r\n        this.setArrivalRunway(arrivalRunwayModel);\r\n        this.setDepartureRunway(departureRunwayModel);\r\n    }\r\n\r\n    /**\r\n     * Set the airport's active arrival runway\r\n     *\r\n     * @for AirportModel\r\n     * @method setArrivalRunway\r\n     * @param runwayModel {RunwayModel}\r\n     */\r\n    setArrivalRunway(runwayModel) {\r\n        this.arrivalRunwayModel = runwayModel;\r\n    }\r\n\r\n    /**\r\n     * Set the airport's active departure runway\r\n     *\r\n     * @for AirportModel\r\n     * @method setDepartureRunway\r\n     * @param runwayModel {RunwayModel}\r\n     */\r\n    setDepartureRunway(runwayModel) {\r\n        this.departureRunwayModel = runwayModel;\r\n    }\r\n\r\n    /**\r\n     * Get RunwayModel in use for 'arrival' or 'departure', as specified in call\r\n     *\r\n     * @for AirportModel\r\n     * @method getActiveRunwayForCategory\r\n     * @param category {string} whether the arrival or departure runway is being queried\r\n     * @return {RunwayModel}\r\n     */\r\n    getActiveRunwayForCategory(category) {\r\n        if (category === FLIGHT_CATEGORY.ARRIVAL) {\r\n            return this.arrivalRunwayModel;\r\n        }\r\n\r\n        if (category === FLIGHT_CATEGORY.DEPARTURE) {\r\n            return this.departureRunwayModel;\r\n        }\r\n\r\n        if (category === FLIGHT_CATEGORY.OVERFLIGHT) {\r\n            return;\r\n        }\r\n\r\n        console.warn('Did not expect a query for runway that applies to aircraft of category ' +\r\n            `'${category}'! Returning the arrival runway (${this.arrivalRunwayModel.name})`);\r\n\r\n        return this.arrivalRunwayModel;\r\n    }\r\n\r\n    /**\r\n     * Return a `RunwayRelationshipModel` given two runway names\r\n     *\r\n     * @for AirportModel\r\n     * @method getRunwayRelationshipForRunwayNames\r\n     * @param  primaryRunwayName {string}\r\n     * @param  comparatorRunwayName {string}\r\n     * @return {RunwayRelationshipModel|undefined}\r\n     */\r\n    getRunwayRelationshipForRunwayNames(primaryRunwayName, comparatorRunwayName) {\r\n        return this._runwayCollection.getRunwayRelationshipForRunwayNames(primaryRunwayName, comparatorRunwayName);\r\n    }\r\n\r\n    // TODO: Implement changing winds, then bring this method back to life\r\n    /**\r\n     * @for AirportModel\r\n     * @method updateRunway\r\n     */\r\n    updateRunway() {\r\n        // const bestRunwayForWind = this._runwayCollection.findBestRunwayForWind(this.getWind);\r\n        //\r\n        // this.setArrivalRunway(bestRunwayForWind);\r\n        // this.setDepartureRunway(bestRunwayForWind);\r\n    }\r\n\r\n    // TODO: leaving this here for when we implement variable winds\r\n    // /**\r\n    //  * @for AirportModel\r\n    //  * @method setRunwayTimeout\r\n    //  */\r\n    // setRunwayTimeout() {\r\n    //     this.timeout.runway = GameController.game_timeout(this.updateRunway, Math.random() * 30, this);\r\n    // }\r\n\r\n    /**\r\n     * Return a `RunwayModel` for the provided name\r\n     *\r\n     * @for AirportModel\r\n     * @method getRunway\r\n     * @param name {string} name of the runway, eg '28R'\r\n     * @return {RunwayModel|null}\r\n     */\r\n    getRunway(name) {\r\n        return this._runwayCollection.findRunwayModelByName(name);\r\n    }\r\n\r\n    /**\r\n     * Remove an aircraft from all runway queues\r\n     *\r\n     * @for AirportModel\r\n     * @method removeAircraftFromAllRunwayQueues\r\n     * @param  aircraft {AircraftModel}\r\n     */\r\n    removeAircraftFromAllRunwayQueues(aircraftId) {\r\n        return this._runwayCollection.removeAircraftFromAllRunwayQueues(aircraftId);\r\n    }\r\n\r\n    /**\r\n     * Reset the queues for ALL runways at once\r\n     *\r\n     * @for AirportModel\r\n     * @method resetAllRunwayQueues\r\n     * @returns undefined\r\n     */\r\n    resetAllRunwayQueues() {\r\n        this._runwayCollection.runways.forEach((runwayModel) => runwayModel.resetQueue());\r\n    }\r\n\r\n    /**\r\n     * @for AirportModel\r\n     * @method parseTerrain\r\n     * @param  data {object}\r\n     */\r\n    parseTerrain(data) {\r\n        const GEOMETRY_TYPE = {\r\n            LINE_STRING: 'LineString',\r\n            POLYGON: 'Polygon'\r\n        };\r\n\r\n        // reassigning `this` to maintain correct scope wen working in multiple nested `_forEach()` and `_map()` loops\r\n        const apt = this;\r\n        apt.terrain = {};\r\n\r\n        _forEach(data.features, (f) => {\r\n            // const f = data.features[i];\r\n            // m => ft, rounded to 1K (but not divided)\r\n            const ele = round(f.properties.elevation / 0.3048, 1000);\r\n\r\n            if (!apt.terrain[ele]) {\r\n                apt.terrain[ele] = [];\r\n            }\r\n\r\n            let multipoly = f.geometry.coordinates;\r\n            if (f.geometry.type === GEOMETRY_TYPE.LINE_STRING) {\r\n                multipoly = [[multipoly]];\r\n            }\r\n\r\n            if (f.geometry.type === GEOMETRY_TYPE.POLYGON) {\r\n                multipoly = [multipoly];\r\n            }\r\n\r\n            _forEach(multipoly, (poly) => {\r\n                // multipoly contains several polys\r\n                // each poly has 1st outer ring and other rings are holes\r\n                const terrainAtElevation = _map(poly, (line_string) => {\r\n                    return _map(line_string, (point) => {\r\n                        // `StaticPositionModel` requires [lat,lon] order\r\n                        const latLongPoint = point.slice().reverse();\r\n                        const pos = new StaticPositionModel(latLongPoint, apt.positionModel, apt.magneticNorth);\r\n\r\n                        return pos.relativePosition;\r\n                    });\r\n                });\r\n\r\n                apt.terrain[ele].push(terrainAtElevation);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @for AirportModel\r\n     * @method loadTerrain\r\n     */\r\n    loadTerrain() {\r\n        if (!this.has_terrain) {\r\n            return;\r\n        }\r\n\r\n        // eslint-disable-next-line no-undef\r\n        zlsa.atc.loadAsset({\r\n            url: `assets/airports/terrain/${this.icao.toLowerCase()}.geojson`,\r\n            immediate: true\r\n        }).done((data) => { // TODO: change to onSuccess and onError handler abstractions\r\n            try {\r\n                // eslint-disable-next-line no-undef\r\n                this.parseTerrain(data);\r\n            } catch (e) {\r\n                throw new Error(e.message);\r\n            }\r\n        }).fail((jqXHR, textStatus, errorThrown) => {\r\n            console.error(`Unable to load airport/terrain/${this.icao}: ${textStatus}`);\r\n\r\n            this.loading = false;\r\n            AirportController.current.set();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Stop the game loop and Load airport json asyncronously\r\n     *\r\n     * @for AirportModel\r\n     * @method load\r\n     * @param airportJson {object}\r\n     */\r\n    load(airportJson = null) {\r\n        if (this.loaded) {\r\n            return;\r\n        }\r\n\r\n        this.loading = true;\r\n        this.eventBus.trigger(EVENT.PAUSE_UPDATE_LOOP, false);\r\n\r\n        if (airportJson && airportJson.icao.toLowerCase() === this.icao) {\r\n            this.onLoadIntialAirportFromJson(airportJson);\r\n\r\n            return;\r\n        }\r\n\r\n        // eslint-disable-next-line no-undef\r\n        zlsa.atc.loadAsset({\r\n            url: `assets/airports/${this.icao.toLowerCase()}.json`,\r\n            immediate: true\r\n        }).done((response) => this.onLoadAirportSuccess(response))\r\n            .fail((...args) => this.onLoadAirportError(...args));\r\n    }\r\n\r\n    /**\r\n     * @method onLoadAirportSuccess\r\n     * @param response {object}\r\n     */\r\n    onLoadAirportSuccess = (response) => {\r\n        // cache of airport.json data to be used to hydrate other classes on airport change\r\n        this.data = response;\r\n        this.loading = false;\r\n        this.loaded = true;\r\n\r\n        this.init(response);\r\n        this.eventBus.trigger(EVENT.AIRPORT_CHANGE, this.data);\r\n        this.set();\r\n    };\r\n\r\n    /**\r\n     * @for AirportModel\r\n     * @method onLoadAirportError\r\n     * @param textStatus {string}\r\n     */\r\n    onLoadAirportError = ({ textStatus }) => {\r\n        console.error(`Unable to load airport/${this.icao}: ${textStatus}`);\r\n\r\n        this.loading = false;\r\n        AirportController.current.set();\r\n    }\r\n\r\n    /**\r\n     * Provides a way to get data into the instance with passed in\r\n     * data and without running `.load()`\r\n     *\r\n     * Data received here is identical to data that would be received\r\n     * when changing airports.\r\n     *\r\n     * @for AirportModel\r\n     * @method onLoadIntialAirportFromJson\r\n     * @param response {object}\r\n     */\r\n    onLoadIntialAirportFromJson(response) {\r\n        // TODO: this is extremely similar to `onLoadAirportSuccess()`, consolidate these two methods\r\n        // cache of airport.json data to be used to hydrate other classes on airport change\r\n        this.data = response;\r\n        this.loading = false;\r\n        this.loaded = true;\r\n\r\n        this.init(response);\r\n        this.set();\r\n    }\r\n\r\n    /**\r\n     * Returns whether or not the provided point (at the specified altitude) is within any\r\n     * airspace area belonging to this airport\r\n     *\r\n     * @for AirportModel\r\n     * @function isPointWithinAirspace\r\n     * @param point {array} x,y\r\n     * @param altitude {number}\r\n     * @return {boolean}\r\n     */\r\n    isPointWithinAirspace(point, altitude) {\r\n        for (let i = 0; i < this.airspace.length; i++) {\r\n            const airspace = this.airspace[i];\r\n\r\n            if (airspace.isPointInside(point, altitude)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @for AirportModel\r\n     * @function distance2d\r\n     * @param point {array} x,y\r\n     * @return {number} distance in km\r\n     */\r\n    distance2d(point) {\r\n        return distance2d(point, this.relativePosition);\r\n    }\r\n}\r\n","import _isEqual from 'lodash/isEqual';\r\nimport _isNumber from 'lodash/isNumber';\r\nimport _map from 'lodash/map';\r\nimport BaseModel from '../base/BaseModel';\r\nimport StaticPositionModel from '../base/StaticPositionModel';\r\nimport { INVALID_NUMBER } from '../constants/globalConstants';\r\nimport { convertToThousands, nm } from '../utilities/unitConverters';\r\nimport { point_in_poly, distance_to_poly } from '../math/vector';\r\n\r\n/**\r\n * An enclosed region defined by a series of Position objects and an altitude range\r\n *\r\n * @class AirspaceModel\r\n */\r\nexport default class AirspaceModel extends BaseModel {\r\n    /**\r\n     * @for AirspaceModel\r\n     * @constructor\r\n     * @param data {object}\r\n     * @param airportPosition {StaticPositionModel}\r\n     * @param magneticNorth {number}\r\n     */\r\n    constructor(data, airportPosition, magneticNorth) {\r\n        super();\r\n\r\n        if (!data || !airportPosition || !_isNumber(magneticNorth)) {\r\n            // eslint-disable-next-line max-len\r\n            throw new TypeError('Invalid parameter, expected airspace, airportPosition and magneticNorth to be defined');\r\n        }\r\n\r\n        /**\r\n         * List of lat/long coordinates that outline the shape of the area\r\n         *\r\n         * DO NOT repeat the origin to 'close' the shape, this happens programatically\r\n         *\r\n         * @for AirspaceModel\r\n         * @property poly\r\n         * @type {array}\r\n         * @default []\r\n         */\r\n        this.poly = [];\r\n\r\n        /**\r\n         * A transformed version of this.poly\r\n         *\r\n         * @for AirspaceModel\r\n         * @property relativePoly\r\n         * @type {array}\r\n         * @default []\r\n         */\r\n        this.relativePoly = [];\r\n\r\n        /**\r\n         * Altitude at bottom of area, in hundreds of feet\r\n         *\r\n         * @for AirspaceModel\r\n         * @property floor\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this.floor = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Altitude of top of area, in hundreds of feet\r\n         *\r\n         * @for AirspaceModel\r\n         * @property ceiling\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this.ceiling = INVALID_NUMBER;\r\n\r\n        /**\r\n         * FAA airspace classification (A,B,C,D,E,G)\r\n         *\r\n         * @for AirspaceModel\r\n         * @property airspace_class\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.airspace_class = '';\r\n\r\n        /**\r\n         * Relative positions at which to draw airspace labels\r\n         *\r\n         * @for AirspaceModel\r\n         * @property labelRelativePositions\r\n         * @type {array<array<number>>} [ [x,y], [x,y], ... ], in km\r\n         * @default []\r\n         */\r\n        this.labelRelativePositions = [];\r\n\r\n        return this._init(data, airportPosition, magneticNorth);\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * Initialize the model\r\n     *\r\n     * @for AirspaceModel\r\n     * @method _init\r\n     * @param data {array}\r\n     * @param airportPosition {StaticPositionModel}\r\n     * @param magneticNorth {number}\r\n     * @chainable\r\n     * @private\r\n     */\r\n    _init(data, airportPosition, magneticNorth) {\r\n        this.floor = convertToThousands(data.floor);\r\n        this.ceiling = convertToThousands(data.ceiling);\r\n        this.airspace_class = data.airspace_class;\r\n        this.poly = this._buildPolyPositionModels(data.poly, airportPosition, magneticNorth);\r\n        this.relativePoly = _map(this.poly, (v) => v.relativePosition);\r\n\r\n        this._initLabelPositions(data, airportPosition, magneticNorth);\r\n\r\n        return this;\r\n    }\r\n\r\n    _initLabelPositions(data, airportPosition, magneticNorth) {\r\n        if (!data.labelPositions) {\r\n            const centerRelativePosition = this._calculateAirspaceCenterRelativePosition();\r\n            this.labelRelativePositions = [centerRelativePosition];\r\n\r\n            return;\r\n        }\r\n\r\n        const labelRelativePositions = data.labelPositions.map((position) => {\r\n            const labelPositionModel = new StaticPositionModel(position, airportPosition, magneticNorth);\r\n\r\n            return labelPositionModel.relativePosition;\r\n        });\r\n\r\n        this.labelRelativePositions = labelRelativePositions;\r\n    }\r\n\r\n    /**\r\n     * Calculates the relative position of the center of the airspace\r\n     *\r\n     * @for AirspaceModel\r\n     * @method _calculateAirspaceCenterRelativePosition\r\n     * @returns {array} [x,y] coordinates in km\r\n     * @private\r\n     */\r\n    _calculateAirspaceCenterRelativePosition() {\r\n        let [minX, minY] = this.relativePoly[0];\r\n        let [maxX, maxY] = this.relativePoly[0];\r\n\r\n        // iterate through all points in the polygon to find the extreme X/Y coordinates\r\n        for (const point of this.relativePoly) {\r\n            minX = Math.min(minX, point[0]);\r\n            maxX = Math.max(maxX, point[0]);\r\n            minY = Math.min(minY, point[1]);\r\n            maxY = Math.max(maxY, point[1]);\r\n        }\r\n\r\n        // calculate the center point as the middle of the extremes\r\n        return [\r\n            (minX + maxX) / 2,\r\n            (minY + maxY) / 2\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * @for AirspaceModel\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        this.poly = [];\r\n        this.floor = INVALID_NUMBER;\r\n        this.ceiling = INVALID_NUMBER;\r\n        this.airspace_class = '';\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * Checks if a point (2D position and altitude) is within this airspace\r\n     *\r\n     * @for AirspaceModel\r\n     * @method isPointInside\r\n     * @param point {array} x,y\r\n     * @param altitude {number}\r\n     * @return {boolean}\r\n     */\r\n    isPointInside(point, altitude) {\r\n        if (altitude < this.floor || this.ceiling < altitude) {\r\n            return false;\r\n        }\r\n\r\n        return this.isPointInside2D(point);\r\n    }\r\n\r\n    /**\r\n     * Checks if a 2D point is within the 2D projection of the airspace\r\n     *\r\n     * @for AirspaceModel\r\n     * @method isPointInside\r\n     * @param point {array} x,y\r\n     * @return {boolean}\r\n     */\r\n    isPointInside2D(point) {\r\n        return point_in_poly(point, this.relativePoly);\r\n    }\r\n\r\n    /**\r\n     * calculates the distance to the airspace in nm\r\n     *\r\n     * @for AirspaceModel\r\n     * @method distanceToBoundary\r\n     * @param point {array} x,y\r\n     * @return {number} in nm\r\n     */\r\n    distanceToBoundary(point) {\r\n        return nm(distance_to_poly(point, this.relativePoly));\r\n    }\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    /**\r\n     * Create a StaticPositionModel for each poly\r\n     *\r\n     * If the last entry is the same as the first, remove it because the path will be closed automatically.\r\n     *\r\n     * @for AirspaceModel\r\n     * @method _buildPolyPositionModels\r\n     * @param polyList {array}\r\n     * @param airportPosition {StaticPositionModel}\r\n     * @param magneticNorth {number}\r\n     * @return polyPositionModels {array}\r\n     */\r\n    _buildPolyPositionModels(polyList, airportPosition, magneticNorth) {\r\n        const polyPositionModels = _map(polyList, (poly) => {\r\n            return new StaticPositionModel(poly, airportPosition, magneticNorth);\r\n        });\r\n\r\n        // TODO: Though its reusability is not real likely, this might as well be made into an external helper\r\n        // shape shouldn't fully close; will draw with 'cc.closepath()' so we remove the last item\r\n        const firstIndex = 0;\r\n        const lastIndex = polyPositionModels.length - 1;\r\n        const firstIndexRelativePosition = polyPositionModels[firstIndex].relativePosition;\r\n        const lastIndexRelativePosition = polyPositionModels[lastIndex].relativePosition;\r\n\r\n        if (_isEqual(firstIndexRelativePosition, lastIndexRelativePosition)) {\r\n            polyPositionModels.pop();\r\n        }\r\n\r\n        return polyPositionModels;\r\n    }\r\n}\r\n","import _isNil from 'lodash/isNil';\r\nimport _isNumber from 'lodash/isNumber';\r\nimport MapModel from './MapModel';\r\nimport BaseCollection from '../base/BaseCollection';\r\nimport StaticPositionModel from '../base/StaticPositionModel';\r\nimport { isEmptyOrNotArray } from '../utilities/validatorUtilities';\r\n\r\n/**\r\n * Collection of `MapModel`s available to be displayed on the scope\r\n *\r\n * Provides methods to create `MapModel`s, used by `AirportModel`\r\n * and to extract video map line data to be rendered by the\r\n * `CanvasController`\r\n *\r\n * @class MapCollection\r\n * @extends BaseCollection\r\n */\r\nexport default class MapCollection extends BaseCollection {\r\n    /**\r\n     * @constructor\r\n     * @param mapJson {object}\r\n     * @param defaultMaps {array<string>}\r\n     * @param airportPositionModel {StaticPositionModel}\r\n     * @param magneticNorth {number}\r\n     */\r\n    constructor(mapJson, defaultMaps, airportPositionModel, magneticNorth) {\r\n        super();\r\n\r\n        if (_isNil(mapJson) || _isNil(defaultMaps) || _isNil(airportPositionModel) || !_isNumber(magneticNorth)) {\r\n            throw new TypeError('Invalid parameter(s) passed to MapCollection constructor. ' +\r\n                'Expected mapJson, defaultMaps, airportPositionModel and magneticNorth to be defined, but received ' +\r\n                `${typeof mapJson}, ${typeof defaultMaps}, ${typeof airportPositionModel} and ${typeof magneticNorth}`);\r\n        }\r\n\r\n        if (isEmptyOrNotArray(mapJson)) {\r\n            throw new TypeError('Invalid mapJson passed to MapCollection constructor. ' +\r\n                `Expected a non-empty array, but received ${typeof mapJson}`);\r\n        }\r\n\r\n        if (isEmptyOrNotArray(defaultMaps)) {\r\n            throw new TypeError('Invalid defaultMaps passed to MapCollection constructor. ' +\r\n                `Expected a non-empty array, but received ${typeof defaultMaps}`);\r\n        }\r\n\r\n        if (!(airportPositionModel instanceof StaticPositionModel)) {\r\n            throw new TypeError('Invalid airportPositionModel passed to MapCollection constructor. ' +\r\n                `Expected instance of StaticPositionModel, but received ${typeof airportPositionModel}`);\r\n        }\r\n\r\n        /**\r\n         * @inherited\r\n         * @memberof BaseCollection\r\n         * @property _items\r\n         * @type {array<MapModel>}\r\n         * @default []\r\n         */\r\n\r\n        /**\r\n         * @inherited\r\n         * @memberof BaseCollection\r\n         * @property length\r\n         * @type {number}\r\n         * @default #_items.length\r\n         */\r\n\r\n        this._init(mapJson, defaultMaps, airportPositionModel, magneticNorth);\r\n    }\r\n\r\n    /**\r\n     * A flag indicating whether the `MapCollection` has any visible maps.\r\n     *\r\n     * @for MapCollection\r\n     * @property hasVisibleMaps\r\n     * @return {boolean}\r\n     */\r\n    get hasVisibleMaps() {\r\n        return this._items.some((map) => !map.isHidden);\r\n    }\r\n\r\n    /**\r\n     * Public fascade for `#_items`\r\n     *\r\n     * @for MapCollection\r\n     * @property maps\r\n     * @return {array<MapModel>}\r\n     */\r\n    get maps() {\r\n        return this._items;\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * Initialize the instance\r\n     *\r\n     * @for MapCollection\r\n     * @method _init\r\n     * @param mapJson {object}\r\n     * @param defaultMaps {array<string>}\r\n     * @param airportPositionModel {StaticPositionModel}\r\n     * @param magneticNorth {number}\r\n     */\r\n    _init(mapJson, defaultMaps, airportPositionModel, magneticNorth) {\r\n        this._items = this._buildMapModels(mapJson, defaultMaps, airportPositionModel, magneticNorth);\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * A list of all the map lines for the visible maps in the `MapCollection`\r\n     *\r\n     * @for MapCollection\r\n     * @method getVisibleMapLines\r\n     * @return {array<object>}\r\n     */\r\n    getVisibleMapLines() {\r\n        return this._items.reduce((sum, map) => {\r\n            if (map.isHidden) {\r\n                return sum;\r\n            }\r\n\r\n            return [\r\n                ...map.lines,\r\n                ...sum\r\n            ];\r\n        }, []);\r\n    }\r\n\r\n    /**\r\n     * A list of names of all the visible maps in the `MapCollection`\r\n     *\r\n     * @for MapCollection\r\n     * @method getVisibleMapNames\r\n     * @return {array<object>}\r\n     */\r\n    getVisibleMapNames() {\r\n        return this._items.reduce((sum, map) => {\r\n            if (map.isHidden) {\r\n                return sum;\r\n            }\r\n\r\n            return [\r\n                ...sum,\r\n                map.name\r\n            ];\r\n        }, []);\r\n    }\r\n\r\n    /**\r\n     * A list of all the `MapModel` names in the `MapCollection`\r\n     *\r\n     * @for MapCollection\r\n     * @method getMapNames\r\n     * @returns {array<string>}\r\n     */\r\n    getMapNames() {\r\n        return this._items.map((map) => map.name);\r\n    }\r\n\r\n    /**\r\n     * Sets which maps should be rendered on the `CanvasController`\r\n     *\r\n     * @for MapCollection\r\n     * @method setVisibleMaps\r\n     * @param names {array<string>}\r\n     */\r\n    setVisibleMaps(names) {\r\n        this._items.forEach((map) => {\r\n            map.isHidden = !names.includes(map.name);\r\n        });\r\n    }\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    /**\r\n     * @for MapCollection\r\n     * @method _buildMapModels\r\n     * @param mapJson {object}\r\n     * @param defaultMaps {array<string>}\r\n     * @param airportPositionModel {StaticPositionModel}\r\n     * @param magneticNorth {number}\r\n     * @returns {array<MapModel>}\r\n     */\r\n    _buildMapModels(mapJson, defaultMaps, airportPositionModel, magneticNorth) {\r\n        return mapJson.map((item) => {\r\n            const map = new MapModel(item, airportPositionModel, magneticNorth);\r\n\r\n            map.isHidden = !defaultMaps.includes(map.name);\r\n\r\n            return map;\r\n        });\r\n    }\r\n}\r\n","import _isNil from 'lodash/isNil';\r\nimport _isNumber from 'lodash/isNumber';\r\nimport _isString from 'lodash/isString';\r\nimport BaseModel from '../base/BaseModel';\r\nimport DynamicPositionModel from '../base/DynamicPositionModel';\r\nimport StaticPositionModel from '../base/StaticPositionModel';\r\nimport {\r\n    isEmptyOrNotArray,\r\n    isEmptyOrNotObject\r\n} from '../utilities/validatorUtilities';\r\n\r\n/**\r\n * A video map item, containing a collection of map lines\r\n *\r\n * Defines a video map layer referenced by an `AirportModel` that\r\n * contains the map lines to be drawn by the `CanvasController`,\r\n * as well as a name describing the map contents and a flag\r\n * allowing rendering of the layer to be suppressed.\r\n *\r\n * @class MapModel\r\n */\r\nexport default class MapModel extends BaseModel {\r\n    /**\r\n     * @for MapModel\r\n     * @constructor\r\n     * @param map {object}\r\n     * @param airportPosition {StaticPositionModel}\r\n     * @param magneticNorth {number}\r\n     */\r\n    constructor(map, airportPosition, magneticNorth) {\r\n        super();\r\n\r\n        if (_isNil(map) || _isNil(airportPosition) || !_isNumber(magneticNorth)) {\r\n            throw new TypeError('Invalid parameter(s) passed to MapModel constructor. ' +\r\n                'Expected map, airportPosition and magneticNorth to be defined, ' +\r\n                `but received ${typeof map}, ${typeof airportPosition} and ${typeof magneticNorth}`);\r\n        }\r\n\r\n        if (isEmptyOrNotObject(map)) {\r\n            throw new TypeError('Invalid map passed to MapModel constructor. ' +\r\n                `Expected a non-empty object, but received ${typeof map}`);\r\n        }\r\n\r\n        if (!_isString(map.name)) {\r\n            throw new TypeError('Invalid map passed to MapModel constructor. ' +\r\n                `Expected map.name to be a string, but received ${typeof map.name}`);\r\n        }\r\n\r\n        if (isEmptyOrNotArray(map.lines)) {\r\n            throw new TypeError('Invalid map passed to MapModel constructor. ' +\r\n                `Expected map.lines to be a non-empty array, but received ${typeof map.lines}`);\r\n        }\r\n\r\n        if (!(airportPosition instanceof StaticPositionModel)) {\r\n            throw new TypeError('Invalid airportPosition passed to MapModel constructor. ' +\r\n                `Expected instance of StaticPositionModel, but received ${typeof airportPosition}`);\r\n        }\r\n\r\n        /**\r\n         * A flag indicating whether the layer should be hidden\r\n         *\r\n         * @for MapModel\r\n         * @property isHidden\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.isHidden = false;\r\n\r\n        /**\r\n         * List of lat/long coordinates pairs that define a line\r\n         *\r\n         * @for MapModel\r\n         * @property lines\r\n         * @type {array}\r\n         * @default []\r\n         */\r\n        this.lines = [];\r\n\r\n        /**\r\n         * Name of the map layer.\r\n         *\r\n         * @for MapModel\r\n         * @property name\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.name = '';\r\n\r\n        return this._init(map, airportPosition, magneticNorth);\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * Initialize the model\r\n     *\r\n     * @for MapModel\r\n     * @method _init\r\n     * @param map {object}\r\n     * @param airportPosition {StaticPositionModel}\r\n     * @param magneticNorth {number}\r\n     * @private\r\n     */\r\n    _init(map, airportPosition, magneticNorth) {\r\n        this.isHidden = map.isHidden === true;\r\n        this.name = map.name;\r\n\r\n        this._buildMapLines(map.lines, airportPosition, magneticNorth);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for MapModel\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        this.isHidden = false;\r\n        this.lines = [];\r\n        this.name = '';\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    /**\r\n     * Create the array of map lines\r\n     *\r\n     * @for MapModel\r\n     * @method _buildMapLines\r\n     * @param map {object}\r\n     * @param airportPosition {StaticPositionModel}\r\n     * @param magneticNorth {number}\r\n     * @private\r\n     */\r\n    _buildMapLines(lines, airportPosition, magneticNorth) {\r\n        this.lines = lines.map((line) => {\r\n            const airportPositionAndDeclination = [airportPosition, magneticNorth];\r\n            const lineStartCoordinates = [line[0], line[1]];\r\n            const lineEndCoordinates = [line[2], line[3]];\r\n            const startPosition = DynamicPositionModel.calculateRelativePosition(\r\n                lineStartCoordinates,\r\n                ...airportPositionAndDeclination\r\n            );\r\n            const endPosition = DynamicPositionModel.calculateRelativePosition(\r\n                lineEndCoordinates,\r\n                ...airportPositionAndDeclination\r\n            );\r\n\r\n            return [...startPosition, ...endPosition];\r\n        });\r\n    }\r\n}\r\n","import _find from 'lodash/find';\r\nimport _forEach from 'lodash/forEach';\r\nimport _isNil from 'lodash/isNil';\r\nimport BaseCollection from '../../base/BaseCollection';\r\nimport RunwayModel from './RunwayModel';\r\nimport RunwayRelationshipModel from './RunwayRelationshipModel';\r\nimport { isEmptyOrNotArray } from '../../utilities/validatorUtilities';\r\n\r\n/**\r\n * Collection of `RunwayModel`s\r\n *\r\n * Provides methods to reason about the various `RunwayModel`s belonging to an airport\r\n *\r\n * @class RunwayCollection\r\n * @extends BaseCollection\r\n */\r\nexport default class RunwayCollection extends BaseCollection {\r\n    /**\r\n     * @constructor\r\n     * @param runwayJson {array<object>}\r\n     * @param airportPositionModel {StaticPositionModel}\r\n     */\r\n    constructor(runwayJson, airportPositionModel) {\r\n        super();\r\n\r\n        if (_isNil(runwayJson) || _isNil(airportPositionModel)) {\r\n            throw new TypeError('Invalid parameter(s) passed to RunwayCollection constructor. ' +\r\n                'Expected runwayJson and airportPositionModel to be defined, ' +\r\n                `but received ${typeof runwayJson} and ${typeof airportPositionModel}`);\r\n        }\r\n\r\n        if (isEmptyOrNotArray(runwayJson)) {\r\n            throw new TypeError('Invalid runwayJson passed to RunwayCollection constructor. ' +\r\n                `Expected a non-empty array, but received ${typeof runwayJson}`);\r\n        }\r\n\r\n        /**\r\n         * @inherited\r\n         * @memberof BaseCollection\r\n         * @property _items\r\n         * @type {array<RunwayModel>}\r\n         * @default []\r\n         */\r\n\r\n        /**\r\n         * @inherited\r\n         * @memberof BaseCollection\r\n         * @property length\r\n         * @type {number}\r\n         * @default #_items.length\r\n         */\r\n\r\n        /**\r\n         * @property _airportPositionModel\r\n         * @type {StaticPositionModel}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._airportPositionModel = null;\r\n\r\n        /**\r\n         * Dictionary of all airport runways, organized by runway name, that\r\n         * contains a `RunwayRelationshipModel` for each runway\r\n         *\r\n         * @property _runwayRelationships\r\n         * @type object\r\n         * @default {}\r\n         * @private\r\n         */\r\n        this._runwayRelationships = {};\r\n\r\n        this._init(runwayJson, airportPositionModel);\r\n    }\r\n\r\n    /**\r\n     * Public fascade for `#_items`\r\n     *\r\n     * @property runways\r\n     * @return {array<RunwayModel>}\r\n     */\r\n    get runways() {\r\n        return this._items;\r\n    }\r\n\r\n    /**\r\n     * Initialize the instance\r\n     *\r\n     * @for RunwayCollection\r\n     * @method _init\r\n     * @param runwayJson {array<object>}\r\n     * @param airportPositionModel {StaticPositionModel}\r\n     */\r\n    _init(runwayJson, airportPositionModel) {\r\n        this._airportPositionModel = airportPositionModel;\r\n\r\n        this._buildRunwayModels(runwayJson);\r\n        this._buildRunwayRelationships();\r\n    }\r\n\r\n    /**\r\n     * Tear down the instance and destroy any instance property values\r\n     *\r\n     * @for RunwayCollection\r\n     * @method destroy\r\n     */\r\n    destroy() {\r\n        this._airportPositionModel = null;\r\n        this._runwayRelationships = {};\r\n    }\r\n\r\n    /**\r\n     * Based on the current wind, find the most appropriate runway for use\r\n     *\r\n     * Used to find a default runway\r\n     *\r\n     * @for findBestRunwayForWind\r\n     * @method findBestRunwayForWind\r\n     * @param getCurrentWindProps {function<object>}\r\n     * @return bestRunway {string}\r\n     */\r\n    findBestRunwayForWind(getCurrentWindProps) {\r\n        let bestRunway = '';\r\n        let bestRunwayHeadwind = -Infinity;\r\n        const headwind = {};\r\n        const wind = getCurrentWindProps();\r\n\r\n        for (let i = 0; i < this._items.length; i++) {\r\n            const runway = this._items[i];\r\n\r\n            headwind[runway.name] = Math.cos(runway.angle - wind.angle) * wind.speed;\r\n        }\r\n\r\n        for (const runway in headwind) {\r\n            if (headwind[runway] > bestRunwayHeadwind) {\r\n                bestRunway = runway;\r\n                bestRunwayHeadwind = headwind[runway];\r\n            }\r\n        }\r\n\r\n        return bestRunway;\r\n    }\r\n\r\n    /**\r\n     * Loop through all the `RunwayModel`s in the collection and\r\n     * call the `.removeAircraftFromQueue()` method on each.\r\n     *\r\n     * This is a catchall method used for cleanup\r\n     *\r\n     * This method is overkill and can likely be removed in\r\n     * the near future\r\n     *\r\n     * @for RunwayCollection\r\n     * @method removeAircraftFromAllRunwayQueues\r\n     */\r\n    removeAircraftFromAllRunwayQueues(aircraftId) {\r\n        for (let i = 0; i < this.length; i++) {\r\n            const runwayModel = this._items[i];\r\n\r\n            runwayModel.removeAircraftFromQueue(aircraftId);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @for RunwayCollection\r\n     * @method findRunwayModelByName\r\n     * @param\r\n     * @return {RunwayModel|null}\r\n     */\r\n    findRunwayModelByName(runwayName = '') {\r\n        return _find(this._items, { name: runwayName.toUpperCase() }) || null;\r\n    }\r\n\r\n    /**\r\n     * @for RunwayCollection\r\n     * @method getRunwayRelationshipForRunwayNames\r\n     * @param  primaryRunwayName {string}\r\n     * @param  comparatorRunwayName {string}\r\n     * @return {boolean}\r\n     */\r\n    getRunwayRelationshipForRunwayNames(primaryRunwayName, comparatorRunwayName) {\r\n        return this._runwayRelationships[primaryRunwayName.toUpperCase()][comparatorRunwayName.toUpperCase()];\r\n    }\r\n\r\n    /**\r\n     * Given two runway names, find if the runways are parallel\r\n     *\r\n     * @for RunwayCollection\r\n     * @method areRunwaysParallel\r\n     * @param  primaryRunwayName {string}\r\n     * @param  comparatorRunwayName {string}\r\n     * @return {boolean}\r\n     */\r\n    areRunwaysParallel(primaryRunwayName, comparatorRunwayName) {\r\n        const runwayRelationship = this.getRunwayRelationshipForRunwayNames(\r\n            primaryRunwayName,\r\n            comparatorRunwayName\r\n        );\r\n\r\n        return runwayRelationship.parallel;\r\n    }\r\n\r\n    /**\r\n     * @for RunwayCollection\r\n     * @method _buildRunwayModels\r\n     * @param runwayJson {array<object>}\r\n     */\r\n    _buildRunwayModels(runwayJson) {\r\n        _forEach(runwayJson, (runway) => {\r\n            this._addRunwayToCollection(new RunwayModel(runway, 0, this._airportPositionModel));\r\n            this._addRunwayToCollection(new RunwayModel(runway, 1, this._airportPositionModel));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @for RunwayCollection\r\n     * @method _addRunwayToCollection\r\n     * @param runwayModel {RunwayModel}\r\n     */\r\n    _addRunwayToCollection(runwayModel) {\r\n        this._items.push(runwayModel);\r\n    }\r\n\r\n    /**\r\n     * Build the `#_runwayRelationships` dictionary\r\n     *\r\n     * This method mutates `#_runwayRelationships`\r\n     *\r\n     * @for RunwayCollection\r\n     * @method _buildRunwayRelationships\r\n     */\r\n    _buildRunwayRelationships() {\r\n        for (let i = 0; i < this.length; i++) {\r\n            const primaryRunway = this._items[i];\r\n            // create subobject with primaryRunway name as the key\r\n            this._runwayRelationships[primaryRunway.name] = {};\r\n\r\n            this._buildRunwayRelationshipsForRunway(primaryRunway);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create a `RunwayRelationshipModel` for each `runwayModel`.\r\n     *\r\n     * This method mutates `#_runwayRelationships`\r\n     *\r\n     * @method _buildRunwayRelationshipsForRunway\r\n     * @param runwayModel {runwayModel}\r\n     */\r\n    _buildRunwayRelationshipsForRunway(runwayModel) {\r\n        for (let i = 0; i < this.length; i++) {\r\n            const comparatorRunway = this._items[i];\r\n\r\n            if (runwayModel.name !== comparatorRunway.name) {\r\n                this._runwayRelationships[runwayModel.name][comparatorRunway.name] = new RunwayRelationshipModel(\r\n                    runwayModel,\r\n                    comparatorRunway\r\n                );\r\n            }\r\n        }\r\n    }\r\n}\r\n","import _ceil from 'lodash/ceil';\r\nimport _without from 'lodash/without';\r\nimport BaseModel from '../../base/BaseModel';\r\nimport StaticPositionModel from '../../base/StaticPositionModel';\r\nimport { PERFORMANCE } from '../../constants/aircraftConstants';\r\nimport { AIRPORT_CONSTANTS } from '../../constants/airportConstants';\r\nimport { INVALID_NUMBER } from '../../constants/globalConstants';\r\nimport {\r\n    angle_offset,\r\n    radians_normalize\r\n} from '../../math/circle';\r\nimport {\r\n    abs,\r\n    tan\r\n} from '../../math/core';\r\nimport {\r\n    calculateCrosswindAngle,\r\n    getOffset\r\n} from '../../math/flightMath';\r\nimport { radio_runway } from '../../utilities/radioUtilities';\r\nimport {\r\n    km,\r\n    km_ft,\r\n    nm,\r\n    degreesToRadians\r\n} from '../../utilities/unitConverters';\r\n\r\n/**\r\n * Describes a single runway at an airport\r\n *\r\n * @class RunwayModel\r\n * @extends BaseModel\r\n */\r\nexport default class RunwayModel extends BaseModel {\r\n    /**\r\n     * @for RunwayModel\r\n     * @constructor\r\n     * @param options {object}\r\n     * @param end {number}\r\n     * @param airportPositionModel {StaticPositionModel}\r\n     */\r\n    // istanbul ignore next\r\n    constructor(options = {}, end, airportPositionModel) {\r\n        super();\r\n\r\n        /**\r\n         * @property airportPositionModel\r\n         * @type {StaticPositionModel|null}\r\n         * @default null\r\n         */\r\n        this.airportPositionModel = null;\r\n\r\n        /**\r\n         * @property _positionModel\r\n         * @type {StaticPositionModel|null}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._positionModel = null;\r\n\r\n        /**\r\n         * Name of the runway\r\n         *\r\n         * @property name\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.name = '';\r\n\r\n        /**\r\n         * Runway magnetic heading (from landing end to liftoff end), in radians\r\n         *\r\n         * @property angle\r\n         * @type {number}\r\n         * @default null\r\n         */\r\n        this.angle = -999;\r\n\r\n        /**\r\n         * @property delay\r\n         * @type {number}\r\n         * @default 2\r\n         */\r\n        this.delay = 2;\r\n\r\n        /**\r\n         * @property ils\r\n         * @type {object}\r\n         */\r\n        this.ils = {\r\n            enabled: true,\r\n            loc_maxDist: km(25),\r\n            // gs_maxHeight: 9999,\r\n            glideslopeGradient: degreesToRadians(3)\r\n        };\r\n\r\n        /**\r\n         * @property length\r\n         * @type\r\n         * @default\r\n         */\r\n        this.length = null;\r\n\r\n        /**\r\n         * @property sepFromAdjacent\r\n         * @type {number}\r\n         */\r\n        this.sepFromAdjacent = km(3);\r\n\r\n        /**\r\n         * Aircraft queue\r\n         *\r\n         * A list of aircraft that have taxied to the end of\r\n         * the runway and are waiting to takeoff\r\n         *\r\n         * @property queue\r\n         * @type {array<string>}\r\n         * @default []\r\n         */\r\n        this.queue = [];\r\n\r\n        /**\r\n         * The flight number of the last aircraft that used the runway for takeoff.\r\n         *\r\n         * @property lastDepartedAircraftModel\r\n         * @type {AircraftModel}\r\n         * @default null\r\n         */\r\n        this.lastDepartedAircraftModel = null;\r\n\r\n        this._init(options, end, airportPositionModel);\r\n    }\r\n\r\n    /**\r\n     * Reset the runway queue\r\n     *\r\n     * @for RunwayModel\r\n     * @method resetQueue\r\n     * @returns undefined\r\n     */\r\n    resetQueue() {\r\n        this.queue = [];\r\n        this.lastDepartedAircraftModel = null;\r\n    }\r\n\r\n    /**\r\n     * Fascade to access relative position\r\n     *\r\n     * @for RunwayModel\r\n     * @property relativePosition\r\n     * @type {array<number>} [kilometersNorth, kilometersEast]\r\n     */\r\n    get relativePosition() {\r\n        return this._positionModel.relativePosition;\r\n    }\r\n\r\n    /**\r\n     * Provide read-only public access to this._positionModel\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @property positionModel\r\n     * @type {StaticPositionModel}\r\n     */\r\n    get positionModel() {\r\n        return this._positionModel;\r\n    }\r\n\r\n    /**\r\n     * Provide gps coordinates for the runway\r\n     *\r\n     * @for RunwayModel\r\n     * @property gps\r\n     * @type {array<number>} gps coordinates of the runway\r\n     */\r\n    get gps() {\r\n        return this._positionModel.gps;\r\n    }\r\n\r\n    /**\r\n     * @for RunwayModel\r\n     * @property elevation\r\n     * @type {number}\r\n     */\r\n    get elevation() {\r\n        return this._positionModel.elevation || this.airportPositionModel.elevation;\r\n    }\r\n\r\n    /**\r\n     * Reverse of runway magnetic heading, in radians\r\n     *\r\n     * @for RunwayModel\r\n     * @property oppositeAngle\r\n     * @type {number}\r\n     */\r\n    get oppositeAngle() {\r\n        return radians_normalize(this.angle + Math.PI);\r\n    }\r\n\r\n    /**\r\n     * @for RunwayModel\r\n     * @method _init\r\n     * @param data\r\n     * @param end\r\n     * @param airportPositionModel {AirportModel}\r\n     */\r\n    _init(data, end, airportPositionModel) {\r\n        this.airportPositionModel = airportPositionModel;\r\n        this.name = data.name[end];\r\n\r\n        // TODO: deprecate\r\n        if (data.delay) {\r\n            this.delay = data.delay[end];\r\n        }\r\n\r\n        if (data.end) {\r\n            const farSideIndex = end === 0 ?\r\n                1 :\r\n                0;\r\n\r\n            const thisSide = new StaticPositionModel(\r\n                data.end[end],\r\n                this.airportPositionModel,\r\n                this.airportPositionModel.magneticNorth\r\n            );\r\n            const farSide = new StaticPositionModel(\r\n                data.end[farSideIndex],\r\n                this.airportPositionModel,\r\n                this.airportPositionModel.magneticNorth\r\n            );\r\n\r\n            // relative position, based on center of map\r\n            this._positionModel = thisSide;\r\n            this.length = km(thisSide.distanceToPosition(farSide));\r\n            this.angle = thisSide.bearingToPosition(farSide);\r\n        }\r\n\r\n        if (data.ils) {\r\n            this.ils.enabled = data.ils[end];\r\n        }\r\n\r\n        if (data.ils_distance) {\r\n            this.ils.loc_maxDist = km(data.ils_distance[end]);\r\n        }\r\n\r\n        if (data.glideslope) {\r\n            this.ils.glideslopeGradient = degreesToRadians(data.glideslope[end]);\r\n        }\r\n\r\n        // TODO: neither property is defined in any airport json files\r\n        // if (data.ils_gs_maxHeight) {\r\n        //     this.ils.gs_maxHeight = data.ils_gs_maxHeight[end];\r\n        // }\r\n        //\r\n        // if (data.sepFromAdjacent) {\r\n        //     this.sepFromAdjacent = km(data.sepFromAdjacent[end]);\r\n        // }\r\n    }\r\n\r\n    /**\r\n    * Calculate the height of the glideslope for a runway's ILS at a given distance on final\r\n    *\r\n    * @for RunwayModel\r\n    * @method getGlideslopeAltitude\r\n    * @param distance {number}                       distance from the runway threshold, in kilometers\r\n    * @param glideslopeGradient {number} [optional]  gradient of the glideslope in radians\r\n    *                                                (typically equivalent to 3.0 degrees)\r\n    * @return {number}\r\n    */\r\n    getGlideslopeAltitude(distance, glideslopeGradient) {\r\n        if (!glideslopeGradient) {\r\n            glideslopeGradient = this.ils.glideslopeGradient;\r\n        }\r\n\r\n        distance = Math.max(0, distance);\r\n        const rise = tan(abs(glideslopeGradient));\r\n\r\n        // TODO: this logic could be abstracted to a helper.\r\n        return this.elevation + (rise * km_ft(distance));\r\n    }\r\n\r\n    /**\r\n     * Calculate the height of the glideslope at (or abeam) the final approach fix\r\n     *\r\n     * @for RunwayModel\r\n     * @method getGlideslopeAltitudeAtFinalApproachFix\r\n     * @return {number} glideslope altitude in ft MSL\r\n     */\r\n    getGlideslopeAltitudeAtFinalApproachFix() {\r\n        return this.getGlideslopeAltitude(km(AIRPORT_CONSTANTS.FINAL_APPROACH_FIX_DISTANCE_NM));\r\n    }\r\n\r\n    /**\r\n     * Calculate the height of the lowest 100-ft-increment altitude which is along the glideslope and beyond the FAF\r\n     *\r\n     * @for RunwayModel\r\n     * @method getMinimumGlideslopeInterceptAltitude\r\n     * @return {number} glideslope altitude in ft MSL\r\n     */\r\n    getMinimumGlideslopeInterceptAltitude() {\r\n        const altitudeAtFinalApproachFix = this.getGlideslopeAltitudeAtFinalApproachFix();\r\n        const minimumInterceptAltitude = _ceil(altitudeAtFinalApproachFix, -2);\r\n\r\n        return minimumInterceptAltitude;\r\n    }\r\n\r\n    /**\r\n     * Return the spoken name of the runway, spelled out into words\r\n     *\r\n     * Ex: \"two six left\"\r\n     *\r\n     * @for RunwayModel\r\n     * @method getRadioName\r\n     * @return {string}\r\n     */\r\n    getRadioName() {\r\n        return radio_runway(this.name);\r\n    }\r\n\r\n    /**\r\n     * Adds the specified aircraft to the runway queue\r\n     *\r\n     * @for RunwayModel\r\n     * @method addAircraftToQueue\r\n     * @param aircraftId {string}\r\n     */\r\n    addAircraftToQueue(aircraftId) {\r\n        this.queue.push(aircraftId);\r\n    }\r\n\r\n    /**\r\n     * Remove the specified aircraft from the runway queue\r\n     *\r\n     * @for RunwayModel\r\n     * @method removeAircraftFromQueue\r\n     * @param aircraftId {string}\r\n     */\r\n    removeAircraftFromQueue(aircraftId) {\r\n        this.queue = _without(this.queue, aircraftId);\r\n    }\r\n\r\n    /**\r\n     * Boolean helper used to determine if a specific aircraft instance is currently in the queue\r\n     *\r\n     * @for RunwayModel\r\n     * @method isAircraftInQueue\r\n     * @param aircraftId {string}\r\n     * @return {boolean}\r\n     */\r\n    isAircraftInQueue(aircraftId) {\r\n        return this.getAircraftQueuePosition(aircraftId) !== INVALID_NUMBER;\r\n    }\r\n\r\n    /**\r\n     * Returns whether the specified aircraft is the first still waiting for takeoff clearance\r\n     *\r\n     * @for RunwayModel\r\n     * @method isAircraftNextInQueue\r\n     * @param  aircraftId {string}\r\n     * @return {boolean}\r\n     */\r\n    isAircraftNextInQueue(aircraftId) {\r\n        return this.getAircraftQueuePosition(aircraftId) === 0;\r\n    }\r\n\r\n    /**\r\n     * Returns the position of a specified aircraft in the runway's queue\r\n     *\r\n     * @for RunwayModel\r\n     * @method getAircraftQueuePosition\r\n     * @param  aircraftId {string}\r\n     * @return {number}\r\n     */\r\n    getAircraftQueuePosition(aircraftId) {\r\n        return this.queue.indexOf(aircraftId);\r\n    }\r\n\r\n    /**\r\n     * Wrapper for `calculateCrosswindAngleForRunway()` where an implementor needs only the `windAngle`\r\n     * to calculate the crosswind angle\r\n     *\r\n     * @for RunwayModel\r\n     * @method calculateCrosswindAngleForRunway\r\n     * @param windAngle {number}\r\n     * @return {number}  in radians\r\n     */\r\n    calculateCrosswindAngleForRunway(windAngle) {\r\n        return calculateCrosswindAngle(this.angle, windAngle);\r\n    }\r\n\r\n    /**\r\n     * Boolean helper used to determine if an aircraftModel is on an approach course\r\n     *\r\n     * @for RunwayModel\r\n     * @method isOnApproachCourse\r\n     * @return {boolean}\r\n     */\r\n    isOnApproachCourse(aircraftModel) {\r\n        const approachOffset = getOffset(aircraftModel, this.relativePosition, this.angle);\r\n        const lateralDistanceFromCourse_nm = abs(nm(approachOffset[0]));\r\n        const isAlignedWithCourse = lateralDistanceFromCourse_nm <= PERFORMANCE.MAXIMUM_DISTANCE_CONSIDERED_ESTABLISHED_ON_APPROACH_COURSE_NM;\r\n        const isNotPastRunwayThreshold = approachOffset[1] > 0;\r\n\r\n        return isAlignedWithCourse && isNotPastRunwayThreshold;\r\n    }\r\n\r\n    /**\r\n     * Boolean helper used to determine if an aircraftModel is on the correct approach heading.\r\n     *\r\n     * @for RunwayModel\r\n     * @method isOnCorrectApproachGroundTrack\r\n     * @param  aircraftGroundTrack {number}\r\n     * @return {boolean}\r\n     */\r\n    isOnCorrectApproachGroundTrack(aircraftGroundTrack) {\r\n        const angle_diff = abs(angle_offset(aircraftGroundTrack, this.angle));\r\n\r\n        return angle_diff < PERFORMANCE.MAXIMUM_ANGLE_CONSIDERED_ESTABLISHED_ON_APPROACH_COURSE;\r\n    }\r\n}\r\n","import _uniqueId from 'lodash/uniqueId';\r\nimport {\r\n    km_ft,\r\n    km,\r\n    degreesToRadians\r\n} from '../../utilities/unitConverters';\r\nimport { abs } from '../../math/core';\r\nimport { angle_offset } from '../../math/circle';\r\nimport { getOffset } from '../../math/flightMath';\r\nimport { raysIntersect } from '../../math/vector';\r\nimport { SEPARATION } from '../../constants/aircraftConstants';\r\n\r\n/**\r\n * Describes a relationship between two `RunwayModel`s\r\n *\r\n * @class RunwayRelationshipModel\r\n */\r\nexport default class RunwayRelationshipModel {\r\n    /**\r\n     *\r\n     * @constructor\r\n     * @param primaryRunway {RuwnayModel}\r\n     * @param comparatorRunway {RunwayModel}\r\n     */\r\n    constructor(primaryRunway, comparatorRunway) {\r\n        if (!primaryRunway || !comparatorRunway) {\r\n            throw new TypeError('Invalid parameters. RunwayRelationshipModel requires two RunwayModel instances');\r\n        }\r\n\r\n        /**\r\n         * @property _id\r\n         * @type {string}\r\n         * @private\r\n         */\r\n        this._id = _uniqueId('runwayRelationshipModel-');\r\n\r\n        /**\r\n         * @property lateral_dist\r\n         * @type {number}\r\n         * @default -999\r\n         */\r\n        this.lateral_dist = -999;\r\n\r\n        /**\r\n         * @property straight_dist\r\n         * @type {number}\r\n         * @default -999\r\n         */\r\n        this.straight_dist = -999;\r\n\r\n        /**\r\n         * @property converging\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.converging = false;\r\n\r\n        /**\r\n         * @property parallel\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this.parallel = false;\r\n\r\n        /**\r\n         * @property separationMinimum\r\n         * @type {number}\r\n         * @default -999\r\n         */\r\n        this.separationMinimum = -999;\r\n\r\n        this.calculateRelationshipValues(primaryRunway, comparatorRunway);\r\n    }\r\n\r\n    /**\r\n     * Calculate relationship values for each runway pair\r\n     *\r\n     * @for RunwayRelationshipModel\r\n     * @method calculateRelationshipValues\r\n     * @param primaryRunway {RuwnayModel}\r\n     * @param comparatorRunway {RunwayModel}\r\n     */\r\n    calculateRelationshipValues(primaryRunway, comparatorRunway) {\r\n        const offset = getOffset(primaryRunway, comparatorRunway.relativePosition, primaryRunway.angle);\r\n\r\n        this.lateral_dist = abs(offset[0]);\r\n        this.straight_dist = abs(offset[2]);\r\n        this.converging = raysIntersect(\r\n            primaryRunway.relativePosition,\r\n            primaryRunway.angle,\r\n            comparatorRunway.relativePosition,\r\n            comparatorRunway.angle\r\n        );\r\n        this.parallel = abs(angle_offset(primaryRunway.angle, comparatorRunway.angle)) < degreesToRadians(10);\r\n        this.separationMinimum = this.calculateSeparationMinimums();\r\n    }\r\n\r\n    /**\r\n     * Determine applicable lateral separation minima for conducting\r\n     * parallel simultaneous dependent approaches on these runways:\r\n     *\r\n     * Note: This does not take into account the (more complicated)\r\n     * rules for dual/triple simultaneous parallel dependent approaches as\r\n     * outlined by FAA JO 7110.65, para 5-9-7. Users playing at any of our\r\n     * airports that have triple parallels may be able to \"get away with\"\r\n     * the less restrictive rules, whilst their traffic may not be 100%\r\n     * legal. It's just complicated and not currently worthwhile to add\r\n     * rules for running trips at this point... maybe later. -@erikquinn\r\n     * Reference: FAA JO 7110.65, section 5-9-6\r\n     *\r\n     * @for RunwayRelationshipModel\r\n     * @method calculateSeparationMinimums\r\n     * @return applicableLatSepMin {number}\r\n     */\r\n    calculateSeparationMinimums() {\r\n        let applicableLatSepMin = SEPARATION.STANDARD_LATERAL_KM; // 3.0nm\r\n        const runwaySeparationDistanceFeet = km_ft(this.lateral_dist);\r\n\r\n        if (runwaySeparationDistanceFeet >= 2500 && runwaySeparationDistanceFeet <= 3600) {\r\n            // 2500'-3600'\r\n            applicableLatSepMin = km(1); // 1.852km\r\n        } else if (runwaySeparationDistanceFeet > 3600 && runwaySeparationDistanceFeet <= 8300) {\r\n            // 3601'-8300'\r\n            applicableLatSepMin = km(1.5); // 2.778km\r\n        } else if (runwaySeparationDistanceFeet > 8300 && runwaySeparationDistanceFeet <= 9000) {\r\n            // 8301'-9000'\r\n            applicableLatSepMin = km(2); // 3.704km\r\n        }\r\n\r\n        return applicableLatSepMin;\r\n    }\r\n\r\n    /**\r\n     * @for RunwayRelationshipModel\r\n     * @method destroy\r\n     */\r\n    destroy() {\r\n        this.lateral_dist = -999;\r\n        this.straight_dist = -999;\r\n        this.converging = false;\r\n        this.parallel = false;\r\n        this.separationMinimum = -999;\r\n    }\r\n}\r\n","import _uniqueId from 'lodash/uniqueId';\r\n\r\n/**\r\n * Base class from which a collection type class can inherit from.\r\n *\r\n * This class is meant to be extended and should never be used directly.\r\n *\r\n * @class BaseCollection\r\n */\r\nexport default class BaseCollection {\r\n    /**\r\n     * @constructor\r\n     * @for BaseCollection\r\n     */\r\n    constructor() {\r\n        /**\r\n         * Unigue string id that can be used to differentiate this model instance from another.\r\n         *\r\n         * @property _id\r\n         * @type {string}\r\n         * @private\r\n         */\r\n        this._id = _uniqueId();\r\n\r\n        /**\r\n         * @property _items\r\n         * @type {array}\r\n         * @default []\r\n         * @private\r\n         */\r\n        this._items = [];\r\n    }\r\n\r\n    /**\r\n     * Current length of the collection\r\n     *\r\n     * @property length\r\n     * @return {number}\r\n     */\r\n    get length() {\r\n        return this._items.length;\r\n    }\r\n\r\n    /**\r\n     * Initialize the model properties. Should be run on instantiation and, though not desired,\r\n     * could be run multiple times after instantiation.\r\n     *\r\n     * This method may be called by the constructor or from a public fascade.\r\n     *\r\n     * @for BaseCollection\r\n     * @method _init\r\n     * @private\r\n     */\r\n    _init() {\r\n        throw new TypeError('BaseCollection#_init has not been implemented by the extending class');\r\n    }\r\n\r\n    /**\r\n     * Destory the current instance.\r\n     *\r\n     * When implemented by the inheriting class, this method should un-set all instance properties\r\n     * and remove any handlers.\r\n     *\r\n     * @for BaseCollection\r\n     * @method destroy\r\n     */\r\n    destroy() {\r\n        throw new TypeError('BaseCollection#destroy has not been implemented by the extending class');\r\n    }\r\n\r\n    // TODO: add additional common collection method\r\n    // reset()\r\n    // addItems()\r\n    // addItem()\r\n    // removeItem()\r\n}\r\n","import _uniqueId from 'lodash/uniqueId';\r\nimport _isString from 'lodash/isString';\r\n\r\n/**\r\n * Base class for all Model objects to inherit from.\r\n *\r\n * This class is meant to be extended and should never be used directly.\r\n *\r\n * @class BaseModel\r\n */\r\nexport default class BaseModel {\r\n    constructor(modelName = 'BaseModel') {\r\n        const optionalIdPrefix = this._buildIdPrefix(modelName);\r\n\r\n        /**\r\n         * Unigue string id that can be used to differentiate this model instance from another.\r\n         *\r\n         * @property _id\r\n         * @type {string}\r\n         * @private\r\n         */\r\n        this._id = _uniqueId(optionalIdPrefix);\r\n    }\r\n\r\n    /**\r\n     * Initialize the model properties. Should be run on instantiation and, though not desired,\r\n     * could be run multiple times after instantiation.\r\n     *\r\n     * This method may be called by the constructor or from a public fascade.\r\n     *\r\n     * @for BaseModel\r\n     * @method _init\r\n     * @private\r\n     */\r\n    _init() {\r\n        throw new TypeError('BaseModel#_init method must be implemented by the class extending BaseModel');\r\n    }\r\n\r\n    /**\r\n     * Destory the current instance.\r\n     *\r\n     * When implemented by the inheriting class, this method should un-set all instance properties\r\n     * and remove any handlers.\r\n     *\r\n     * @for BaseModel\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        throw new TypeError('BaseModel#reset method must be implemented by the class extending BaseModel');\r\n    }\r\n\r\n    /**\r\n     * This will verify if the given argument is a string otherwise it will return 'Base Model'\r\n     *\r\n     * @for BaseModel\r\n     * @method veriftyModelName\r\n     * @param {string}\r\n     * @private\r\n     */\r\n    _buildIdPrefix(modelName) {\r\n        if (!_isString(modelName)) {\r\n            throw new TypeError('BaseModel#constructor expects a string for its first parameter but a string was not given');\r\n        }\r\n\r\n        // Default option since it is an optional parameter\r\n        return `${modelName}-`;\r\n    }\r\n}\r\n","import _isNumber from 'lodash/isNumber';\r\nimport _uniqueId from 'lodash/uniqueId';\r\nimport {\r\n    adjustForMagneticNorth,\r\n    calculateDistanceToPointForX,\r\n    calculateDistanceToPointForY,\r\n    isValidGpsCoordinatePair\r\n} from './positionModelHelpers';\r\nimport { radians_normalize } from '../math/circle';\r\nimport {\r\n    degreesToRadians,\r\n    nm,\r\n    parseCoordinate,\r\n    parseElevation,\r\n    radiansToDegrees\r\n} from '../utilities/unitConverters';\r\nimport { PHYSICS_CONSTANTS } from '../constants/globalConstants';\r\nimport {\r\n    DEFAULT_SCREEN_POSITION,\r\n    GPS_COORDINATE_INDEX,\r\n    RELATIVE_POSITION_OFFSET_INDEX\r\n} from '../constants/positionConstants';\r\nimport {\r\n    vlen,\r\n    vradial\r\n} from '../math/vector';\r\n\r\n/**\r\n * @class Position\r\n */\r\nexport default class DynamicPositionModel {\r\n    /**\r\n     * Coordinates may contain an optional elevation as a third element.\r\n     * It must be suffixed by either 'ft' or 'm' to indicate the units.\r\n     *\r\n     * Latitude and Longitude numbers may be one of the following forms:\r\n     *   Decimal degrees - `47.112388112`\r\n     *   Decimal degrees - `'N47.112388112'`\r\n     *   Decimal minutes - `'N38d38.109808'`\r\n     *   Decimal seconds - `'N58d27m12.138'`\r\n     *\r\n     * @for DynamicPositionModel\r\n     * @constructor\r\n     * @param coordinates {array<string|number>}    array in shape of [latitude, longitude]\r\n     * @param reference {StaticPositionModel}       position to use for calculating relative position\r\n     * @param magnetic_north {number}               magnetic declination (variation), in radians east\r\n     */\r\n    constructor(coordinates = [], reference = null, magnetic_north = 0) {\r\n        if (!isValidGpsCoordinatePair(coordinates)) {\r\n            throw new TypeError('Invalid coordinates passed to DynamicPositionModel. Expected shape of ' +\r\n                `\"[latitude, longitude]\" but received \"${coordinates}\"`);\r\n        }\r\n\r\n        /**\r\n         * @property _id\r\n         * @type {string}\r\n         */\r\n        this._id = _uniqueId('position-model-');\r\n\r\n        /**\r\n         * Latitudinal coordinate, in degrees\r\n         *\r\n         * @property latitude\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.latitude = 0;\r\n\r\n        /**\r\n         * Longitudinal coordinate, in degrees\r\n         *\r\n         * @property longitude\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.longitude = 0;\r\n\r\n        /**\r\n         * Altitude of this position, above MSL (mean sea level), in feet\r\n         *\r\n         * @property elevation\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.elevation = 0;\r\n\r\n        /**\r\n         * PositionModel this position is magnetically rotated in reference to\r\n         *\r\n         * @property _referencePosition\r\n         * @type {DynamicPositionModel|null}\r\n         */\r\n        this._referencePosition = reference;\r\n\r\n        /**\r\n         * Magnetic declination, in radians east\r\n         *\r\n         * @property _magneticNorth\r\n         * @type {number}\r\n         */\r\n        this._magneticNorth = magnetic_north;\r\n\r\n        this.init(coordinates);\r\n    }\r\n\r\n    /**\r\n     * GPS coordinates in [latitude, longitude] order\r\n     * For reverse order, see `DynamicPositionModel.gpsXY`\r\n     *\r\n     * @property gps\r\n     * @return {array}\r\n     */\r\n    get gps() {\r\n        return [\r\n            this.latitude,\r\n            this.longitude\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * GPS coordinates in [x,y] order\r\n     * For reverse order, see `DynamicPositionModel.gps`\r\n     *\r\n     * @property gpsXY\r\n     * @return {array}\r\n     */\r\n    get gpsXY() {\r\n        return [\r\n            this.longitude,\r\n            this.latitude\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * @for DynamicPositionModel\r\n     * @property magneticNorth\r\n     * @return {number}\r\n     */\r\n    get magneticNorth() {\r\n        return this._magneticNorth;\r\n    }\r\n\r\n    /**\r\n     * Relative position, in km offset from the airport\r\n     *\r\n     * @property relativePosition\r\n     * @return {array}\r\n     */\r\n    get relativePosition() {\r\n        return this._calculateRelativePosition();\r\n    }\r\n\r\n    /**\r\n     * Kilometers east (magnetic) of the reference position\r\n     *\r\n     * @for DynamicPositionModel\r\n     * @property x\r\n     * @type {number}\r\n     */\r\n    get x() {\r\n        return this.relativePosition[RELATIVE_POSITION_OFFSET_INDEX.LONGITUDINAL];\r\n    }\r\n\r\n    /**\r\n     * Kilometers north (magnetic) of the reference position\r\n     *\r\n     * @for DynamicPositionModel\r\n     * @property y\r\n     * @type {number}\r\n     */\r\n    get y() {\r\n        return this.relativePosition[RELATIVE_POSITION_OFFSET_INDEX.LATITUDINAL];\r\n    }\r\n\r\n    /**\r\n     * @for DynamicPositionModel\r\n     * @method init\r\n     */\r\n    init(coordinates) {\r\n        this.latitude = parseCoordinate(coordinates[GPS_COORDINATE_INDEX.LATITUDE]);\r\n        this.longitude = parseCoordinate(coordinates[GPS_COORDINATE_INDEX.LONGITUDE]);\r\n\r\n        // TODO: this is using coersion and shoudld be updated to be more explicit\r\n        if (coordinates[GPS_COORDINATE_INDEX.ELEVATION] != null) {\r\n            this.elevation = parseElevation(coordinates[GPS_COORDINATE_INDEX.ELEVATION]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculate the initial magnetic bearing from a given position to the position of `this`\r\n     *\r\n     * @for DynamicPositionModel\r\n     * @method bearingFromPosition\r\n     * @param position {DynamicPositionModel|StaticPositionModel} position we're comparing against\r\n     * @return {Number} magnetic bearing from `position` to `this`, in radians\r\n     */\r\n    bearingFromPosition(position) {\r\n        return position.bearingToPosition(this);\r\n    }\r\n\r\n    /**\r\n     * Calculate the initial magnetic bearing to a given position from the position of `this`\r\n     * Note: This method uses great circle math to determine the bearing. It is very accurate, but\r\n     * also a very expensive operation. If the precision is not needed, a vradial(vsub()) of the\r\n     * x/y positions is a more \"quick and dirty\" option.\r\n     *\r\n     * Source: Chris Veness, Movable Type Scripts\r\n     * Subject: \"Bearing\"\r\n     * Link: http://www.movable-type.co.uk/scripts/latlong.html\r\n     *\r\n     * @for DynamicPositionModel\r\n     * @method bearingToPosition\r\n     * @param position {DynamicPositionModel|StaticPositionModel} position we're comparing against\r\n     * @return {Number} magnetic bearing from `this` to `position`, in radians\r\n     */\r\n    bearingToPosition(position) {\r\n        const φ1 = degreesToRadians(this.latitude);\r\n        const φ2 = degreesToRadians(position.latitude);\r\n        const Δλ = degreesToRadians(position.longitude - this.longitude);\r\n        const y = Math.sin(Δλ) * Math.cos(φ2);\r\n        const x = Math.cos(φ1) * Math.sin(φ2) - Math.sin(φ1) * Math.cos(φ2) * Math.cos(Δλ);\r\n        const θ = Math.atan2(y, x);\r\n\r\n        return radians_normalize(θ - this._magneticNorth);\r\n    }\r\n\r\n    /**\r\n     * Get the distance from `this` to a given position\r\n     *\r\n     * @for DynamicPositionModel\r\n     * @method distanceToPosition\r\n     * @param position {DynamicPositionModel|StaticPositionModel} position we're comparing against\r\n     * @return {number} distance to `position`, in nautical miles\r\n     */\r\n    distanceToPosition(position) {\r\n        const R = PHYSICS_CONSTANTS.EARTH_RADIUS_NM;\r\n        const φ1 = degreesToRadians(this.latitude);\r\n        const φ2 = degreesToRadians(position.latitude);\r\n        const Δφ = degreesToRadians(position.latitude - this.latitude);\r\n        const Δλ = degreesToRadians(position.longitude - this.longitude);\r\n        const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\r\n                Math.cos(φ1) * Math.cos(φ2) *\r\n                Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\r\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n        const d = R * c;\r\n\r\n        return d;\r\n    }\r\n\r\n    /**\r\n     * Returns a new `DynamicPositionModel` a given magnetic bearing/distance from `this`\r\n     *\r\n     * @for DynamicPositionModel\r\n     * @method generateDynamicPositionFromBearingAndDistance\r\n     * @param bearing {number} magnetic bearing, in radians\r\n     * @param distance {number} distance, in nautical miles\r\n     * @return {DynamicPositionModel}\r\n     */\r\n    generateDynamicPositionFromBearingAndDistance(bearing, distance) {\r\n        const [lat, lon] = this.generateCoordinatesFromBearingAndDistance(bearing, distance);\r\n        const dynamicPositionModel = new DynamicPositionModel([lat, lon], this._referencePosition, this._magneticNorth);\r\n\r\n        return dynamicPositionModel;\r\n    }\r\n\r\n    /**\r\n     * Returns the GPS coordinate pair a given magnetic bearing/distance from `this`\r\n     *\r\n     * Source: Chris Veness, Movable Type Scripts\r\n     * Subject: \"Destination point given distance and bearing from start point\"\r\n     * Link: http://www.movable-type.co.uk/scripts/latlong.html\r\n     *\r\n     * @for DynamicPositionModel\r\n     * @method generateDynamicPositionFromBearingAndDistance\r\n     * @param bearing {number} magnetic bearing, in radians\r\n     * @param distance {number} distance, in nautical miles\r\n     * @return {array} [latitude, longitude]\r\n     */\r\n    generateCoordinatesFromBearingAndDistance(bearing, distance) {\r\n        const R = PHYSICS_CONSTANTS.EARTH_RADIUS_NM;\r\n        const θ = bearing + this._magneticNorth; // true bearing, in radians\r\n        const d = distance;\r\n        const δ = d / R; // angular distance, in earth laps\r\n        const φ1 = degreesToRadians(this.latitude);\r\n        const λ1 = degreesToRadians(this.longitude);\r\n        const φ2 = Math.asin(Math.sin(φ1) * Math.cos(δ) + Math.cos(φ1) * Math.sin(δ) * Math.cos(θ));\r\n        const λ2 = λ1 + Math.atan2(Math.sin(θ) * Math.sin(δ) * Math.cos(φ1), Math.cos(δ) - Math.sin(φ1) * Math.sin(φ2));\r\n        const lat = radiansToDegrees(φ2);\r\n        const lon = radiansToDegrees(λ2);\r\n\r\n        return [lat, lon];\r\n    }\r\n\r\n    /**\r\n     * Change the lat/lon coordinates of `this`\r\n     *\r\n     * @for DynamicPositionModel\r\n     * @method setCoordinates\r\n     * @param gpsCoordinates {Array<number>} [latitude, longitude]\r\n     */\r\n    setCoordinates(gpsCoordinates) {\r\n        if (!isValidGpsCoordinatePair(gpsCoordinates)) {\r\n            return new TypeError('Expected valid GPS coordinates to be passed to Position.setCoordinates, ' +\r\n                `but received ${gpsCoordinates}`);\r\n        }\r\n\r\n        this.latitude = gpsCoordinates[GPS_COORDINATE_INDEX.LATITUDE];\r\n        this.longitude = gpsCoordinates[GPS_COORDINATE_INDEX.LONGITUDE];\r\n    }\r\n\r\n    /**\r\n     * Change the lat/lon coordinates of `this` by providing the distance to move along a given magnetic heading\r\n     *\r\n     * @for DynamicPositionModel\r\n     * @method setCoordinates\r\n     * @param bearing {number} magnetic bearing, in radians\r\n     * @param distance {number} distance, in nautical miles\r\n     */\r\n    setCoordinatesByBearingAndDistance(bearing, distance) {\r\n        const nextCoordinates = this.generateCoordinatesFromBearingAndDistance(bearing, distance);\r\n\r\n        this.setCoordinates(nextCoordinates);\r\n    }\r\n\r\n    /**\r\n     * Determine the `x` and `y` values of the `DynamicPositionModel`, used for drawing on the canvas\r\n     *\r\n     * @for DynamicPositionModel\r\n     * @method _calculateRelativePosition\r\n     * @return {array<number>}\r\n     * @private\r\n     */\r\n    _calculateRelativePosition() {\r\n        if (!this._hasReferencePosition()) {\r\n            return DEFAULT_SCREEN_POSITION;\r\n        }\r\n\r\n        return DynamicPositionModel.calculateRelativePosition(this.gps, this._referencePosition, this._magneticNorth);\r\n    }\r\n\r\n    /**\r\n     * Checks whether or not this `DynamicPositionModel` has a reference `DynamicPositionModel`\r\n     * Without the reference position, the rotation due to magnetic variation will not be applied\r\n     *\r\n     * @for DynamicPositionModel\r\n     * @method _hasReferencePosition\r\n     * @return {Boolean} whether this position is based on a reference position\r\n     * @private\r\n     */\r\n    _hasReferencePosition() {\r\n        return this._referencePosition !== null;\r\n    }\r\n}\r\n\r\n/**\r\n * Calculate x/y position from latitude and longitude and a referencePosition\r\n *\r\n * Provides a static method to calculate position without instantiating a `DynamicPositionModel` class.\r\n *\r\n * @function getPosition\r\n * @param coordinates {array<string>}\r\n * @param referencePosition {DynamicPositionModel|StaticPositionModel|null}\r\n * @param magneticNorth {number}\r\n * @return {array}\r\n * @static\r\n */\r\nDynamicPositionModel.calculateRelativePosition = (coordinates, referencePosition, magneticNorth) => {\r\n    if (!coordinates || !referencePosition || !_isNumber(magneticNorth)) {\r\n        throw new TypeError('Invalid parameter. DynamicPositionModel.calculateRelativePosition() requires ' +\r\n        'coordinates, referencePosition and magneticNorth as parameters');\r\n    }\r\n\r\n    const latitude = parseCoordinate(coordinates[GPS_COORDINATE_INDEX.LATITUDE]);\r\n    const longitude = parseCoordinate(coordinates[GPS_COORDINATE_INDEX.LONGITUDE]);\r\n    const canvasPositionX = calculateDistanceToPointForX(\r\n        referencePosition,\r\n        referencePosition.latitude,\r\n        longitude\r\n    );\r\n    const canvasPositionY = calculateDistanceToPointForY(\r\n        referencePosition,\r\n        latitude,\r\n        referencePosition.longitude\r\n    );\r\n    const { x, y } = adjustForMagneticNorth(canvasPositionX, canvasPositionY, magneticNorth);\r\n\r\n    return [x, y];\r\n};\r\n\r\n/**\r\n * Calculate lat/lon position from an x/y offset, relative to a referencePosition\r\n *\r\n * Provides a static method to calculate lat/lon coordinates without instantiating a `DynamicPositionModel` class.\r\n *\r\n * @for DynamicPositionModel\r\n * @method calculateGpsCoordinatesFromRelativePosition\r\n * @param offsetKm {array<number>} the relative position, in km offset [x, y] from the airport center\r\n * @param referencePosition {DynamicPositionModel|StaticPositionModel|null}\r\n * @return {array<number>}\r\n * @static\r\n */\r\nDynamicPositionModel.calculateGpsCoordinatesFromRelativePosition = (offsetKm, referencePosition) => {\r\n    if (!offsetKm || !referencePosition) {\r\n        throw new TypeError('Invalid parameter. DynamicPositionModel.calculateGpsCoordinatesFromRelativePosition() requires ' +\r\n            'coordinates, referencePosition and magneticNorth as parameters');\r\n    }\r\n\r\n    const magneticBearing = vradial(offsetKm);\r\n    const distance = nm(vlen(offsetKm));\r\n    const coordinates = referencePosition.generateCoordinatesFromBearingAndDistance(magneticBearing, distance);\r\n\r\n    return coordinates;\r\n};\r\n","import DynamicPositionModel from './DynamicPositionModel';\r\nimport {\r\n    DEFAULT_SCREEN_POSITION,\r\n    RELATIVE_POSITION_OFFSET_INDEX\r\n} from '../constants/positionConstants';\r\n\r\n/**\r\n * Like a DynamicPositionModel, but calculates once and PERMANANTLY stores the relative position [x, y] as a property\r\n *\r\n * @class StaticPositionModel\r\n * @extends DynamicPositionModel\r\n */\r\nexport default class StaticPositionModel extends DynamicPositionModel {\r\n    /**\r\n     * Coordinates may contain an optional elevation as a third element.\r\n     * It must be suffixed by either 'ft' or 'm' to indicate the units.\r\n     *\r\n     * Latitude and Longitude numbers may be one of the following forms:\r\n     *   Decimal degrees - `47.112388112`\r\n     *   Decimal degrees - `'N47.112388112'`\r\n     *   Decimal minutes - `'N38d38.109808'`\r\n     *   Decimal seconds - `'N58d27m12.138'`\r\n     *\r\n     * @for StaticPositionModel\r\n     * @constructor\r\n     * @param coordinates {array<string|number>}    array in shape of [latitude, longitude]\r\n     * @param reference {StaticPositionModel}       position to use for calculating relative position\r\n     * @param magnetic_north {number}               magnetic declination (variation), in radians east\r\n     */\r\n    constructor(coordinates = [], reference = null, magnetic_north = 0) {\r\n        super(coordinates, reference, magnetic_north);\r\n\r\n        /**\r\n         * Description of a location, expressed in 'kilometers' north and east of a given\r\n         * reference position on the screen (which is almost always the airport). Note that\r\n         * this location is offset from the reference position not in alignment with TRUE\r\n         * north, but rather MAGNETIC north (which is the alignment of the scope).\r\n         *\r\n         * @for StaticPositionModel\r\n         * @property _relativePosition\r\n         * @type {array<number>} [kilometersNorth, kilometersEast]\r\n         * @private\r\n         */\r\n        this._relativePosition = DEFAULT_SCREEN_POSITION;\r\n\r\n        this._initializeRelativePosition();\r\n    }\r\n\r\n    /**\r\n     * @for StaticPositionModel\r\n     * @property referencePosition\r\n     * @return {array<number>} [kilometersNorth, kilometersEast]\r\n     */\r\n    get referencePosition() {\r\n        return this._referencePosition;\r\n    }\r\n\r\n    /**\r\n     * Relative position, in km offset from the airport\r\n     *\r\n     * @for StaticPositionModel\r\n     * @property relativePosition\r\n     * @return {array<number>} [kilometersNorth, kilometersEast]\r\n     */\r\n    get relativePosition() {\r\n        return this._relativePosition;\r\n    }\r\n\r\n    /**\r\n     * Kilometers east (magnetic) of the reference position\r\n     *\r\n     * @for StaticPositionModel\r\n     * @property x\r\n     * @type {number}\r\n     */\r\n    get x() {\r\n        return this._relativePosition[RELATIVE_POSITION_OFFSET_INDEX.LONGITUDINAL];\r\n    }\r\n\r\n    /**\r\n     * Kilometers north (magnetic) of the reference position\r\n     *\r\n     * @for StaticPositionModel\r\n     * @property y\r\n     * @type {number}\r\n     */\r\n    get y() {\r\n        return this._relativePosition[RELATIVE_POSITION_OFFSET_INDEX.LATITUDINAL];\r\n    }\r\n\r\n    /**\r\n     * Dummy method to overwrite that of `DynamicPositionModel` in order to disallow the making of\r\n     * any modifications to the `StaticPositionModel`.\r\n     *\r\n     * @for StaticPositionModel\r\n     * @method setCoordinates\r\n     */\r\n    setCoordinates(...args) {\r\n        console.warn(`Unexpected attempt to modify a StaticPositionModel, via .setCoordinates(${args});`);\r\n        // do nothing, because `StaticPositionModel`s cannot be changed\r\n    }\r\n\r\n    /**\r\n     * Calculate the relative position and store it in the property\r\n     *\r\n     * @for DynamicPositionModel\r\n     * @method _initializeRelativePosition\r\n     */\r\n    _initializeRelativePosition() {\r\n        if (!this._hasReferencePosition()) {\r\n            return DEFAULT_SCREEN_POSITION;\r\n        }\r\n\r\n        this._relativePosition = DynamicPositionModel.calculateRelativePosition(\r\n            this.gps,\r\n            this._referencePosition,\r\n            this._magneticNorth\r\n        );\r\n    }\r\n}\r\n","import _isNil from 'lodash/isNil';\r\nimport {\r\n    INVALID_INDEX,\r\n    REGEX\r\n} from '../constants/globalConstants';\r\nimport { distanceToPoint } from '../math/circle';\r\n\r\n/**\r\n * @function hasCardinalDirectionInCoordinate\r\n * @param coordinate {string}\r\n * @return {boolean}\r\n */\r\nexport const hasCardinalDirectionInCoordinate = (coordinate) => REGEX.COMPASS_DIRECTION.test(coordinate);\r\n\r\n// TODO: Are these two functions really needed to be separate?\r\n/**\r\n * @function calculateDistanceToPointForX\r\n * @param referencePosition {StaticPositionModel}\r\n * @param latitude {number}\r\n * @param longitude {number}\r\n * @return x {number}\r\n */\r\nexport const calculateDistanceToPointForX = (referencePosition, latitude, longitude) => {\r\n    let x = distanceToPoint(\r\n        referencePosition.latitude,\r\n        referencePosition.longitude,\r\n        latitude,\r\n        longitude\r\n    );\r\n\r\n    if (referencePosition.longitude > longitude) {\r\n        x *= -1;\r\n    }\r\n\r\n    return x;\r\n};\r\n\r\n// TODO: Are these two functions really needed to be separate?\r\n/**\r\n *\r\n *\r\n * @function calculateDistanceToPointForY\r\n * @param referencePosition {StaticPositionModel}\r\n * @param latitude {number}\r\n * @param longitude {number}\r\n * @return y {number}\r\n */\r\nexport const calculateDistanceToPointForY = (referencePosition, latitude, longitude) => {\r\n    let y = distanceToPoint(\r\n        referencePosition.latitude,\r\n        referencePosition.longitude,\r\n        latitude,\r\n        longitude\r\n    );\r\n\r\n\r\n    if (referencePosition.latitude > latitude) {\r\n        y *= -1;\r\n    }\r\n\r\n    return y;\r\n};\r\n\r\n/**\r\n * Adjust to use magnetic north instead of true north\r\n *\r\n * @function adjustForMagneticNorth\r\n * @param originalX {string}\r\n * @param originalY {string}\r\n * @param magneticNorth {number}\r\n * @return {object}\r\n */\r\nexport const adjustForMagneticNorth = (originalX, originalY, magneticNorth) => {\r\n    const t = Math.atan2(originalY, originalX) + magneticNorth;\r\n    const r = Math.sqrt((originalX * originalX) + (originalY * originalY));\r\n\r\n    const x = r * Math.cos(t);\r\n    const y = r * Math.sin(t);\r\n\r\n    return {\r\n        x,\r\n        y\r\n    };\r\n};\r\n\r\n/**\r\n * Returns whether provided GPS coordinate pair is valid\r\n *\r\n * @function isValidGpsCoordinatePair\r\n * @param  gpsCoordinates {array<number>} in the shape of [latitude, longitude]\r\n * @return {Boolean}\r\n */\r\nexport const isValidGpsCoordinatePair = (gpsCoordinates) => {\r\n    const hasContent = !_isNil(gpsCoordinates);\r\n    const hasTwoOrThreeElements = gpsCoordinates.length === 2 || gpsCoordinates.length === 3;\r\n    const firstTwoElementsHaveSameType = typeof gpsCoordinates[0] === typeof gpsCoordinates[1];\r\n\r\n    if (!hasContent || !hasTwoOrThreeElements || !firstTwoElementsHaveSameType) {\r\n        return false;\r\n    }\r\n\r\n    const latitude = gpsCoordinates[0];\r\n    const longitude = gpsCoordinates[1];\r\n\r\n    if (typeof latitude === 'number') {\r\n        return true;\r\n    } else if (typeof latitude === 'string') {\r\n        const latFirstCharIsNorthOrSouth = ['N', 'S'].indexOf(latitude[0].toUpperCase()) !== INVALID_INDEX;\r\n        const lonFirstCharIsEastOrWest = ['E', 'W'].indexOf(longitude[0].toUpperCase()) !== INVALID_INDEX;\r\n\r\n        return latFirstCharIsNorthOrSouth && lonFirstCharIsEastOrWest;\r\n    }\r\n\r\n    return false;\r\n};\r\n","import DynamicPositionModel from './DynamicPositionModel';\r\n\r\n/**\r\n * Accepts a `StaticPositionModel` and returns a `DynamicPositionModel` with the same location\r\n *\r\n * @function convertStaticPositionToDynamic\r\n * @param staticPositionModel {StaticPositionModel}\r\n * @return {DynamicPositionModel}\r\n */\r\nexport const convertStaticPositionToDynamic = (staticPositionModel) => {\r\n    return new DynamicPositionModel(\r\n        staticPositionModel.gps,\r\n        staticPositionModel.referencePosition,\r\n        staticPositionModel.magneticNorth\r\n    );\r\n};\r\n","import $ from 'jquery';\r\nimport _cloneDeep from 'lodash/cloneDeep';\r\nimport _filter from 'lodash/filter';\r\nimport _has from 'lodash/has';\r\nimport _inRange from 'lodash/inRange';\r\nimport AirportController from '../airport/AirportController';\r\nimport CanvasStageModel from './CanvasStageModel';\r\nimport EventBus from '../lib/EventBus';\r\nimport GameController from '../game/GameController';\r\nimport MeasureTool from '../measurement/MeasureTool';\r\nimport NavigationLibrary from '../navigationLibrary/NavigationLibrary';\r\nimport TimeKeeper from '../engine/TimeKeeper';\r\nimport { tau } from '../math/circle';\r\nimport {\r\n    round,\r\n    clamp\r\n} from '../math/core';\r\nimport {\r\n    positive_intersection_with_rect,\r\n    vectorize2dFromRadians,\r\n    vectorize2dFromDegrees,\r\n    vadd,\r\n    vscale\r\n} from '../math/vector';\r\nimport {\r\n    FLIGHT_PHASE,\r\n    FLIGHT_CATEGORY\r\n} from '../constants/aircraftConstants';\r\nimport {\r\n    BASE_CANVAS_FONT,\r\n    CANVAS_NAME\r\n} from '../constants/canvasConstants';\r\nimport { THEME } from '../constants/themes';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport {\r\n    INVALID_INDEX,\r\n    INVALID_NUMBER,\r\n    TIME\r\n} from '../constants/globalConstants';\r\nimport { GAME_OPTION_NAMES } from '../constants/gameOptionConstants';\r\nimport { PROCEDURE_TYPE } from '../constants/routeConstants';\r\nimport { leftPad } from '../utilities/generalUtilities';\r\nimport {\r\n    DECIMAL_RADIX,\r\n    degreesToRadians,\r\n    km,\r\n    nm\r\n} from '../utilities/unitConverters';\r\n\r\n/**\r\n * @class CanvasController\r\n */\r\nexport default class CanvasController {\r\n    /**\r\n     * @constructor\r\n     * @param $element {JQuery|HTML Element}\r\n     * @param aircraftController {AircraftController}\r\n     * @param scopeModel {ScopeModel}\r\n     */\r\n    constructor($element, aircraftController, scopeModel) {\r\n        /**\r\n         * Reference to the `window` object\r\n         *\r\n         * @property $window\r\n         * @type {JQuery|HTML Element}\r\n         */\r\n        this.$window = $(window);\r\n\r\n        /**\r\n         * Reference to the `#canvases` tag which acts as the container\r\n         * element for all the `<canvas />` elements\r\n         *\r\n         * @property $element\r\n         * @type $element {JQuery|HTML Element}\r\n         * @default $element\r\n         */\r\n        this.$element = $element;\r\n\r\n        /**\r\n         * @property _aircraftController\r\n         * @type {AircraftController}\r\n         * @private\r\n         */\r\n        this._aircraftController = aircraftController;\r\n\r\n        /**\r\n         * @property _scopeModel\r\n         * @type {ScopeModel}\r\n         * @private\r\n         */\r\n        this._scopeModel = scopeModel;\r\n\r\n        /**\r\n         * @property _eventBus\r\n         * @type {EventBus}\r\n         * @private\r\n         */\r\n        this._eventBus = EventBus;\r\n\r\n        /**\r\n         * @property _context\r\n         * @type {object<string, HTMLCanvasContext>}\r\n         * @private\r\n         */\r\n        this._context = {};\r\n\r\n        /**\r\n         * Flag used to determine if the canvas dimensions should be resized\r\n         *\r\n         * @property _shouldResize\r\n         * @type {boolean}\r\n         * @default true\r\n         * @private\r\n         */\r\n        this._shouldResize = true;\r\n\r\n        /**\r\n         * Flag used to determine if the Aircraft canvas should be updated\r\n         *\r\n         * @property _shouldShallowRender\r\n         * @type {boolean}\r\n         * @default true\r\n         */\r\n        this._shouldShallowRender = true;\r\n\r\n        /**\r\n         * Flag used to determine if _all_ canvases should be updated\r\n         *\r\n         * When this is true, the non-updating canvases like terrain, fix labels,\r\n         * video map, etc will be recalculated and re-drawn.\r\n         *\r\n         * This should only be true when the view changes via zoom/pan or airport change\r\n         *\r\n         * @property _shouldDeepRender\r\n         * @type {boolean}\r\n         * @default true\r\n         */\r\n        this._shouldDeepRender = true;\r\n\r\n        /**\r\n         * Flag used to determine if airspace polygons should be displayed and labeled\r\n         *\r\n         * @property _shouldDrawAirspace\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this._shouldDrawAirspace = false;\r\n\r\n        /**\r\n         * Flag used to determine if fix labels should be displayed\r\n         *\r\n         * @property _shouldDrawFixLabels\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this._shouldDrawFixLabels = false;\r\n\r\n        /**\r\n         * Flag used to determine if restricted areas should be displayed\r\n         *\r\n         * @property _shouldDrawRestrictedAreas\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this._shouldDrawRestrictedAreas = false;\r\n\r\n        /**\r\n         * Flag used to determine if the sid map should be displayed\r\n         *\r\n         * @property _shouldDrawSidMap\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this._shouldDrawSidMap = false;\r\n\r\n        /**\r\n         * Flag used to determine if the star map should be displayed\r\n         *\r\n         * @property _shouldDrawStarMap\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this._shouldDrawStarMap = false;\r\n\r\n        /**\r\n         * Flag used to determine if terrain should be displayed\r\n         *\r\n         * @property _shouldDrawTerrain\r\n         * @type {boolean}\r\n         * @default true\r\n         */\r\n        this._shouldDrawTerrain = true;\r\n\r\n        /**\r\n         * has a console.warn been output for terrain?\r\n         *\r\n         * This is meant for airport contributors designing new airports\r\n         *\r\n         * @property _hasSeenTerrainWarning\r\n         * @type {boolean}\r\n         * @default false\r\n         */\r\n        this._hasSeenTerrainWarning = false;\r\n\r\n        /**\r\n         * container property for the current canvas theme\r\n         *\r\n         * @property theme\r\n         * @type {object}\r\n         * @default null\r\n         */\r\n        this.theme = null;\r\n\r\n        return this._init()\r\n            ._setupHandlers()\r\n            .enable();\r\n    }\r\n\r\n    /**\r\n     * @for CanvasController\r\n     * @method _init\r\n     * @private\r\n     * @chainable\r\n     */\r\n    _init() {\r\n        this._setTheme(GameController.getGameOption(GAME_OPTION_NAMES.THEME));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for CanvasController\r\n     * @method _setupHandlers\r\n     * @chainable\r\n     * @private\r\n     */\r\n    _setupHandlers() {\r\n        this._onSelectAircraftHandler = this._onSelectAircraft.bind(this);\r\n        this._onDeselectAircraftHandler = this._onDeselectAircraft.bind(this);\r\n        this._onCenterPointInViewHandler = this._onCenterPointInView.bind(this);\r\n        this._onChangeViewportPanHandler = this._onChangeViewportPan.bind(this);\r\n        this._onChangeViewportZoomHandler = this._onChangeViewportZoom.bind(this);\r\n        this._onMarkDirtyCanvasHandler = this._onMarkDirtyCanvas.bind(this);\r\n        this._onToggleAirspaceHandler = this._onToggleAirspace.bind(this);\r\n        this._onToggleLabelsHandler = this._onToggleLabels.bind(this);\r\n        this._onToggleRestrictedAreasHandler = this._onToggleRestrictedAreas.bind(this);\r\n        this._onToggleSidMapHandler = this._onToggleSidMap.bind(this);\r\n        this._onToggleStarMapHandler = this._onToggleStarMap.bind(this);\r\n        this._onAirportChangeHandler = this._onAirportChange.bind(this);\r\n        this._onToggleTerrainHandler = this._onToggleTerrain.bind(this);\r\n        this._onToggleVideoMapHandler = this._onToggleVideoMap.bind(this);\r\n        this._onRangeRingsChangeHandler = this._onRangeRingsChange.bind(this);\r\n        this._onResizeHandler = this.canvas_resize.bind(this);\r\n\r\n        this._setThemeHandler = this._setTheme.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for CanvasController\r\n     * @method enable\r\n     * @chainable\r\n     */\r\n    enable() {\r\n        this._eventBus.on(EVENT.SELECT_AIRCRAFT, this._onSelectAircraftHandler);\r\n        this._eventBus.on(EVENT.DESELECT_AIRCRAFT, this._onDeselectAircraftHandler);\r\n        this._eventBus.on(EVENT.REQUEST_TO_CENTER_POINT_IN_VIEW, this._onCenterPointInViewHandler);\r\n        this._eventBus.on(EVENT.PAN_VIEWPORT, this._onChangeViewportPanHandler);\r\n        this._eventBus.on(EVENT.ZOOM_VIEWPORT, this._onChangeViewportZoomHandler);\r\n        this._eventBus.on(EVENT.MARK_SHALLOW_RENDER, this._onMarkDirtyCanvasHandler);\r\n        this._eventBus.on(EVENT.TOGGLE_AIRSPACE, this._onToggleAirspaceHandler);\r\n        this._eventBus.on(EVENT.TOGGLE_LABELS, this._onToggleLabelsHandler);\r\n        this._eventBus.on(EVENT.TOGGLE_RESTRICTED_AREAS, this._onToggleRestrictedAreasHandler);\r\n        this._eventBus.on(EVENT.TOGGLE_SID_MAP, this._onToggleSidMapHandler);\r\n        this._eventBus.on(EVENT.TOGGLE_STAR_MAP, this._onToggleStarMapHandler);\r\n        this._eventBus.on(EVENT.TOGGLE_TERRAIN, this._onToggleTerrainHandler);\r\n        this._eventBus.on(EVENT.TOGGLE_VIDEO_MAP, this._onToggleVideoMapHandler);\r\n        this._eventBus.on(EVENT.RANGE_RINGS_CHANGE, this._onRangeRingsChangeHandler);\r\n        this._eventBus.on(EVENT.AIRPORT_CHANGE, this._onAirportChangeHandler);\r\n        this._eventBus.on(EVENT.SET_THEME, this._setThemeHandler);\r\n        window.addEventListener('resize', this._onResizeHandler);\r\n\r\n        this.$element.addClass(this.theme.CLASSNAME);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for CanvasController\r\n     * @method disable\r\n     */\r\n    disable() {\r\n        this._eventBus.off(EVENT.SELECT_AIRCRAFT, this._onSelectAircraftHandler);\r\n        this._eventBus.off(EVENT.DESELECT_AIRCRAFT, this._onDeselectAircraftHandler);\r\n        this._eventBus.off(EVENT.REQUEST_TO_CENTER_POINT_IN_VIEW, this._onCenterPointInView);\r\n        this._eventBus.off(EVENT.PAN_VIEWPORT, this._onChangeViewportPan);\r\n        this._eventBus.off(EVENT.ZOOM_VIEWPORT, this._onChangeViewportZoom);\r\n        this._eventBus.off(EVENT.MARK_SHALLOW_RENDER, this._onMarkDirtyCanvas);\r\n        this._eventBus.off(EVENT.TOGGLE_AIRSPACE, this._onToggleAirspaceHandler);\r\n        this._eventBus.off(EVENT.TOGGLE_LABELS, this._onToggleLabels);\r\n        this._eventBus.off(EVENT.TOGGLE_RESTRICTED_AREAS, this._onToggleRestrictedAreas);\r\n        this._eventBus.off(EVENT.TOGGLE_SID_MAP, this._onToggleSidMap);\r\n        this._eventBus.off(EVENT.TOGGLE_STAR_MAP, this._onToggleStarMap);\r\n        this._eventBus.off(EVENT.TOGGLE_TERRAIN, this._onToggleTerrain);\r\n        this._eventBus.off(EVENT.TOGGLE_VIDEO_MAP, this._onToggleVideoMapHandler);\r\n        this._eventBus.off(EVENT.RANGE_RINGS_CHANGE, this._onRangeRingsChangeHandler);\r\n        this._eventBus.off(EVENT.AIRPORT_CHANGE, this._onAirportChangeHandler);\r\n        this._eventBus.off(EVENT.SET_THEME, this._setTheme);\r\n        window.removeEventListener('resize', this._onResizeHandler);\r\n\r\n        return this.destroy();\r\n    }\r\n\r\n    /**\r\n     * @for CanvasController\r\n     * @method destroy\r\n     */\r\n    destroy() {\r\n        this.$window = null;\r\n        this.$element = null;\r\n        this._context = {};\r\n        this._shouldResize = true;\r\n        this._shouldShallowRender = true;\r\n        this._shouldDeepRender = true;\r\n        this._shouldDrawFixLabels = false;\r\n        this._shouldDrawRestrictedAreas = false;\r\n        this._shouldDrawSidMap = false;\r\n        this._shouldDrawStarMap = false;\r\n        this._shouldDrawTerrain = true;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Called by `AppController.init()`\r\n     *\r\n     * Creates canvas elements and stores context\r\n     *\r\n     * @for CanvasController\r\n     * @method canvas_init\r\n     */\r\n    canvas_init() {\r\n        this._addCanvas(CANVAS_NAME.STATIC);\r\n        this._addCanvas(CANVAS_NAME.DYNAMIC);\r\n    }\r\n\r\n    /**\r\n     * Called by `AppController.complete()`\r\n     *\r\n     * @for CanvasController\r\n     * @method\r\n     */\r\n    canvas_complete() {\r\n        // TODO: not sure what the rationale is here. this should be removed/reworked if possible\r\n        setTimeout(() => {\r\n            this._markDeepRender();\r\n        }, 500);\r\n    }\r\n\r\n    /**\r\n     * A `resize` event was captured by the `AppController`\r\n     *\r\n     * Here we re-calculate the canvas dimensions\r\n     *\r\n     * @for CanvasController\r\n     * @method canvas_resize\r\n     */\r\n    canvas_resize() {\r\n        if (this._shouldResize) {\r\n            CanvasStageModel.updateHeightAndWidth(\r\n                this.$window.height(),\r\n                this.$window.width()\r\n            );\r\n        }\r\n\r\n        for (const canvasName in this._context) {\r\n            const context = this._context[canvasName];\r\n            context.canvas.height = CanvasStageModel.height;\r\n            context.canvas.width = CanvasStageModel.width;\r\n\r\n            this._adjustHidpi(canvasName);\r\n        }\r\n\r\n        this._markDeepRender();\r\n    }\r\n\r\n    /**\r\n     * Main update method called by `AppController.update_post()` within the game loop\r\n     *\r\n     * All methods called from this function should accept a canvas context argument.\r\n     * The rationale here is that each method sets up and tears down any origin or state\r\n     * transformations themselves. This way the methods can be organized or moved any\r\n     * way we choose without having to worry about what the current state of the `context`\r\n     *\r\n     * It is important for code in this method, or called by this method, to be as\r\n     * performant as possible so as not to degrade performance.\r\n     *\r\n     * @for CanvasController\r\n     * @method canvasUpdatePost\r\n     */\r\n    canvasUpdatePost() {\r\n        if (!this._shouldShallowRender && !TimeKeeper.shouldUpdate()) {\r\n            return;\r\n        }\r\n\r\n        if (this._shouldDeepRender) {\r\n            // we should only ever enter this block as a result of a change in the view\r\n            // or an airport change. these methods involve much more complicated drawing\r\n            // and can degrade performance if called too frequently.\r\n            const staticCanvasCtx = this._getCanvasContextByName(CANVAS_NAME.STATIC);\r\n\r\n            this._clearCanvasContext(staticCanvasCtx);\r\n            this._drawVideoMap(staticCanvasCtx);\r\n            this._drawTerrain(staticCanvasCtx);\r\n            this._drawRestrictedAirspace(staticCanvasCtx);\r\n            this._drawRunways(staticCanvasCtx);\r\n            this._drawAirportFixesAndLabels(staticCanvasCtx);\r\n            this._drawSids(staticCanvasCtx);\r\n            this._drawStars(staticCanvasCtx);\r\n            this._drawAirspaceAndRangeRings(staticCanvasCtx);\r\n            this._drawAirspaceShelvesAndLabels(staticCanvasCtx);\r\n            this._drawRunwayLabels(staticCanvasCtx);\r\n            this._drawCurrentScale(staticCanvasCtx);\r\n        }\r\n\r\n        const dynamicCanvasCtx = this._getCanvasContextByName(CANVAS_NAME.DYNAMIC);\r\n\r\n        this._clearCanvasContext(dynamicCanvasCtx);\r\n        this._drawSelectedAircraftCompass(dynamicCanvasCtx);\r\n        this._drawRadarTargetList(dynamicCanvasCtx);\r\n        this._drawAircraftDataBlocks(dynamicCanvasCtx);\r\n        this._drawMeasureTool(dynamicCanvasCtx);\r\n\r\n        this._shouldShallowRender = false;\r\n        this._shouldDeepRender = false;\r\n    }\r\n\r\n    /**\r\n     * Used primarily for the data block\r\n     *\r\n     * This provides a way to know when to show the primary\r\n     * dataBlock or the secondary dataBlock\r\n     *\r\n     * @method shouldShowSecondaryDataBlock\r\n     * @returns {boolean}\r\n     */\r\n    shouldShowSecondaryDataBlock() {\r\n        return _inRange(TimeKeeper.gameTimeMilliseconds % 3000, 2000, 3000);\r\n    }\r\n\r\n    /**\r\n     * Add a `canvas` element to the DOM\r\n     *\r\n     * @for CanvasController\r\n     * @method _addCanvas\r\n     * @param name {CANVAS_NAME|string}\r\n     * @private\r\n     */\r\n    _addCanvas(name) {\r\n        const canvasTemplate = `<canvas id='${name}-canvas'></canvas>`;\r\n\r\n        this.$element.append(canvasTemplate);\r\n\r\n        this._context[name] = $(`#${name}-canvas`).get(0).getContext('2d');\r\n    }\r\n\r\n    /**\r\n     * @for CanvasController\r\n     * @method _adjustHidpi\r\n     * @private\r\n     */\r\n    _adjustHidpi(canvasName) {\r\n        const devicePixelRatio = window.devicePixelRatio || 1;\r\n        const canvasContext = this._context[canvasName];\r\n\r\n        if (devicePixelRatio <= 1) {\r\n            return;\r\n        }\r\n\r\n        const $canvasElement = $(`#${canvasContext.canvas.id}`).get(0);\r\n\r\n        $($canvasElement).attr('height', CanvasStageModel.height * devicePixelRatio);\r\n        $($canvasElement).css('height', CanvasStageModel.height);\r\n        $($canvasElement).attr('width', CanvasStageModel.width * devicePixelRatio);\r\n        $($canvasElement).css('width', CanvasStageModel.width);\r\n\r\n        canvasContext.scale(devicePixelRatio, devicePixelRatio);\r\n    }\r\n\r\n    /**\r\n     * Clear the current canvas context\r\n     *\r\n     * @for CanvasController\r\n     * @method _clearCanvasContext\r\n     * @param cc {HTMLCanvasContext}\r\n     * @private\r\n     */\r\n    _clearCanvasContext(cc) {\r\n        cc.clearRect(0, 0, CanvasStageModel.width, CanvasStageModel.height);\r\n    }\r\n\r\n    /**\r\n     * Draw the specified RunwayModel (line only)\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawSingleRunway\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param runwayModel {RunwayModel}\r\n     * @param mode {boolean}               flag to switch between drawing a runway or just a runway centerline\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawSingleRunway(cc, runwayModel, mode) {\r\n        const runwayLength = round(CanvasStageModel._translateKilometersToPixels(runwayModel.length / 2)) * -2;\r\n        const { angle, relativePosition } = runwayModel;\r\n        const runwayCanvasPosition = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(relativePosition);\r\n\r\n        cc.save();\r\n        cc.translate(...runwayCanvasPosition);\r\n        cc.rotate(angle);\r\n\r\n        // runway body\r\n        if (!mode) {\r\n            cc.strokeStyle = '#899';\r\n            cc.lineWidth = 2.8;\r\n\r\n            cc.beginPath();\r\n            cc.moveTo(0, 0);\r\n            cc.lineTo(0, runwayLength);\r\n            cc.stroke();\r\n        } else { // extended centerlines\r\n            if (!runwayModel.ils.enabled) {\r\n                cc.restore();\r\n\r\n                return;\r\n            }\r\n\r\n            cc.strokeStyle = this.theme.SCOPE.RUNWAY_EXTENDED_CENTERLINE;\r\n            cc.lineWidth = 1;\r\n\r\n            cc.beginPath();\r\n            cc.moveTo(0, 0);\r\n            cc.lineTo(0, CanvasStageModel._translateKilometersToPixels(runwayModel.ils.loc_maxDist));\r\n            cc.stroke();\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw labels for all runways, but NOT the runways themselves (see _drawRunways())\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawRunwayLabel\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param runway {RunwayModel}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawRunwayLabel(cc, runwayModel) {\r\n        const length2 = round(CanvasStageModel._translateKilometersToPixels(runwayModel.length / 2)) + 0.5;\r\n        const { angle, relativePosition } = runwayModel;\r\n        const runwayCanvasPosition = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(relativePosition);\r\n        const textHeight = 14;\r\n\r\n        cc.save();\r\n        cc.textAlign = 'center';\r\n        cc.textBaseline = 'middle';\r\n        cc.translate(...runwayCanvasPosition);\r\n        cc.rotate(angle);\r\n        cc.translate(0, length2 + textHeight);\r\n        cc.rotate(-angle);\r\n        cc.fillText(runwayModel.name, 0, 0);\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw all runways, but NOT their labels (see _drawRunwayLabels())\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawRunways\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawRunways(cc) {\r\n        if (!this._shouldDrawFixLabels) {\r\n            return;\r\n        }\r\n\r\n        cc.save();\r\n        this._ccTranslateFromCanvasOriginToAirportCenter(cc);\r\n        cc.font = '11px monoOne, monospace';\r\n        cc.strokeStyle = this.theme.SCOPE.RUNWAY;\r\n        cc.fillStyle = this.theme.SCOPE.RUNWAY;\r\n        cc.lineWidth = 4;\r\n\r\n        const airportModel = AirportController.airport_get();\r\n\r\n        // TODO: we should try to consolidate this so we aren't looping over the runway collection multiple times\r\n        // Extended Centerlines\r\n        for (let i = 0; i < airportModel.runways.length; i++) {\r\n            this._drawSingleRunway(cc, airportModel.runways[i][0], true);\r\n            this._drawSingleRunway(cc, airportModel.runways[i][1], true);\r\n        }\r\n\r\n        // Runways\r\n        for (let i = 0; i < airportModel.runways.length; i++) {\r\n            this._drawSingleRunway(cc, airportModel.runways[i][0], false);\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw runway label text\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawRunwayLabels\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawRunwayLabels(cc) {\r\n        if (!this._shouldDrawFixLabels) {\r\n            return;\r\n        }\r\n\r\n        const airportModel = AirportController.airport_get();\r\n\r\n        cc.save();\r\n        this._ccTranslateFromCanvasOriginToAirportCenter(cc);\r\n        cc.fillStyle = this.theme.SCOPE.RUNWAY_LABELS;\r\n\r\n        for (let i = 0; i < airportModel.runways.length; i++) {\r\n            this._drawRunwayLabel(cc, airportModel.runways[i][0]);\r\n            this._drawRunwayLabel(cc, airportModel.runways[i][1]);\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw scale in the top right corner of the scope\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawCurrentScale\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawCurrentScale(cc) {\r\n        cc.save();\r\n\r\n        const offsetX = 35;\r\n        const offsetY = 10;\r\n        const height = 5;\r\n        const lengthNm = round(nm(1 / CanvasStageModel.scale * 50));\r\n        const lengthKm = km(lengthNm);\r\n        const px_length = round(CanvasStageModel._translateKilometersToPixels(lengthKm));\r\n        const widthLessOffset = CanvasStageModel.width - offsetX;\r\n\r\n        cc.font = '10px monoOne, monospace';\r\n        cc.fillStyle = this.theme.SCOPE.TOP_ROW_TEXT;\r\n        cc.strokeStyle = this.theme.SCOPE.TOP_ROW_TEXT;\r\n        cc.lineWidth = 1;\r\n        cc.textAlign = 'center';\r\n        cc.beginPath();\r\n        cc.moveTo(widthLessOffset, offsetY);\r\n        cc.lineTo(widthLessOffset, offsetY + height);\r\n        cc.lineTo(widthLessOffset - px_length, offsetY + height);\r\n        cc.lineTo(widthLessOffset - px_length, offsetY);\r\n        cc.stroke();\r\n        cc.fillText(\r\n            `${lengthNm} nm`,\r\n            widthLessOffset - px_length * 0.5,\r\n            offsetY + height + 17\r\n        );\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw the provided `FixModel`, including triangle marker AND text label\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawSingleFixAndLabel\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param fixModel {FixModel}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawSingleFixAndLabel(cc, fixModel) {\r\n        const fixCanvasPosition = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(fixModel.relativePosition);\r\n\r\n        cc.save();\r\n        cc.translate(...fixCanvasPosition);\r\n        cc.fillStyle = this.theme.SCOPE.FIX_FILL;\r\n        cc.globalCompositeOperation = 'source-over';\r\n        cc.lineWidth = 1;\r\n        cc.beginPath();\r\n        cc.moveTo(0, -5);\r\n        cc.lineTo(4, 3);\r\n        cc.lineTo(-4, 3);\r\n        cc.closePath();\r\n        cc.fill();\r\n        cc.fillStyle = this.theme.SCOPE.FIX_TEXT;\r\n        cc.textAlign = 'center';\r\n        cc.textBaseline = 'top';\r\n        cc.fillText(fixModel.name, 0, 6);\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw fixes and labels\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawAirportFixesAndLabels\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawAirportFixesAndLabels(cc) {\r\n        if (!this._shouldDrawFixLabels) {\r\n            return;\r\n        }\r\n\r\n        cc.save();\r\n        this._ccTranslateFromCanvasOriginToAirportCenter(cc);\r\n\r\n        cc.lineJoin = 'round';\r\n        cc.font = BASE_CANVAS_FONT;\r\n\r\n        for (let i = 0; i < NavigationLibrary.realFixes.length; i++) {\r\n            const fixModel = NavigationLibrary.realFixes[i];\r\n\r\n            this._drawSingleFixAndLabel(cc, fixModel);\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    // TODO: break this method up into smaller chunks\r\n    /**\r\n     * Draw SID lines and labels\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawSids\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawSids(cc) {\r\n        if (!this._shouldDrawSidMap) {\r\n            return;\r\n        }\r\n\r\n        const textAtFix = [];\r\n        const sidLines = NavigationLibrary.getProcedureLines(PROCEDURE_TYPE.SID);\r\n\r\n        cc.save();\r\n        this._ccTranslateFromCanvasOriginToAirportCenter(cc);\r\n        cc.strokeStyle = this.theme.SCOPE.SID;\r\n        cc.fillStyle = this.theme.SCOPE.SID;\r\n        cc.setLineDash([1, 10]);\r\n        cc.font = 'italic 14px monoOne, monospace';\r\n\r\n        for (let i = 0; i < sidLines.length; i++) {\r\n            const sid = sidLines[i];\r\n            let shouldDrawProcedureName = true;\r\n\r\n            for (let j = 0; j < sid.lines.length; j++) {\r\n                this._drawPolyLineFromRelativePositions(cc, sid.lines[j]);\r\n            }\r\n\r\n            for (let j = 0; j < sid.exits.length; j++) {\r\n                const exitName = sid.exits[j];\r\n\r\n                if (!(exitName in textAtFix)) {\r\n                    textAtFix[exitName] = [];\r\n                }\r\n\r\n                textAtFix[exitName].push(`${sid.identifier}.${exitName}`);\r\n\r\n                shouldDrawProcedureName = false;\r\n            }\r\n\r\n            if (shouldDrawProcedureName) {\r\n                const { lastFixName } = sid;\r\n\r\n                if (!(lastFixName in textAtFix)) {\r\n                    textAtFix[lastFixName] = [];\r\n                }\r\n\r\n                textAtFix[lastFixName].push(sid.identifier);\r\n            }\r\n        }\r\n\r\n        // draw labels\r\n        for (const fix in textAtFix) {\r\n            const textItemsToPrint = textAtFix[fix];\r\n            const fixPosition = NavigationLibrary.getFixRelativePosition(fix);\r\n\r\n            this._drawText(cc, fixPosition, textItemsToPrint);\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw STAR lines and labels\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawStars\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawStars(cc) {\r\n        if (!this._shouldDrawStarMap) {\r\n            return;\r\n        }\r\n\r\n        const starLines = NavigationLibrary.getProcedureLines(PROCEDURE_TYPE.STAR);\r\n        const textAtFix = [];\r\n\r\n        cc.save();\r\n        this._ccTranslateFromCanvasOriginToAirportCenter(cc);\r\n        cc.strokeStyle = this.theme.SCOPE.STAR;\r\n        cc.fillStyle = this.theme.SCOPE.STAR;\r\n        cc.setLineDash([1, 10]);\r\n        cc.font = 'italic 14px monoOne, monospace';\r\n        cc.textAlign = 'right';\r\n\r\n        for (let i = 0; i < starLines.length; i++) {\r\n            const star = starLines[i];\r\n\r\n            for (let j = 0; j < star.lines.length; j++) {\r\n                this._drawPolyLineFromRelativePositions(cc, star.lines[j]);\r\n            }\r\n\r\n            const { firstFixName } = star;\r\n\r\n            if (!(firstFixName in textAtFix)) {\r\n                textAtFix[firstFixName] = [];\r\n            }\r\n\r\n            textAtFix[firstFixName].push(star.identifier);\r\n        }\r\n\r\n        // draw labels\r\n        for (const fix in textAtFix) {\r\n            const textItemsToPrint = textAtFix[fix];\r\n            const fixPosition = NavigationLibrary.getFixRelativePosition(fix);\r\n\r\n            this._drawText(cc, fixPosition, textItemsToPrint);\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw the provided polyline (includes 2 or more points)\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawPolyLineFromRelativePositions\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param relativePositions {array<array<number, number>>} position coordinates (in km)\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawPolyLineFromRelativePositions(cc, relativePositions) {\r\n        if (relativePositions.length < 2) {\r\n            return;\r\n        }\r\n\r\n        const lineStartPosition = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(relativePositions[0]);\r\n\r\n        cc.beginPath();\r\n        cc.moveTo(...lineStartPosition);\r\n\r\n        for (let k = 0; k < relativePositions.length; k++) {\r\n            const relativePosition = relativePositions[k];\r\n            const canvasPosition = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(relativePosition);\r\n\r\n            cc.lineTo(...canvasPosition);\r\n        }\r\n\r\n        cc.stroke();\r\n    }\r\n\r\n    /**\r\n     * Draw the provided text at the specified relative position\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawText\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param relativePosition {array<number, number>} offset coordinates from airport center (in km)\r\n     * @param labels {array}\r\n     * @param lineHeight {number} in pixels\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawText(cc, relativePosition, labels, lineHeight = 15) {\r\n        const canvasPosition = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(relativePosition);\r\n        let dx = cc.textAlign === 'right' ? -10 : 10;\r\n\r\n        if (cc.textAlign === 'center') {\r\n            dx = 0;\r\n        }\r\n\r\n        for (let k = 0; k < labels.length; k++) {\r\n            const textItem = labels[k];\r\n            const drawCanvasPositionX = canvasPosition[0] + dx;\r\n            const drawCanvasPositionY = canvasPosition[1] + (lineHeight * k);\r\n\r\n            cc.fillText(textItem, drawCanvasPositionX, drawCanvasPositionY);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Draw a trailing indicator 2.5 NM (4.6km) behind landing aircraft to help with traffic spacing\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawSeparationIndicator\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param aircraftModel {AircraftModel}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawSeparationIndicator(cc, aircraftModel) {\r\n        if (!GameController.shouldUseTrailingSeparationIndicator(aircraftModel)) {\r\n            return;\r\n        }\r\n\r\n        cc.save();\r\n\r\n        const { fms, relativePosition } = aircraftModel;\r\n        const oppositeOfRunwayHeading = fms.arrivalRunwayModel.oppositeAngle;\r\n        const aircraftCanvasPosition = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(relativePosition);\r\n        cc.strokeStyle = this.theme.RADAR_TARGET.TRAILING_SEPARATION_INDICATOR;\r\n        cc.lineWidth = 3;\r\n\r\n        cc.translate(...aircraftCanvasPosition);\r\n        cc.rotate(oppositeOfRunwayHeading);\r\n        cc.beginPath();\r\n\r\n        const indicatorPaddingPx = 5;\r\n        const indicatorKmInTrail = 5.556; // 5.556km = 3.0nm\r\n        const pixelsInTrail = CanvasStageModel._translateKilometersToPixels(indicatorKmInTrail);\r\n\r\n        cc.moveTo(-indicatorPaddingPx, -pixelsInTrail);\r\n        cc.lineTo(indicatorPaddingPx, -pixelsInTrail);\r\n        cc.stroke();\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draws circle around aircraft that are in (or soon to be in) conflict with another aircraft\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRCRAFT POSITION\r\n     *\r\n     * These rings are drawn independently of user-set halos\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawAircraftConflictRings\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param radarTargetModel {RadarTargetModel}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawAircraftConflictRings(cc, radarTargetModel) {\r\n        const { aircraftModel } = radarTargetModel;\r\n        const aircraftAlerts = aircraftModel.getAlerts();\r\n        const radiusNm = 3;\r\n\r\n        if (!aircraftAlerts[0]) {\r\n            return;\r\n        }\r\n\r\n        let strokeStyle = this.theme.RADAR_TARGET.RING_CONFLICT;\r\n\r\n        if (aircraftAlerts[1]) {\r\n            strokeStyle = this.theme.RADAR_TARGET.RING_VIOLATION;\r\n        }\r\n\r\n        cc.strokeStyle = strokeStyle;\r\n\r\n        cc.beginPath();\r\n        cc.arc(0, 0, CanvasStageModel._translateKilometersToPixels(km(radiusNm)), 0, tau());\r\n        cc.stroke();\r\n    }\r\n\r\n    /**\r\n     * Draws circle around aircraft with radius as requested by the user\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRCRAFT POSITION\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawAircraftHalo\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param radarTargetModel {RadarTargetModel}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawAircraftHalo(cc, radarTargetModel) {\r\n        if (!radarTargetModel.hasHalo) {\r\n            return;\r\n        }\r\n\r\n        const radiusNm = radarTargetModel.haloRadius;\r\n        cc.strokeStyle = this.theme.RADAR_TARGET.HALO;\r\n\r\n        cc.beginPath();\r\n        cc.arc(0, 0, CanvasStageModel._translateKilometersToPixels(km(radiusNm)), 0, tau());\r\n        cc.stroke();\r\n    }\r\n\r\n    /**\r\n     * Draw the RADAR RETURN AND HISTORY DOTS ONLY of the specified radar target model\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawSingleRadarTarget\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param radarTargetModel {RadarTargetModel}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawSingleRadarTarget(cc, radarTargetModel) {\r\n        const { aircraftModel } = radarTargetModel;\r\n\r\n        if (!aircraftModel.isVisible()) {\r\n            return;\r\n        }\r\n\r\n        cc.save();\r\n\r\n        // TODO: death to the `prop`!!!\r\n        const match = prop.input.callsign.length > 0 && aircraftModel.matchCallsign(prop.input.callsign);\r\n        let fillStyle = this.theme.RADAR_TARGET.HISTORY_DOT_OUTSIDE_RANGE;\r\n\r\n        if (aircraftModel.isControllable) {\r\n            fillStyle = this.theme.RADAR_TARGET.HISTORY_DOT_INSIDE_RANGE;\r\n        }\r\n\r\n        cc.fillStyle = fillStyle;\r\n\r\n        const positionHistory = aircraftModel.relativePositionHistory;\r\n\r\n        for (let i = 0; i < positionHistory.length; i++) {\r\n            const position = aircraftModel.relativePositionHistory[i];\r\n            const canvasPosition = CanvasStageModel.calculatePreciseCanvasPositionFromRelativePosition(position);\r\n\r\n            cc.beginPath();\r\n            cc.arc(\r\n                ...canvasPosition,\r\n                CanvasStageModel._translateKilometersToPixels(this.theme.RADAR_TARGET.HISTORY_DOT_RADIUS_KM),\r\n                0,\r\n                tau()\r\n            );\r\n            cc.closePath();\r\n            cc.fill();\r\n        }\r\n\r\n        cc.restore();\r\n        cc.save();\r\n\r\n        if (positionHistory.length > this.theme.RADAR_TARGET.HISTORY_LENGTH) {\r\n            // TODO: This slice is being reassigned to the aircraft, which doesn't really\r\n            // make sense as a canvas controller job. This should be done elsewhere.\r\n            aircraftModel.relativePositionHistory = positionHistory.slice(\r\n                positionHistory.length - this.theme.RADAR_TARGET.HISTORY_LENGTH,\r\n                positionHistory.length\r\n            );\r\n        }\r\n\r\n        if (aircraftModel.isEstablishedOnCourse()) {\r\n            this._drawSeparationIndicator(cc, aircraftModel);\r\n        }\r\n\r\n        // Draw the future path\r\n        switch (GameController.game.option.getOptionByName('drawProjectedPaths')) {\r\n            case 'always':\r\n                this._drawAircraftFuturePath(cc, aircraftModel, match);\r\n\r\n                break;\r\n            case 'selected':\r\n                if (match) {\r\n                    this._drawAircraftFuturePath(cc, aircraftModel, match);\r\n                }\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        const aircraftCanvasPosition = CanvasStageModel.calculatePreciseCanvasPositionFromRelativePosition(\r\n            aircraftModel.relativePosition\r\n        );\r\n\r\n        cc.translate(...aircraftCanvasPosition);\r\n\r\n        this._drawAircraftVectorLines(cc, aircraftModel);\r\n        this._drawAircraftHalo(cc, radarTargetModel);\r\n        this._drawAircraftConflictRings(cc, radarTargetModel);\r\n\r\n        let radarTargetRadiusKm = this.theme.RADAR_TARGET.RADIUS_KM;\r\n\r\n        // Draw bigger circle around radar target when the aircraftModel is selected\r\n        if (match) {\r\n            radarTargetRadiusKm = this.theme.RADAR_TARGET.RADIUS_SELECTED_KM;\r\n        }\r\n\r\n        // Draw the radar target (aka aircraft position dot)\r\n        cc.fillStyle = this.theme.RADAR_TARGET.RADAR_TARGET;\r\n        cc.beginPath();\r\n        cc.arc(0, 0, CanvasStageModel._translateKilometersToPixels(radarTargetRadiusKm), 0, tau());\r\n        cc.fill();\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw aircraft vector lines (\"projected track lines\" or \"PTL\")\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRCRAFT POSITION\r\n     *\r\n     * Note: These extend in front of aircraft a definable number of minutes\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawAircraftVectorLines\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param aircraftModel {AircraftModel}\r\n     * @private\r\n     */\r\n    _drawAircraftVectorLines(cc, aircraftModel) {\r\n        if (aircraftModel.hit) {\r\n            return;\r\n        }\r\n\r\n        cc.save();\r\n\r\n        cc.fillStyle = this.theme.RADAR_TARGET.PROJECTED_TRACK_LINES;\r\n        cc.strokeStyle = this.theme.RADAR_TARGET.PROJECTED_TRACK_LINES;\r\n\r\n        const lineLengthInMinutes = this._scopeModel.ptlLength;\r\n        const lineLengthInHours = lineLengthInMinutes * TIME.ONE_MINUTE_IN_HOURS;\r\n        const lineLength_km = km(aircraftModel.groundSpeed * lineLengthInHours);\r\n        const groundTrackVector = vectorize2dFromRadians(aircraftModel.groundTrack);\r\n        const scaledGroundTrackVector = vscale(groundTrackVector, lineLength_km);\r\n        const screenPositionOffsetX = CanvasStageModel._translateKilometersToPixels(scaledGroundTrackVector[0]);\r\n        const screenPositionOffsetY = CanvasStageModel._translateKilometersToPixels(scaledGroundTrackVector[1]);\r\n\r\n        cc.beginPath();\r\n        cc.moveTo(0, 0);\r\n        cc.lineTo(screenPositionOffsetX, -screenPositionOffsetY);\r\n        cc.stroke();\r\n        cc.restore();\r\n    }\r\n\r\n    // TODO: This is currently not working correctly and not in use\r\n    /**\r\n     * Draw dashed line from last coordinate of future track through\r\n     * any later requested fixes.\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method canvas_draw_future_track_fixes\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param aircraft {AircraftModel}\r\n     * @param future_track\r\n     * @returns undefined\r\n     */\r\n    canvas_draw_future_track_fixes(/* cc, aircraft, future_track */) {\r\n        // const waypointList = aircraft.fms.waypoints;\r\n\r\n        // if (waypointList.length <= 1) {\r\n        //     return;\r\n        // }\r\n\r\n        // const start = future_track.length - 1;\r\n        // const [x, y] = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(future_track[start]);\r\n\r\n        // cc.beginPath();\r\n        // cc.moveTo(x, y);\r\n        // cc.setLineDash([3, 10]);\r\n\r\n        // for (let i = 0; i < waypointList.length; i++) {\r\n        //     const [fx, fy] = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(\r\n        //         waypointList[i].relativePosition\r\n        //     );\r\n\r\n        //     cc.lineTo(fx, fy);\r\n        // }\r\n\r\n        // cc.stroke();\r\n    }\r\n\r\n    /**\r\n     * Run physics updates into the future, draw future track\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawAircraftFuturePath\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param aircraftModel {AircraftModel}\r\n     * @param selected {boolean}\r\n     * @private\r\n     */\r\n    _drawAircraftFuturePath(cc, aircraftModel, selected) {\r\n        if (aircraftModel.isTaxiing() || TimeKeeper.simulationRate !== 1) {\r\n            return;\r\n        }\r\n\r\n        let was_locked = false;\r\n        const future_track = [];\r\n        const fms_twin = _cloneDeep(aircraftModel.fms);\r\n        const twin = _cloneDeep(aircraftModel);\r\n\r\n        twin.fms = fms_twin;\r\n        twin.projected = true;\r\n        TimeKeeper.saveDeltaTimeBeforeFutureTrackCalculation();\r\n\r\n        for (let i = 0; i < 60; i++) {\r\n            twin.update();\r\n\r\n            const ils_locked = twin.isEstablishedOnCourse() && twin.fms.currentPhase === FLIGHT_PHASE.APPROACH;\r\n\r\n            future_track.push([...twin.relativePosition, ils_locked]);\r\n\r\n            if (ils_locked && twin.altitude < 500) {\r\n                break;\r\n            }\r\n        }\r\n\r\n        TimeKeeper.restoreDeltaTimeAfterFutureTrackCalculation();\r\n\r\n        cc.save();\r\n\r\n        // future track colors\r\n        let strokeStyle = this.theme.RADAR_TARGET.PROJECTION_ARRIVAL_ALL;\r\n\r\n        if (aircraftModel.category === FLIGHT_CATEGORY.DEPARTURE) {\r\n            if (selected) {\r\n                strokeStyle = this.theme.RADAR_TARGET.PROJECTION_DEPARTURE;\r\n            } else {\r\n                strokeStyle = this.theme.RADAR_TARGET.PROJECTION_DEPARTURE_ALL;\r\n            }\r\n        } else if (selected) {\r\n            strokeStyle = this.theme.RADAR_TARGET.PROJECTION_ARRIVAL;\r\n        }\r\n\r\n        cc.strokeStyle = strokeStyle;\r\n        cc.globalCompositeOperation = 'screen';\r\n        cc.lineWidth = 2;\r\n        cc.beginPath();\r\n\r\n        for (let i = 0; i < future_track.length; i++) {\r\n            const track = future_track[i];\r\n            const ils_locked = track[2];\r\n            const trackPosition = CanvasStageModel.calculatePreciseCanvasPositionFromRelativePosition(track);\r\n\r\n            if (ils_locked && !was_locked) {\r\n                cc.lineTo(trackPosition[0], trackPosition[1]);\r\n                // end the current path, start a new path with lockedStroke\r\n                cc.stroke();\r\n                cc.strokeStyle = this.theme.RADAR_TARGET.PROJECTION_ESTABLISHED_ON_APPROACH;\r\n                cc.lineWidth = 2;\r\n                cc.beginPath();\r\n                cc.moveTo(trackPosition[0], trackPosition[1]);\r\n\r\n                was_locked = true;\r\n\r\n                continue;\r\n            }\r\n\r\n            if (i === 0) {\r\n                cc.moveTo(trackPosition[0], trackPosition[1]);\r\n            } else {\r\n                cc.lineTo(trackPosition[0], trackPosition[1]);\r\n            }\r\n        }\r\n\r\n        cc.stroke();\r\n\r\n        // TODO: following method not in use, leaving for posterity\r\n        // this.canvas_draw_future_track_fixes(cc, twin, future_track);\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw the `MeasureTool` path and text labels\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawMeasureTool\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawMeasureTool(cc) {\r\n        if (!MeasureTool.hasPaths) {\r\n            return;\r\n        }\r\n\r\n        const pathInfoList = MeasureTool.buildPathInfo();\r\n\r\n        cc.save();\r\n        this._ccTranslateFromCanvasOriginToAirportCenter(cc);\r\n\r\n        pathInfoList.forEach((pathInfo) => {\r\n            this._drawMeasureToolPath(cc, pathInfo);\r\n            this._drawMeasureToolLabels(cc, pathInfo);\r\n        });\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw the `MeasureTool` text labels\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawMeasureToolLabels\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param pathInfo {object} as returned by `MeasureTools.getPointsAndLabels()`\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawMeasureToolLabels(cc, pathInfo) {\r\n        let leg = pathInfo.firstLeg;\r\n        const values = [];\r\n        const labelPadding = 5;\r\n\r\n        // This way the points are translated only once\r\n        while (leg != null) {\r\n            // Ignore empty labels\r\n            if (leg.labels !== null && leg.labels.length !== 0) {\r\n                const position = CanvasStageModel.calculatePreciseCanvasPositionFromRelativePosition(leg.midPoint);\r\n\r\n                values.push({\r\n                    x: position[0],\r\n                    y: position[1],\r\n                    labels: leg.labels\r\n                });\r\n            }\r\n\r\n            leg = leg.next;\r\n        }\r\n\r\n        // Shortcut if there are no labels (line is too short)\r\n        if (values.length === 0) {\r\n            return;\r\n        }\r\n\r\n        cc.save();\r\n\r\n        // Label backgrounds\r\n        cc.fillStyle = this.theme.SCOPE.MEASURE_BACKGROUND;\r\n        cc.font = this.theme.DATA_BLOCK.TEXT_FONT;\r\n\r\n        values.forEach((item) => {\r\n            const { x, y, labels } = item;\r\n            const height = (2 * labelPadding) + (12 * labels.length);\r\n            const maxLabelWidth = labels.reduce((lastWidth, label) => {\r\n                const newWidth = cc.measureText(label).width;\r\n\r\n                return Math.max(lastWidth, newWidth);\r\n            }, 0);\r\n            const width = (2 * labelPadding) + maxLabelWidth;\r\n\r\n            cc.fillRect(x, y, width, height);\r\n        });\r\n\r\n        // Label text\r\n        cc.fillStyle = this.theme.SCOPE.MEASURE_TEXT;\r\n\r\n        values.forEach((item) => {\r\n            const { labels } = item;\r\n            const x = item.x + labelPadding;\r\n            const y = item.y + 15;\r\n\r\n            labels.forEach((line, index) => {\r\n                cc.fillText(line, x, y + (12 * index));\r\n            });\r\n        });\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw the `MeasureTool` path\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawMeasureToolPath\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param pathInfo {object} as returned by `MeasureTools.getPointsAndLabels()`\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawMeasureToolPath(cc, pathInfo) {\r\n        const { initialTurn } = pathInfo;\r\n        let leg = pathInfo.firstLeg;\r\n        const firstPoint = CanvasStageModel.calculatePreciseCanvasPositionFromRelativePosition(leg.startPoint);\r\n        const firstMidPoint = CanvasStageModel.calculatePreciseCanvasPositionFromRelativePosition(leg.midPoint);\r\n\r\n        cc.save();\r\n\r\n        cc.strokeStyle = this.theme.SCOPE.MEASURE_LINE;\r\n\r\n        cc.beginPath();\r\n\r\n        // If available, this draws the arc the a/c will fly to intercept the course to the\r\n        // first fix\r\n        if (initialTurn !== null) {\r\n            const {\r\n                isRHT, center, entryAngle, exitAngle, turnRadius\r\n            } = initialTurn;\r\n            const position = CanvasStageModel.calculatePreciseCanvasPositionFromRelativePosition(center);\r\n            const radius = CanvasStageModel._translateKilometersToPixels(turnRadius);\r\n\r\n            // The angles calculated in the `MeasureTool` are magnetic, and have to be shifted CCW 90°\r\n            cc.arc(position[0], position[1], radius, entryAngle - Math.PI / 2, exitAngle - Math.PI / 2, !isRHT);\r\n        }\r\n\r\n        // Draw up to the first midpoint\r\n        cc.moveTo(firstPoint[0], firstPoint[1]);\r\n        cc.lineTo(firstMidPoint[0], firstMidPoint[1]);\r\n\r\n        // Iterate through the linked list\r\n        while (leg != null) {\r\n            const { next } = leg;\r\n            const radius = CanvasStageModel._translateKilometersToPixels(leg.radius);\r\n            const position1 = CanvasStageModel.calculatePreciseCanvasPositionFromRelativePosition(leg.endPoint);\r\n\r\n            if (next === null) {\r\n                // This is the last leg, so simply draw to the end point\r\n                cc.lineTo(position1[0], position1[1]);\r\n            } else {\r\n                // Draw an arc'd line to the next midpoint\r\n                const position2 = CanvasStageModel.calculatePreciseCanvasPositionFromRelativePosition(next.midPoint);\r\n\r\n                cc.arcTo(position1[0], position1[1], position2[0], position2[1], radius);\r\n                cc.lineTo(position2[0], position2[1]);\r\n            }\r\n\r\n            leg = next;\r\n        }\r\n\r\n        cc.stroke();\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw the RADAR RETURN AND HISTORY DOTS ONLY of all radar target models\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawRadarTargetList\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n\r\n    _drawRadarTargetList(cc) {\r\n        cc.font = BASE_CANVAS_FONT;\r\n        cc.save();\r\n        this._ccTranslateFromCanvasOriginToAirportCenter(cc);\r\n\r\n        const radarTargetModels = this._scopeModel.radarTargetCollection.items;\r\n\r\n        for (let i = 0; i < radarTargetModels.length; i++) {\r\n            this._drawSingleRadarTarget(cc, radarTargetModels[i]);\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw an aircraft's data block\r\n     * (box that contains callsign, altitude, speed)\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawSingleAircraftDataBlock\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param radarTargetModel {RadarTargetModel}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawSingleAircraftDataBlock(cc, radarTargetModel) {\r\n        const { aircraftModel } = radarTargetModel;\r\n\r\n        if (!aircraftModel.isVisible() || aircraftModel.hit) {\r\n            return;\r\n        }\r\n\r\n        cc.save();\r\n\r\n        const paddingLR = 5;\r\n        let match = false;\r\n\r\n        // Callsign Matching\r\n        if (prop.input.callsign.length > 0 && aircraftModel.matchCallsign(prop.input.callsign)) {\r\n            match = true;\r\n        }\r\n\r\n        let white = aircraftModel.isControllable ?\r\n            this.theme.DATA_BLOCK.TEXT_IN_RANGE :\r\n            this.theme.DATA_BLOCK.TEXT_OUT_OF_RANGE;\r\n\r\n        if (match) {\r\n            white = this.theme.DATA_BLOCK.TEXT_SELECTED;\r\n        }\r\n\r\n        cc.textBaseline = 'middle';\r\n\r\n        let { dataBlockLeaderDirection } = radarTargetModel;\r\n\r\n        if (dataBlockLeaderDirection === INVALID_NUMBER) {\r\n            dataBlockLeaderDirection = this.theme.DATA_BLOCK.LEADER_DIRECTION;\r\n        }\r\n\r\n        let offsetComponent = [\r\n            Math.sin(degreesToRadians(dataBlockLeaderDirection)),\r\n            -Math.cos(degreesToRadians(dataBlockLeaderDirection))\r\n        ];\r\n\r\n        // `degreesToRadians('ctr')` above will yield NaN, so we override that here\r\n        if (dataBlockLeaderDirection === 'ctr') {\r\n            offsetComponent = [0, 0];\r\n        }\r\n\r\n        // Move to center of where the data block is to be drawn\r\n        const radarTargetPosition = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(\r\n            aircraftModel.relativePosition\r\n        );\r\n        const leaderLength = this._calculateLeaderLength(radarTargetModel.dataBlockLeaderLength);\r\n        const leaderStart = [\r\n            radarTargetPosition[0] + (offsetComponent[0] * this.theme.DATA_BLOCK.LEADER_PADDING_FROM_TARGET_PX),\r\n            radarTargetPosition[1] + (offsetComponent[1] * this.theme.DATA_BLOCK.LEADER_PADDING_FROM_TARGET_PX)\r\n        ];\r\n        const leaderEnd = [\r\n            radarTargetPosition[0] + offsetComponent[0] * (leaderLength - this.theme.DATA_BLOCK.LEADER_PADDING_FROM_BLOCK_PX),\r\n            radarTargetPosition[1] + offsetComponent[1] * (leaderLength - this.theme.DATA_BLOCK.LEADER_PADDING_FROM_BLOCK_PX)\r\n        ];\r\n        const leaderIntersectionWithBlock = [\r\n            radarTargetPosition[0] + offsetComponent[0] * leaderLength,\r\n            radarTargetPosition[1] + offsetComponent[1] * leaderLength\r\n        ];\r\n\r\n        cc.beginPath();\r\n        cc.moveTo(...leaderStart);\r\n        cc.lineTo(...leaderEnd);\r\n        cc.strokeStyle = white;\r\n        cc.stroke();\r\n\r\n        const dataBlockCenterCanvasPosition = radarTargetModel.calculateDataBlockCenter(leaderIntersectionWithBlock);\r\n\r\n        cc.translate(...dataBlockCenterCanvasPosition);\r\n\r\n        this._drawLegacyDatablock(cc, aircraftModel);\r\n\r\n        // height of TOTAL vertical space between the rows (0 for touching)\r\n        const gap = 3;\r\n        const lineheight = 4.5; // height of text row (used for spacing basis)\r\n        const row1text = radarTargetModel.buildDataBlockRowOne();\r\n        let row2text = radarTargetModel.buildDataBlockRowTwoPrimaryInfo();\r\n\r\n        if (this.shouldShowSecondaryDataBlock()) {\r\n            row2text = radarTargetModel.buildDataBlockRowTwoSecondaryInfo();\r\n        }\r\n\r\n        const fillStyle = aircraftModel.isControllable ?\r\n            this.theme.DATA_BLOCK.TEXT_IN_RANGE :\r\n            this.theme.DATA_BLOCK.TEXT_OUT_OF_RANGE;\r\n\r\n        cc.fillStyle = fillStyle;\r\n\r\n        // Draw full datablock text\r\n        cc.font = this.theme.DATA_BLOCK.TEXT_FONT;\r\n        cc.textAlign = 'left';\r\n        cc.fillText(row1text, -this.theme.DATA_BLOCK.HALF_WIDTH + paddingLR, -gap / 2 - lineheight);\r\n        cc.fillText(row2text, -this.theme.DATA_BLOCK.HALF_WIDTH + paddingLR, gap / 2 + lineheight);\r\n        cc.font = BASE_CANVAS_FONT;\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw the legacy dataBlock\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRCRAFT'S DATA BLOCK CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method\r\n     * @param {HTMLCanvasContext} cc\r\n     * @param {AircraftModel} aircraftModel\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawLegacyDatablock(cc, aircraftModel) {\r\n        if (!this.theme.DATA_BLOCK.HAS_FILL) {\r\n            return;\r\n        }\r\n\r\n        // TODO: logic and math here should be done once and not every frame. this could be moved to the `RadarTargetModel`\r\n        // width of datablock (scales to fit callsign)\r\n        const width = this.theme.DATA_BLOCK.WIDTH; // clamp(1, 6 * callsign.length) + (paddingLR * 2);\r\n        const halfWidth = this.theme.DATA_BLOCK.HALF_WIDTH; // width / 2;\r\n        // height of datablock\r\n        const height = this.theme.DATA_BLOCK.HEIGHT; // 31;\r\n        const halfHeight = this.theme.DATA_BLOCK.HALF_HEIGHT; // height / 2;\r\n        // width of colored bar\r\n        const barWidth = 3;\r\n        const barHalfWidth = barWidth / 2;\r\n        // const ILS_enabled = aircraftModel.pilot.hasApproachClearance;\r\n        const lock_size = height / 3;\r\n        const lock_offset = lock_size / 8;\r\n        const point1 = lock_size - barHalfWidth;\r\n        const a = point1 - lock_offset;\r\n        const b = barHalfWidth;\r\n        const clipping_mask_angle = Math.atan(b / a);\r\n        // describes how far around to arc the arms of the ils lock case\r\n        const pi_slice = Math.PI / 24;\r\n        let match = false;\r\n\r\n        // Callsign Matching\r\n        if (prop.input.callsign.length > 0 && aircraftModel.matchCallsign(prop.input.callsign)) {\r\n            match = true;\r\n        }\r\n\r\n        // set color, intensity, and style elements\r\n        let red = this.theme.DATA_BLOCK.ARRIVAL_BAR_OUT_OF_RANGE;\r\n        let green = this.theme.DATA_BLOCK.BACKGROUND_OUT_OF_RANGE;\r\n        let blue = this.theme.DATA_BLOCK.DEPARTURE_BAR_OUT_OF_RANGE;\r\n        let white = this.theme.DATA_BLOCK.TEXT_OUT_OF_RANGE;\r\n\r\n        if (aircraftModel.isControllable) {\r\n            red = this.theme.DATA_BLOCK.ARRIVAL_BAR_IN_RANGE;\r\n            green = this.theme.DATA_BLOCK.BACKGROUND_IN_RANGE;\r\n            blue = this.theme.DATA_BLOCK.DEPARTURE_BAR_IN_RANGE;\r\n            white = this.theme.DATA_BLOCK.TEXT_IN_RANGE;\r\n\r\n            if (match) {\r\n                red = this.theme.DATA_BLOCK.ARRIVAL_BAR_SELECTED;\r\n                green = this.theme.DATA_BLOCK.BACKGROUND_SELECTED;\r\n                blue = this.theme.DATA_BLOCK.DEPARTURE_BAR_SELECTED;\r\n                white = this.theme.DATA_BLOCK.TEXT_SELECTED;\r\n            }\r\n        }\r\n\r\n        // Draw datablock shapes\r\n        if (!aircraftModel.pilot.hasApproachClearance && this.theme.DATA_BLOCK.HAS_FILL) {\r\n            // data block box background fill\r\n            cc.fillStyle = green;\r\n            cc.fillRect(-halfWidth, -halfHeight, width, height);\r\n\r\n            // Draw colored bar\r\n            cc.fillStyle = (aircraftModel.category === FLIGHT_CATEGORY.DEPARTURE) ? blue : red;\r\n            cc.fillRect(-halfWidth - barWidth, -halfHeight, barWidth, height);\r\n\r\n            return;\r\n        }\r\n\r\n        // Box with ILS Lock Indicator\r\n        cc.save();\r\n\r\n        // Draw green part of box (excludes space where ILS Clearance Indicator juts in)\r\n        cc.fillStyle = green;\r\n        cc.beginPath();\r\n        cc.moveTo(-halfWidth, halfHeight); // bottom-left corner\r\n        cc.lineTo(halfWidth, halfHeight); // bottom-right corner\r\n        cc.lineTo(halfWidth, -halfHeight); // top-right corner\r\n        cc.lineTo(-halfWidth, -halfHeight); // top-left corner\r\n        cc.lineTo(-halfWidth, -point1); // begin side cutout\r\n        cc.arc(-halfWidth - barHalfWidth,\r\n            -lock_offset, lock_size / 2 + barHalfWidth,\r\n            clipping_mask_angle - Math.PI / 2,\r\n            0);\r\n        cc.lineTo(-halfWidth + lock_size / 2, lock_offset);\r\n        cc.arc(-halfWidth - barHalfWidth,\r\n            lock_offset,\r\n            lock_size / 2 + barHalfWidth,\r\n            0,\r\n            Math.PI / 2 - clipping_mask_angle);\r\n        cc.closePath();\r\n        cc.fill();\r\n\r\n        // Draw ILS Clearance Indicator\r\n        cc.translate(-halfWidth - barHalfWidth, 0);\r\n        cc.lineWidth = barWidth;\r\n        cc.strokeStyle = red;\r\n        cc.beginPath(); // top arc start\r\n        cc.arc(0, -lock_offset, lock_size / 2, -pi_slice, Math.PI + pi_slice, true);\r\n        cc.moveTo(0, -lock_size / 2);\r\n        cc.lineTo(0, -halfHeight);\r\n        cc.stroke(); // top arc end\r\n        cc.beginPath(); // bottom arc start\r\n        cc.arc(0, lock_offset, lock_size / 2, pi_slice, Math.PI - pi_slice);\r\n        cc.moveTo(0, lock_size - barWidth);\r\n        cc.lineTo(0, halfHeight);\r\n        cc.stroke(); // bottom arc end\r\n\r\n        if (aircraftModel.isEstablishedOnCourse()) {\r\n            // Localizer Capture Indicator\r\n            cc.fillStyle = white;\r\n            cc.beginPath();\r\n            cc.arc(0, 0, lock_size / 5, 0, Math.PI * 2);\r\n            cc.fill(); // Draw Localizer Capture Dot\r\n        }\r\n\r\n        cc.translate(halfWidth + barHalfWidth, 0);\r\n        // unclear how this works...\r\n        cc.beginPath(); // if removed, white lines appear on top of bottom half of lock case\r\n        cc.stroke(); // if removed, white lines appear on top of bottom half of lock case\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw data blocks for each aircraft\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawAircraftDataBlocks\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawAircraftDataBlocks(cc) {\r\n        const radarTargetModels = this._scopeModel.radarTargetCollection.items;\r\n\r\n        cc.save();\r\n        this._ccTranslateFromCanvasOriginToAirportCenter(cc);\r\n\r\n        for (let i = 0; i < radarTargetModels.length; i++) {\r\n            this._drawSingleAircraftDataBlock(cc, radarTargetModels[i]);\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw and fill all airspace boundaries, and draw range rings clipped to that area\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawAirspaceAndRangeRings\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawAirspaceAndRangeRings(cc) {\r\n        cc.save();\r\n\r\n        // translate to airport center\r\n        this._ccTranslateFromCanvasOriginToAirportCenter(cc);\r\n        this._drawAirspaceBorder(cc); // includes the .clip() used by ._drawRangeRings()\r\n        this._drawRangeRings(cc);\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    // TODO: To round, or not to round?\r\n    /**\r\n     * From the canvas origin, cc.translate() to the airport center, adjusting for user panning\r\n     *\r\n     * @for CanvasController\r\n     * @method _ccTranslateFromCanvasOriginToAirportCenter\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _ccTranslateFromCanvasOriginToAirportCenter(cc) {\r\n        cc.translate(\r\n            round(CanvasStageModel.halfWidth),\r\n            round(CanvasStageModel.halfHeight)\r\n        );\r\n    }\r\n\r\n    // TODO: To round, or not to round?\r\n    /**\r\n     * From the airport center, cc.translate() to the canvas origin, adjusting for user panning\r\n     *\r\n     * @for CanvasController\r\n     * @method _ccTranslateFromAirportCenterToCanvasOrigin\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _ccTranslateFromAirportCenterToCanvasOrigin(cc) {\r\n        cc.translate(\r\n            -round(CanvasStageModel.halfWidth),\r\n            -round(CanvasStageModel.halfHeight)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Draw range rings\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawRangeRings\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawRangeRings(cc) {\r\n        const airportModel = AirportController.airport_get();\r\n        const centerCanvasPosition = CanvasStageModel.calculatePreciseCanvasPositionFromRelativePosition(\r\n            airportModel.rangeRings.center.relativePosition\r\n        );\r\n        const ringRadiusKm = this._calculateRangeRingRadiusKm(airportModel);\r\n\r\n        if (ringRadiusKm === 0) { // prevent infinite loop\r\n            return;\r\n        }\r\n\r\n        cc.save();\r\n\r\n        cc.linewidth = 1;\r\n        cc.strokeStyle = this.theme.SCOPE.RANGE_RING_COLOR;\r\n\r\n        // Fill up airportModel's ctr_radius with rings of the specified radius\r\n        for (let i = 1; i * ringRadiusKm < airportModel.ctr_radius * 3; i++) {\r\n            cc.beginPath();\r\n            cc.arc(...centerCanvasPosition, ringRadiusKm * CanvasStageModel.scale * i, 0, tau());\r\n            cc.stroke();\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw polygonal airspace border\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawAirspaceBorder\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawAirspaceBorder(cc) {\r\n        cc.save();\r\n\r\n        const airport = AirportController.airport_get();\r\n        cc.strokeStyle = this.theme.SCOPE.AIRSPACE_PERIMETER;\r\n        cc.fillStyle = this.theme.SCOPE.AIRSPACE_FILL;\r\n\r\n        for (let i = 0; i < airport.airspace.length; i++) {\r\n            const airspace = airport.airspace[i];\r\n\r\n            this._drawRelativePoly(cc, airspace.relativePoly, true);\r\n        }\r\n\r\n        // this only includes the last polygon... and therefore does not support multiple\r\n        // airspace shelves, which are now supported elsewhere in the app. Removing for now.\r\n        // cc.clip();\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw individual airspace shelves, each labeled by index and altitude(s)\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawAirspaceShelvesAndLabels\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawAirspaceShelvesAndLabels(cc) {\r\n        if (!this._shouldDrawAirspace) {\r\n            return;\r\n        }\r\n\r\n        cc.save();\r\n\r\n        const airport = AirportController.airport_get();\r\n        cc.strokeStyle = 'rgba(224, 128, 128, 1.0)';\r\n        cc.fillStyle = 'rgba(224, 128, 128, 1.0)';\r\n        cc.font = '12px monoOne, monospace';\r\n        cc.textAlign = 'center';\r\n        cc.textBaseline = 'middle';\r\n\r\n        for (let i = 0; i < airport.airspace.length; i++) {\r\n            const airspace = airport.airspace[i];\r\n\r\n            cc.save(); // to allow reset of translation\r\n            // required positioning to use _drawPoly\r\n            this._ccTranslateFromCanvasOriginToAirportCenter(cc);\r\n            // draw lines\r\n            this._drawRelativePoly(cc, airspace.relativePoly, false);\r\n\r\n            const bottomFlightLevel = leftPad(Math.floor(airspace.floor / 100), 3);\r\n            const topFlightLevel = leftPad(Math.ceil(airspace.ceiling / 100), 3);\r\n            const content = `${bottomFlightLevel}-${topFlightLevel} (#${i})`;\r\n\r\n            cc.restore(); // reset from translation used for poly above\r\n            cc.save();\r\n            // required positioning to use _drawText\r\n            this._ccTranslateFromCanvasOriginToAirportCenter(cc);\r\n\r\n            // draw labels\r\n            for (const labelRelativePosition of airspace.labelRelativePositions) {\r\n                this._drawText(cc, labelRelativePosition, [content]);\r\n            }\r\n\r\n            cc.restore();\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Calculates the range ring radius\r\n     *\r\n     * Returns radius of 0 if rings should not be drawn\r\n     *\r\n     * @for CanvasController\r\n     * @method _calculateRangeRingRadiusKm\r\n     * @param airportModel {AirportModel}\r\n     * @returns {number} radius to use for range rings, in km\r\n     * @private\r\n     */\r\n    _calculateRangeRingRadiusKm(airportModel) {\r\n        const userValue = GameController.getGameOption(GAME_OPTION_NAMES.RANGE_RINGS);\r\n        const useDefault = userValue === 'default';\r\n        const defaultRangeRings = airportModel.rangeRings;\r\n\r\n        if (userValue === 'off' || (useDefault && defaultRangeRings.enabled === false)) {\r\n            return 0;\r\n        }\r\n\r\n        if (!useDefault) {\r\n            return km(parseInt(userValue, DECIMAL_RADIX));\r\n        }\r\n\r\n        return km(defaultRangeRings.radius_nm);\r\n    }\r\n\r\n    /**\r\n     * Draw the provided polygon to the specified canvas\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * This method does not itself provide any specific color/width/etc properties. These must be\r\n     * set prior to calling this method.\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawPoly\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param relativePoly {array<array<number, number>>} an array of relative positions to draw as a polygon\r\n     * @param fill {boolean} whether to fill the polygon\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawRelativePoly(cc, relativePoly, fill = true) {\r\n        cc.beginPath();\r\n\r\n        for (let i = 0; i < relativePoly.length; i++) {\r\n            const pointRelativePos = relativePoly[i];\r\n            const pointCanvasPos = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(pointRelativePos);\r\n\r\n            cc.lineTo(...pointCanvasPos);\r\n        }\r\n\r\n        cc.closePath();\r\n        cc.stroke();\r\n\r\n        if (fill) {\r\n            cc.fill();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Draw terrain contours for a SPECIFIC elevation\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawTerrainAtElevation\r\n     * @param cc {HTMLCanvasContext}\r\n     * @param terrainLevel {object}\r\n     * @param elevation {number} elevation, in ft\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawTerrainAtElevation(cc, terrainLevel, elevation) {\r\n        // Here we use HSL colors instead of RGB to enable easier bulk adjustments\r\n        // to saturation/lightness of multiple elevation levels without the need\r\n        // to use web-based color tools\r\n        const color = `hsla(${this.theme.TERRAIN.COLOR[elevation]}`;\r\n\r\n        cc.save();\r\n\r\n        cc.strokeStyle = `${color}, ${this.theme.TERRAIN.BORDER_OPACITY})`;\r\n        cc.fillStyle = `${color}, ${this.theme.TERRAIN.FILL_OPACITY})`;\r\n\r\n        for (let i = 0; i < terrainLevel.length; i++) {\r\n            const terrainGroup = terrainLevel[i];\r\n\r\n            cc.beginPath();\r\n\r\n            for (let j = 0; j < terrainGroup.length; j++) {\r\n                const terrainItem = terrainGroup[j];\r\n\r\n                for (let k = 0; k < terrainItem.length; k++) {\r\n                    const canvasPosition = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(terrainItem[k]);\r\n\r\n                    if (k === 0) { // .moveTo() to start the line\r\n                        cc.moveTo(...canvasPosition);\r\n                        // cc.moveTo(\r\n                        //     CanvasStageModel._translateKilometersToPixels(terrainItem[k][0]),\r\n                        //     -CanvasStageModel._translateKilometersToPixels(terrainItem[k][1])\r\n                        // );\r\n                    } else { // .lineTo() to draw a line segment\r\n                        cc.lineTo(...canvasPosition);\r\n                        // cc.lineTo(\r\n                        //     CanvasStageModel._translateKilometersToPixels(terrainItem[k][0]),\r\n                        //     -CanvasStageModel._translateKilometersToPixels(terrainItem[k][1])\r\n                        // );\r\n                    }\r\n                }\r\n\r\n                cc.closePath();\r\n            }\r\n\r\n            cc.fill();\r\n            cc.stroke();\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw the terrain legend in the upper right hand corner of the scope view\r\n     *\r\n     * POSITIONING: Before calling this method, translate to the AIRPORT CENTER\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawTerrainElevationLegend\r\n     * @param  cc  {HTMLCanvasContext}\r\n     * @param max_elevation {number}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawTerrainElevationLegend(cc, max_elevation) {\r\n        cc.save();\r\n        cc.font = BASE_CANVAS_FONT;\r\n        cc.lineWidth = 1;\r\n\r\n        const offset = 10;\r\n        const { width } = CanvasStageModel;\r\n        const { height } = CanvasStageModel;\r\n        const box_width = 30;\r\n        const box_height = 5;\r\n\r\n        for (let i = 0; i <= max_elevation; i += 1000) {\r\n            cc.save();\r\n            // translate coordinates for every block to not use these X & Y twice in rect and text\r\n            // .5 in X and Y coordinates are used to make 1px rectangle fit exactly into 1 px\r\n            // and not be blurred\r\n            cc.translate(\r\n                width / 2 - 170 - (max_elevation - i) / 1000 * (box_width + 1),\r\n                -height / 2 + offset + 0.5\r\n            );\r\n            cc.beginPath();\r\n            cc.rect(0, 0, box_width - 1, box_height);\r\n            cc.closePath();\r\n\r\n            // in the map, terrain of higher levels has fill of all the lower levels\r\n            // so we need to fill it below exactly as in the map\r\n            for (let j = 0; j <= i; j += 1000) {\r\n                cc.fillStyle = `hsla(${this.theme.TERRAIN.COLOR[j]}, ${this.theme.TERRAIN.FILL_OPACITY})`;\r\n                cc.fill(); // 'rgba(32, 64, 72, 1.0)'\r\n            }\r\n\r\n            cc.strokeStyle = `hsla(${this.theme.TERRAIN.COLOR[i]}, ${this.theme.TERRAIN.BORDER_OPACITY})`;\r\n            cc.stroke();\r\n\r\n            // write elevation signs only for the outer elevations\r\n            const labeledAltitudes = [0, 5000, 10000, 15000, 20000, 25000, 30000].filter((alt) => {\r\n                return alt < max_elevation - 1001;\r\n            });\r\n\r\n            if (i === max_elevation || labeledAltitudes.indexOf(i) !== INVALID_INDEX) {\r\n                cc.fillStyle = this.theme.SCOPE.FIX_FILL;\r\n                cc.textAlign = 'center';\r\n                cc.textBaseline = 'top';\r\n                const text = i === 0 ? 'MSL' : `${i}'`;\r\n\r\n                cc.fillText(text, box_width / 2 + 0.5, offset + 2);\r\n            }\r\n\r\n            cc.restore();\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw all terrain contours and legend\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawTerrain\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawTerrain(cc) {\r\n        const airport = AirportController.airport_get();\r\n        const airportTerrain = airport.terrain;\r\n        let max_elevation = 0;\r\n\r\n        if (!this._shouldDrawTerrain || Object.keys(airportTerrain).length === 0) {\r\n            return;\r\n        }\r\n\r\n        cc.save();\r\n        this._ccTranslateFromCanvasOriginToAirportCenter(cc);\r\n        // Terrain key rectangles' outline stroke color\r\n        // Also determines color of terrain outline drawn at '0ft'\r\n        cc.strokeStyle = this.theme.SCOPE.FIX_FILL;\r\n        // Somehow used to tint the terrain key rectangles' fill color\r\n        // Also determines color of terrain fill at '0ft'\r\n        cc.fillStyle = this.theme.SCOPE.FIX_FILL;\r\n        cc.lineWidth = clamp(0.5, (CanvasStageModel.scale / 10), 2);\r\n        cc.lineJoin = 'round';\r\n\r\n        for (const elevation in airportTerrain) {\r\n            // eslint-disable-next-line\r\n            if (!airportTerrain.hasOwnProperty(elevation)) {\r\n                continue;\r\n            }\r\n\r\n            const terrainLevel = airportTerrain[elevation];\r\n\r\n            if (elevation < 0 && !this._hasSeenTerrainWarning) {\r\n                console.warn(`${airport.icao}.geojson contains 'terrain' ` +\r\n                    ' below sea level, which is not supported!');\r\n\r\n                this._hasSeenTerrainWarning = true;\r\n\r\n                continue;\r\n            }\r\n\r\n            max_elevation = Math.max(max_elevation, elevation);\r\n\r\n            this._drawTerrainAtElevation(cc, terrainLevel, elevation);\r\n        }\r\n\r\n        if (max_elevation !== 0) {\r\n            this._drawTerrainElevationLegend(cc, max_elevation);\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw restricted airspace and labels\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawRestrictedAirspace\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawRestrictedAirspace(cc) {\r\n        if (!this._shouldDrawRestrictedAreas) {\r\n            return;\r\n        }\r\n\r\n        cc.save();\r\n        this._ccTranslateFromCanvasOriginToAirportCenter(cc);\r\n\r\n        cc.fillStyle = this.theme.SCOPE.RESTRICTED_AIRSPACE;\r\n        cc.strokeStyle = this.theme.SCOPE.RESTRICTED_AIRSPACE;\r\n        cc.lineWidth = Math.max(CanvasStageModel.scale / 3, 2);\r\n        cc.lineJoin = 'round';\r\n        cc.font = BASE_CANVAS_FONT;\r\n        cc.textAlign = 'center';\r\n        cc.textBaseline = 'top';\r\n\r\n        const airportModel = AirportController.airport_get();\r\n\r\n        for (let i = 0; i < airportModel.restricted_areas.length; i++) {\r\n            const area = airportModel.restricted_areas[i];\r\n            const areaRelativePositions = area.poly;\r\n\r\n            this._drawRelativePoly(cc, areaRelativePositions, false);\r\n\r\n            const height = area.height === Infinity ? 'UNL' : `FL ${Math.ceil(area.height / 1000) * 10}`;\r\n\r\n            for (let j = 0; j < area.labelRelativePositions.length; j++) {\r\n                const canvasPosition = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(\r\n                    area.labelRelativePositions[j]\r\n                );\r\n                let linePaddingPx = 0;\r\n\r\n                if (area.name) {\r\n                    linePaddingPx = 6;\r\n                    const nameLineCanvasPosition = [canvasPosition[0], canvasPosition[1] - linePaddingPx];\r\n\r\n                    cc.fillText(area.name, ...nameLineCanvasPosition);\r\n                }\r\n\r\n                const altLineCanvasPosition = [canvasPosition[0], canvasPosition[1] + linePaddingPx];\r\n\r\n                cc.fillText(height, ...altLineCanvasPosition);\r\n            }\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Draw all active video map(s)\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawVideoMap\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawVideoMap(cc) {\r\n        const airportModel = AirportController.airport_get();\r\n\r\n        // Don't bother with the canvas set up if the airport has no visible maps\r\n        if (!airportModel.mapCollection.hasVisibleMaps) {\r\n            return;\r\n        }\r\n\r\n        cc.save();\r\n        this._ccTranslateFromCanvasOriginToAirportCenter(cc);\r\n\r\n        cc.strokeStyle = this.theme.SCOPE.VIDEO_MAP;\r\n        cc.lineWidth = Math.max(1, CanvasStageModel.scale / 15);\r\n        cc.lineJoin = 'round';\r\n        cc.font = BASE_CANVAS_FONT;\r\n\r\n        cc.beginPath();\r\n\r\n        const lines = airportModel.mapCollection.getVisibleMapLines();\r\n\r\n        lines.forEach((mapItem) => {\r\n            const startRelativePos = [mapItem[0], mapItem[1]];\r\n            const startCanvasPos = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(startRelativePos);\r\n            const endRelativePos = [mapItem[2], mapItem[3]];\r\n            const endCanvasPos = CanvasStageModel.calculateRoundedCanvasPositionFromRelativePosition(endRelativePos);\r\n\r\n            cc.moveTo(...startCanvasPos);\r\n            cc.lineTo(...endCanvasPos);\r\n        });\r\n\r\n        cc.stroke();\r\n        cc.restore();\r\n    }\r\n\r\n    // TODO: this method should be removed or reworked.\r\n    /**\r\n     * Draw the compass around the edge of the scope view\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * @for CanvasController\r\n     * @method _drawSelectedAircraftCompass\r\n     * @param cc {HTMLCanvasContext}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _drawSelectedAircraftCompass(cc) {\r\n        if (GameController.game_paused()) {\r\n            return;\r\n        }\r\n\r\n        const callsign = prop.input.callsign.toUpperCase();\r\n\r\n        if (callsign.length === 0) {\r\n            return;\r\n        }\r\n\r\n        // TODO: this should be a method on the `AircraftController` if one doesn't already exist.\r\n        // Get the selected aircraft.\r\n        const aircraft = _filter(this._aircraftController.aircraft.list, (p) => {\r\n            return p.matchCallsign(callsign) && p.isVisible();\r\n        })[0];\r\n\r\n        if (!aircraft) {\r\n            return;\r\n        }\r\n\r\n        const canvasOrigin = [0, 0];\r\n        const canvasSize = [CanvasStageModel.width, CanvasStageModel.height];\r\n        const aircraftPosition = this._toCanvasPosition(aircraft.relativePosition);\r\n\r\n        cc.save();\r\n\r\n        // generic styles of the compass marks\r\n        cc.strokeStyle = this.theme.SCOPE.COMPASS_HASH;\r\n        cc.fillStyle = this.theme.SCOPE.COMPASS_TEXT;\r\n        cc.textAlign = 'center';\r\n        cc.textBaseline = 'middle';\r\n\r\n        // Compute the intersection point between a ray originating from the\r\n        // aircraft at a given heading angle and the canvas boundaries, for\r\n        // each heading angle between 0 and 360 (by 1 degree increment)\r\n        for (let heading = 1; heading <= 360; heading++) {\r\n            // compute the 2D unit vector representing the ray direction using the given\r\n            // heading angle\r\n            const rayUnitVector = vectorize2dFromDegrees(heading);\r\n\r\n            // Use the opposite of the y component of the vector because of the vertical\r\n            // axes of the reference frames being oriented in opposite directions\r\n            rayUnitVector[1] = -rayUnitVector[1];\r\n\r\n            // compute the intersection point between the ray and the canvas\r\n            const intersection = positive_intersection_with_rect(\r\n                aircraftPosition,\r\n                rayUnitVector,\r\n                canvasOrigin,\r\n                canvasSize\r\n            );\r\n\r\n            if (!intersection) {\r\n                continue;\r\n            }\r\n\r\n            // draw a mark and label at the intersection point\r\n            // standard marks on all headings\r\n            // minor marks on headings multiple of 5 degrees\r\n            // major marks on headings multiple of 10 degrees\r\n            let markLen = 8;\r\n\r\n            if (heading % 5 === 0) {\r\n                markLen = heading % 10 === 0 ? 16 : 12;\r\n            }\r\n\r\n            const markWeight = heading % 30 === 0 ? 2 : 1;\r\n\r\n            // use the opposite of the length to draw toward the inside of the canvas\r\n            const markVector = vscale(rayUnitVector, -markLen);\r\n            const markStartPoint = intersection;\r\n            const markEndPoint = vadd(markStartPoint, markVector);\r\n\r\n            // draw the mark\r\n            cc.lineWidth = markWeight;\r\n            cc.beginPath();\r\n            cc.moveTo(...markStartPoint);\r\n            cc.lineTo(...markEndPoint);\r\n            cc.stroke();\r\n\r\n            // only draw label on major marks\r\n            if (heading % 10 !== 0) {\r\n                continue;\r\n            }\r\n\r\n            // set label font heavier every 3 major marks\r\n            cc.font = heading % 30 === 0 ?\r\n                'bold 10px monoOne, monospace' :\r\n                BASE_CANVAS_FONT;\r\n\r\n            const text = `${String(heading).padStart(3, '0')}`;\r\n            const textWidth = cc.measureText(text).width;\r\n\r\n            // draw the label\r\n            cc.fillText(\r\n                text,\r\n                markEndPoint[0] - rayUnitVector[0] * (textWidth / 2 + 4),\r\n                markEndPoint[1] - rayUnitVector[1] * 7\r\n            );\r\n        }\r\n\r\n        cc.restore();\r\n    }\r\n\r\n    /**\r\n     * Find a canvas context stored within `#_context`\r\n     *\r\n     * @for CanvasController\r\n     * @method _getCanvasContextByName\r\n     * @param name {string} name of the canvas you desire\r\n     * @returns {HTMLCanvasContext}\r\n     * @private\r\n     */\r\n    _getCanvasContextByName(name) {\r\n        return this._context[name];\r\n    }\r\n\r\n    // TODO: this duplicates (but is slightly different than) the more widely-used method of\r\n    // `CanvasStageModel.calculatePreciseCanvasPositionFromRelativePosition()`. What is the\r\n    // difference, and can _toCanvasPosition() be removed in favor of using the former?\r\n    /**\r\n     * Transform a scope relative position to a canvas relative position.\r\n     *\r\n     * NOTE: DONT USE ME! I AM BEING DEPRECATED! INSTEAD USE:\r\n     * `CanvasStageModel.calculatePreciseCanvasPositionFromRelativePosition()`\r\n     *\r\n     * POSITIONING: Before calling this method, ensure NO TRANSLATION has occurred\r\n     *\r\n     * Create a vector \"vCanvasToScope\" describing the position of the canvas\r\n     * relative to the scope, and simply add it to the given position to get the\r\n     * position relative to the canvas.\r\n     *\r\n     * The vertical axes are oriented in opposite direction in our source and\r\n     * destination frames of reference (scope versus canvas), so the y component of\r\n     * the given position need to be \"reversed\".\r\n     *\r\n     * The given position in expressed in kilometers so it needs to be\r\n     * translated to pixels.\r\n     *\r\n     * @for CanvasController\r\n     * @method _toCanvasPosition\r\n     * @param positionFromScope {array<number>} relative position, in km offset from airport center\r\n     * @returns {array<number>} canvas position, in pixels\r\n     * @private\r\n     */\r\n    _toCanvasPosition(positionFromScope) {\r\n        // positionFromScope is given in kilometers so it needs to be translated\r\n        // to pixels first\r\n\r\n        // use the opposite of the y component of the aircraft position because\r\n        // the vertical axes are not oriented in the same direction in the\r\n        // scope (aircraft) frame of reference versus the canvas frame of reference\r\n        positionFromScope = [\r\n            CanvasStageModel._translateKilometersToPixels(positionFromScope[0]),\r\n            -CanvasStageModel._translateKilometersToPixels(positionFromScope[1])\r\n        ];\r\n\r\n        const scopePositionRelativeToView = [CanvasStageModel._panX, CanvasStageModel._panY];\r\n        const viewPositionRelativeToCanvasOrigin = [CanvasStageModel.halfWidth, CanvasStageModel.halfHeight];\r\n        const scopePositionRelativeToCanvasOrigin = vadd(viewPositionRelativeToCanvasOrigin, scopePositionRelativeToView);\r\n\r\n        return vadd(scopePositionRelativeToCanvasOrigin, positionFromScope);\r\n    }\r\n\r\n    /**\r\n     * Calculate the length of the leader line connecting the target to the data block\r\n     *\r\n     * @for CanvasController\r\n     * @method _calculateLeaderLength\r\n     * @param dataBlockLeaderLength {number} from RadarTargetModel#dataBlockLeaderLength\r\n     * @return {number} length, in pixels\r\n     * @private\r\n     */\r\n    _calculateLeaderLength(dataBlockLeaderLength) {\r\n        return dataBlockLeaderLength *\r\n            this.theme.DATA_BLOCK.LEADER_LENGTH_INCREMENT_PIXELS +\r\n            this.theme.DATA_BLOCK.LEADER_LENGTH_ADJUSTMENT_PIXELS -\r\n            this.theme.DATA_BLOCK.LEADER_PADDING_FROM_BLOCK_PX -\r\n            this.theme.DATA_BLOCK.LEADER_PADDING_FROM_TARGET_PX;\r\n    }\r\n\r\n    /**\r\n     * Mark the canvas as dirty, forcing a redraw during the next frame\r\n     *\r\n     * This method should only be called via the `EventBus`\r\n     * Facade method for `._markShallowRender()`\r\n     *\r\n     * @for CanvasController\r\n     * @method _onMarkDirtyCanvas\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onMarkDirtyCanvas() {\r\n        this._markShallowRender();\r\n    }\r\n\r\n    /**\r\n     * Update local props as a result of the user panning the view\r\n     *\r\n     * This method will only be `trigger`ed by some other\r\n     * class via the `EventBus`\r\n     *\r\n     * @for CanvasController\r\n     * @method _onChangeViewportPan\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onChangeViewportPan() {\r\n        this._markDeepRender();\r\n    }\r\n\r\n    /**\r\n     * Update local props as a result of a change in the current zoom level\r\n     *\r\n     * This method will only be `trigger`ed by some other\r\n     * class via the `EventBus`\r\n     *\r\n     * @for CanvasController\r\n     * @method _onChangeViewportZoom\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onChangeViewportZoom() {\r\n        this._markDeepRender();\r\n    }\r\n\r\n    /**\r\n     * Toogle current value of `#_shouldDrawAirspace`\r\n     *\r\n     * This method will only be `trigger`ed by some other\r\n     * class via the `EventBus`\r\n     *\r\n     * @for CanvasController\r\n     * @method _onToggleAirspace\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onToggleAirspace() {\r\n        this._shouldDrawAirspace = !this._shouldDrawAirspace;\r\n\r\n        this._markDeepRender();\r\n    }\r\n\r\n    /**\r\n     * Toogle current value of `#draw_labels`\r\n     *\r\n     * This method will only be `trigger`ed by some other\r\n     * class via the `EventBus`\r\n     *\r\n     * @for CanvasController\r\n     * @method _onToggleLabels\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onToggleLabels() {\r\n        this._shouldDrawFixLabels = !this._shouldDrawFixLabels;\r\n\r\n        this._markDeepRender();\r\n    }\r\n\r\n    /**\r\n     * Toogle current value of `#draw_restricted`\r\n     *\r\n     * This method will only be `trigger`ed by some other\r\n     * class via the `EventBus`\r\n     *\r\n     * @for CanvasController\r\n     * @method _onToggleRestrictedAreas\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onToggleRestrictedAreas() {\r\n        this._shouldDrawRestrictedAreas = !this._shouldDrawRestrictedAreas;\r\n\r\n        this._markDeepRender();\r\n    }\r\n\r\n    /**\r\n     * Toogle current value of `#draw_sids`\r\n     *\r\n     * This method will only be `trigger`ed by some other\r\n     * class via the `EventBus`\r\n     *\r\n     * @for CanvasController\r\n     * @method _onToggleSidMap\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onToggleSidMap() {\r\n        this._shouldDrawSidMap = !this._shouldDrawSidMap;\r\n\r\n        this._markDeepRender();\r\n    }\r\n\r\n    /**\r\n     * Toogle display of STAR routes\r\n     *\r\n     * This method will only be `trigger`ed by some other\r\n     * class via the `EventBus`\r\n     *\r\n     * @for CanvasController\r\n     * @method _onToggleStarMap\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onToggleStarMap() {\r\n        this._shouldDrawStarMap = !this._shouldDrawStarMap;\r\n\r\n        this._markDeepRender();\r\n    }\r\n\r\n    /**\r\n     * Toogle current value of `#draw_terrain`\r\n     *\r\n     * This method will only be `trigger`ed by some other\r\n     * class via the `EventBus`\r\n     *\r\n     * @for CanvasController\r\n     * @method _onToggleTerrain\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onToggleTerrain() {\r\n        this._shouldDrawTerrain = !this._shouldDrawTerrain;\r\n\r\n        this._markDeepRender();\r\n    }\r\n\r\n    /**\r\n     * Toogle display of video map\r\n     *\r\n     * This method will only be `trigger`ed by some other\r\n     * class via the `EventBus`\r\n     *\r\n     * @for CanvasController\r\n     * @method _onToggleVideoMap\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onToggleVideoMap(mapNames) {\r\n        AirportController.airport_get().mapCollection.setVisibleMaps(mapNames);\r\n\r\n        this._markDeepRender();\r\n    }\r\n\r\n    /**\r\n     * Notify that the range rings value has changed by the user.\r\n     *\r\n     * This method will only be `trigger`ed by some other\r\n     * class via the `EventBus`\r\n     *\r\n     * @for CanvasController\r\n     * @method _onRangeRingsChange\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onRangeRingsChange() {\r\n        this._markDeepRender();\r\n    }\r\n\r\n    /**\r\n     * Update the value of `#_shouldShallowRender` to true, forcing a redraw\r\n     * on the next frame.\r\n     *\r\n     * This method should be used for forcing redraws on _dynamic_ elements\r\n     * only. In the future this will mean only items contained within the\r\n     * `CANVAS_NAME.DYNAMIC` will be redrawn.\r\n     *\r\n     * @for CanvasController\r\n     * @method _markShallowRender\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _markShallowRender() {\r\n        this._shouldShallowRender = true;\r\n    }\r\n\r\n    /**\r\n     * Update the value of `#_shouldShallowRender` and `#_shouldDeepRender` to true, thus\r\n     * forcing a redraw of both canvases on the next frame.\r\n     *\r\n     * This method should be used for forcing redraws on dynamic _and_ static elements.\r\n     * In the future this will mean both `CANVAS_NAME.STATIC` and `CANVAS_NAME.DYNAMIC`\r\n     * will be redrawn on the next frame.\r\n     *\r\n     * @for CanvasController\r\n     * @method _markDeepRender\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _markDeepRender() {\r\n        this._shouldDeepRender = true;\r\n\r\n        this._markShallowRender();\r\n    }\r\n\r\n    /**\r\n     * Trigger _markShallowRender() when an aircraft is selected, thus\r\n     * forcing a redraw of the dynamic canvas on the next frame.\r\n     *\r\n     * @for CanvasController\r\n     * @method _onSelectAircraft\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onSelectAircraft() {\r\n        this._markShallowRender();\r\n    }\r\n\r\n    /**\r\n     * Trigger _markShallowRender() when an aircraft is deselected, thus\r\n     * forcing a redraw of the dynamic canvas on the next frame.\r\n     *\r\n     * @for CanvasController\r\n     * @method _onDeselectAircraft\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onDeselectAircraft() {\r\n        this._markShallowRender();\r\n    }\r\n\r\n    /**\r\n     * Center a point in the view\r\n     *\r\n     * Used only for centering view on an aircraft position using\r\n     * the x, y of an aircraft's `relativePosition`\r\n     *\r\n     * @for CanvasController\r\n     * @method _onCenterPointInView\r\n     * @param relativePosition {array<string>}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onCenterPointInView(relativePosition) {\r\n        const newPanX = -round(CanvasStageModel._translateKilometersToPixels(relativePosition[0]));\r\n        const newPanY = round(CanvasStageModel._translateKilometersToPixels(relativePosition[1]));\r\n\r\n        CanvasStageModel.updatePan(newPanX, newPanY);\r\n    }\r\n\r\n    /**\r\n     * Callback method fired when an airport is changed\r\n     *\r\n     * Changing an airport will require a complete re-draw of all\r\n     * items on all canvases, thus we call `._markDeepRender()` here\r\n     * to initiate that process\r\n     *\r\n     * @for CanvasController\r\n     * @method _onAirportChange\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _onAirportChange() {\r\n        this._markDeepRender();\r\n    }\r\n\r\n    /**\r\n     * Change theme to the specified name\r\n     *\r\n     * This should ONLY be called through the EventBus during a `SET_THEME` event,\r\n     * thus ensuring that the same theme is always in use by all app components\r\n     *\r\n     * This method must remain an arrow function in order to preserve the scope\r\n     * of `this`, since it is being invoked by an EventBus callback\r\n     *\r\n     * @for CanvasController\r\n     * @method _setTheme\r\n     * @param themeName {string}\r\n     * @returns undefined\r\n     * @private\r\n     */\r\n    _setTheme(themeName) {\r\n        if (!_has(THEME, themeName)) {\r\n            console.error(`Expected valid theme to change to, but received '${themeName}'`);\r\n\r\n            return;\r\n        }\r\n\r\n        // TODO: abstract to method\r\n        if (this.theme !== null) {\r\n            this.$element.removeClass(this.theme.CLASSNAME);\r\n        }\r\n\r\n        this.theme = THEME[themeName];\r\n        // TODO: abstract to method\r\n        this.$element.addClass(this.theme.CLASSNAME);\r\n        this._markDeepRender();\r\n    }\r\n}\r\n","import _has from 'lodash/has';\r\nimport EventBus from '../lib/EventBus';\r\nimport { round } from '../math/core';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport {\r\n    DEFAULT_CANVAS_SIZE,\r\n    PAN,\r\n    SCALE\r\n} from '../constants/canvasConstants';\r\nimport { STORAGE_KEY } from '../constants/storageKeys';\r\nimport { INVALID_NUMBER } from '../constants/globalConstants';\r\n\r\n/**\r\n * Singleton responsible for mantining canvas dimensions, pan and zoom\r\n *\r\n * Also provides methods for translating `[x, y]` positions to\r\n * and from kilometers or pixels\r\n *\r\n * POSITION INFO:\r\n * \"Page Position\": the position on the canvas, where the top-left is 0,0 (returned by click events)\r\n *      V     (shift coordinate origin from top-left to center of canvas)\r\n * \"Canvas Position\": the position on the canvas, in pixels, where the canvas center is 0,0 (used in most canvas drawing)\r\n *      V     (adjust for pan and scale values)\r\n * \"Relative Position\": a geographical distance based offset, in km, from the airport center, along magnetic north\r\n *      V     (haversine math from DynamicPositionModel to find GPS coordinates based on dist/dir from known coordinates)\r\n * \"GPS Coordinates\": the latitude/longitude values of a given position\r\n *\r\n * @class CanvasStageModel\r\n */\r\nclass CanvasStageModel {\r\n    /**\r\n     * @constructor\r\n     */\r\n    constructor() {\r\n        /**\r\n         * @property _eventBus\r\n         * @type {EventBus}\r\n         * @private\r\n         */\r\n        this._eventBus = EventBus;\r\n\r\n        /**\r\n         * Pixel height of the canvas(es)\r\n         *\r\n         * @property height\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._height = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Pixel width of the canvas(es)\r\n         *\r\n         * @property width\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._width = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Midpoint of view along the `x` coordinate\r\n         *\r\n         * @property _panX\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._panX = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Midpoint of view along the `y` coordinate\r\n         *\r\n         * @property _panY\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._panY = INVALID_NUMBER;\r\n\r\n        /**\r\n         * pixels per km\r\n         *\r\n         * @property _defaultScale\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._defaultScale = INVALID_NUMBER;\r\n\r\n        /**\r\n         * maximum scale value\r\n         *\r\n         * @property _scaleMax\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._scaleMax = INVALID_NUMBER;\r\n\r\n        /**\r\n         * minimum scale value\r\n         *\r\n         * @property _scaleMin\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._scaleMin = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Current scale value\r\n         *\r\n         * scale is essentially the zoom value, the larger the\r\n         * scale the closer the current zoom.\r\n         *\r\n         * @property _scale\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._scale = INVALID_NUMBER;\r\n\r\n        return this._init();\r\n    }\r\n\r\n    /**\r\n     * @property height\r\n     * @type {number}\r\n     */\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    /**\r\n     * @property halfHeight\r\n     * @type {number}\r\n     */\r\n    get halfHeight() {\r\n        return round(this._height / 2);\r\n    }\r\n\r\n    /**\r\n     * @property scale\r\n     * @type {number}\r\n     */\r\n    get scale() {\r\n        return this._scale;\r\n    }\r\n\r\n    /**\r\n     * @property width\r\n     * @type {number}\r\n     */\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    /**\r\n     * @property halfWidth\r\n     * @type {number}\r\n     */\r\n    get halfWidth() {\r\n        return round(this._width / 2);\r\n    }\r\n\r\n    /**\r\n     * @for CanvasStageModel\r\n     * @method _init\r\n     * @private\r\n     */\r\n    _init() {\r\n        this._height = DEFAULT_CANVAS_SIZE.HEIGHT;\r\n        this._width = DEFAULT_CANVAS_SIZE.WIDTH;\r\n        this._panX = PAN.X;\r\n        this._panY = PAN.Y;\r\n        this._defaultScale = SCALE.DEFAULT;\r\n        this._scaleMin = SCALE.MIN;\r\n        this._scaleMax = SCALE.MAX;\r\n        this._scale = this._retrieveZoomLevelFromStorageOrDefault();\r\n    }\r\n\r\n    /**\r\n     * @for CanvasStageModel\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        this._height = INVALID_NUMBER;\r\n        this._width = INVALID_NUMBER;\r\n        this._panX = INVALID_NUMBER;\r\n        this._panY = INVALID_NUMBER;\r\n        this._defaultScale = INVALID_NUMBER;\r\n        this._scaleMax = INVALID_NUMBER;\r\n        this._scaleMin = INVALID_NUMBER;\r\n        this._scale = INVALID_NUMBER;\r\n    }\r\n\r\n    /**\r\n     * Translate a kilometer value to pixels based on the current `#_scale` value\r\n     *\r\n     * @for CanvasStageModel\r\n     * @method _translateKilometersToPixels\r\n     * @param kilometerValue {number}   value in kilometers\r\n     * @return {number}                 value in pixels\r\n     * @private\r\n     */\r\n    _translateKilometersToPixels(kilometerValue) {\r\n        return kilometerValue * this._scale;\r\n    }\r\n\r\n    /**\r\n     * Translate the specified x, y pixel coordinates to map kilometers\r\n     *\r\n     * @for CanvasStageModel\r\n     * @method calculateRelativePositionFromCanvasPosition\r\n     * @param x {number} canvas position X value, in px\r\n     * @param y {number} canvas position Y value, in px\r\n     * @returns {array<number>} [x, y], in km\r\n     * @private\r\n     */\r\n    calculateRelativePositionFromCanvasPosition(x, y) {\r\n        const relativePositionX = this.translatePixelsToKilometers(x - this._panX);\r\n        const relativePositionY = this.translatePixelsToKilometers(y + this._panY);\r\n        const relativePosition = [relativePositionX, relativePositionY];\r\n\r\n        return relativePosition;\r\n    }\r\n\r\n    /**\r\n     * Translate a page position, in pixels, as it relates to the browser window to canvas position\r\n     *\r\n     * @for CanvasStageModel\r\n     * @method calculateCanvasPositionFromPagePosition\r\n     * @param x {number}\r\n     * @param y {number}\r\n     * @return {array<number>}\r\n     */\r\n    calculateCanvasPositionFromPagePosition(x, y) {\r\n        const canvasPositionX = x - this.halfWidth;\r\n        const canvasPositionY = -y + this.halfHeight;\r\n\r\n        return [canvasPositionX, canvasPositionY];\r\n    }\r\n\r\n    /**\r\n     * Translate a pixel value to kilometers based on the current `#_scale` value\r\n     *\r\n     * @for CanvasStageModel\r\n     * @method translatePixelsToKilometers\r\n     * @param pixelValue {number}  value in pixels\r\n     * @return {number}            value in kilometers\r\n     */\r\n    translatePixelsToKilometers(pixelValue) {\r\n        return pixelValue / this._scale;\r\n    }\r\n\r\n    /**\r\n     * Calculate a canvas position (in px) from the provided relative position (km offset from airport center)\r\n     *\r\n     * NOTE: The return values will be high precision floating-point numbers with subpixel resolution. This will cause the\r\n     * browser to perform additional antialiasing, and therefore should not be used for things like aircraft projections.\r\n     *\r\n     * @for CanvasStageModel\r\n     * @method calculatePreciseCanvasPositionFromRelativePosition\r\n     * @param relativePosition {array<number>} `[x, y]` position coordinates (in km offset from airport center)\r\n     * @return {array<number>} - `[154.173, 381.029]`\r\n     */\r\n    calculatePreciseCanvasPositionFromRelativePosition(relativePosition) {\r\n        const [x, y] = relativePosition;\r\n        const canvasX = this._translateKilometersToPixels(x) + this._panX;\r\n        const canvasY = (this._translateKilometersToPixels(y) * -1) + this._panY;\r\n        const precisePosition = [canvasX, canvasY];\r\n\r\n        return precisePosition;\r\n    }\r\n\r\n    /**\r\n     * Calculate a canvas position (in px) from the provided relative position (km offset from airport center)\r\n     *\r\n     * NOTE: The return values will be rounded to the nearest integer, and are thus not considered precise.\r\n     *\r\n     * Calls to this method should be used to calculate approximate canvas position, useful for plotting things\r\n     * in an imprecise, but non-subpixelated manner, which are corrected for user panning. This method should\r\n     * not be used to translate an aircraft position due to this inherent inaccuracy.\r\n     *\r\n     * @for CanvasStageModel\r\n     * @method calculateRoundedCanvasPositionFromRelativePosition\r\n     * @param relativePosition {array<number>} `[x, y]` position coordinates (in km offset from airport center)\r\n     * @return {array<number>} - `[154.173, 381.029]`\r\n     */\r\n    calculateRoundedCanvasPositionFromRelativePosition(relativePosition) {\r\n        const precisePosition = this.calculatePreciseCanvasPositionFromRelativePosition(relativePosition);\r\n        const roundedPosition = [round(precisePosition[0]), round(precisePosition[1])];\r\n\r\n        return roundedPosition;\r\n    }\r\n\r\n    /**\r\n     * Update the current canvas dimensions\r\n     *\r\n     * Calls to this method will happen as a result of a browser window resize\r\n     *\r\n     * @for CanvasStageModel\r\n     * @method updateHeightAndWidth\r\n     * @param nextHeight {number}   next height value in pixels\r\n     * @param nextWidth {number}    next width value in pixels\r\n     */\r\n    updateHeightAndWidth(nextHeight, nextWidth) {\r\n        this._height = nextHeight - DEFAULT_CANVAS_SIZE.FOTTER_HEIGHT_OFFSET;\r\n        this._width = nextWidth;\r\n    }\r\n\r\n    /**\r\n     * Update the current pan values.\r\n     *\r\n     * @for CanvasStageModel\r\n     * @method updatePan\r\n     * @param x {number}\r\n     * @param y {number}\r\n     */\r\n    updatePan(x, y) {\r\n        this._panX = x;\r\n        this._panY = y;\r\n\r\n        this._eventBus.trigger(EVENT.PAN_VIEWPORT);\r\n    }\r\n\r\n    /**\r\n     * @for CanvasStageModel\r\n     * @method zoomIn\r\n     */\r\n    zoomIn() {\r\n        const isZoomOut = true;\r\n\r\n        this._updateZoom(isZoomOut);\r\n    }\r\n\r\n    /**\r\n     * @for CanvasStageModel\r\n     * @method zoomOut\r\n     */\r\n    zoomOut() {\r\n        const isZoomOut = false;\r\n\r\n        this._updateZoom(isZoomOut);\r\n    }\r\n\r\n    /**\r\n     * Reset the current `#_scale` value to the `#_defaultScale`\r\n     *\r\n     * @for CanvasStageModel\r\n     * @method zoomReset\r\n     */\r\n    zoomReset() {\r\n        this._scale = this._defaultScale;\r\n\r\n        this._storeZoomLevel();\r\n        this._eventBus.trigger(EVENT.ZOOM_VIEWPORT);\r\n    }\r\n\r\n    /**\r\n     * Look for a stored `#_scale` value in localStorage\r\n     *\r\n     * When a stored value cannot be found, use the `SCALE.DEFAULT` value\r\n     *\r\n     * @for CanvasStageModel\r\n     * @method _retrieveZoomLevelFromStorage\r\n     * @return {number}\r\n     * @private\r\n     */\r\n    _retrieveZoomLevelFromStorageOrDefault() {\r\n        if (!_has(localStorage, STORAGE_KEY.ZOOM_LEVEL)) {\r\n            return SCALE.DEFAULT;\r\n        }\r\n\r\n        const storedScale = localStorage.getItem(STORAGE_KEY.ZOOM_LEVEL);\r\n\r\n        return storedScale;\r\n    }\r\n\r\n    /**\r\n     * Store the current `#_scale` value in localStorage\r\n     *\r\n     * @for CanvasStageModel\r\n     * @method _storeZoomLevel\r\n     * @private\r\n     */\r\n    _storeZoomLevel() {\r\n        localStorage.setItem(STORAGE_KEY.ZOOM_LEVEL, this._scale);\r\n    }\r\n\r\n    /**\r\n     * Update the current `#_scale` value\r\n     *\r\n     * @for CanvasStageModel\r\n     * @method _updateScale\r\n     * @param isZoomIn {boolean}\r\n     * @private\r\n     */\r\n    _updateScale(isZoomIn) {\r\n        if (isZoomIn) {\r\n            this._scale = Math.min(this._scale / SCALE.CHANGE_FACTOR, this._scaleMax);\r\n\r\n            return;\r\n        }\r\n\r\n        this._scale = Math.max(this._scale * SCALE.CHANGE_FACTOR, this._scaleMin);\r\n    }\r\n\r\n    /**\r\n     * Update the current `#_panX`, `#_panY`, and `#_scale` values\r\n     *\r\n     * When a user changes the zoom level, we must also adjust pan\r\n     * values to account for a change in `#_scale`. Pixel dimensions of\r\n     * the canvas don't change on zoom, but the `#_scale` does. So we\r\n     * must re-calculate current pan values with the updated `#_scale`\r\n     *\r\n     * Calling this method will trigger an `EventBus` event that the\r\n     * `CanvasController` is listening for that will trigger a deepRender\r\n     *\r\n     * @for CanvasStageModel\r\n     * @method _updateZoom\r\n     * @param isZoomIn {boolean}  flag for when use is zooming in\r\n     * @private\r\n     */\r\n    _updateZoom(isZoomIn) {\r\n        // store current pan in km, so it can be re-calculated with an updated `_#scale`\r\n        const previousX = round(this.translatePixelsToKilometers(this._panX));\r\n        const previousY = round(this.translatePixelsToKilometers(this._panY));\r\n\r\n        this._updateScale(isZoomIn);\r\n\r\n        // take previous pan values (in km) and calculate their current position\r\n        // based on the new `#_scale` value\r\n        const nextPanX = round(this._translateKilometersToPixels(previousX));\r\n        const nextPanY = round(this._translateKilometersToPixels(previousY));\r\n\r\n        this.updatePan(nextPanX, nextPanY);\r\n        this._storeZoomLevel();\r\n        this._eventBus.trigger(EVENT.ZOOM_VIEWPORT);\r\n    }\r\n}\r\n\r\nexport default new CanvasStageModel();\r\n","import $ from 'jquery';\r\nimport EventBus from '../lib/EventBus';\r\nimport { SELECTORS } from '../constants/selectors';\r\nimport { STORAGE_KEY } from '../constants/storageKeys';\r\nimport { EVENT } from '../constants/eventNames';\r\n\r\n/**\r\n * The controller class for the in-game changelog.\r\n *\r\n * @class ChangelogController\r\n */\r\nexport default class ChangelogController {\r\n    /**\r\n     * @constructor\r\n     * @param {ContentQueue} contentQueue\r\n     */\r\n    constructor(contentQueue) {\r\n        /**\r\n         * A string representation of the actual changelog.\r\n         *\r\n         * @property content\r\n         * @type {String}\r\n         */\r\n        this.content = null;\r\n\r\n        /**\r\n         * The content queue, used to load in the changelog data\r\n         *\r\n         * @property contentQueue\r\n         * @type {ContentQueue}\r\n         */\r\n        this.contentQueue = null;\r\n\r\n        /**\r\n         * The DOM of the changelog container, containing version, data, and dismiss.\r\n         *\r\n         * @property $changelogContainer\r\n         * @type {JQuery|HTMLElement}\r\n         */\r\n        this.$changelogContainer = null;\r\n\r\n        /**\r\n         * Changelog data element - where the text goes\r\n         *\r\n         * @property $changelogData\r\n         * @type {JQuery|HTMLElement}\r\n         */\r\n        this.$changelogData = null;\r\n\r\n        /**\r\n         * Toggle selector for the changelog\r\n         * You know, the button thing\r\n         *\r\n         * @property $changelogToggle\r\n         * @type {JQuery|HTMLElement}\r\n         */\r\n        this.$changelogToggle = null;\r\n\r\n        /**\r\n         * local reference to the EventBus\r\n         *\r\n         * @property _eventBus\r\n         * @type {EventBus}\r\n         */\r\n        this._eventBus = null;\r\n\r\n        this.init(contentQueue);\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * @for ChangelogController\r\n     * @method init\r\n     * @chainable\r\n     */\r\n    init(contentQueue) {\r\n        this.content = '<p>Loading...</p>';\r\n        this.contentQueue = contentQueue;\r\n        this._eventBus = EventBus;\r\n\r\n        this._createChildren();\r\n        this.$changelogData.html(this.content);\r\n        this._createHandlers();\r\n        this.enable();\r\n        this.loadChangelogContent();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for ChangelogController\r\n     * @method reset\r\n     * @chainable\r\n     */\r\n    reset() {\r\n        this.content = null;\r\n        this.contentQueue = null;\r\n        this.$changelogContainer = null;\r\n        this.$changelogData = null;\r\n        this.$changelogToggle = null;\r\n        this._eventBus = null;\r\n\r\n        this._resetHandlers();\r\n        this.disable();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for ChangelogController\r\n     * @method enable\r\n     */\r\n    enable() {\r\n        this._eventBus.on(EVENT.TOGGLE_CHANGELOG, this._onChangelogToggleHandler);\r\n    }\r\n\r\n    /**\r\n     * @for ChangelogController\r\n     * @method disable\r\n     */\r\n    disable() {\r\n        this.$changelogToggle.off(EVENT.TOGGLE_CHANGELOG, this._onChangelogToggleHandler);\r\n    }\r\n\r\n    /**\r\n     * Sets up the DOM class properties\r\n     *\r\n     * @for ChangelogController\r\n     * @method _createChildren\r\n     * @private\r\n     * @chainable\r\n     */\r\n    _createChildren() {\r\n        this.$changelogContainer = $(SELECTORS.DOM_SELECTORS.CHANGELOG_CONTAINER);\r\n        this.$changelogData = $(SELECTORS.DOM_SELECTORS.CHANGELOG_CONTENT);\r\n        this.$changelogToggle = $(SELECTORS.DOM_SELECTORS.TOGGLE_CHANGELOG);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Sets up the event handlers\r\n     *\r\n     * @for ChangelogController\r\n     * @method _createHandlers\r\n     * @private\r\n     * @chainable\r\n     */\r\n    _createHandlers() {\r\n        this._onChangelogToggleHandler = this._onChangelogToggle.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    /**\r\n     * Sets up the event handlers\r\n     *\r\n     * @for ChangelogController\r\n     * @method _resetHandlers\r\n     * @private\r\n     * @chainable\r\n     */\r\n    _resetHandlers() {\r\n        this._onChangelogToggleHandler = null;\r\n\r\n        return this;\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * Calls a changelog loader asynchronously. Calls `onLoadComplete` when\r\n     * the changelog data is successfully loaded. Stores data in\r\n     * `this.content`.\r\n     *\r\n     * @for ChangelogController\r\n     * @method loadChangelogContent\r\n     */\r\n    loadChangelogContent() {\r\n        const options = {\r\n            url: 'assets/changelog.json',\r\n            immediate: true\r\n        };\r\n        const changelogPromise = this.contentQueue.add(options);\r\n\r\n        changelogPromise.done((data /* , textStatus, jqXHR */) => {\r\n            this.content = data.changelog;\r\n            this.onLoadComplete();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Called when the changelog is loaded (the promise was resolved) as the\r\n     * callback from the deferred promise.\r\n     *\r\n     * @for ChangelogController\r\n     * @method onLoadComplete\r\n     */\r\n    onLoadComplete() {\r\n        this.isLoaded = true;\r\n        this.$changelogData.html(this.content);\r\n\r\n        if (this._shouldShowOnLoad()) {\r\n            this._onChangelogToggle();\r\n        }\r\n    }\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    /**\r\n     * Toggles visibility.\r\n     *\r\n     * @for ChangelogController\r\n     * @method _onChangelogToggle\r\n     * @private\r\n     */\r\n    _onChangelogToggle() {\r\n        this.$changelogToggle.toggleClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n        this.$changelogContainer.toggleClass(SELECTORS.CLASSNAMES.OPEN);\r\n    }\r\n\r\n    /**\r\n     * Determines whether the user has played this version before,\r\n     * and if the changelog should display on load.\r\n     *\r\n     * @for ChangelogController\r\n     * @method _shouldShowOnLoad\r\n     * @returns {Boolean} if the user has not played this version\r\n     */\r\n    _shouldShowOnLoad() {\r\n        const lastPlayedVersion = localStorage[STORAGE_KEY.ATC_LAST_VERSION];\r\n        const currentVersion = this.version;\r\n        const shouldDisplayChangelog = lastPlayedVersion !== currentVersion;\r\n\r\n        if (shouldDisplayChangelog) {\r\n            localStorage[STORAGE_KEY.ATC_LAST_VERSION] = currentVersion;\r\n        }\r\n\r\n        return shouldDisplayChangelog;\r\n    }\r\n}\r\n","import _map from 'lodash/map';\r\nimport { PARSED_COMMAND_NAME } from '../constants/inputConstants';\r\n\r\n/**\r\n * This class is returned from `CommandParser` on successful parsing.\r\n *\r\n * Commands are broken out into two categories: `System` and `Transmit`.\r\n * - System commands are zero or single argument commands that are used for interacting with the app\r\n *   itself. Things like `timewarp` or `tutorial` are examples of system commands.\r\n *\r\n * - Transmit commands are instructions meant for a specific aircraft within the controlled airspace.\r\n *   These commands can have zero to many arguments, depending on the command. Some examples of transmit\r\n *   commands are `to`, `taxi`, `hold`.\r\n *\r\n *\r\n * All available commands are defined in the `commandMap`. Two terms of note are alias and root command.\r\n * We would call the `takeoff` command a root command and `to` and `cto` aliases. The root command is the\r\n * one that shares the same key as the command definition which gives us the correct validator and parser.\r\n * The root command is also what the `AircraftModel` is expecting when it receives commands\r\n * from the `InputController`.\r\n *\r\n * @class ParsedCommand\r\n */\r\nexport default class ParsedCommand {\r\n    /**\r\n     * @constructor\r\n     * @for ParsedCommand\r\n     * @param {{}} command\r\n     * @param {array<AircraftCommandModel>} commandList\r\n     * @param {string} callsign\r\n     */\r\n    constructor(command = '', commandList = [], callsign = '') {\r\n        /**\r\n         * Command name\r\n         *\r\n         * Could be either Transmit or a System command\r\n         *\r\n         * This is consumed by the `InputController` after parsing here and is used to\r\n         * determine what to do with the parsed command(s)\r\n         *\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.command = command;\r\n\r\n        /**\r\n         * List of `AircraftCommandModel` objects.\r\n         *\r\n         * Each command is contained within a `AircraftCommandModel`, even System commands. This provides\r\n         * a consistent interface for obtaining commands and arguments (via getter) and also\r\n         * aloows for easy implementation of the legacy API structure.\r\n         *\r\n         * @type {array<AircraftCommandModel>}\r\n         */\r\n        this.commandList = commandList;\r\n\r\n        /**\r\n         * Aircraft callsign\r\n         *\r\n         * this is optional and not included with system commands\r\n         *\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.callsign = callsign;\r\n    }\r\n\r\n    /**\r\n     * Return an array of [commandName, ...args]\r\n     *\r\n     * We use this shape solely to match the existing api.\r\n     *\r\n     * When command is a System command:\r\n     * - commandList is assumed to have a length on 1\r\n     * - commandList[0].args[0] is assumed to have a single string value\r\n     *\r\n     * @property args\r\n     * @return {string|array<string>}\r\n     */\r\n    get args() {\r\n        if (this.command !== PARSED_COMMAND_NAME.TRANSMIT) {\r\n            return this.commandList[0].args;\r\n        }\r\n\r\n        return _map(this.commandList, (command) => command.nameAndArgs);\r\n    }\r\n}\r\n","import { AIRCRAFT_COMMAND_DEFINITION } from './aircraftCommandDefinitions';\r\n\r\n/**\r\n * A definition of a specific command and it's arguments.\r\n *\r\n * Conatins a command name, which maps 1:1 with a name defined in `commandMap.js` and `commandDefinitions.js`.\r\n * Commands may have an alias or many, we care only about the root command. The command map will map any\r\n * alias to a root command and this `AircraftCommandModel` is only concerned about those root commands. It has\r\n * no way of knowing what the original alias was, if one was used.\r\n *\r\n * Each `AircraftCommandModel` will be expected to have, at a minimum, a `name` and a matching\r\n * `AIRCRAFT_COMMAND_DEFINITION`.\r\n *\r\n * @class AircraftCommandModel\r\n */\r\nexport default class AircraftCommandModel {\r\n    /**\r\n     * @constructor\r\n     * @for AircraftCommandModel\r\n     */\r\n    constructor(name = '') {\r\n        /**\r\n         * command name, should match a command in the COMMANDS constant\r\n         *\r\n         * @property name\r\n         * @type {string}\r\n         */\r\n        this.name = name;\r\n\r\n        /**\r\n         * A reference to the AIRCRAFT_COMMAND_DEFINITION for this particular command.\r\n         * this gives us access to both the `validate` and `parse` methods\r\n         * that belong to this command.\r\n         *\r\n         * Storing this as an instance property allows us to do the lookup once\r\n         * and then make it available to the rest of the class so it can\r\n         * be referenced when needed.\r\n         *\r\n         * @property _commandDefinition\r\n         * @type {object}\r\n         * @private\r\n         */\r\n        this._commandDefinition = AIRCRAFT_COMMAND_DEFINITION[name];\r\n\r\n        /**\r\n         * list of command arguments\r\n         *\r\n         * - assumed to be the text command names\r\n         * - may be empty, depending on the command\r\n         * - should only ever be strings on initial set immediately after instantiation\r\n         * - will later be parsed via the `_commandDefinition.parse()` method to the\r\n         *   correct data types and shape\r\n         *\r\n         * @property args\r\n         * @type {array}\r\n         * @default []\r\n         */\r\n        this.args = [];\r\n\r\n        // TODO: may need to throw here if `_commandDefinition` is undefined\r\n    }\r\n\r\n    /**\r\n     * Return an array of [name, ...args]\r\n     *\r\n     * We use this shape solely to match the existing api.\r\n     *\r\n     * @property nameAndArgs\r\n     * @return {array}\r\n     */\r\n    get nameAndArgs() {\r\n        return [\r\n            this.name,\r\n            ...this.args\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * Send the initial args off to the validator\r\n     *\r\n     * @for AircraftCommandModel\r\n     * @method validateArgs\r\n     * @return {string|undefined}\r\n     */\r\n    validateArgs() {\r\n        if (typeof this._commandDefinition === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        return this._commandDefinition.validate(this.args);\r\n    }\r\n\r\n    /**\r\n     * Send the initial args, set from the `CommandParser` right after instantiation, off to\r\n     * the parser for formatting.\r\n     *\r\n     * @for AircraftCommandModel\r\n     * @method parseArgs\r\n     */\r\n    parseArgs() {\r\n        // this completely overwrites current args. this is intended because all args are received as\r\n        // strings but consumed as strings, numbers or booleans. and when the args are initially set\r\n        // they may not all be available yet\r\n        this.args = this._commandDefinition.parse(this.args);\r\n    }\r\n}\r\n","/**\r\n * Root commands defined in the `commandMap` have a matching definition defined here. This definition\r\n * give us access to vaildate and parse functions. Some commands don't require either function and simply\r\n * pass the arguments through via `noop`. Other commands commands have very unique demands for how\r\n * arguments are formatted, these functions let us validate and parse on a case by case basis.\r\n *\r\n * Keys are lowercased here so they can be accessed programatically using input string segments\r\n * that are converted to lowercase for ease of comparison.\r\n *\r\n * @fileoverview\r\n */\r\nimport { convertStringToNumber } from '../../utilities/unitConverters';\r\nimport {\r\n    zeroArgumentsValidator,\r\n    singleArgumentValidator,\r\n    zeroOrOneArgumentValidator,\r\n    altitudeValidator,\r\n    fixValidator,\r\n    headingValidator,\r\n    holdValidator,\r\n    squawkValidator,\r\n    optionalAltitudeValidator,\r\n    crossingValidator\r\n} from '../parsers/argumentValidators';\r\nimport {\r\n    altitudeParser,\r\n    headingParser,\r\n    holdParser,\r\n    timewarpParser,\r\n    optionalAltitudeParser,\r\n    crossingParser,\r\n    ilsParser\r\n} from '../parsers/argumentParsers';\r\n\r\n/**\r\n * A no-op function used for command definitions that do not need a parser\r\n *\r\n * This function will immediately return any arguments passed to it and is\r\n * used in place of an actual parser. this way `command.parse` can still\r\n * be called even with commands that don't need to be parsed.\r\n *\r\n * @function noop\r\n * @param args {*}\r\n * @return {*}\r\n */\r\nexport const noop = (args) => args;\r\n\r\n\r\n/**\r\n * Call `convertStringToNumber` and store the result in an array\r\n *\r\n * @function strToNumArray\r\n * @param args {*}\r\n */\r\nexport const strToNumArray = (args) => [convertStringToNumber(args)];\r\n\r\n/**\r\n * System and Aircraft command definitions that accept zero arguments\r\n *\r\n * @property ZERO_ARG_AIRCRAFT_COMMANDS\r\n * @type {Object}\r\n * @final\r\n */\r\nconst ZERO_ARG_AIRCRAFT_COMMANDS = {\r\n    // system commands\r\n    airac: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    auto: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    clear: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    pause: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    tutorial: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n\r\n    // Aircraft commands\r\n    abort: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    clearedAsFiled: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    delete: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    flyPresentHeading: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    takeoff: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    sayAltitude: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    sayAssignedAltitude: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    sayHeading: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    sayAssignedHeading: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    sayIndicatedAirspeed: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    sayAssignedSpeed: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    },\r\n    sayRoute: {\r\n        validate: zeroArgumentsValidator,\r\n        parse: noop\r\n    }\r\n};\r\n\r\n/**\r\n * System and Aircraft commands that accept a single argument\r\n *\r\n * these commands accept a single argument and may require further parsing, eg: (string -> number)\r\n *\r\n * @property SINGLE_ARG_AIRCRAFT_COMMANDS\r\n * @type {Object}\r\n * @final\r\n */\r\nconst SINGLE_ARG_AIRCRAFT_COMMANDS = {\r\n    airport: {\r\n        validate: singleArgumentValidator,\r\n        parse: noop\r\n    },\r\n    direct: {\r\n        validate: singleArgumentValidator,\r\n        parse: noop\r\n    },\r\n    expectArrivalRunway: {\r\n        validate: singleArgumentValidator,\r\n        parse: noop\r\n    },\r\n    ils: {\r\n        validate: singleArgumentValidator,\r\n        parse: ilsParser\r\n    },\r\n    land: {\r\n        validate: zeroOrOneArgumentValidator,\r\n        parse: noop\r\n    },\r\n    moveDataBlock: {\r\n        validate: singleArgumentValidator,\r\n        parse: noop\r\n    },\r\n    rate: {\r\n        validate: singleArgumentValidator,\r\n        // calling method is expecting an array with values that will get spread later, thus we purposly\r\n        // return an array here\r\n        parse: strToNumArray\r\n    },\r\n    reroute: {\r\n        validate: singleArgumentValidator,\r\n        parse: noop\r\n    },\r\n    route: {\r\n        validate: singleArgumentValidator,\r\n        parse: noop\r\n    },\r\n    sid: {\r\n        validate: singleArgumentValidator,\r\n        parse: noop\r\n    },\r\n    speed: {\r\n        validate: singleArgumentValidator,\r\n        // calling method is expecting an array with values that will get spread later, thus we purposly\r\n        // return an array here\r\n        parse: strToNumArray\r\n    },\r\n    star: {\r\n        validate: singleArgumentValidator,\r\n        parse: noop\r\n    }\r\n};\r\n\r\n/**\r\n * System and Aircraft commands that accept arguments specific to the command\r\n *\r\n * These definitions will likely reference functions for validate and parse that are specific only\r\n * to one command\r\n *\r\n * @property CUSTOM_ARG_AIRCRAFT_COMMANDS\r\n * @type {Object}\r\n * @final\r\n */\r\nconst CUSTOM_ARG_AIRCRAFT_COMMANDS = {\r\n    taxi: {\r\n        validate: zeroOrOneArgumentValidator,\r\n        parse: noop\r\n    },\r\n    cancelHold: {\r\n        validate: zeroOrOneArgumentValidator,\r\n        parse: noop\r\n    },\r\n\r\n    // these commands have specific argument requirements and may need to be parsed\r\n    // into the correct type (sting -> number)\r\n    altitude: {\r\n        validate: altitudeValidator,\r\n        parse: altitudeParser\r\n    },\r\n    cross: {\r\n        validate: crossingValidator,\r\n        parse: crossingParser\r\n    },\r\n    fix: {\r\n        validate: fixValidator,\r\n        parse: noop\r\n    },\r\n    heading: {\r\n        validate: headingValidator,\r\n        parse: headingParser\r\n    },\r\n    hold: {\r\n        validate: holdValidator,\r\n        parse: holdParser\r\n    },\r\n    squawk: {\r\n        validate: squawkValidator,\r\n        parse: noop\r\n    },\r\n    timewarp: {\r\n        validate: zeroOrOneArgumentValidator,\r\n        parse: timewarpParser\r\n    },\r\n    descendViaStar: {\r\n        validate: optionalAltitudeValidator,\r\n        parse: optionalAltitudeParser\r\n    },\r\n    climbViaSid: {\r\n        validate: optionalAltitudeValidator,\r\n        parse: optionalAltitudeParser\r\n    }\r\n};\r\n\r\n// TODO: This entire thing ought to be absorbed into aircraftCommandMap, to keep\r\n// all command definition information in a single place.\r\n/**\r\n * Single exported constant that combines all the definitions above\r\n *\r\n * @property AIRCRAFT_COMMAND_DEFINITION\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const AIRCRAFT_COMMAND_DEFINITION = {\r\n    ...ZERO_ARG_AIRCRAFT_COMMANDS,\r\n    ...SINGLE_ARG_AIRCRAFT_COMMANDS,\r\n    ...CUSTOM_ARG_AIRCRAFT_COMMANDS\r\n};\r\n","import _findKey from 'lodash/findKey';\r\n\r\n/**\r\n * Complete map of commands\r\n *\r\n * This list includes both System and Unicode commands, as well as all the various aircraft\r\n * commands.\r\n *\r\n * Aliased commands map to a single root command that is shared among all aliases. The values\r\n * here then map to a `AIRCRAFT_COMMAND_DEFINITION` which contains `validate` and `parse` functions for\r\n * each root command. Some commands have very unique demands for how arguments are formatted,\r\n * those functions let us do that on a case by case basis.\r\n *\r\n * Keys are lowercased here so they can be accessed programatically using input string segments\r\n * that are converted to lowercase for ease of comparison.\r\n *\r\n * @propery AIRCRAFT_COMMAND_MAP\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const AIRCRAFT_COMMAND_MAP = {\r\n    abort: {\r\n        aliases: ['abort'],\r\n        functionName: 'runAbort',\r\n        isSystemCommand: false\r\n    },\r\n    airac: {\r\n        aliases: ['airac'],\r\n        functionName: '',\r\n        isSystemCommand: true\r\n    },\r\n    airport: {\r\n        aliases: ['airport'],\r\n        functionName: '',\r\n        isSystemCommand: true\r\n    },\r\n    altitude: {\r\n        aliases: ['a', 'altitude', 'c', 'climb', 'd', 'descend'],\r\n        functionName: 'runAltitude',\r\n        isSystemCommand: false\r\n    },\r\n    auto: {\r\n        aliases: ['auto'],\r\n        functionName: '',\r\n        isSystemCommand: true\r\n    },\r\n    clear: {\r\n        aliases: ['clear'],\r\n        functionName: '',\r\n        isSystemCommand: true\r\n    },\r\n    clearedAsFiled: {\r\n        aliases: ['caf', 'clearedAsFiled'],\r\n        functionName: 'runClearedAsFiled',\r\n        isSystemCommand: false\r\n    },\r\n    climbViaSid: {\r\n        aliases: ['climbViaSid', 'cvs'],\r\n        functionName: 'runClimbViaSID',\r\n        isSystemCommand: false\r\n    },\r\n    cross: {\r\n        aliases: ['cross', 'cr', 'x'],\r\n        functionName: 'runCross',\r\n        isSystemCommand: false\r\n    },\r\n    delete: {\r\n        aliases: ['del', 'delete', 'kill'],\r\n        functionName: 'runDelete',\r\n        isSystemCommand: false\r\n    },\r\n    descendViaStar: {\r\n        aliases: ['descendViaStar', 'dvs'],\r\n        functionName: 'runDescendViaStar',\r\n        isSystemCommand: false\r\n    },\r\n    direct: {\r\n        aliases: ['dct', 'direct', 'pd'],\r\n        functionName: 'runDirect',\r\n        isSystemCommand: false\r\n    },\r\n    cancelHold: {\r\n        aliases: ['exithold', 'cancelhold', 'continue', 'nohold', 'xh'],\r\n        functionName: 'runCancelHoldingPattern',\r\n        isSystemCommand: false\r\n    },\r\n    expectArrivalRunway: {\r\n        aliases: ['e'],\r\n        functionName: 'runExpectArrivalRunway',\r\n        isSystemCommand: false\r\n    },\r\n    fix: {\r\n        aliases: ['f', 'fix', 'track'],\r\n        functionName: 'runFix',\r\n        isSystemCommand: false\r\n    },\r\n    flyPresentHeading: {\r\n        aliases: ['fph'],\r\n        functionName: 'runFlyPresentHeading',\r\n        isSystemCommand: false\r\n    },\r\n    heading: {\r\n        aliases: ['fh', 'h', 'heading', 't', 'turn'],\r\n        functionName: 'runHeading',\r\n        isSystemCommand: false\r\n    },\r\n    hold: {\r\n        aliases: ['hold'],\r\n        functionName: 'runHold',\r\n        isSystemCommand: false\r\n    },\r\n    ils: {\r\n        aliases: ['*', 'i', 'ils'],\r\n        functionName: 'runIls',\r\n        isSystemCommand: false\r\n    },\r\n    land: {\r\n        aliases: ['land'],\r\n        functionName: 'runLand',\r\n        isSystemCommand: false\r\n    },\r\n    moveDataBlock: {\r\n        aliases: ['`'],\r\n        functionName: 'runMoveDataBlock',\r\n        isSystemCommand: false\r\n    },\r\n    pause: {\r\n        aliases: ['pause'],\r\n        functionName: '',\r\n        isSystemCommand: true\r\n    },\r\n    rate: {\r\n        aliases: ['rate'],\r\n        functionName: '',\r\n        isSystemCommand: true\r\n    },\r\n    reroute: {\r\n        aliases: ['reroute', 'rr'],\r\n        functionName: 'runReroute',\r\n        isSystemCommand: false\r\n    },\r\n    route: {\r\n        aliases: ['route'],\r\n        functionName: 'runRoute',\r\n        isSystemCommand: false\r\n    },\r\n    sayAltitude: {\r\n        aliases: ['sa'],\r\n        functionName: 'runSayAltitude',\r\n        isSystemCommand: false\r\n    },\r\n    sayAssignedAltitude: {\r\n        aliases: ['saa'],\r\n        functionName: 'runSayAssignedAltitude',\r\n        isSystemCommand: false\r\n    },\r\n    sayAssignedHeading: {\r\n        aliases: ['sah'],\r\n        functionName: 'runSayAssignedHeading',\r\n        isSystemCommand: false\r\n    },\r\n    sayAssignedSpeed: {\r\n        aliases: ['sas'],\r\n        functionName: 'runSayAssignedSpeed',\r\n        isSystemCommand: false\r\n    },\r\n    sayHeading: {\r\n        aliases: ['sh'],\r\n        functionName: 'runSayHeading',\r\n        isSystemCommand: false\r\n    },\r\n    sayIndicatedAirspeed: {\r\n        aliases: ['si'],\r\n        functionName: 'runSayIndicatedAirspeed',\r\n        isSystemCommand: false\r\n    },\r\n    sayRoute: {\r\n        aliases: ['sr'],\r\n        functionName: 'runSayRoute',\r\n        isSystemCommand: false\r\n    },\r\n    sid: {\r\n        aliases: ['sid'],\r\n        functionName: 'runSID',\r\n        isSystemCommand: false\r\n    },\r\n    speed: {\r\n        aliases: ['-', '+', 'slow', 'sp', 'speed'],\r\n        functionName: 'runSpeed',\r\n        isSystemCommand: false\r\n    },\r\n    squawk: {\r\n        aliases: ['sq', 'squawk'],\r\n        functionName: 'runSquawk',\r\n        isSystemCommand: false\r\n    },\r\n    star: {\r\n        aliases: ['star'],\r\n        functionName: 'runSTAR',\r\n        isSystemCommand: false\r\n    },\r\n    takeoff: {\r\n        aliases: ['/', 'cto', 'to', 'takeoff'],\r\n        functionName: 'runTakeoff',\r\n        isSystemCommand: false\r\n    },\r\n    taxi: {\r\n        aliases: ['taxi', 'w', 'wait'],\r\n        functionName: 'runTaxi',\r\n        isSystemCommand: false\r\n    },\r\n    timewarp: {\r\n        aliases: ['timewarp', 'tw'],\r\n        functionName: '',\r\n        isSystemCommand: true\r\n    },\r\n    tutorial: {\r\n        aliases: ['tutorial'],\r\n        functionName: '',\r\n        isSystemCommand: true\r\n    }\r\n};\r\n\r\n/**\r\n * @property EXPEDITE\r\n * @type {array}\r\n * @final\r\n */\r\nexport const EXPEDITE = ['expedite', 'ex'];\r\n\r\n/**\r\n * Get the name of a command when given any of that command's aliases\r\n *\r\n * @function findCommandNameWithAlias\r\n * @param commandAlias {string}\r\n * @return {string}\r\n */\r\nexport function findCommandNameWithAlias(commandAlias) {\r\n    return _findKey(AIRCRAFT_COMMAND_MAP, (command) => command.aliases.indexOf(commandAlias) !== -1);\r\n}\r\n","import _compact from 'lodash/compact';\r\nimport _forEach from 'lodash/forEach';\r\nimport _isString from 'lodash/isString';\r\nimport _map from 'lodash/map';\r\nimport _tail from 'lodash/tail';\r\nimport AircraftCommandModel from '../aircraftCommand/AircraftCommandModel';\r\nimport {\r\n    AIRCRAFT_COMMAND_MAP,\r\n    findCommandNameWithAlias\r\n} from '../aircraftCommand/aircraftCommandMap';\r\nimport { PARSED_COMMAND_NAME } from '../../constants/inputConstants';\r\nimport ParsedCommand from '../ParsedCommand';\r\n\r\n/**\r\n * Symbol used to split the command string as it enters the class.\r\n *\r\n * @property COMMAND_ARGS_SEPARATOR\r\n * @type {string}\r\n * @final\r\n */\r\nconst COMMAND_ARGS_SEPARATOR = ' ';\r\n\r\n/**\r\n * This class is responsible for taking the content of the `$commandInput` and parsing it\r\n * out into commands and arguments.\r\n *\r\n * Everything this class needs comes in as a single string provided by `InputController.input_run()`.\r\n * ex:\r\n * - `timewarp 50`\r\n * - `AA777 fh 0270 d 050 sp 200`\r\n * - `AA777 hold dumba left 2min`\r\n *\r\n * **Differentiation of commands and arguments is determined by splitting the string on an empty space. This\r\n * is very important, so legacy commands did not have spaces between the command and argument. With this\r\n * implementation _every_ command shall have a space between itself and it's arguments.**\r\n *\r\n * Commands are broken out into two categories: `System` and `Transmit`.\r\n * - System commands are zero or single argument commands that are used for interacting with the app\r\n *   itself. Things like `timewarp` or `tutorial` are examples of system commands.\r\n *\r\n * - Transmit commands are instructions meant for a specific aircraft within the controlled airspace.\r\n *   These commands can have zero to many arguments, depending on the command. Some examples of transmit\r\n *   commands are `to`, `taxi`, `hold`.\r\n *\r\n * Commands go through a lifecycle as they move from raw to parsed:\r\n * - user types command and presses enter\r\n * - command string is captured via input value, then passed as an argument to this class\r\n * - determine if command string is a `System Command` or `Transmit`\r\n * - creation of `AircraftCommandModel` objects for each command/argument group found\r\n * - validate command arguments (number of arguments and data type)\r\n * - parse command arguments\r\n *\r\n * All available commands are defined in the `commandMap`. Two terms of note are alias and root command.\r\n * We would call the `takeoff` command a root command and `to` and `cto` aliases. The root command is the\r\n * one that shares the same key as the command definition which gives us the correct validator and parser.\r\n * The root command is also what the `AircraftModel` is expecting when it receives commands\r\n * from the `InputController`.\r\n *\r\n * @class CommandParser\r\n */\r\nexport default class CommandParser {\r\n    /**\r\n     * @constructor\r\n     * @for CommandParser\r\n     * @param rawCommandWithArgs {string}  string present in the `$commandInput` when the user pressed `enter`\r\n     */\r\n    constructor(rawCommandWithArgs = '') {\r\n        if (!_isString(rawCommandWithArgs)) {\r\n            // istanbul ignore next\r\n            // eslint-disable-next-line max-len\r\n            throw new TypeError(`Invalid parameter. AircraftCommandParser expects a string but received ${typeof rawCommandWithArgs}`);\r\n        }\r\n\r\n        /**\r\n         * Command name\r\n         *\r\n         * Could be either Transmit or a System command\r\n         *\r\n         * This is consumed by the `InputController` after parsing here and is used to\r\n         * determine what to do with the parsed command(s)\r\n         *\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.command = '';\r\n\r\n        /**\r\n         * Aircraft callsign\r\n         *\r\n         * this is optional and not included with system commands\r\n         *\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.callsign = '';\r\n\r\n        /**\r\n         * List of `AircraftCommandModel` objects.\r\n         *\r\n         * Each command is contained within a `AircraftCommandModel`, even System commands. This provides\r\n         * a consistent interface for obtaining commands and arguments (via getter) and also\r\n         * aloows for easy implementation of the legacy API structure.\r\n         *\r\n         * @type {array<AircraftCommandModel>}\r\n         */\r\n        this.commandList = [];\r\n\r\n        this._extractCommandsAndArgs(rawCommandWithArgs.toLowerCase());\r\n    }\r\n\r\n    /**\r\n     * Returns the parsed command.\r\n     * @return ParsedCommand\r\n     */\r\n    parse() {\r\n        return new ParsedCommand(this.command, this.commandList, this.callsign);\r\n    }\r\n\r\n    /**\r\n     * Accept the entire string provided to the constructor and attempt to break it up into:\r\n     * - System command and its arguments\r\n     * - Transmit commands and thier arguments\r\n     *\r\n     * @for CommandParser\r\n     * @method _extractCommandsAndArgs\r\n     * @param rawCommandWithArgs {string}\r\n     * @private\r\n     */\r\n    _extractCommandsAndArgs(rawCommandWithArgs) {\r\n        const commandOrCallsignIndex = 0;\r\n        const commandArgSegmentsWithCallsign = rawCommandWithArgs.split(COMMAND_ARGS_SEPARATOR).filter((t) => t);\r\n        const callsignOrSystemCommandName = commandArgSegmentsWithCallsign[commandOrCallsignIndex];\r\n        // effectively a slice of the array that returns everything but the first item\r\n        const commandArgSegments = _tail(commandArgSegmentsWithCallsign);\r\n\r\n        if (this._isSystemCommand(callsignOrSystemCommandName)) {\r\n            this._buildSystemCommandModel(commandArgSegmentsWithCallsign);\r\n\r\n            return;\r\n        }\r\n\r\n        this._buildTransmitAircraftCommandModels(callsignOrSystemCommandName, commandArgSegments);\r\n    }\r\n\r\n    /**\r\n     * Build a `AircraftCommandModel` for a System command then add that model to the `commandList`\r\n     *\r\n     * @for CommandParser\r\n     * @method _buildSystemCommandModel\r\n     * @private\r\n     */\r\n    _buildSystemCommandModel(commandArgSegments) {\r\n        const commandIndex = 0;\r\n        const argIndex = 1;\r\n        const commandName = findCommandNameWithAlias(commandArgSegments[commandIndex]);\r\n        const commandArgs = commandArgSegments[argIndex];\r\n        const aircraftCommandModel = new AircraftCommandModel(commandName);\r\n\r\n        // undefined will happen with zeroArgument system commands, so we check for that here\r\n        // and add only when args are defined\r\n        if (typeof commandArgs !== 'undefined') {\r\n            aircraftCommandModel.args.push(commandArgs);\r\n        }\r\n\r\n        this.command = commandName;\r\n        this.commandList.push(aircraftCommandModel);\r\n\r\n        this._validateAndParseCommandArguments();\r\n    }\r\n\r\n    /**\r\n     * Build `AircraftCommandModel` objects for each transmit commands then add them to the `commandList`\r\n     *\r\n     * @private\r\n     */\r\n    _buildTransmitAircraftCommandModels(callsignOrSystemCommandName, commandArgSegments) {\r\n        this.command = PARSED_COMMAND_NAME.TRANSMIT;\r\n        this.callsign = callsignOrSystemCommandName;\r\n        this.commandList = this._buildCommandList(commandArgSegments);\r\n\r\n        this._validateAndParseCommandArguments();\r\n    }\r\n\r\n    /**\r\n     * Loop through the commandArgSegments array and either create a new `AircraftCommandModel` or add\r\n     * arguments to a `AircraftCommandModel`.\r\n     *\r\n     * commandArgSegments will contain both commands and arguments (very contrived example):\r\n     * - `[cmd, arg, arg, cmd, cmd, arg, arg, arg]`\r\n     *\r\n     * this method is expecting that\r\n     * the first item it receives, that is not a space, is a command. we then push each successive\r\n     * array item to the args array until we find another command. then we repeat the process.\r\n     *\r\n     * this allows us to create several `AircraftCommandModel` with arguments and only loop over them once.\r\n     *\r\n     * @for CommandParser\r\n     * @method _buildCommandList\r\n     * @param commandArgSegments {array<string>}\r\n     * @return {array<AircraftCommandModel>}\r\n     * @private\r\n     */\r\n    _buildCommandList(commandArgSegments) {\r\n        const commandList = [];\r\n        let aircraftCommandModel;\r\n\r\n        for (let i = 0; i < commandArgSegments.length; i++) {\r\n            const commandOrArg = commandArgSegments[i];\r\n            const commandName = findCommandNameWithAlias(commandOrArg);\r\n\r\n            if (typeof aircraftCommandModel === 'undefined') {\r\n                if (typeof commandName === 'undefined') {\r\n                    continue;\r\n                }\r\n\r\n                aircraftCommandModel = new AircraftCommandModel(commandName);\r\n            } else {\r\n                if (typeof commandName === 'undefined') {\r\n                    aircraftCommandModel.args.push(commandOrArg);\r\n\r\n                    continue;\r\n                }\r\n\r\n                commandList.push(aircraftCommandModel);\r\n\r\n                aircraftCommandModel = new AircraftCommandModel(commandName);\r\n            }\r\n        }\r\n\r\n        // add last command to array\r\n        commandList.push(aircraftCommandModel);\r\n\r\n        return _compact(commandList);\r\n    }\r\n\r\n    /**\r\n     * Fire off the `_validateCommandArguments` method and throws any errors returned\r\n     *\r\n     * @for CommandParser\r\n     * @method _validateAndParseCommandArguments\r\n     * @private\r\n     */\r\n    _validateAndParseCommandArguments() {\r\n        const validationErrors = this._validateCommandArguments();\r\n\r\n        if (validationErrors.length > 0) {\r\n            _forEach(validationErrors, (error) => {\r\n                throw error;\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * For each `AircraftCommandModel` in the `commandList`, first validate it's arguments\r\n     * then parse those arguments into a consumable array.\r\n     *\r\n     * @for CommandParser\r\n     * @method _validateCommandArguments\r\n     * @private\r\n     */\r\n    _validateCommandArguments() {\r\n        const validatedCommandList = _map(this.commandList, (command) => {\r\n            if (typeof command === 'undefined') {\r\n                return null;\r\n            }\r\n\r\n            const errorMessage = command.validateArgs();\r\n\r\n            if (errorMessage) {\r\n                // we only return here so all the errors can be thrown at once\r\n                // from within the calling method\r\n                return errorMessage;\r\n            }\r\n\r\n            command.parseArgs();\r\n        });\r\n\r\n        return _compact(validatedCommandList);\r\n    }\r\n\r\n    /**\r\n     * Encapsulation of boolean logic used to determine if the `callsignOrSystemCommandName`\r\n     * is in fact a system command.\r\n     *\r\n     *\r\n     * @for CommandParser\r\n     * @method _isSystemCommand\r\n     * @param callsignOrSystemCommandName {string}\r\n     * @return {boolean}\r\n     */\r\n    _isSystemCommand(callsignOrSystemCommandName) {\r\n        const commandName = findCommandNameWithAlias(callsignOrSystemCommandName);\r\n\r\n        if (typeof commandName === 'undefined') {\r\n            return false;\r\n        }\r\n\r\n        return AIRCRAFT_COMMAND_MAP[commandName].isSystemCommand;\r\n    }\r\n}\r\n","import _defaultTo from 'lodash/defaultTo';\r\nimport { isValidCourseString, isValidDirectionString } from './argumentValidators';\r\nimport { REGEX } from '../../constants/globalConstants';\r\nimport {\r\n    convertToThousands,\r\n    convertStringToNumber\r\n} from '../../utilities/unitConverters';\r\n\r\n/**\r\n * Enumeration of possible the hold command argument names.\r\n *\r\n * Enumerated here base these nanes are shared accross several functions and this\r\n * provides a single source of truth.\r\n *\r\n * @property HOLD_COMMAND_ARG_NAMES\r\n * @type {Object}\r\n * @final\r\n */\r\nconst HOLD_COMMAND_ARG_NAMES = {\r\n    TURN_DIRECTION: 'turnDirection',\r\n    LEG_LENGTH: 'legLength',\r\n    FIX_NAME: 'fixName',\r\n    RADIAL: 'radial'\r\n};\r\n\r\n/**\r\n * Parses the the runway of an ils command.\r\n *\r\n * @function ilsParser\r\n * @param args {array}\r\n */\r\n// TODO: define the second value\r\nexport const ilsParser = (args) => [null, args[0]];\r\n\r\n/**\r\n * Converts a flight level altitude to a number in thousands and converts second arg to a boolean\r\n *\r\n * @function altitudeParser\r\n * @param args {array}\r\n * @return {array<number, boolean>}\r\n */\r\nexport const altitudeParser = (args) => {\r\n    const altitude = convertToThousands(args[0]);\r\n    // the validator will have already caught an invalid value here. if one exists, it is assumed to be valid and\r\n    // thus we return true. otherwise its false\r\n    const shouldExpedite = typeof args[1] !== 'undefined';\r\n\r\n    return [altitude, shouldExpedite];\r\n};\r\n\r\n/**\r\n * Converts a flight level altitude to a number in thousands if available\r\n *\r\n * @function optionalAltitudeParser\r\n * @param args {array}\r\n * @return {array<number>}\r\n */\r\nexport const optionalAltitudeParser = (args) => {\r\n    return args.length !== 0 ? [convertToThousands(args[0])] : [];\r\n};\r\n\r\n/**\r\n * Accepts a direction string:\r\n * - `left / l / right / r`\r\n *\r\n * and returns `left / right`\r\n *\r\n * @function directionNormalizer\r\n * @param direction {string}\r\n * @return normalizedDirection {string}\r\n */\r\nexport const directionNormalizer = (direction) => {\r\n    let normalizedDirection = direction;\r\n\r\n    if (direction === 'l') {\r\n        normalizedDirection = 'left';\r\n    } else if (direction === 'r') {\r\n        normalizedDirection = 'right';\r\n    }\r\n\r\n    return normalizedDirection;\r\n};\r\n\r\n/**\r\n * Returns a consistent array with the same shape no matter the number of arguments received\r\n *\r\n * Converts a flight level altitude to a number in thousands and converts second arg to a boolean\r\n *\r\n * @function headingParser\r\n * @param args {array}\r\n * @return {array<string, number, boolean>}\r\n */\r\nexport const headingParser = (args) => {\r\n    let direction;\r\n    let heading;\r\n    let isIncremental = false;\r\n\r\n    switch (args.length) {\r\n        case 1:\r\n            // existing api is expeting undefined values to be exactly null\r\n            direction = null;\r\n            heading = convertStringToNumber(args[0]);\r\n\r\n            return [direction, heading, isIncremental];\r\n        case 2:\r\n            isIncremental = args[1].length === 2 || args[1].length === 1;\r\n            direction = directionNormalizer(args[0]);\r\n            heading = convertStringToNumber(args[1]);\r\n\r\n            return [direction, heading, isIncremental];\r\n        default:\r\n            throw new Error('An error ocurred parsing the Heading arguments');\r\n    }\r\n};\r\n\r\n/**\r\n * Abstracted boolean logic used to detmine if a string contains `min` or `nm`.\r\n *\r\n * This is useful specifically with the `findHoldCommandByType`.\r\n *\r\n * @function isLegLengthArg\r\n * @param arg {string}\r\n * @return {boolean}\r\n */\r\nexport const isLegLengthArg = (arg) => REGEX.HOLD_DISTANCE.test(arg);\r\n\r\n/**\r\n * Given a type and an argument list, find the first occurance of `type` from within the argument list.\r\n *\r\n * We are looking for one of three things here:\r\n * - `turnDirection` - a variation of left or right\r\n * - `legLength` - length of hold leg in either minutes (min) or nautical miles (nm)\r\n * - `fixName` - assumed to be a string that isn't a `turnDirection` or `legLength`. The parser has no way of\r\n *               knowing if a certain string is an actual `fixName`. We can only determine that it isn't a\r\n *               `turnDirection` or `legLength`. This will error from within the `runHold` method if the\r\n *               `fixName` is not valid.\r\n *\r\n * @function findHoldCommandByType\r\n * @param type {HOLD_COMMAND_ARG_NAMES}\r\n * @param args {array}\r\n * @return {string|null}\r\n */\r\nexport const findHoldCommandByType = (type, args) => {\r\n    for (let i = 0; i < args.length; i++) {\r\n        const arg = args[i];\r\n\r\n        switch (type) {\r\n            case HOLD_COMMAND_ARG_NAMES.TURN_DIRECTION:\r\n                if (!isValidDirectionString(arg)) {\r\n                    continue;\r\n                }\r\n\r\n                // make sure we return only `left` or `right`\r\n                return directionNormalizer(arg);\r\n            case HOLD_COMMAND_ARG_NAMES.LEG_LENGTH:\r\n                if (!isLegLengthArg(arg)) {\r\n                    continue;\r\n                }\r\n\r\n                return arg;\r\n            case HOLD_COMMAND_ARG_NAMES.FIX_NAME:\r\n                if (isValidDirectionString(arg) || isLegLengthArg(arg)) {\r\n                    continue;\r\n                }\r\n\r\n                return arg;\r\n            case HOLD_COMMAND_ARG_NAMES.RADIAL:\r\n                if (!isValidCourseString(arg)) {\r\n                    continue;\r\n                }\r\n\r\n                return convertStringToNumber(arg);\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n// TODO: This duplicates work being done with initializing WaypointModel._holdParameters\r\n//        We must determine how best to achieve this and remove the duplicated effort.\r\n/**\r\n * The `hold` command accepts arguments in any order thus, we use the `findHoldCommandByType` helper\r\n * method to do that for us. This provides an easy way tp find the correct argument, no matter the order,\r\n * and consistently return an array of the same shape.\r\n *\r\n * @function holdParser\r\n * @param args {array}\r\n * @return {array<string>}\r\n */\r\nexport const holdParser = (args) => {\r\n    // existing api is expeting undefined values to be exactly null\r\n    const fixName = findHoldCommandByType(HOLD_COMMAND_ARG_NAMES.FIX_NAME, args);\r\n    const turnDirection = _defaultTo(\r\n        findHoldCommandByType(HOLD_COMMAND_ARG_NAMES.TURN_DIRECTION, args),\r\n        null\r\n    );\r\n    const legLength = _defaultTo(\r\n        findHoldCommandByType(HOLD_COMMAND_ARG_NAMES.LEG_LENGTH, args),\r\n        null\r\n    );\r\n    const radial = _defaultTo(\r\n        findHoldCommandByType(HOLD_COMMAND_ARG_NAMES.RADIAL, args),\r\n        null\r\n    );\r\n\r\n    return [turnDirection, legLength, fixName, radial];\r\n};\r\n\r\n/**\r\n * the `timewarp` command needs to be able to provide a default value,\r\n * this parser allows us to do that.\r\n *\r\n * @function timewarpParser\r\n * @param  {array|undefined} [args=[]]\r\n * @return {array<number>}\r\n */\r\nexport const timewarpParser = (args = []) => {\r\n    const defaultTimewarpValue = 1;\r\n\r\n    if (args.length === 0) {\r\n        return [defaultTimewarpValue];\r\n    }\r\n\r\n    // calling method is expecting an array with values that will get spread later, thus we purposly\r\n    // return an array here\r\n    return [\r\n        convertStringToNumber(args[0])\r\n    ];\r\n};\r\n\r\n/**\r\n * Convert the altitude argument from flight level number (i.e. 180) to feet in thousands (i.e. 18000).\r\n *\r\n * @function crossingParser\r\n * @param  args {array} [fix name, altitude]\r\n * @return {array<string, number>}\r\n */\r\nexport const crossingParser = (args = []) => {\r\n    const fix = args[0];\r\n\r\n    let altitude;\r\n    let speed;\r\n\r\n    // Set i to 1 to skip fixName\r\n    for (let i = 1; i < args.length; i++) {\r\n        if (args[i][0].toLowerCase() === 'a') {\r\n            altitude = convertToThousands(args[i].toString()\r\n                .substr(1));\r\n        } else if (args[i][0].toLowerCase() === 's') {\r\n            speed = convertStringToNumber(args[i].toString()\r\n                .substr(1));\r\n        }\r\n    }\r\n\r\n    return [fix, altitude, speed];\r\n};\r\n","import _isNaN from 'lodash/isNaN';\r\nimport _isString from 'lodash/isString';\r\nimport _forEach from 'lodash/forEach';\r\nimport { convertStringToNumber } from '../../utilities/unitConverters';\r\nimport { EXPEDITE } from '../aircraftCommand/aircraftCommandMap';\r\nimport { ERROR_MESSAGE } from './parserMessages';\r\nimport {\r\n    INVALID_INDEX,\r\n    REGEX\r\n} from '../../constants/globalConstants';\r\n\r\n/**\r\n * Check that `args` has exactly zero values\r\n *\r\n * @function zeroArgumentsValidator\r\n * @param args {array}\r\n * @return {string|undefined}\r\n */\r\nexport const zeroArgumentsValidator = (args = []) => {\r\n    if (args.length !== 0) {\r\n        return ERROR_MESSAGE.ZERO_ARG_LENGTH;\r\n    }\r\n};\r\n\r\n/**\r\n * Checks that `args` has exactly one value\r\n *\r\n * @function singleArgumentValidator\r\n * @param args {array}\r\n * @return {string|undefined}\r\n */\r\nexport const singleArgumentValidator = (args = []) => {\r\n    if (args.length !== 1) {\r\n        return ERROR_MESSAGE.SINGLE_ARG_LENGTH;\r\n    }\r\n};\r\n\r\n/**\r\n * Checks that `args` has exactly zero or one value\r\n *\r\n * @function zeroOrOneArgumentValidator\r\n * @param args {array}\r\n * @return {string|undefined}\r\n */\r\nexport const zeroOrOneArgumentValidator = (args = []) => {\r\n    if (args.length > 1) {\r\n        return ERROR_MESSAGE.ZERO_OR_ONE_ARG_LENGTH;\r\n    }\r\n};\r\n\r\n/**\r\n * Checks that `args` has exactly one or two values\r\n *\r\n * @function oneOrTwoArgumentValidator\r\n * @param args {array}\r\n * @return {string|undefined}\r\n */\r\nexport const oneOrTwoArgumentValidator = (args = []) => {\r\n    if (args.length < 1 || args.length > 2) {\r\n        return ERROR_MESSAGE.ONE_OR_TWO_ARG_LENGTH;\r\n    }\r\n};\r\n\r\n/**\r\n * Checks that `args` has exactly one, two or three values\r\n *\r\n * @function oneToThreeArgumentsValidator\r\n * @param args {array}\r\n * @return {string|undefined}\r\n */\r\nexport const oneToThreeArgumentsValidator = (args = []) => {\r\n    if (args.length === 0 || args.length > 3) {\r\n        return ERROR_MESSAGE.ONE_TO_THREE_ARG_LENGTH;\r\n    }\r\n};\r\n\r\n/**\r\n * Checks that `args` has exactly one or three values\r\n *\r\n * @function oneOrThreeArgumentsValidator\r\n * @param args {array}\r\n * @return {string|undefined}\r\n */\r\nexport const oneOrThreeArgumentsValidator = (args = []) => {\r\n    if (args.length !== 1 && args.length !== 3) {\r\n        return ERROR_MESSAGE.ONE_OR_THREE_ARG_LENGTH;\r\n    }\r\n};\r\n\r\n/**\r\n * Checks that `args` has exactly two or three values\r\n *\r\n * @function twoOrThreeArgumentsValidator\r\n * @param args {array}\r\n * @return {string|undefined}\r\n */\r\nexport const twoOrThreeArgumentsValidator = (args = []) => {\r\n    if (args.length !== 2 && args.length !== 3) {\r\n        return ERROR_MESSAGE.TWO_OR_THREE_ARG_LENGTH;\r\n    }\r\n};\r\n\r\n/**\r\n * Checks that args is the required length and the data is of the correct type\r\n *\r\n * ```\r\n * Allowed argument shapes:\r\n * - ['030']\r\n * - ['030', 'expedite']\r\n * - ['030', 'ex']\r\n * ```\r\n *\r\n * @function altitudeValidator\r\n * @param args {array}\r\n * @return {string|undefined}\r\n */\r\nexport const altitudeValidator = (args = []) => {\r\n    const hasLengthError = oneOrTwoArgumentValidator(args);\r\n\r\n    if (hasLengthError) {\r\n        return hasLengthError;\r\n    }\r\n\r\n    const numberFromString = convertStringToNumber(args[0]);\r\n\r\n    if (_isNaN(numberFromString)) {\r\n        return ERROR_MESSAGE.ALTITUDE_MUST_BE_NUMBER;\r\n    }\r\n\r\n    if (args.length === 2 && EXPEDITE.indexOf(args[1]) === INVALID_INDEX) {\r\n        return ERROR_MESSAGE.ALTITUDE_EXPEDITE_ARG;\r\n    }\r\n};\r\n\r\n/**\r\n * Checks that there is exactly zero or one value and the data is of the correct type\r\n *\r\n * ```\r\n * Allowed argument shapes:\r\n * - ['030']\r\n * ```\r\n *\r\n * @function optionalAltitudeValidator\r\n * @param args {array}\r\n * @return {string|undefined}\r\n */\r\nexport const optionalAltitudeValidator = (args = []) => {\r\n    const hasLengthError = zeroOrOneArgumentValidator(args);\r\n\r\n    if (hasLengthError) {\r\n        return hasLengthError;\r\n    }\r\n\r\n    if (args.length !== 0) {\r\n        return altitudeValidator(args);\r\n    }\r\n};\r\n\r\n/**\r\n * Verifies a list of fix names are all strings and that there is at least one\r\n *\r\n * @function fixValidator\r\n * @param args {array}\r\n * @return {array<string>}\r\n */\r\nexport const fixValidator = (args = []) => {\r\n    let hasTypeError;\r\n\r\n    if (args.length < 1) {\r\n        return ERROR_MESSAGE.ONE_OR_MORE_ARG_LENGTH;\r\n    }\r\n\r\n    _forEach(args, (arg) => {\r\n        if (!_isString(arg) && !hasTypeError) {\r\n            hasTypeError = ERROR_MESSAGE.MUST_BE_STRING;\r\n        }\r\n    });\r\n\r\n    if (hasTypeError) {\r\n        return hasTypeError;\r\n    }\r\n};\r\n\r\n/**\r\n * Tests if value is exactly a 3 digit decimal number\r\n * between 001 and 360\r\n *\r\n * @function isValidCourseString\r\n * @param value {string}\r\n * @returns {boolean}\r\n */\r\nexport const isValidCourseString = (value) => {\r\n    // Can't rely on parseInt/convertStringToNumber as it'll parse 1min => 1\r\n    if (!REGEX.THREE_DIGIT_NUMBER.test(value)) {\r\n        return false;\r\n    }\r\n\r\n    const course = convertStringToNumber(value);\r\n\r\n    return course >= 1 && course <= 360;\r\n};\r\n\r\n/**\r\n * Returns true if value is one of `left / l / right / r`\r\n *\r\n * @function isValidDirectionString\r\n * @param value {string}\r\n * @return {boolean}\r\n */\r\nexport const isValidDirectionString = (value) => {\r\n    return value === 'left' ||\r\n        value === 'l' ||\r\n        value === 'right' ||\r\n        value === 'r';\r\n};\r\n\r\n/**\r\n * Checks that args is the required length and the data is of the correct type for the number of arguments\r\n *\r\n * ```\r\n * Allowed arguments shapes:\r\n * - ['180']\r\n * - ['left', '180']\r\n * - ['l', '180']\r\n * - ['left', '80']\r\n * - ['l', '80']\r\n * ```\r\n *\r\n * @function headingValidator\r\n * @param args {array}\r\n * @return {string|undefined}\r\n */\r\nexport const headingValidator = (args = []) => {\r\n    const { length } = args;\r\n    const hasLengthError = oneOrTwoArgumentValidator(args);\r\n    let numberFromString;\r\n\r\n    if (hasLengthError) {\r\n        return hasLengthError;\r\n    }\r\n\r\n    switch (length) {\r\n        case 1:\r\n            if (!isValidCourseString(args[0])) {\r\n                return ERROR_MESSAGE.HEADING_MUST_BE_VALID_COURSE;\r\n            }\r\n\r\n            break;\r\n        case 2:\r\n            numberFromString = convertStringToNumber(args[1]);\r\n\r\n            if (!isValidDirectionString(args[0])) {\r\n                return ERROR_MESSAGE.INVALID_DIRECTION_STRING;\r\n            }\r\n\r\n            if (args[1].length === 3 && !isValidCourseString(args[1])) {\r\n                return ERROR_MESSAGE.HEADING_MUST_BE_VALID_COURSE;\r\n            }\r\n\r\n            if (_isNaN(numberFromString)) {\r\n                return ERROR_MESSAGE.HEADING_MUST_BE_NUMBER;\r\n            }\r\n\r\n            if (numberFromString < 1) {\r\n                return ERROR_MESSAGE.INCREMENTAL_HEADING_MUST_BE_POSITIVE;\r\n            }\r\n\r\n            break;\r\n        // default case is included only for semtantics, this should not ever be reachable\r\n        // istanbul ignore next\r\n        default:\r\n            throw new Error('An error ocurred parsing the Heading arguments');\r\n    }\r\n};\r\n\r\n/**\r\n * Checks that args is the required length and the data is of the correct type\r\n *\r\n * ```\r\n * Allowed argument shapes:\r\n * - ['dumba']\r\n * - ['dumba', 'left', '2min']\r\n * - ['dumba', 'left', '2nm']\r\n * - ['dumba', 'right', '2min']\r\n * - ['dumba', 'right', '2nm']\r\n * - ['dumba', 'right', '2nm', '265']\r\n * ```\r\n *\r\n * @function holdValidator\r\n * @param args {array}\r\n * @return {array<string>}\r\n */\r\nexport const holdValidator = (args = []) => {\r\n    if (args.length > 4) {\r\n        return ERROR_MESSAGE.ZERO_TO_FOUR_ARG_LENGTH;\r\n    }\r\n\r\n    for (let i = 0; i < args.length; i++) {\r\n        if (!_isString(args[i])) {\r\n            return ERROR_MESSAGE.MUST_BE_STRING;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Checks that `args` has one value that corresponds to a valid squawk\r\n *\r\n * @function squawkValidator\r\n * @param args {array}\r\n * @return {string|undefined}\r\n */\r\nexport const squawkValidator = (args = []) => {\r\n    if (args.length !== 1) {\r\n        return ERROR_MESSAGE.SINGLE_ARG_LENGTH;\r\n    }\r\n\r\n    if (!REGEX.TRANSPONDER_CODE.test(args[0])) {\r\n        return ERROR_MESSAGE.INVALID_SQUAWK;\r\n    }\r\n};\r\n\r\n/**\r\n * Checks that args is the required length and the data is of the correct type\r\n *\r\n * ```\r\n * Allowed argument shapes:\r\n * - ['dumba', 'a120', 's210']\r\n * ```\r\n *\r\n * @function crossingValidator\r\n * @param args {array}\r\n * @return {array<string>}\r\n */\r\nexport const crossingValidator = (args = []) => {\r\n    if (args.length !== 2 && args.length !== 3) {\r\n        return ERROR_MESSAGE.TWO_OR_THREE_ARG_LENGTH;\r\n    }\r\n\r\n    const [fixName] = args;\r\n\r\n    let altitude;\r\n    let speed;\r\n\r\n    // Set i to 1 to skip fixName\r\n    for (let i = 1; i < args.length; i++) {\r\n        if (typeof args[i][0] === 'string') {\r\n            if (args[i][0].toLowerCase() === 'a') {\r\n                altitude = args[i].toString().substr(1);\r\n            } else if (args[i][0].toLowerCase() === 's') {\r\n                speed = args[i].toString().substr(1);\r\n            }\r\n        }\r\n    }\r\n\r\n    if (!_isString(fixName)) {\r\n        return ERROR_MESSAGE.MUST_BE_STRING;\r\n    }\r\n\r\n    if (altitude) {\r\n        altitude = convertStringToNumber(altitude);\r\n\r\n        if (_isNaN(altitude)) {\r\n            return ERROR_MESSAGE.ALTITUDE_MUST_BE_NUMBER;\r\n        }\r\n    }\r\n\r\n    if (speed) {\r\n        speed = convertStringToNumber(speed);\r\n\r\n        if (_isNaN(speed)) {\r\n            return ERROR_MESSAGE.SPEED_MUST_BE_NUMBER;\r\n        }\r\n    }\r\n\r\n    if (args.length === 3) {\r\n        if (altitude == null) {\r\n            return ERROR_MESSAGE.ALTITUDE_MUST_BE_NUMBER;\r\n        } else if (speed == null) {\r\n            return ERROR_MESSAGE.SPEED_MUST_BE_NUMBER;\r\n        }\r\n    }\r\n};\r\n","/* eslint-disable max-len */\r\n/**\r\n * @property INVALID_ARG\r\n * @type {string}\r\n * @final\r\n */\r\nconst INVALID_ARG = 'Invalid argument';\r\n\r\n/**\r\n * @property INVALID_ARG_LENGTH\r\n * @type {string}\r\n * @final\r\n */\r\nconst INVALID_ARG_LENGTH = `${INVALID_ARG} length`;\r\n\r\n/**\r\n * Encapsulation of error messaging used with `argumentValidators` functions\r\n *\r\n * @property ERROR_MESSAGE\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const ERROR_MESSAGE = {\r\n    ZERO_ARG_LENGTH: `${INVALID_ARG_LENGTH}. Expected exactly zero arguments`,\r\n    SINGLE_ARG_LENGTH: `${INVALID_ARG_LENGTH}. Expected exactly one argument`,\r\n    TWO_ARG_LENGTH: `${INVALID_ARG_LENGTH}. Expected exactly two arguments`,\r\n    THREE_ARG_LENGTH: `${INVALID_ARG_LENGTH}. Expected exactly three arguments`,\r\n    ZERO_OR_ONE_ARG_LENGTH: `${INVALID_ARG_LENGTH}. Expected zero or one argument`,\r\n    ZERO_TO_THREE_ARG_LENGTH: `${INVALID_ARG_LENGTH}. Expected zero to three arguments`,\r\n    ZERO_TO_FOUR_ARG_LENGTH: `${INVALID_ARG_LENGTH}. Expected zero to four arguments`,\r\n    ONE_OR_MORE_ARG_LENGTH: `${INVALID_ARG_LENGTH}. Expected one or more arguments`,\r\n    ONE_OR_TWO_ARG_LENGTH: `${INVALID_ARG_LENGTH}. Expected one or two arguments`,\r\n    ONE_TO_THREE_ARG_LENGTH: `${INVALID_ARG_LENGTH}. Expected one, two, or three arguments`,\r\n    ONE_OR_THREE_ARG_LENGTH: `${INVALID_ARG_LENGTH}. Expected one or three arguments`,\r\n    TWO_OR_THREE_ARG_LENGTH: `${INVALID_ARG_LENGTH}. Expected two or three arguments`,\r\n    ALTITUDE_EXPEDITE_ARG: `${INVALID_ARG}. Altitude accepts only \"expedite\" or \"ex\" as a second argument`,\r\n    ALTITUDE_MUST_BE_NUMBER: `${INVALID_ARG}. Altitude must be a number`,\r\n    SPEED_MUST_BE_NUMBER: `${INVALID_ARG}. Speed must be a number`,\r\n    HEADING_MUST_BE_NUMBER: `${INVALID_ARG}. Heading must be a number`,\r\n    HEADING_MUST_BE_VALID_COURSE: `${INVALID_ARG}. Heading must be between 001 and 360`,\r\n    INCREMENTAL_HEADING_MUST_BE_POSITIVE: `${INVALID_ARG}. Incremental heading must be positive`,\r\n    MUST_BE_STRING: `${INVALID_ARG}. Must be a string`,\r\n    INVALID_DIRECTION_STRING: `${INVALID_ARG}. Expected one of 'left / l / right / r' as the first argument when passed three arguments`,\r\n    HEADING_ACCEPTS_BOOLEAN_AS_THIRD_ARG: `${INVALID_ARG}. Heading accepts a boolean for the third argument when passed three arguments`,\r\n    INVALID_SQUAWK: `${INVALID_ARG}. Expected '0000'-'7777' for the transponder code.`\r\n};\r\n","import _first from 'lodash/first';\r\nimport _has from 'lodash/has';\r\nimport _last from 'lodash/last';\r\nimport _without from 'lodash/without';\r\nimport _values from 'lodash/values';\r\nimport {\r\n    IMPLIED_COMMANDS,\r\n    EXPLICIT_COMMANDS,\r\n    COMMAND_FUNCTIONS\r\n} from './scopeCommandMap';\r\nimport { DATA_BLOCK_DIRECTION_LENGTH_SEPARATOR } from '../../constants/scopeConstants';\r\n\r\n// TODO: Replace dummy sector codes with a proper `SectorCollection`\r\nconst SECTOR_HANDOFF_CODES = ['18', '19', '10', '12'];\r\n\r\n/**\r\n * A command to be interpreted by the scope itself\r\n * Used for manipulation of the display and other ATC tasks\r\n *\r\n * @class ScopeCommandModel\r\n */\r\nexport default class ScopeCommandModel {\r\n    /**\r\n     * @for ScopeCommandModel\r\n     * @constructor\r\n     * @param command {string}\r\n     */\r\n    constructor(command) {\r\n        /**\r\n         * Information usable to find the applicable aircraft\r\n         * This could be the CID, assigned squawk code, or full callsign\r\n         *\r\n         * @for ScopeCommandModel\r\n         * @property aircraftReference\r\n         * @type {string}\r\n         */\r\n        this.aircraftReference = '';\r\n\r\n        /**\r\n         * Array of arguments to be passed to the specified command function\r\n         *\r\n         * @for ScopeCommandModel\r\n         * @property commandArguments\r\n         * @type {array<string>}\r\n         */\r\n        this.commandArguments = [];\r\n\r\n        /**\r\n         * Name of the `ScopeModel` method to call to execute this command\r\n         *\r\n         * @for ScopeCommandModel\r\n         * @property commandFunction\r\n         * @type {string}\r\n         */\r\n        this.commandFunction = '';\r\n\r\n        this._init(command);\r\n    }\r\n\r\n    /**\r\n     * Perform initialization tasks\r\n     *\r\n     * @for ScopeCommandModel\r\n     * @method _init\r\n     * @param command {string}\r\n     */\r\n    _init(command) {\r\n        const pieces = _without(command.toUpperCase().split(' '), '');\r\n\r\n        this.aircraftReference = _last(pieces);\r\n        this.commandFunction = this._extractCommandFunction(pieces);\r\n        this.commandArguments = this._extractCommandArguments(pieces);\r\n    }\r\n\r\n    /**\r\n     * Accept the full command and return only the arguments\r\n     *\r\n     * @for ScopeCommandModel\r\n     * @method _extractCommandArguments\r\n     * @param command {string}\r\n     * @return {string}\r\n     */\r\n    _extractCommandArguments(command) {\r\n        if (_values(IMPLIED_COMMANDS).indexOf(this.commandFunction) !== -1) {\r\n            return _without(command, this.aircraftReference);\r\n        }\r\n\r\n        return command.splice(1, command.length - 2);\r\n    }\r\n\r\n    /**\r\n     * Accept the full command and return only the function name\r\n     *\r\n     * @for ScopeCommandModel\r\n     * @method _extractCommandFunction\r\n     * @param command {string}\r\n     * @return {string}\r\n     */\r\n    _extractCommandFunction(command) {\r\n        const firstElement = _first(command);\r\n\r\n        if (_has(EXPLICIT_COMMANDS, firstElement)) {\r\n            return EXPLICIT_COMMANDS[firstElement];\r\n        }\r\n\r\n        if (SECTOR_HANDOFF_CODES.indexOf(firstElement) !== -1) {\r\n            return COMMAND_FUNCTIONS.INITIATE_HANDOFF;\r\n        }\r\n\r\n        if (firstElement === '.') {\r\n            return COMMAND_FUNCTIONS.SCRATCHPAD;\r\n        }\r\n\r\n        if (firstElement.indexOf(DATA_BLOCK_DIRECTION_LENGTH_SEPARATOR) !== -1 || firstElement.length < 2) {\r\n            return COMMAND_FUNCTIONS.MOVE_DATA_BLOCK;\r\n        }\r\n\r\n        if (command.length === 1) {\r\n            return COMMAND_FUNCTIONS.ACCEPT_HANDOFF;\r\n        }\r\n\r\n        return COMMAND_FUNCTIONS.SCRATCHPAD;\r\n    }\r\n}\r\n","/**\r\n * Scope commands whose first element is a reference to the function to execute\r\n *\r\n * @enum EXPLICIT_COMMANDS\r\n * @type {object}\r\n */\r\nexport const EXPLICIT_COMMANDS = {\r\n    QP: 'propogateDataBlock',\r\n    QP_J: 'setHalo',\r\n    QU: 'route',\r\n    QZ: 'amendAltitude'\r\n};\r\n\r\n/**\r\n * Scope commands where the function to execute is not explicitly stated in\r\n * the command itself, but is \"implied\" based on the context of the entry\r\n *\r\n * @enum IMPLIED_COMMANDS\r\n * @type {object}\r\n */\r\nexport const IMPLIED_COMMANDS = {\r\n    ACCEPT_HANDOFF: 'acceptHandoff',\r\n    INITIATE_HANDOFF: 'initiateHandoff',\r\n    MOVE_DATA_BLOCK: 'moveDataBlock',\r\n    SCRATCHPAD: 'setScratchpad'\r\n};\r\n\r\n/**\r\n * Array of all available scope commands that can be run\r\n * @enum COMMAND_FUNCTIONS\r\n * @type {object}\r\n */\r\nexport const COMMAND_FUNCTIONS = {\r\n    ...IMPLIED_COMMANDS,\r\n    ...EXPLICIT_COMMANDS\r\n};\r\n","/**\r\n * @property FLIGHT_CATEGORY\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const FLIGHT_CATEGORY = {\r\n    ARRIVAL: 'arrival',\r\n    DEPARTURE: 'departure',\r\n    OVERFLIGHT: 'overflight'\r\n};\r\n\r\n/**\r\n * Enumeration for the phases of flight\r\n *\r\n * @property FLIGHT_PHASE\r\n * @type {object}\r\n * @final\r\n */\r\nexport const FLIGHT_PHASE = {\r\n    /**\r\n     * initial status of a new departing aircraft. After the aircraft is issued the 'taxi' command,\r\n     * the aircraft transitions to 'taxi' mode\r\n     *\r\n     * @memberof FLIGHT_PHASE\r\n     * @property\r\n     * @type {string}\r\n     */\r\n    APRON: 'APRON',\r\n    /**\r\n     * the process of getting ready for takeoff. After a delay, the aircraft becomes ready and\r\n     * transitions into 'waiting' mode\r\n     *\r\n     * @memberof FLIGHT_PHASE\r\n     * @property TAXI\r\n     * @type {string}\r\n     */\r\n    TAXI: 'TAXI',\r\n    /**\r\n     * the aircraft is ready for takeoff and awaits clearence to take off\r\n     *\r\n     * @memberof FLIGHT_PHASE\r\n     * @property WAITING\r\n     * @type {string}\r\n     */\r\n    WAITING: 'WAITING',\r\n    /**\r\n     * is assigned to an aircraft in the process of taking off. The aircraft are still on the\r\n     * ground or have not yet reached the minimum altitude\r\n     *\r\n     * @memberof FLIGHT_PHASE\r\n     * @property TAKEOFF\r\n     * @type {string}\r\n     */\r\n    TAKEOFF: 'TAKEOFF',\r\n    /**\r\n     * Not yet reached requested cruise altitude\r\n     *\r\n     * Aircraft remain in this phase until reaching their requested cruise altitude (CRUISE)\r\n     *\r\n     * @memberof FLIGHT_PHASE\r\n     * @property CLIMB\r\n     * @type {string}\r\n     */\r\n    CLIMB: 'CLIMB',\r\n    /**\r\n     * Not yet cleared to descend below requested cruise altitude\r\n     *\r\n     * Aircraft remain in this phase until cleared to descend (DESCENT)\r\n     *\r\n     * @memberof FLIGHT_PHASE\r\n     * @property CRUISE\r\n     * @type {string}\r\n     */\r\n    CRUISE: 'CRUISE',\r\n    /**\r\n     * Instructed to enter (or already in) airborne holding pattern\r\n     *\r\n     * Aircraft remain in this phase until cleared out of the hold (CLIMB/CRUISE/DESCENT)\r\n     *\r\n     * @memberof FLIGHT_PHASE\r\n     * @property HOLD\r\n     * @type {string}\r\n     */\r\n    HOLD: 'HOLD',\r\n    /**\r\n     * Configured for (or already in) descent out of requested cruise altitude\r\n     *\r\n     * Aircraft remain in this phase until fully established on an approach (APPROACH)\r\n     *\r\n     * @memberof FLIGHT_PHASE\r\n     * @property DESCENT\r\n     * @type {string}\r\n     */\r\n    DESCENT: 'DESCENT',\r\n    /**\r\n     * Fully established on the approach, outside of the final approach fix\r\n     *\r\n     * Aircraft remain in this phase until within the final approach fix (LANDING)\r\n     *\r\n     * @memberof FLIGHT_PHASE\r\n     * @property APPROACH\r\n     * @type {string}\r\n     */\r\n    APPROACH: 'APPROACH',\r\n    /**\r\n     * Fully established on the approach, within the final approach fix\r\n     *\r\n     * Aircraft remain in this phase until instructed to go around (DESCENT)\r\n     *   - If landing successful, they will remain in this phase until deletion\r\n     *\r\n     * @memberof FLIGHT_PHASE\r\n     * @property LANDING\r\n     * @type {string}\r\n     */\r\n    LANDING: 'LANDING'\r\n};\r\n\r\n/**\r\n * Enumerations for various performance constants\r\n *\r\n * @property PERFORMANCE\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const PERFORMANCE = {\r\n    /**\r\n     * Factor by which to increase the speed of deceleration on the ground as opposed\r\n     * to while in flight, due to the effects of reverse thrust and braking\r\n     *\r\n     * @property DECELERATION_FACTOR_DUE_TO_GROUND_BRAKING\r\n     * @type {Number}\r\n     * @final\r\n     */\r\n    DECELERATION_FACTOR_DUE_TO_GROUND_BRAKING: 3.5,\r\n\r\n    /**\r\n     * Maximum vertical distance between the aircraft and the glidepath to\r\n     * consider the aircraft to be \"established on the glidepath\"\r\n     *\r\n     * @property MAXIMUM_ALTITUDE_DIFFERENCE_CONSIDERED_ESTABLISHED_ON_GLIDEPATH\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    MAXIMUM_ALTITUDE_DIFFERENCE_CONSIDERED_ESTABLISHED_ON_GLIDEPATH: 100,\r\n\r\n    /**\r\n    * Maximum distance from the current waypoint to allow us to proceed to the next waypoint\r\n    * due to a tight turn, without requiring us to continue toward the current waypoint.\r\n    *\r\n    * @property MAXIMUM_DISTANCE_TO_FLY_BY_WAYPOINT_NM\r\n    * @type {number}\r\n    * @final\r\n    */\r\n    MAXIMUM_DISTANCE_TO_FLY_BY_WAYPOINT_NM: 5,\r\n\r\n    /**\r\n     * Maximum distance from the current waypoint to consider it to have been passed over,\r\n     * allowing us to proceed to the next fix.\r\n     *\r\n     * @property MAXIMUM_DISTANCE_TO_PASS_WAYPOINT_NM\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    MAXIMUM_DISTANCE_TO_PASS_WAYPOINT_NM: 0.5,\r\n\r\n    /**\r\n     * Maximum lateral offset from the approach course to consider the aircraft close enough\r\n     * to be \"established on the approach course\", which is an important condition for applying\r\n     * rules of separation.\r\n     *\r\n     * @property MAXIMUM_DISTANCE_CONSIDERED_ESTABLISHED_ON_APPROACH_COURSE_NM\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    MAXIMUM_DISTANCE_CONSIDERED_ESTABLISHED_ON_APPROACH_COURSE_NM: 0.0822894, // appx. 500 feet\r\n\r\n    /**\r\n     * Maximum angular difference from the approach course heading to consider the aircraft close\r\n     * to be \"established on the approach course\", which is an important condition for applying\r\n     * rules of separation.\r\n     *\r\n     * @property MAXIMUM_ANGLE_CONSIDERED_ESTABLISHED_ON_APPROACH_COURSE\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    MAXIMUM_ANGLE_CONSIDERED_ESTABLISHED_ON_APPROACH_COURSE: 0.0872665, // appx. 5 degrees\r\n\r\n    /**\r\n     * Maximum angular difference from the hold outbound heading to consider the aircraft close\r\n     * to be \"established on the hold course\".\r\n     *\r\n     * @property MAXIMUM_ANGLE_CONSIDERED_ESTABLISHED_ON_HOLD_COURSE\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    MAXIMUM_ANGLE_CONSIDERED_ESTABLISHED_ON_HOLD_COURSE: 0.0017453, // appx. 0.1 degrees\r\n\r\n    /**\r\n     * Altitude above the runway to which aircraft may descend on an instrument approach.\r\n     * Note: Below this altitude, the aircraft is in landing mode\r\n     *\r\n     * @property INSTRUMENT_APPROACH_MINIMUM_DESCENT_ALTITUDE\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    INSTRUMENT_APPROACH_MINIMUM_DESCENT_ALTITUDE: 200,\r\n\r\n    /**\r\n     * Length of time individual aircraft will require themselves to be established at Vref\r\n     * (their landing speed) before landing. If they cannot reach that speed by that time, they\r\n     * will not consider themselves on a \"stable approach\", and will likely go around.\r\n     *\r\n     * @memberof PERFORMANCE\r\n     * @property STABLE_APPROACH_TIME_SECONDS\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    STABLE_APPROACH_TIME_SECONDS: 60,\r\n\r\n    /**\r\n     * Altitude above the runway at which aircraft begin their on-course turn, in feet\r\n     *\r\n     * @property TAKEOFF_TURN_ALTITUDE\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    TAKEOFF_TURN_ALTITUDE: 400,\r\n\r\n    /**\r\n     * Rate of turn, in radians per second\r\n     *\r\n     * @property TURN_RATE\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    TURN_RATE: 0.0523598776, // 3 degrees\r\n\r\n    /**\r\n     * Proportion of the maximum capable descent rate that aircraft will use by default\r\n     *\r\n     * @property TYPICAL_DESCENT_FACTOR\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    TYPICAL_DESCENT_FACTOR: 0.7,\r\n\r\n    /**\r\n     * Proportion of the maximum capable climb rate that aircraft will use by default\r\n     *\r\n     * @property TYPICAL_CLIMB_FACTOR\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    TYPICAL_CLIMB_FACTOR: 0.7,\r\n\r\n    /**\r\n     * Standard pressure, the baseline used universally, is 1013.25 hPa, which is equivalent to 1013.25 mb or 29.92 inHg\r\n     *\r\n     * @property DEFAULT_ALTIMETER_IN_INHG\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    DEFAULT_ALTIMETER_IN_INHG: 29.92\r\n};\r\n\r\n/**\r\n * Separation distances between aircraft\r\n *\r\n * @property SEPARATION\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const SEPARATION = {\r\n    /**\r\n     * 14.816km = 8nm (max possible sep minmum)\r\n     *\r\n     * @memberof SEPARATION\r\n     * @property MAX_KM\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    MAX_KM: 14.816,\r\n    /**\r\n     * Standard Basic Lateral Separation Minimum\r\n     *\r\n     * @memberof SEPARATION\r\n     * @property STANDARD_LATERAL_KM\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    STANDARD_LATERAL_KM: 5.556, // 3nm\r\n    /**\r\n     * Minimum vertical separation in feet\r\n     *\r\n     * @memberof SEPARATION\r\n     * @property VERTICAL_FT\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    VERTICAL_FT: 1000\r\n};\r\n\r\n/**\r\n * Wake turbulence categories\r\n *\r\n * @property WAKE_TURBULENCE_CATEGORY\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const WAKE_TURBULENCE_CATEGORY = {\r\n    LIGHT: {\r\n        LETTER: 'L',\r\n        APPEND: false,\r\n        SPOKEN: ''\r\n    },\r\n    MEDIUM: {\r\n        LETTER: 'M',\r\n        APPEND: false,\r\n        SPOKEN: ''\r\n    },\r\n    HEAVY: {\r\n        LETTER: 'H',\r\n        APPEND: true,\r\n        SPOKEN: 'heavy'\r\n    },\r\n    SUPER: {\r\n        LETTER: 'J',\r\n        APPEND: true,\r\n        SPOKEN: 'super'\r\n    }\r\n};\r\n\r\n/**\r\n * Engine types\r\n *\r\n * @property ENGINE_TYPE\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const ENGINE_TYPE = {\r\n    ELECTRIC: 'E',\r\n    JET: 'J',\r\n    PISTON: 'P',\r\n    ROCKET: 'R',\r\n    TURBOPROP: 'T'\r\n};\r\n","/**\r\n * Character used to separate the airline and fleet\r\n * Example: AAL airlines and long fleet -> 'AAL/long'\r\n *\r\n * @enum AIRLINE_NAME_FLEET_SEPARATOR\r\n * @type {string}\r\n */\r\nexport const AIRLINE_NAME_FLEET_SEPARATOR = '/';\r\n\r\n/**\r\n * Default callsign format\r\n *\r\n * @enum DEFAULT_CALLSIGN_FORMAT\r\n * @type {string}\r\n*/\r\nexport const DEFAULT_CALLSIGN_FORMAT = '###';\r\n\r\n/**\r\n * Character used to represent a position where a random letter should be generated\r\n * in a callsign\r\n *\r\n * @enum CALLSIGN_RANDOM_LETTER_CHARACTER\r\n * @type {string}\r\n*/\r\nexport const CALLSIGN_RANDOM_LETTER_CHARACTER = '@';\r\n\r\n/**\r\n * Character used to represent a position where a random digit should be generated\r\n * in a callsign\r\n *\r\n * @enum CALLSIGN_RANDOM_DIGIT_CHARACTER\r\n * @type {string}\r\n*/\r\nexport const CALLSIGN_RANDOM_DIGIT_CHARACTER = '#';\r\n","/**\r\n * @enum AIRPORT_CONSTANTS {object}\r\n * @type {object}\r\n * @final\r\n */\r\nexport const AIRPORT_CONSTANTS = {\r\n    /**\r\n     * @memberof AIRPORT_CONSTANTS\r\n     * @property DEFAULT_SPAWN_ALTITUDE_MIN\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    DEFAULT_SPAWN_ALTITUDE_MIN: 10000,\r\n\r\n    /**\r\n     * @memberof AIRPORT_CONSTANTS\r\n     * @property DEFAULT_SPAWN_ALTITUDE_MAX\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    DEFAULT_SPAWN_ALTITUDE_MAX: 10000,\r\n\r\n    /**\r\n     * @memberof AIRPORT_CONSTANTS\r\n     * @property DEFAULT_SPAWN_AIRCRAFT_SPEED_KTS\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    DEFAULT_SPAWN_AIRCRAFT_SPEED_KTS: 250,\r\n\r\n    /**\r\n     * Distance out along final approach course where the FAF is located\r\n     *\r\n     * @memberof AIRPORT_CONSTANTS\r\n     * @property FINAL_APPROACH_FIX_DISTANCE_NM\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    FINAL_APPROACH_FIX_DISTANCE_NM: 5,\r\n\r\n    /**\r\n     * Maximum allowable indicated airspeed for aircraft below 10,000 feet MSL\r\n     *\r\n     * @memberof AIRPORT_CONSTANTS\r\n     * @property MAX_SPEED_BELOW_10K_FEET\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    MAX_SPEED_BELOW_10K_FEET: 250,\r\n\r\n    /**\r\n     * @memberof AIRPORT_CONSTANTS\r\n     * @property MIN_ENTRAIL_DISTANCE_NM\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    MIN_ENTRAIL_DISTANCE_NM: 5.5,\r\n\r\n    SRS_REDUCED_MINIMA_FEET: {\r\n        CAT1: 3000,\r\n        CAT2: 4500,\r\n        CAT3: 6000\r\n    }\r\n};\r\n\r\n/**\r\n * List of control positions at the airport, used to differentiate which ATC callsign to used\r\n *\r\n * @enum AIRPORT_CONTROL_POSITION_NAME\r\n * @type {object}\r\n * @final\r\n */\r\nexport const AIRPORT_CONTROL_POSITION_NAME = {\r\n    /**\r\n    * Provides approach control services\r\n    *\r\n    * @memberof AIRPORT_CONTROL_POSITION_NAME\r\n    * @property APPROACH\r\n    * @type {string}\r\n    * @final\r\n    */\r\n    APPROACH: 'app',\r\n\r\n    /**\r\n    * Provides departure control services\r\n    *\r\n    * @memberof AIRPORT_CONTROL_POSITION_NAME\r\n    * @property TOWER\r\n    * @type {string}\r\n    * @final\r\n    */\r\n    DEPARTURE: 'dep',\r\n\r\n    /**\r\n    * Provides Air Traffic Control Tower (ATCT) services for surface and runway movements\r\n    *\r\n    * @memberof AIRPORT_CONTROL_POSITION_NAME\r\n    * @property TOWER\r\n    * @type {string}\r\n    * @final\r\n    */\r\n    TOWER: 'twr'\r\n};\r\n\r\n/**\r\n * ICAO identifier of the airport to show after initial load\r\n *\r\n * @enum DEFAULT_AIRPORT_ICAO\r\n * @type {string}\r\n * @final\r\n */\r\nexport const DEFAULT_AIRPORT_ICAO = 'ksea';\r\n","/**\r\n* @property AUTOCOMPLETE_COMMAND_TYPE\r\n* @type {Object}\r\n* @final\r\n*/\r\nexport const AUTOCOMPLETE_COMMAND_TYPE = {\r\n    TRANSMIT: 'transmit',\r\n    SYSTEM: 'system'\r\n};\r\n\r\n/**\r\n* @property AUTOCOMPLETE_STATE\r\n* @type {Object}\r\n* @final\r\n*/\r\nexport const AUTOCOMPLETE_STATE = {\r\n    COMMANDS: {\r\n        NO_MATCHES: 'autocomplete_commands_no_matches',\r\n        MATCHES: 'autocomplete_commands_matches',\r\n        HIGHLIGHT: 'autocomplete_commands_highlight'\r\n    },\r\n    PARAMS: {\r\n        INVALID: 'autocomplete_params_invalid',\r\n        VALID: 'autocomplete_params_valid'\r\n    }\r\n};\r\n\r\n/**\r\n* @property AUTOCOMPLETE_COMMAND_STATES\r\n* @type {Array}\r\n* @final\r\n*/\r\nexport const AUTOCOMPLETE_COMMAND_STATES = Object.values(AUTOCOMPLETE_STATE.COMMANDS);\r\n\r\n/**\r\n* @property AUTOCOMPLETE_INPUT_PLACEHOLDER\r\n* @type {Object}\r\n* @final\r\n*/\r\nexport const AUTOCOMPLETE_INPUT_PLACEHOLDER = {\r\n    COMMAND: 'search commands',\r\n    PARAM: 'input arguments'\r\n};\r\n\r\n/**\r\n* @property AUTOCOMPLETE_PARAMS_VALIDITY\r\n* @type {Object}\r\n* @final\r\n*/\r\nexport const AUTOCOMPLETE_PARAMS_VALIDITY = {\r\n    INVALID: 'invalid',\r\n    CANDIDATE: 'candidate',\r\n    VALID: 'valid'\r\n};\r\n\r\n/**\r\n* @property AUTOCOMPLETE_REGEXP\r\n* @type {Object}\r\n* @final\r\n*/\r\nexport const AUTOCOMPLETE_REGEXP = {\r\n    WHITESPACE: /\\s+/,\r\n    FIRST_TOKEN: /(\\S+)/,\r\n    TOKEN_MID: /\\S\\S/,\r\n    TOKEN_END: /\\S\\s|\\S$/\r\n};\r\n","/**\r\n * Enumeration of canvas names\r\n *\r\n * @enum CANVAS_NAME\r\n * @final\r\n */\r\nexport const CANVAS_NAME = {\r\n    /**\r\n     * Name of the `static` canvas.\r\n     *\r\n     * This canvas should hold all of the items that do not update every frame;\r\n     * things like terrain, fixes, video map, etc\r\n     *\r\n     * @memberOf CANVAS_NAME\r\n     * @property STATIC\r\n     */\r\n    STATIC: 'static',\r\n\r\n    /**\r\n     * Name of the `dynamic` canvas.\r\n     *\r\n     * This canvas should hold all of the items that do update every frame;\r\n     * things like aircraft, aircraft data blocks, etc\r\n     *\r\n     * @memberOf CANVAS_NAME\r\n     * @property STATIC\r\n     */\r\n    DYNAMIC: 'dynamic'\r\n};\r\n\r\n/**\r\n * @enum BASE_CANVAS_FONT\r\n * @final\r\n */\r\nexport const BASE_CANVAS_FONT = '10px monoOne, monospace';\r\n\r\n/**\r\n * @enum DEFAULT_CANVAS_SIZE\r\n * @final\r\n */\r\nexport const DEFAULT_CANVAS_SIZE = {\r\n    HEIGHT: 480,\r\n    WIDTH: 640,\r\n    FOTTER_HEIGHT_OFFSET: 36\r\n};\r\n\r\n/**\r\n * @enum SCALE\r\n * @final\r\n */\r\nexport const SCALE = {\r\n    // TODO: not a fan of this name\r\n    CHANGE_FACTOR: 0.9,\r\n    DEFAULT: 8,\r\n    MIN: 1,\r\n    MAX: 120\r\n};\r\n\r\n/**\r\n * @enum PAN\r\n * @final\r\n */\r\nexport const PAN = {\r\n    X: 0,\r\n    Y: 0\r\n};\r\n","/**\r\n * @enum ENVIRONMENT {object}\r\n * @type {object}\r\n * @final\r\n */\r\nexport const ENVIRONMENT = {\r\n    /**\r\n     * @memberof ENVIRONMENT\r\n     * @property WIND_INCREASE_FACTOR_PER_FT\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    WIND_INCREASE_FACTOR_PER_FT: 0.00002, // 2.00% per thousand feet\r\n\r\n    /**\r\n     * Factor at which density altitude increases per foot of altitude.\r\n     * NOTE: At a higher density altitude, the same IAS will yield a higher TAS.\r\n     *       Consider density altitude to be directly proportionate to the amount\r\n     *       by which the TAS increases above the IAS. Therefore, this value also\r\n     *       represents how much the TAS will increase per foot.\r\n     *\r\n     * @memberof ENVIRONMENT\r\n     * @property DENSITY_ALT_INCREASE_FACTOR_PER_FT\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    DENSITY_ALT_INCREASE_FACTOR_PER_FT: 0.000016 // 0.16% per thousand feet\r\n};\r\n","/**\r\n * Enum containing all triggerable events triggered via the `EventBus`\r\n *\r\n * Before adding an event, every effort should be made to communicate\r\n * accross classes with direct imports. Events are available but can\r\n * be harder to debug and follow. Use with caution.\r\n *\r\n * @property EVENT\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const EVENT = {\r\n    /**\r\n     * Add an aircraft to the simulation\r\n     *\r\n     * @memberof EVENT\r\n     * @property ADD_AIRCRAFT\r\n     * @type {string}\r\n     */\r\n    ADD_AIRCRAFT: 'add-aircraft',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property AIRPORT_CHANGE\r\n     * @type {string}\r\n     */\r\n    AIRPORT_CHANGE: 'airport-change',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property CHAT_LOG_DURATION_CHANGE\r\n     * @type {string}\r\n     */\r\n    CHAT_LOG_DURATION_CHANGE: 'chat-log-duration-change',\r\n\r\n    /**\r\n     * A click was registered outside of a specific `StripViewModel`\r\n     * and the active strip, if any, should have the `active`\r\n     * css classname removed\r\n     *\r\n     * @memberof EVENT\r\n     * @property DESELECT_AIRCRAFT\r\n     * @type {string}\r\n     */\r\n    DESELECT_AIRCRAFT: 'deselect-aircraft',\r\n\r\n    /**\r\n     * Event used to notify the `CanvasController` when a re-draw\r\n     * should happen outside of the usual game loop.\r\n     *\r\n     * This should only occur as a result of a user action\r\n     *\r\n     * @memberof EVENT\r\n     * @property MARK_SHALLOW_RENDER\r\n     * @type {string}\r\n     */\r\n    MARK_SHALLOW_RENDER: 'mark-shallow-render',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property MEASURE_TOOL_STYLE_CHANGE\r\n     * @type {string}\r\n     */\r\n    MEASURE_TOOL_STYLE_CHANGE: 'measure-tool-style-change',\r\n\r\n    /**\r\n     * A pan event has been detected necessitating an entire redraw of each canvas\r\n     *\r\n     * This may constitute a pan-in-progress and not the completion of a panning action\r\n     *\r\n     * @memberof EVENT\r\n     * @property PAN_VIEWPORT\r\n     * @type {string}\r\n     */\r\n    PAN_VIEWPORT: 'pan-viewport',\r\n\r\n    /**\r\n     * Fired when the update loop should be either paused or resumed.\r\n     *\r\n     * Usually called when airport data is changing (ie, when a new airport\r\n     * is being loaded).\r\n     *\r\n     * @memberof EVENT\r\n     * @property PAUSE_UPDATE_LOOP\r\n     * @type {string}\r\n     */\r\n    PAUSE_UPDATE_LOOP: 'pause-update-loop',\r\n\r\n    /**\r\n     * Increase the length of the PTL lines on the scope\r\n     *\r\n     * @memberof EVENT\r\n     * @property PTL_DECREASE_LENGTH\r\n     * @type {string}\r\n     */\r\n    PTL_DECREASE_LENGTH: 'ptl-decrease-length',\r\n\r\n    /**\r\n     * Increase the length of the PTL lines on the scope\r\n     *\r\n     * @memberof EVENT\r\n     * @property PTL_INCREASE_LENGTH\r\n     * @type {string}\r\n     */\r\n    PTL_INCREASE_LENGTH: 'ptl-increase-length',\r\n\r\n    /**\r\n     * Remove an aircraft from the sim\r\n     *\r\n     * Usually as a result of the `del` user command\r\n     *\r\n     * @memberof EVENT\r\n     * @property REMOVE_AIRCRAFT\r\n     * @type {string}\r\n     */\r\n    REMOVE_AIRCRAFT: 'remove-aircraft',\r\n\r\n    /**\r\n     * Remove an `AircraftConflict` for an aircraft\r\n     *\r\n     * @memberof EVENT\r\n     * @property REMOVE_AIRCRAFT_CONFLICT\r\n     * @type {string}\r\n     */\r\n    REMOVE_AIRCRAFT_CONFLICT: 'remove-aircraft-conflict',\r\n\r\n    /**\r\n     * An aircraft has been located and needs to be centered in the view\r\n     *\r\n     * @memberof EVENT\r\n     * @property REQUEST_TO_CENTER_POINT_IN_VIEW\r\n     * @type {string}\r\n     */\r\n    REQUEST_TO_CENTER_POINT_IN_VIEW: 'request-to-center-point-in-view',\r\n\r\n    /**\r\n     * An aircraft radar return was double clicked and the corresponding\r\n     * `StripViewModel` must be scrolled into view\r\n     *\r\n     * @memberof EVENT\r\n     * @property SCROLL_TO_AIRCRAFT\r\n     * @type {string}\r\n     */\r\n    SCROLL_TO_AIRCRAFT: 'scroll-to-aircraft',\r\n\r\n    /**\r\n     * An aircraft radar return was clicked and the corresponding\r\n     * `StripViewModel` must also be selected\r\n     *\r\n     * @memberof EVENT\r\n     * @property SELECT_AIRCRAFT\r\n     * @type {string}\r\n     */\r\n    SELECT_AIRCRAFT: 'select-aircraft',\r\n\r\n    /**\r\n     * An aircraft progress strip was clicked\r\n     *\r\n     * @memberof EVENT\r\n     * @property STRIP_CLICK\r\n     * @type {string}\r\n     */\r\n    STRIP_CLICK: 'strip-click',\r\n\r\n    /**\r\n     * An aircraft progress strip was double clicked\r\n     *\r\n     * @memberof EVENT\r\n     * @property STRIP_DOUBLE_CLICK\r\n     * @type {string}\r\n     */\r\n    STRIP_DOUBLE_CLICK: 'strip-double-click',\r\n\r\n    /**\r\n     * Change the active theme to the specified theme name\r\n     *\r\n     * @memberof EVENT\r\n     * @property SET_THEME\r\n     * @type {string}\r\n     */\r\n    SET_THEME: 'set-theme',\r\n\r\n    /**\r\n     * Step through pre-defined timewarp speeds\r\n     *\r\n     * @memberof EVENT\r\n     * @property TIMEWARP_TOGGLE\r\n     * @type {string}\r\n     */\r\n    TIMEWARP_TOGGLE: 'timewarp-toggle',\r\n\r\n    /**\r\n     * An request has been made to clear and respawn traffic at the current airport\r\n     *\r\n     * @memberof EVENT\r\n     * @property TRAFFIC_RESET\r\n     * @type {string}\r\n     */\r\n    TRAFFIC_RESET: 'traffic-reset',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property TOGGLE_AIRPORT_GUIDE\r\n     * @type {string}\r\n     */\r\n    TOGGLE_AIRPORT_GUIDE: 'toggle-airport-guide',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property TOGGLE_AIRSPACE\r\n     * @type {string}\r\n     */\r\n    TOGGLE_AIRSPACE: 'toggle-airspace',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property TOGGLE_CHANGELOG\r\n     * @type {string}\r\n     */\r\n    TOGGLE_CHANGELOG: 'toggle-changelog',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property TOGGLE_LABELS\r\n     * @type {string}\r\n     */\r\n    TOGGLE_LABELS: 'toggle-labels',\r\n\r\n    /**\r\n     * Pause/unpause the game loop\r\n     *\r\n     * @memberof EVENT\r\n     * @property TOGGLE_PAUSE\r\n     * @type {string}\r\n     */\r\n    TOGGLE_PAUSE: 'toggle-pause',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property TOGGLE_RESTRICTED_AREAS\r\n     * @type {string}\r\n     */\r\n    TOGGLE_RESTRICTED_AREAS: 'toggle-restricted-areas',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property TOGGLE_SID_MAP\r\n     * @type {string}\r\n     */\r\n    TOGGLE_SID_MAP: 'toggle-sid-map',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property TOGGLE_STAR_MAP\r\n     * @type {string}\r\n     */\r\n    TOGGLE_STAR_MAP: 'toggle-star-map',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property TOGGLE_TERRAIN\r\n     * @type {string}\r\n     */\r\n    TOGGLE_TERRAIN: 'toggle-terrain',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property TOGGLE_TRAFFIC\r\n     * @type {string}\r\n     */\r\n    TOGGLE_TRAFFIC: 'toggle-traffic',\r\n\r\n    /**\r\n     * Open/close the tutorial modal\r\n     *\r\n     * @memberof EVENT\r\n     * @property TOGGLE_TUTORIAL\r\n     * @type {string}\r\n     */\r\n    TOGGLE_TUTORIAL: 'toggle-tutorial',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property TOGGLE_VIDEO_MAP\r\n     * @type {string}\r\n     */\r\n    TOGGLE_VIDEO_MAP: 'toggle-video-map',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property RANGE_RINGS_CHANGE\r\n     * @type {string}\r\n     */\r\n    RANGE_RINGS_CHANGE: 'range-rings-change',\r\n\r\n    /**\r\n     * A click has been registered in the unpause button shown within the\r\n     * screen overlay whil the app is paused\r\n     *\r\n     * @memberof EVENT\r\n     * @property UNPAUSE\r\n     * @type {string}\r\n     */\r\n    UNPAUSE: 'unpause',\r\n\r\n    /**\r\n     * @memberof EVENT\r\n     * @property WIND_CHANGE\r\n     * @type {string}\r\n     */\r\n    WIND_CHANGE: 'wind-change',\r\n\r\n    /**\r\n     * The zoom level has changed necessitating an entire redraw of each canvas\r\n     *\r\n     * @memberof EVENT\r\n     * @property ZOOM_VIEWPORT\r\n     * @type {string}\r\n     */\r\n    ZOOM_VIEWPORT: 'zoom-viewport'\r\n};\r\n\r\nexport const AIRCRAFT_EVENT = {\r\n    /**\r\n     * Triggered when the aircraft received takeoff clearance.\r\n     *\r\n     * @memberof AIRCRAFT_EVENT\r\n     * @property TAKEOFF\r\n     * @type {string}\r\n     */\r\n    TAKEOFF: 'takeoff',\r\n\r\n    /**\r\n     * Trigged when the aircraft enters the approach\r\n     *\r\n     * @memberof AIRCRAFT_EVENT\r\n     * @property APPROACH\r\n     * @type {string}\r\n     */\r\n    APPROACH: 'approach',\r\n\r\n    /**\r\n     * Trigged when the aircraft reaches its final approach\r\n     *\r\n     * @memberof AIRCRAFT_EVENT\r\n     * @property FINAL_APPROACH\r\n     * @type {string}\r\n     */\r\n    FINAL_APPROACH: 'final-approach',\r\n\r\n    /**\r\n     * FOR FUTURE USE. Should be trigged when the aircraft landed on the runway.\r\n     *\r\n     * @memberof AIRCRAFT_EVENT\r\n     * @property LANDING\r\n     * @type {string}\r\n     */\r\n    LANDING: 'landing',\r\n\r\n    /**\r\n     * The aircraft landed and came to a fullstop.\r\n     *\r\n     * @memberof AIRCRAFT_EVENT\r\n     * @property FULLSTOP\r\n     * @type {string}\r\n     */\r\n    FULLSTOP: 'fullstop',\r\n\r\n    /**\r\n     * Triggered when the aircraft exits the airspace.\r\n     *\r\n     * @memberof AIRCRAFT_EVENT\r\n     * @property AIRSPACE_EXIT\r\n     * @type {string}\r\n     */\r\n    AIRSPACE_EXIT: 'airspace-exit'\r\n};\r\n","import { EVENT } from './eventNames';\r\nimport { MEASURE_TOOL_STYLE } from './inputConstants';\r\n\r\n/* eslint-disable max-len, import/prefer-default-export */\r\n/**\r\n * Name enumeration of available game options\r\n *\r\n * @property GAME_OPTION_NAMES\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const GAME_OPTION_NAMES = {\r\n    CONTROL_METHOD: 'controlMethod',\r\n    CHAT_LOG_DURATION: 'chatLogDuration',\r\n    DRAW_PROJECTED_PATHS: 'drawProjectedPaths',\r\n    DRAW_ILS_DISTANCE_SEPARATOR: 'drawIlsDistanceSeparator',\r\n    MEASURE_TOOL_PATH: 'measureToolPath',\r\n    MOUSE_CLICK_DRAG: 'mouseClickDrag',\r\n    PROJECTED_TRACK_LINE_LENGTHS: 'ptlLengths',\r\n    RANGE_RINGS: 'rangeRings',\r\n    SOFT_CEILING: 'softCeiling',\r\n    THEME: 'theme',\r\n    TOWER_CONTROLLER: 'towerController'\r\n};\r\n\r\n/**\r\n * User options\r\n *\r\n * These options are presented in a modal and are stored in localStorage\r\n *\r\n * @property GAME_OPTION_VALUES\r\n * @type {array<object>}\r\n * @final\r\n */\r\nexport const GAME_OPTION_VALUES = [\r\n    {\r\n        name: GAME_OPTION_NAMES.THEME,\r\n        defaultValue: 'DEFAULT',\r\n        description: 'Scope Theme',\r\n        type: 'select',\r\n        onChangeEventHandler: EVENT.SET_THEME,\r\n        optionList: [\r\n            {\r\n                displayLabel: 'Classic',\r\n                value: 'CLASSIC'\r\n            },\r\n            {\r\n                displayLabel: 'Default',\r\n                value: 'DEFAULT'\r\n            },\r\n            {\r\n                displayLabel: 'Celestial',\r\n                value: 'CELESTIAL'\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        name: GAME_OPTION_NAMES.TOWER_CONTROLLER,\r\n        defaultValue: 'SYSTEM',\r\n        description: 'Tower Control (Experimental)',\r\n        type: 'select',\r\n        onChangeEventHandler: null,\r\n        optionList: [\r\n            {\r\n                displayLabel: 'System Controlled',\r\n                value: 'SYSTEM'\r\n            },\r\n            {\r\n                displayLabel: 'User Controlled',\r\n                value: 'USER'\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        name: GAME_OPTION_NAMES.CONTROL_METHOD,\r\n        defaultValue: 'classic',\r\n        description: 'Control Method',\r\n        type: 'select',\r\n        onChangeEventHandler: null,\r\n        optionList: [\r\n            {\r\n                displayLabel: 'Classic',\r\n                value: 'classic'\r\n            },\r\n            {\r\n                displayLabel: 'Arrow Keys',\r\n                value: 'arrows'\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        name: GAME_OPTION_NAMES.DRAW_ILS_DISTANCE_SEPARATOR,\r\n        defaultValue: 'from-theme',\r\n        description: 'Show trailing separation indicator on ILS',\r\n        help: 'Draw a trailing indicator 2.5 NM (4.6km) behind landing aircraft to help with traffic spacing',\r\n        type: 'select',\r\n        onChangeEventHandler: null,\r\n        optionList: [\r\n            {\r\n                displayLabel: 'From Theme',\r\n                value: 'from-theme'\r\n            },\r\n            {\r\n                displayLabel: 'Yes',\r\n                value: 'yes'\r\n            },\r\n            {\r\n                displayLabel: 'No',\r\n                value: 'no'\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        name: GAME_OPTION_NAMES.PROJECTED_TRACK_LINE_LENGTHS,\r\n        defaultValue: '1-2-4-8',\r\n        description: 'Projected Track Line (PTL) increments, in minutes',\r\n        type: 'select',\r\n        onChangeEventHandler: null,\r\n        optionList: [\r\n            {\r\n                displayLabel: '0.5 x n ... 8',\r\n                value: '0.5-1-1.5-2-2.5-3-3.5-4-4.5-5-5.5-6-6.5-7-7.5-8'\r\n            },\r\n            {\r\n                displayLabel: '1.0 x n ... 8',\r\n                value: '1-2-3-4-5-6-7-8'\r\n            },\r\n            {\r\n                displayLabel: '1-2-4-6-8-10-12-14-16',\r\n                value: '1-2-4-6-8-10-12-14-16'\r\n            },\r\n            {\r\n                displayLabel: '0.5-1-2-4-8',\r\n                value: '0.5-1-2-4-8'\r\n            },\r\n            {\r\n                displayLabel: '1-2-4-8',\r\n                value: '1-2-4-8'\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        name: GAME_OPTION_NAMES.DRAW_PROJECTED_PATHS,\r\n        defaultValue: 'selected',\r\n        description: 'Draw aircraft projected path',\r\n        type: 'select',\r\n        onChangeEventHandler: null,\r\n        optionList: [\r\n            {\r\n                displayLabel: 'Always',\r\n                value: 'always'\r\n            },\r\n            {\r\n                displayLabel: 'Selected',\r\n                value: 'selected'\r\n            },\r\n            {\r\n                displayLabel: 'Never',\r\n                value: 'never'\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        name: GAME_OPTION_NAMES.SOFT_CEILING,\r\n        defaultValue: 'yes',\r\n        description: 'Allow departures via climb',\r\n        help: 'Normally aircraft departs the airspace by flying beyond the horizontal bounds.  If set to yes, aircraft may also depart the airspace by climbing above it.',\r\n        type: 'select',\r\n        onChangeEventHandler: null,\r\n        optionList: [\r\n            {\r\n                displayLabel: 'Yes',\r\n                value: 'yes'\r\n            },\r\n            {\r\n                displayLabel: 'No',\r\n                value: 'no'\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        name: GAME_OPTION_NAMES.MOUSE_CLICK_DRAG,\r\n        defaultValue: 'right',\r\n        description: 'Panning Button',\r\n        help: 'Which mouse button (left or right) should drag the canvas when held',\r\n        type: 'select',\r\n        onChangeEventHandler: null,\r\n        optionList: [\r\n            {\r\n                displayLabel: 'Left Click',\r\n                value: 'left'\r\n            },\r\n            {\r\n                displayLabel: 'Right Click',\r\n                value: 'right'\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        name: GAME_OPTION_NAMES.RANGE_RINGS,\r\n        defaultValue: 'default',\r\n        description: 'Range rings',\r\n        help: 'Radius of range rings, in nautical miles',\r\n        type: 'select',\r\n        onChangeEventHandler: EVENT.RANGE_RINGS_CHANGE,\r\n        optionList: [\r\n            {\r\n                displayLabel: 'Default',\r\n                value: 'default'\r\n            },\r\n            {\r\n                displayLabel: 'Off',\r\n                value: 'off'\r\n            },\r\n            {\r\n                displayLabel: '1 nm',\r\n                value: 1\r\n            },\r\n            {\r\n                displayLabel: '2 nm',\r\n                value: 2\r\n            },\r\n            {\r\n                displayLabel: '5 nm',\r\n                value: 5\r\n            },\r\n            {\r\n                displayLabel: '10 nm',\r\n                value: 10\r\n            },\r\n            {\r\n                displayLabel: '15 nm',\r\n                value: 15\r\n            },\r\n            {\r\n                displayLabel: '20 nm',\r\n                value: 20\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        name: GAME_OPTION_NAMES.MEASURE_TOOL_PATH,\r\n        defaultValue: '0',\r\n        description: 'Measure path style',\r\n        help: 'How the path is rendered when using the range/bearing measuring tool',\r\n        type: 'select',\r\n        onChangeEventHandler: EVENT.MEASURE_TOOL_STYLE_CHANGE,\r\n        optionList: [\r\n            {\r\n                displayLabel: 'Straight lines only',\r\n                value: MEASURE_TOOL_STYLE.STRAIGHT\r\n            },\r\n            {\r\n                displayLabel: 'Arc to next fix, then straight',\r\n                value: MEASURE_TOOL_STYLE.ARC_TO_NEXT\r\n            },\r\n            {\r\n                displayLabel: 'All lines arced',\r\n                value: MEASURE_TOOL_STYLE.ALL_ARCED\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        name: GAME_OPTION_NAMES.CHAT_LOG_DURATION,\r\n        defaultValue: '3',\r\n        description: 'Chat Log Duration',\r\n        help: 'How long chat transmissions will remain visible before fading out',\r\n        type: 'number',\r\n        onChangeEventHandler: EVENT.CHAT_LOG_DURATION_CHANGE,\r\n        unit: 'sec',\r\n        validationHandler(newVal) {\r\n            const output = parseFloat(newVal);\r\n\r\n            return !Number.isNaN(output) && output > 0;\r\n        }\r\n    }\r\n];\r\n","/**\r\n * Commonly used time conversion rates\r\n *\r\n * @property TIME\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const TIME = {\r\n    ONE_HOUR_IN_SECONDS: 3600,\r\n    ONE_HOUR_IN_MINUTES: 60,\r\n    ONE_HOUR_IN_MILLISECONDS: 3600000,\r\n    ONE_MINUTE_IN_HOURS: 1 / 60,\r\n    ONE_MINUTE_IN_SECONDS: 60,\r\n    ONE_MINUTE_IN_MILLISECONDS: 60000,\r\n    ONE_SECOND_IN_HOURS: 1 / 3600,\r\n    ONE_SECOND_IN_MINUTES: 1 / 60,\r\n    ONE_SECOND_IN_MILLISECONDS: 1000,\r\n    ONE_MILLISECOND_IN_HOURS: 1 / 3600000,\r\n    ONE_MILLISECOND_IN_MINUTES: 1 / 60000,\r\n    ONE_MILLISECOND_IN_SECONDS: 1 / 1000\r\n};\r\n\r\n/**\r\n * Regular expressions\r\n *\r\n * @property REGEX\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const REGEX = {\r\n    ALTITUDE_RESTRICTION: /^A([0-9]{1,3})([+-]?)$/,\r\n    COMPASS_DIRECTION: /^[NESW]/,\r\n    DOUBLE_DOT: /\\.\\./g,\r\n    HOLD_DISTANCE: /^((?:0(?=\\.[1-9])|[1-9]|[1-4][0-9])(?:\\.[0-9])?)(nm|min)$/i,\r\n    LAT_LONG: /^([NESW])(\\d+(\\.\\d+)?)([d °](\\d+(\\.\\d+)?))?([m '](\\d+(\\.\\d+)?))?$/,\r\n    SPEED_RESTRICTION: /^S([1-9][0-9]{2})([+-]?)$/,\r\n    SW: /[SW]/,\r\n    SINGLE_DOT: /\\./g,\r\n    THREE_DIGIT_NUMBER: /^[0-9]{3}$/,\r\n    TRANSPONDER_CODE: /^[0-7][0-7][0-7][0-7]$/,\r\n    UNICODE: /[^\\u0000-\\u00ff]/,\r\n    WHITESPACE: /\\s/g\r\n};\r\n\r\n/**\r\n * A collection of constant values used in physics calculations\r\n *\r\n * @property PHYSICS_CONSTANTS\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const PHYSICS_CONSTANTS = {\r\n    /**\r\n     * Average radius of simplified earth spheroid, in nautical miles\r\n     * Note: Calculated from conversion of 3440nm to km\r\n     *\r\n     * @property EARTH_RADIUS_NM\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    EARTH_RADIUS_KM: 6370.88,\r\n\r\n    /**\r\n     * Average radius of simplified earth spheroid, in nautical miles\r\n     *\r\n     * @property EARTH_RADIUS_NM\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    EARTH_RADIUS_NM: 3440,\r\n\r\n    /**\r\n     * Acceleration due to force of gravity, in m/s\r\n     *\r\n     * @property GRAVITATIONAL_MAGNITUDE\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    GRAVITATIONAL_MAGNITUDE: 9.81\r\n};\r\n\r\n/**\r\n * Value used to indicate an invalid or otherwise unset Value\r\n * Examples include invalid array index, and numeric properties that have\r\n * no real value set other than the value (this value) set at initilization.\r\n *\r\n * @enum INVALID_NUMBER\r\n * @type {number}\r\n * @final\r\n */\r\nexport const INVALID_NUMBER = -1;\r\n\r\n/**\r\n * Enumeration for an invalid index number.\r\n *\r\n * @enum INVALID_INDEX\r\n * @type {number}\r\n * @final\r\n */\r\nexport const INVALID_INDEX = -1;\r\n","/**\r\n * Context of commands entered into command bar\r\n *\r\n * @enum COMMAND_CONTEXT\r\n * @type {object}\r\n */\r\nexport const COMMAND_CONTEXT = {\r\n    AIRCRAFT: 'aircraft',\r\n    SCOPE: 'scope'\r\n};\r\n\r\n/**\r\n * Enumeration of key codes used for inputs.\r\n *\r\n * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code\r\n *\r\n * @property KEY_CODES\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const KEY_CODES = {\r\n\r\n    CONTROL_LEFT: 'ControlLeft',\r\n    CONTROL_RIGHT: 'ControlRight',\r\n    SHIFT_LEFT: 'ShiftLeft',\r\n    SHIFT_RIGHT: 'ShiftRight',\r\n    ENTER: 'Enter',\r\n    ESCAPE: 'Escape',\r\n    TAB: 'Tab',\r\n    PAGE_UP: 'PageUp',\r\n    PAGE_DOWN: 'PageDown',\r\n    // numpad\r\n    NUM_MULTIPLY: 'NumpadMultiply',\r\n    NUM_ADD: 'NumpadAdd',\r\n    NUM_SUBTRACT: 'NumpadSubtract',\r\n    NUM_DIVIDE: 'NumpadDivide',\r\n    NUM_ENTER: 'NumpadEnter',\r\n    // arrow keys\r\n    LEFT_ARROW: 'ArrowLeft',\r\n    UP_ARROW: 'ArrowUp',\r\n    RIGHT_ARROW: 'ArrowRight',\r\n    DOWN_ARROW: 'ArrowDown',\r\n    // F-Keys\r\n    F1: 'F1',\r\n    F2: 'F2',\r\n    F3: 'F3',\r\n    F4: 'F4',\r\n    F5: 'F5',\r\n    F6: 'F6',\r\n    F7: 'F7',\r\n    F8: 'F8',\r\n    F9: 'F9',\r\n    F10: 'F10',\r\n    F11: 'F11',\r\n    F12: 'F12',\r\n    // `\r\n    BACKQUOTE: 'Backquote'\r\n};\r\n\r\n/**\r\n * Enumeration of key codes used for inputs (for older browsers like IE)\r\n *\r\n * @property LEGACY_KEY_CODES\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const LEGACY_KEY_CODES = {\r\n\r\n    ENTER: 13,\r\n    ESCAPE: 27,\r\n    TAB: 9,\r\n    PAGE_UP: 33,\r\n    PAGE_DOWN: 34,\r\n    // numpad\r\n    NUM_MULTIPLY: 106,\r\n    NUM_ADD: 107,\r\n    NUM_SUBTRACT: 109,\r\n    NUM_DIVIDE: 111,\r\n    // arrow keys\r\n    LEFT_ARROW: 37,\r\n    UP_ARROW: 38,\r\n    RIGHT_ARROW: 39,\r\n    DOWN_ARROW: 40,\r\n    // F-Keys\r\n    F1: 112,\r\n    F2: 113,\r\n    F3: 114,\r\n    F4: 115,\r\n    F5: 116,\r\n    F6: 117,\r\n    F7: 118,\r\n    F8: 119,\r\n    F9: 120,\r\n    F10: 121,\r\n    F11: 122,\r\n    F12: 123,\r\n    // `\r\n    BACKQUOTE: 220\r\n};\r\n\r\n/**\r\n * Enumeration of the render styles used by `MeasureTool`\r\n */\r\nexport const MEASURE_TOOL_STYLE = {\r\n    STRAIGHT: 'straight',\r\n    ARC_TO_NEXT: 'initial_turn',\r\n    ALL_ARCED: 'arced'\r\n};\r\n\r\n/**\r\n * Enumeration of the mouse button names\r\n *\r\n * @property MOUSE_BUTTON_NAMES\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const MOUSE_BUTTON_NAMES = {\r\n    LEFT: 'left',\r\n    MIDDLE: 'middle',\r\n    RIGHT: 'right'\r\n};\r\n\r\n/**\r\n * Enumeration of mouse events returned from $event.which\r\n *\r\n * These codes can only be used with jQuery event object.\r\n *\r\n * @property MOUSE_EVENT_CODE\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const MOUSE_EVENT_CODE = {\r\n    LEFT_PRESS: 1,\r\n    MIDDLE_PRESS: 2,\r\n    RIGHT_PRESS: 3\r\n};\r\n\r\n/**\r\n * Name of a command returned from the Parser\r\n *\r\n * @property PARSED_COMMAND_NAME\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const PARSED_COMMAND_NAME = {\r\n    AIRAC: 'airac',\r\n    AIRPORT: 'airport',\r\n    AUTO: 'auto',\r\n    CLEAR: 'clear',\r\n    PAUSE: 'pause',\r\n    RATE: 'rate',\r\n    TIMEWARP: 'timewarp',\r\n    TRANSMIT: 'transmit',\r\n    TUTORIAL: 'tutorial'\r\n};\r\n","/**\r\n * @property LOG\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const LOG = {\r\n    DEBUG: 0,\r\n    INFO: 1,\r\n    WARNING: 2,\r\n    ERROR: 3,\r\n    FATAL: 4\r\n};\r\n","/**\r\n * Screen position to default to if the actual position cannot be calculated, in shape of [x,y]\r\n *\r\n * @property DEFAULT_SCREEN_POSITION\r\n * @type {Array}\r\n * @final\r\n */\r\nexport const DEFAULT_SCREEN_POSITION = [0, 0];\r\n\r\n/**\r\n * Map of the content of all indices of the array parsed into the position model\r\n *\r\n * @property GPS_COORDINATE_INDEX\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const GPS_COORDINATE_INDEX = {\r\n    /**\r\n     * @property LATITUDE\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    LATITUDE: 0,\r\n\r\n    /**\r\n     * @property LONGITUDE\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    LONGITUDE: 1,\r\n\r\n    /**\r\n     * @property ELEVATION\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    ELEVATION: 2\r\n};\r\n\r\n/**\r\n * Map of the content of all the indices of the relativePosition array\r\n *\r\n * @property RELATIVE_POSITION_OFFSET_INDEX\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const RELATIVE_POSITION_OFFSET_INDEX = {\r\n    /**\r\n     * @property LATITUDINAL\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    LATITUDINAL: 0,\r\n\r\n    /**\r\n     * @property LONGITUDINAL\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    LONGITUDINAL: 1\r\n};\r\n","/**\r\n* Symbol that divides each direct segment\r\n*\r\n* @enum DIRECT_SEGMENT_DIVIDER\r\n* @type {string}\r\n* @final\r\n*/\r\nexport const DIRECT_SEGMENT_DIVIDER = '..';\r\n\r\n/**\r\n* Known types of `LegModel`s\r\n*\r\n* @enum LEG_TYPE\r\n* @type {object}\r\n* @final\r\n*/\r\nexport const LEG_TYPE = {\r\n    /**\r\n    * For legs following an airway from entry point to exit point\r\n    *\r\n    * @memberof LEG_TYPE\r\n    * @property AIRWAY\r\n    * @type {string}\r\n    */\r\n    AIRWAY: 'airway',\r\n\r\n    /**\r\n    * For legs that are simply direct from the previous fix to the next fix\r\n    *\r\n    * @memberof LEG_TYPE\r\n    * @property DIRECT\r\n    * @type {string}\r\n    */\r\n    DIRECT: 'direct',\r\n\r\n    /**\r\n    * For legs following an instrument procedure from entry point to exit point\r\n    *\r\n    * This currently includes SIDs and STARs (though additional procedures are planned)\r\n    *\r\n    * @memberof LEG_TYPE\r\n    * @property PROCEDURE\r\n    * @type {string}\r\n    */\r\n    PROCEDURE: 'procedure'\r\n};\r\n\r\n/**\r\n* Symbol that divides each route segment\r\n*\r\n* @enum PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER\r\n* @type {string}\r\n* @final\r\n*/\r\nexport const PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER = '.';\r\n\r\n/**\r\n* @property PROCEDURE_TYPE\r\n* @type {Object}\r\n* @final\r\n*/\r\nexport const PROCEDURE_TYPE = {\r\n    SID: 'SID',\r\n    STAR: 'STAR'\r\n};\r\n","/**\r\n * Character used to separate the data block direction and length when specified\r\n * in a scope command. Example: '3/2' --> direction '3' and length '2'\r\n *\r\n * @enum DATA_BLOCK_DIRECTION_LENGTH_SEPARATOR\r\n * @type {string}\r\n */\r\nexport const DATA_BLOCK_DIRECTION_LENGTH_SEPARATOR = '/';\r\n\r\n/**\r\n * Map of which number position correlates to what heading away from the\r\n * aircraft to draw the leader line and data block\r\n *\r\n * @enum DATA_BLOCK_POSITION_MAP\r\n * @type {object}\r\n */\r\nexport const DATA_BLOCK_POSITION_MAP = {\r\n    8: 360,\r\n    9: 45,\r\n    6: 90,\r\n    3: 135,\r\n    2: 180,\r\n    1: 225,\r\n    4: 270,\r\n    7: 315,\r\n    5: 'ctr'\r\n};\r\n","import _mapValues from 'lodash/mapValues';\r\n\r\n// TODO: Why are SO many element-specific selectors classes instead of IDs?\r\n// We are for some reason defining an ID, and sometimes finding the element by\r\n// searching the ID name, and other times we are searching by the id-specific\r\n// class name that is also assigned to that specific element... why?\r\n/**\r\n * CSS classnames used throught the app.\r\n *\r\n * @property CLASSNAMES\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const CLASSNAMES = {\r\n    ACTIVE: 'active',\r\n    AIRCRAFT: 'aircraft',\r\n    AIRPORT_GUIDE_VIEW: 'js-airportGuide-view',\r\n    AIRPORT_LIST: 'airport-list',\r\n    AIRPORT_LIST_ITEM: 'airport-list-item',\r\n    AIRPORT_LIST_ITEM_IS_ACTIVE: 'mix-airport-list-item_isActive',\r\n    AIRPORT_SEARCH: 'search',\r\n    ALL_SET: 'allSet',\r\n    ALTITUDE: 'altitude',\r\n    ARRIVAL: 'arrival',\r\n    BLACKBOX: 'blackBox',\r\n    CALLSIGN: 'callsign',\r\n    CHANGELOG_CONTAINER: 'js-changelogContainer',\r\n    CHANGELOG_CONTENT: 'js-changelog',\r\n    CHANGELOG_VERSION: 'changelog-version',\r\n    COMMAND_SCOPE_MODE: 'scope-mode',\r\n    CONTROL: 'control',\r\n    DEPARTURE: 'departure',\r\n    DESTINATION: 'destination',\r\n    DIALOG: 'dialog',\r\n    DIALOG_BODY: 'dialog-body',\r\n    FAST_FORWARDS: 'fast-forwards',\r\n    FOLLOWING_STAR: 'followingSTAR',\r\n    FORM_VALUE: 'form-value',\r\n    HEADING: 'heading',\r\n    HIDDEN: 'hidden',\r\n    HOLD: 'hold',\r\n    LEFT: 'left',\r\n    LOADING_VIEW: 'js-loadingView',\r\n    LOOKING_GOOD: 'lookingGood',\r\n    MESSAGE: 'message',\r\n    NEGATIVE: 'negative',\r\n    NEXT: 'next',\r\n    NOT_SELECTABLE: 'notSelectable',\r\n    OPEN: 'open',\r\n    OPTIONS_DIALOG: 'option-dialog',\r\n    TRAFFIC_DIALOG: 'traffic-dialog',\r\n    TRAFFIC_DEFAULT_BUTTON: 'js-trafficDefaultButton',\r\n    TRAFFIC_RESTART_BUTTON: 'js-trafficRestartButton',\r\n    OVERFLIGHT: 'overflight',\r\n    PAUSED: 'paused',\r\n    PREV: 'prev',\r\n    RIGHT: 'right',\r\n    RUNWAY: 'runway',\r\n    SPEED_2: 'speed-2',\r\n    SPEED_5: 'speed-5',\r\n    SPEED: 'speed',\r\n    STRIP_VIEW_AIRCRAFT_TYPE: '.js-stripView-aircraftModel',\r\n    STRIP_VIEW_ALTERNATE_AIRPORT_ID: '.js-stripView-alternateAirportId',\r\n    STRIP_VIEW_ARRIVAL_AIRPORT_ID: '.js-stripView-arrivalAirportId',\r\n    STRIP_VIEW_ARRIVALS_LIST: 'js-stripViewArrivals-list',\r\n    STRIP_VIEW_ASSIGNED_ALTITUDE: '.js-stripView-assignedAltitude',\r\n    STRIP_VIEW_CALLSIGN: '.js-stripView-callsign',\r\n    STRIP_VIEW_CID: '.js-stripView-cid',\r\n    STRIP_VIEW_DEPARTURE_AIRPORT_ID: '.js-stripView-departureAirportId',\r\n    STRIP_VIEW_DEPARTURES_LIST: 'js-stripViewDepartures-list',\r\n    STRIP_VIEW_FLIGHT_PLAN_ALTITUDE: '.js-stripView-flightPlanAltitude',\r\n    STRIP_VIEW_FLIGHT_PLAN: '.js-stripView-flightPlan',\r\n    STRIP_VIEW_IS_HIDDEN: 'mix-stripView_isHidden',\r\n    STRIP_VIEW_PREPLANNING: 'stripView-preplanning',\r\n    STRIP_VIEW_REMARKS: '.js-stripView-remarks',\r\n    STRIP_VIEW_RUNWAY: '.js-stripView-runway',\r\n    STRIP_VIEW_TRANSPONDER: '.js-stripView-transponder',\r\n    STRIP_VIEW_TRIGGER: 'js-stripView-trigger',\r\n    STRIP_VIEW: 'js-stripView',\r\n    STRIP: 'strip',\r\n    SWITCH_AIRPORT: 'switch-airport',\r\n    TOGGLE_AIRPORT_GUIDE: 'toggle-airport-guide',\r\n    TOGGLE_AIRSPACE: 'toggle-airspace',\r\n    TOGGLE_CHANGELOG: 'js-changelogToggle',\r\n    TOGGLE_LABELS: 'toggle-labels',\r\n    TOGGLE_RESTRICTED_AREAS: 'toggle-restricted-areas',\r\n    TOGGLE_PAUSE: 'toggle-pause',\r\n    TOGGLE_SIDS: 'toggle-sids',\r\n    TOGGLE_SPEECH: 'toggle-speech',\r\n    TOGGLE_STARS: 'toggle-stars',\r\n    TOGGLE_TERRAIN: 'toggle-terrain',\r\n    TOGGLE_TRAFFIC: 'toggle-traffic',\r\n    TOGGLE_TUTORIAL: 'toggle-tutorial',\r\n    TOGGLE_VIDEO_MAP: 'toggle-video-map',\r\n    WARN: 'warn',\r\n    WARNING_BUTTON: 'warning-button'\r\n};\r\n\r\n/**\r\n * CSS IDs used throughout the app.\r\n *\r\n * @property SELECTOR_IDS\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const IDS = {\r\n    AIRPORT_GUIDE: 'airportGuide-bd',\r\n    AIRPORT_GUIDE_CONTAINER: 'airportGuide-container',\r\n    AIRPORT_SWITCH: 'airport-switch',\r\n    AUTOCOMPLETE: 'autocomplete',\r\n    AUTOCOMPLETE_INPUT: 'autocomplete-input',\r\n    AUTOCOMPLETE_OUTPUT: 'autocomplete-output',\r\n    AUTOCOMPLETE_SPACER: 'autocomplete-spacer',\r\n    AUTOCOMPLETE_SUGGESTS: 'autocomplete-suggests',\r\n    CANVASES: 'canvases',\r\n    CLOCK: 'clock',\r\n    COMMAND: 'command',\r\n    LOADING: 'loading',\r\n    LOG: 'log',\r\n    NAVAIDS_CANVAS: 'navaids-canvas',\r\n    PAUSED: 'paused',\r\n    TOGGLE_OPTIONS: 'toggle-options',\r\n    TUTORIAL: 'tutorial',\r\n    GITHUB_EXTERNAL_LINK: 'js-github-external-link',\r\n    SCORE: 'score',\r\n    SCORE_LOG: 'score-log',\r\n    SIDEBAR: 'sidebar'\r\n};\r\n\r\n/**\r\n * Take a classname string and return a classname selector that can be used by jQuery to find an HTML Element.\r\n *\r\n * @function buildSelectorsFromClassnames\r\n * @return {object}\r\n */\r\nconst buildSelectorsFromClassnames = () => {\r\n    const classnameSelectors = _mapValues(CLASSNAMES, (value) => {\r\n        return `.${value}`;\r\n    });\r\n\r\n    return classnameSelectors;\r\n};\r\n\r\n/**\r\n *\r\n * @function buildSelectorsFromIds\r\n * @return {object}\r\n */\r\nconst buildSelectorsFromIds = () => {\r\n    const idSelectors = _mapValues(IDS, (value) => {\r\n        return `#${value}`;\r\n    });\r\n\r\n    return idSelectors;\r\n};\r\n\r\n/**\r\n * @property DOM_SELECTORS\r\n * @type {Object}\r\n * @final\r\n */\r\nconst DOM_SELECTORS = {\r\n    ...buildSelectorsFromClassnames(),\r\n    ...buildSelectorsFromIds()\r\n};\r\n\r\n/**\r\n * Combinator constant.\r\n *\r\n * Allows for a single import that has access to both CLASSNAMES, IDS and DOM_SELECTORS\r\n *\r\n * @property SELECTORS\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const SELECTORS = {\r\n    CLASSNAMES,\r\n    IDS,\r\n    DOM_SELECTORS\r\n};\r\n","/**\r\n * @property VOICES\r\n * @type {Array}\r\n * @final\r\n */\r\nexport const VOICES = [\r\n    'Alex',\r\n    'Daniel',\r\n    'Fiona',\r\n    'Google US English',\r\n    'Google UK English Female',\r\n    'Google UK English Male'\r\n];\r\n\r\n/**\r\n * @property LOWER_PITCH\r\n * @type {float}\r\n * @final\r\n */\r\nexport const LOWER_PITCH = 0.9;\r\n\r\n/**\r\n * @property HIGHER_PITCH\r\n * @type {float}\r\n * @final\r\n */\r\nexport const HIGHER_PITCH = 1.125;\r\n\r\n/**\r\n * @property NORMAL_SPEED\r\n * @type {float}\r\n * @final\r\n */\r\nexport const NORMAL_SPEED = 1.0;\r\n\r\n/**\r\n * @property FASTER_SPEED\r\n * @type {float}\r\n * @final\r\n */\r\nexport const FASTER_SPEED = 1.125;\r\n","/**\r\n * @property STORAGE_KEY\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const STORAGE_KEY = {\r\n    ATC_LAST_AIRPORT: 'atc-last-airport',\r\n    ATC_LAST_VERSION: 'atc-last-version',\r\n    ATC_SPEECH_ENABLED: 'atc-speech-enabled',\r\n    FIRST_RUN_TIME: 'first-run-time',\r\n    ZOOM_LEVEL: 'zoom-level'\r\n};\r\n","import { THEME_CLASSIC } from './themes/classic/theme';\r\nimport { THEME_DEFAULT } from './themes/default/theme';\r\nimport { THEME_CELESTIAL } from './themes/celestial/theme';\r\n\r\nexport const THEME = {\r\n    CLASSIC: THEME_CLASSIC,\r\n    DEFAULT: THEME_DEFAULT,\r\n    CELESTIAL: THEME_CELESTIAL\r\n};\r\n","/**\r\n * @property COLOR\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const COLOR = {\r\n    BLUE_VERY_LIGHT: 'rgba(64, 127, 143, 1.0)',\r\n    BLUE_VERY_LIGHT_02: 'rgba(64, 127, 143, 0.2)',\r\n    BLUE_LIGHT: 'rgba(56, 111, 125, 1.0)',\r\n    BLUE_MEDIUM_LIGHT: 'rgba(48, 96, 108, 1.0)',\r\n    BLUE_MEDIUM: 'rgba(90, 180, 255, 1.0)',\r\n    BLUE_MEDIUM_DARK: 'rgba(32, 64, 72, 1.0)',\r\n    BLUE_MEDIUM_DARK_01: 'rgba(32, 64, 72, 0.1)',\r\n    BLUE_DARK: 'rgba(24, 49, 55, 1.0)',\r\n    BLUE_VERY_DARK: 'rgba(16, 33, 37, 1.0)',\r\n    BLUE_01: 'rgba(30,120,255,1.0)',\r\n    BLUE_02: 'rgba(70,70,170,1.0)',\r\n    GREEN_LIGHT: 'rgba(193, 218, 205, 1.0)',\r\n    GREEN_DARK: 'rgba(0,255,0,1.0)',\r\n    GRAY_VERY_VERY_DARK: 'rgba(20, 20, 20, 1.0)',\r\n    GRAY_BRIGHT: 'rgba(217, 217, 217, 1.0)',\r\n    GRAY_DIM: 'rgba(140,140,140,1.0)',\r\n    GRAY_DIMMER: 'rgba(54,54,54,1.0)',\r\n    RED_BRIGHT: 'rgba(255, 0, 0, 1.0)',\r\n    RED: 'rgba(224, 128, 128, 1.0)',\r\n    RED_02: 'rgba(224, 128, 128, 0.2)',\r\n    WHITE: 'rgba(255, 255, 255, 1.0)',\r\n    WHITE_05: 'rgba(255, 255, 255, 0.5)',\r\n    TRANSPARENT: 'rgba(0, 0, 0, 0)'\r\n};\r\n","import { COLOR } from '../color';\r\n\r\n// TODO: Instead of individual colors, can we somehow specify an alpha value\r\n// for 'IN_RANGE', 'OUT_OF_RANGE' and 'SELECTED', to be applied to the entire\r\n// data block? Possibly `cc.globalAlpha`, to be only effective while drawing\r\n// the data block, then `cc.restore()` to return to normal opacity?\r\n/**\r\n * Colors and options for data blocks\r\n *\r\n * @enum DATA_BLOCK_THEME\r\n * @type {object}\r\n */\r\nexport const DATA_BLOCK_THEME = {\r\n    /**\r\n     * Number of characters of aircraft model icao to show in data block\r\n     *\r\n     * @memberof AIRCRAFT_MODEL_ICAO_CHARACTER_LIMIT\r\n     * @type {number}\r\n     */\r\n    AIRCRAFT_MODEL_ICAO_CHARACTER_LIMIT: 4,\r\n\r\n    /**\r\n     * Color of the bar on the left side of the data block\r\n     * Opacity used for when the aircraft is within the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property ARRIVAL_BAR_IN_RANGE\r\n     */\r\n    ARRIVAL_BAR_IN_RANGE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the bar on the left side of the data block\r\n     * Opacity used for when the aircraft is outside the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property ARRIVAL_BAR_OUT_OF_RANGE\r\n     */\r\n    ARRIVAL_BAR_OUT_OF_RANGE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the bar on the left side of the data block\r\n     * Opacity used for when the aircraft is selected\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property ARRIVAL_BAR_SELECTED\r\n     */\r\n    ARRIVAL_BAR_SELECTED: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the data block fill (if it is enabled)\r\n     * Opacity used for when the aircraft is within the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property BACKGROUND_IN_RANGE\r\n     */\r\n    BACKGROUND_IN_RANGE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the data block fill (if it is enabled)\r\n     * Opacity used for when the aircraft is outside the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property BACKGROUND_OUT_OF_RANGE\r\n     */\r\n    BACKGROUND_OUT_OF_RANGE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the data block fill (if it is enabled)\r\n     * Opacity used for when the aircraft is selected\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property BACKGROUND_SELECTED\r\n     */\r\n    BACKGROUND_SELECTED: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the bar on the left side of the data block\r\n     * Opacity used for when the aircraft is within the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property DEPARTURE_BAR_IN_RANGE\r\n     */\r\n    DEPARTURE_BAR_IN_RANGE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the bar on the left side of the data block\r\n     * Opacity used for when the aircraft is outside the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property DEPARTURE_BAR_OUT_OF_RANGE\r\n     */\r\n    DEPARTURE_BAR_OUT_OF_RANGE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the bar on the left side of the data block\r\n     * Opacity used for when the aircraft is selected\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property DEPARTURE_BAR_SELECTED\r\n     */\r\n    DEPARTURE_BAR_SELECTED: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Whether or not to fill the data block with a background color\r\n     * This z\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property HAS_FILL\r\n     */\r\n    HAS_FILL: false,\r\n\r\n    /**\r\n     * One half of the height of a data block\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property HALF_HEIGHT\r\n     */\r\n    HALF_HEIGHT: 16,\r\n\r\n    /**\r\n     * One half of the width of a data block\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property HALF_HEIGHT\r\n     */\r\n    HALF_WIDTH: 30,\r\n\r\n    /**\r\n     * Height of a data block\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property HEIGHT\r\n     */\r\n    HEIGHT: 32,\r\n\r\n    /**\r\n     * Direction to extend the data block away from the target\r\n     * Currently, only 360, 45, 90, 135, 180, 225, 270, and 315 are available.\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property LEADER_DIRECTION\r\n     */\r\n    LEADER_DIRECTION: 360,\r\n\r\n    /**\r\n     * Number of additional pixels away from the target to position the data block\r\n     * Used to adjust spacing between data block and target at lowest leader length\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property LEADER_LENGTH_ADJUSTMENT_PIXELS\r\n     */\r\n    LEADER_LENGTH_ADJUSTMENT_PIXELS: -10,\r\n\r\n    /**\r\n     * Number of pixels longer the leader line becomes with each increase of\r\n     * the 'leader length' value\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property LEADER_LENGTH_INCREMENT_PIXELS\r\n     */\r\n    LEADER_LENGTH_INCREMENT_PIXELS: 25,\r\n\r\n    /**\r\n     * Default length of the leader lines (no meaningful units)\r\n     * The 'leader line' is the line that connects the target (position dot) to\r\n     * the data block so you know which callsign applies to which aircraft\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property LEADER_LENGTH\r\n     */\r\n    LEADER_LENGTH: 1,\r\n\r\n    /**\r\n     * Distance from data block after which the leader line is drawn\r\n     * Higher values mean a shorter leader line\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @type {number}\r\n     */\r\n    LEADER_PADDING_FROM_BLOCK_PX: -2,\r\n\r\n    /**\r\n     * Distance from radar target after which the leader line is drawn\r\n     * Higher values mean a shorter leader line\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @type {number}\r\n     */\r\n    LEADER_PADDING_FROM_TARGET_PX: 0,\r\n\r\n    /**\r\n     * Number of characters of scratchpad to show in data block\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @type {number}\r\n     */\r\n    SCRATCHPAD_CHARACTER_LIMIT: 3,\r\n\r\n    /**\r\n     * Font and size of text used in the data block\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property TEXT_FONT\r\n     */\r\n    TEXT_FONT: '10px monoOne, monospace',\r\n\r\n    /**\r\n     * Color of text used in the data block\r\n     * Opacity used for when the aircraft is within the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property TEXT_IN_RANGE\r\n     */\r\n    TEXT_IN_RANGE: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color of text used in the data block\r\n     * Opacity used for when the aircraft is outside the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property TEXT_OUT_OF_RANGE\r\n     */\r\n    TEXT_OUT_OF_RANGE: COLOR.GREEN_DARK,\r\n\r\n    /**\r\n     * Color of text used in the data block\r\n     * Opacity used for when the aircraft is selected\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property TEXT_SELECTED\r\n     */\r\n    TEXT_SELECTED: COLOR.WHITE,\r\n\r\n    /**\r\n     * Width of the data block\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property WIDTH\r\n     */\r\n    WIDTH: 60\r\n};\r\n","import { COLOR } from '../color';\r\n\r\n/**\r\n * Colors and options for radar targets\r\n *\r\n * @enum RADAR_TARGET_THEME\r\n * @type {object}\r\n */\r\nexport const RADAR_TARGET_THEME = {\r\n\r\n    /**\r\n     * Color of the dots behind the aircraft, showing where it has been\r\n     * Opacity used for when the aircraft is within the airspace\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property HISTORY_DOT_INSIDE_RANGE\r\n     */\r\n    HISTORY_DOT_INSIDE_RANGE: COLOR.BLUE_02,\r\n\r\n    /**\r\n     * Color of the dots behind the aircraft, showing where it has been\r\n     * Opacity used for when the aircraft is outside the airspace\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property HISTORY_DOT_OUTSIDE_RANGE\r\n     */\r\n    HISTORY_DOT_OUTSIDE_RANGE: COLOR.BLUE_02,\r\n\r\n    /**\r\n     * Radius of the history dots, in kilometers\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property HISTORY_DOT_RADIUS_KM\r\n     */\r\n    HISTORY_DOT_RADIUS_KM: 0.3,\r\n\r\n    /**\r\n     * Number of history dots to display behind the aircraft\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property HISTORY_LENGTH\r\n     */\r\n    HISTORY_LENGTH: 5,\r\n\r\n    /**\r\n     * Color of projected track lines\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property PROJECTED_TRACK_LINES\r\n     */\r\n    PROJECTED_TRACK_LINES: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color of projection lines showing an arrival aircraft will go\r\n     * (for selected aircraft)\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property PROJECTION_ARRIVAL\r\n     */\r\n    PROJECTION_ARRIVAL: COLOR.RED,\r\n\r\n    /**\r\n     * Color of projection lines showing an arrival aircraft will go\r\n     * (for non-selected aircraft when projected path set to \"always\")\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property PROJECTION_ARRIVAL_ALL\r\n     */\r\n    PROJECTION_ARRIVAL_ALL: COLOR.RED_02,\r\n\r\n    /**\r\n     * Color of projection lines showing where a departure aircraft will go\r\n     * (for selected aircraft)\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property PROJECTION_DEPARTURE\r\n     */\r\n    PROJECTION_DEPARTURE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of projection lines showing where a departure aircraft will go\r\n     * (for non-selected aircraft when projected path set to \"always\")\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property PROJECTION_DEPARTURE_ALL\r\n     */\r\n    PROJECTION_DEPARTURE_ALL: COLOR.BLUE_VERY_LIGHT_02,\r\n\r\n    /**\r\n     * Color of projection lines used when the aircraft is\r\n     * established on an instrument approach\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property PROJECTION_ESTABLISHED_ON_APPROACH\r\n     */\r\n    PROJECTION_ESTABLISHED_ON_APPROACH: COLOR.RED,\r\n\r\n    /**\r\n     * Color of any radar target, including that of aircraft\r\n     * A 'radar target' is the dot showing the actual position\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property RADAR_TARGET\r\n     */\r\n    RADAR_TARGET: COLOR.BLUE_01,\r\n\r\n    /**\r\n     * Radius to draw all radar targets\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property RADIUS_KM\r\n     */\r\n    RADIUS_KM: 0.5,\r\n\r\n    /**\r\n     * Radius to draw radar targets of aircraft that are currently selected\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property RADIUS_SELECTED_KM\r\n     */\r\n    RADIUS_SELECTED_KM: 0.5,\r\n\r\n    /**\r\n     * Color of conflict rings (shown to warn you of possible issue)\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property RING_CONFLICT\r\n     */\r\n    RING_CONFLICT: COLOR.BLUE_MEDIUM,\r\n\r\n    /**\r\n     * Color of violation rings (shown when aircraft have lost separation)\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property RING_VIOLATION\r\n     */\r\n    RING_VIOLATION: COLOR.RED_BRIGHT,\r\n\r\n    /**\r\n     * Color of halo\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property HALO\r\n     */\r\n    HALO: COLOR.BLUE_MEDIUM,\r\n\r\n    /**\r\n     * Whether or not the small line behind aircraft established on an\r\n     * instrument approach should be drawn\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property TRAILING_SEPARATION_INDICATOR_ENABLED\r\n     */\r\n    TRAILING_SEPARATION_INDICATOR_ENABLED: false,\r\n\r\n    /**\r\n     * Color of small line behind aircraft established on an instrument approach\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property TRAILING_SEPARATION_INDICATOR\r\n     */\r\n    TRAILING_SEPARATION_INDICATOR: COLOR.RED_BRIGHT\r\n};\r\n","import { COLOR } from '../color';\r\n\r\n/**\r\n * Colors and options for scope\r\n *\r\n * @enum SCOPE_THEME\r\n * @type {object}\r\n */\r\nexport const SCOPE_THEME = {\r\n\r\n    /**\r\n     * Color to fill the airspace area\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property AIRSPACE_FILL\r\n     */\r\n    AIRSPACE_FILL: COLOR.TRANSPARENT,\r\n\r\n    /**\r\n     * Color to draw the solid line along the airspace perimeter\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property AIRSPACE_PERIMETER\r\n     */\r\n    AIRSPACE_PERIMETER: COLOR.TRANSPARENT,\r\n\r\n    /**\r\n     * Color of the overall background of the scope\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property BACKGROUND\r\n     */\r\n    BACKGROUND: COLOR.BLACK_07,\r\n\r\n    /**\r\n     * Color of the minor and major hash marks of the relative compass headings\r\n     * displayed when an aircraft is selected\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property COMPASS_HASH\r\n     */\r\n    COMPASS_HASH: COLOR.GRAY_DIM,\r\n\r\n    /**\r\n     * Color of the heading text by the major hash marks of the relative compass\r\n     * headings displayed when an aircraft is selected\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property COMPASS_TEXT\r\n     */\r\n    COMPASS_TEXT: COLOR.GRAY_DIM,\r\n\r\n    /**\r\n     * Color of the crosshair symbol drawn by `CanvasController.canvas_draw_crosshairs()`\r\n     * This is mostly a debug function used to help developers get some context on the\r\n     * state of the canvas when examining and improving the current drawing system\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property CROSSHAIR_STROKE\r\n     */\r\n    CROSSHAIR_STROKE: COLOR.RED,\r\n\r\n    /**\r\n     * Color to fill the fix triangles with\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property FIX_FILL\r\n     */\r\n    FIX_FILL: COLOR.GRAY_DIM,\r\n\r\n    /**\r\n     * Color to use for the labels on each of the fixes\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property FIX_TEXT\r\n     */\r\n    FIX_TEXT: COLOR.GRAY_DIM,\r\n\r\n    /**\r\n     * Size to draw halos when size is not specified\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property HALO_DEFAULT_RADIUS_NM\r\n     */\r\n    HALO_DEFAULT_RADIUS_NM: 3,\r\n\r\n    /**\r\n     * Maximum size to draw halos when size is not specified\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property HALO_MAX_RADIUS_NM\r\n     */\r\n    HALO_MAX_RADIUS_NM: 20,\r\n\r\n    /**\r\n     * Color to use for the background on the `MeasureTool` labels\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property MEASURE_BACKGROUND\r\n     */\r\n    MEASURE_BACKGROUND: COLOR.TRANSPARENT,\r\n\r\n    /**\r\n     * Color to use for the text on the `MeasureTool` line\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property MEASURE_LINE\r\n     */\r\n    MEASURE_LINE: COLOR.GRAY_BRIGHT,\r\n\r\n    /**\r\n     * Color to use for the labels on the `MeasureTool` labels\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property MEASURE_TEXT\r\n     */\r\n    MEASURE_TEXT: COLOR.GRAY_BRIGHT,\r\n\r\n    /**\r\n     * Color of the range rings shown on the scope around the airport\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property RANGE_RING_COLOR\r\n     */\r\n    RANGE_RING_COLOR: COLOR.GRAY_DIMMER,\r\n\r\n    /**\r\n     * Color used to depict the restricted airspace areas\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property RESTRICTED_AIRSPACE\r\n     */\r\n    RESTRICTED_AIRSPACE: COLOR.GRAY_DIMMER,\r\n\r\n    /**\r\n     * Color of the lines extending out from the runway thresholds\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property RUNWAY_EXTENDED_CENTERLINE\r\n     */\r\n    RUNWAY_EXTENDED_CENTERLINE: COLOR.GRAY_DIM,\r\n\r\n    /**\r\n     * Color of the runway label text\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property RUNWAY_LABELS\r\n     */\r\n    RUNWAY_LABELS: COLOR.GRAY_DIM,\r\n\r\n    /**\r\n     * Color of the runways themselves\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property RUNWAY\r\n     */\r\n    RUNWAY: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color of the lines drawn between fixes on SIDs\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property SID\r\n     */\r\n    SID: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the lines drawn between fixes on STARs\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property STAR\r\n     */\r\n    STAR: COLOR.RED,\r\n\r\n    /**\r\n     * Color of the lines drawn between fixes on STARs\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property TOP_ROW_TEXT\r\n     */\r\n    TOP_ROW_TEXT: COLOR.GREEN_DARK,\r\n\r\n    /**\r\n     * Color of the video map lines (defined in the `maps`\r\n     * section of the airport file)\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property VIDEO_MAP\r\n     */\r\n    VIDEO_MAP: COLOR.GRAY_DIM\r\n};\r\n","/**\r\n * Colors and options for terrain contours\r\n *\r\n * @enum TERRAIN_THEME\r\n * @type {object}\r\n */\r\nexport const TERRAIN_THEME = {\r\n    /**\r\n     * Opacity of the lines on outer edges of terrain-elevated areas\r\n     *\r\n     * @memberof TERRAIN_THEME\r\n     * @property BORDER_OPACITY\r\n     */\r\n    BORDER_OPACITY: 1,\r\n\r\n    /**\r\n     * Opacity of the fill color within terrain-elevated areas\r\n     *\r\n     * @memberof TERRAIN_THEME\r\n     * @property FILL_OPACITY\r\n     */\r\n    FILL_OPACITY: 0.0,\r\n\r\n    /**\r\n     * Colors for each elevation level (in feet), in HSL\r\n     * From these HSL values, we later generate HSLA for use in the canvas\r\n     *\r\n     * Note that values must use the following units:\r\n     * (H) Hue:         degrees\r\n     * (S) Saturation:  percentage\r\n     * (L) Lightness:   percentage\r\n     *\r\n     * @memberof TERRAIN_THEME\r\n     * @property COLOR\r\n     */\r\n    COLOR: {\r\n        0: '0, 0%, 54.9%',\r\n        1000: '0, 0%, 54.9%',\r\n        2000: '0, 0%, 54.9%',\r\n        3000: '0, 0%, 54.9%',\r\n        4000: '0, 0%, 54.9%',\r\n        5000: '0, 0%, 54.9%',\r\n        6000: '0, 0%, 54.9%',\r\n        7000: '0, 0%, 54.9%',\r\n        8000: '0, 0%, 54.9%',\r\n        9000: '0, 0%, 54.9%',\r\n        10000: '0, 0%, 54.9%',\r\n        11000: '0, 0%, 54.9%',\r\n        12000: '0, 0%, 54.9%',\r\n        13000: '0, 0%, 54.9%',\r\n        14000: '0, 0%, 54.9%',\r\n        15000: '0, 0%, 54.9%',\r\n        16000: '0, 0%, 54.9%',\r\n        17000: '0, 0%, 54.9%',\r\n        18000: '0, 0%, 54.9%',\r\n        19000: '0, 0%, 54.9%',\r\n        20000: '0, 0%, 54.9%',\r\n        21000: '0, 0%, 54.9%',\r\n        22000: '0, 0%, 54.9%',\r\n        23000: '0, 0%, 54.9%',\r\n        24000: '0, 0%, 54.9%',\r\n        25000: '0, 0%, 54.9%'\r\n    }\r\n};\r\n","import { COLOR } from '../color';\r\n\r\n/**\r\n * Colors and options for wind vane\r\n *\r\n * @enum WIND_VANE_THEME\r\n * @type {object}\r\n */\r\nexport const WIND_VANE_THEME = {\r\n\r\n    /**\r\n     * Color of the line indicating the wind direction in gusty winds\r\n     *\r\n     * @memberof WIND_VANE_THEME\r\n     * @property DIRECTION_LINE_GUSTY\r\n     */\r\n    DIRECTION_LINE_GUSTY: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color of the line indicating the wind direction\r\n     *\r\n     * @memberof WIND_VANE_THEME\r\n     * @property DIRECTION_LINE\r\n     */\r\n    DIRECTION_LINE: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color of the ring around the wind speed\r\n     *\r\n     * @memberof WIND_VANE_THEME\r\n     * @property INNER_RING_STROKE\r\n     */\r\n    INNER_RING_STROKE: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color to fill the whole wind vane\r\n     *\r\n     * @memberof WIND_VANE_THEME\r\n     * @property OUTER_RING_FILL\r\n     */\r\n    OUTER_RING_FILL: COLOR.GRAY_VERY_VERY_DARK,\r\n\r\n    /**\r\n     * Color of the wind speed text\r\n     *\r\n     * @memberof WIND_VANE_THEME\r\n     * @property WIND_SPEED_TEXT\r\n     */\r\n    WIND_SPEED_TEXT: COLOR.GREEN_DARK\r\n};\r\n","import { DATA_BLOCK_THEME } from './modules/dataBlock';\r\nimport { RADAR_TARGET_THEME } from './modules/radarTarget';\r\nimport { SCOPE_THEME } from './modules/scope';\r\nimport { TERRAIN_THEME } from './modules/terrain';\r\nimport { WIND_VANE_THEME } from './modules/windVane';\r\n\r\n/**\r\n * @enum THEME_DEFAULT\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const THEME_CELESTIAL = {\r\n    CLASSNAME: 'canvas-theme-celestial',\r\n    DATA_BLOCK: DATA_BLOCK_THEME,\r\n    RADAR_TARGET: RADAR_TARGET_THEME,\r\n    SCOPE: SCOPE_THEME,\r\n    TERRAIN: TERRAIN_THEME,\r\n    WIND_VANE: WIND_VANE_THEME\r\n};\r\n","/**\r\n * @property COLOR\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const COLOR = {\r\n    BLACK_07: 'rgba(0, 0, 0, 0.7)',\r\n    BLUE_02: 'rgba(128, 255, 255, 0.2)',\r\n    BLUE_05: 'rgba(128, 255, 255, 0.5)',\r\n    BLUE_06: 'rgba(128, 255, 255, 0.6)',\r\n    BLUE_09: 'rgba(128, 255, 255, 0.9)',\r\n    BLUE_LIGHT_SOFT_03: 'rgba(150, 200, 255, 0.3)',\r\n    GRAY_LIGHT: 'rgba(224, 224, 224, 1.0)',\r\n    GRAY: 'rgba(150, 150, 150, 1)',\r\n    GREEN_02: 'rgba(76, 118, 97, 0.2)',\r\n    GREEN_05: 'rgba(76, 118, 97, 0.5)',\r\n    GREEN_09: 'rgba(76, 118, 97, 0.9)',\r\n    GREEN_DARK: 'rgba(51, 85, 68, 1)',\r\n    GREEN_LIGHT_PALE_002: 'rgba(200, 255, 200, 0.02)',\r\n    GREEN_LIGHT_PALE_01: 'rgba(200, 255, 200, 0.1)',\r\n    GREEN_LIGHT_PALE_025: 'rgba(200, 255, 200, 0.25)',\r\n    GREEN_LIGHT: 'rgba(193, 218, 205, 1)',\r\n    GREEN_MEDIUM: 'rgba(68, 102, 85, 1)',\r\n    RED_02: 'rgba(224, 128, 128, 0.2)',\r\n    RED_05: 'rgba(224, 128, 128, 0.5)',\r\n    RED_06: 'rgba(224, 128, 128, 0.6)',\r\n    RED_08: 'rgba(224, 128, 128, 0.8)',\r\n    RED_09: 'rgba(224, 128, 128, 0.9)',\r\n    RED_BRIGHT_07: 'rgba(255, 0, 0, 0.7)',\r\n    RED: 'rgba(224, 128, 128, 1.0)',\r\n    WHITE_02: 'rgba(255, 255, 255, 0.2)',\r\n    WHITE_04: 'rgba(255, 255, 255, 0.4)',\r\n    WHITE_05: 'rgba(255, 255, 255, 0.5)',\r\n    WHITE_07: 'rgba(255, 255, 255, 0.7)',\r\n    WHITE_08: 'rgba(255, 255, 255, 0.8)',\r\n    WHITE_09: 'rgba(255, 255, 255, 0.9)',\r\n    WHITE: 'rgba(255, 255, 255, 1.0)'\r\n};\r\n","import { COLOR } from '../color';\r\n\r\nexport const DATA_BLOCK_THEME = {\r\n    AIRCRAFT_MODEL_ICAO_CHARACTER_LIMIT: 4,\r\n    ARRIVAL_BAR_IN_RANGE: COLOR.RED_05,\r\n    ARRIVAL_BAR_OUT_OF_RANGE: COLOR.RED_02,\r\n    ARRIVAL_BAR_SELECTED: COLOR.RED_09,\r\n    BACKGROUND_IN_RANGE: COLOR.GREEN_05,\r\n    BACKGROUND_OUT_OF_RANGE: COLOR.GREEN_02,\r\n    BACKGROUND_SELECTED: COLOR.GREEN_09,\r\n    DEPARTURE_BAR_IN_RANGE: COLOR.BLUE_05,\r\n    DEPARTURE_BAR_OUT_OF_RANGE: COLOR.BLUE_02,\r\n    DEPARTURE_BAR_SELECTED: COLOR.BLUE_09,\r\n    HALF_HEIGHT: 16,\r\n    HALF_WIDTH: 35,\r\n    HAS_FILL: true,\r\n    HEIGHT: 32,\r\n    LEADER_DIRECTION: 360,\r\n    LEADER_LENGTH_ADJUSTMENT_PIXELS: -10,\r\n    LEADER_LENGTH_INCREMENT_PIXELS: 25,\r\n    LEADER_LENGTH: 1,\r\n    LEADER_PADDING_FROM_BLOCK_PX: 0,\r\n    LEADER_PADDING_FROM_TARGET_PX: 0,\r\n    SCRATCHPAD_CHARACTER_LIMIT: 3,\r\n    TEXT_FONT: '10px monoOne, monospace',\r\n    TEXT_IN_RANGE: COLOR.WHITE_05,\r\n    TEXT_OUT_OF_RANGE: COLOR.WHITE_02,\r\n    TEXT_SELECTED: COLOR.WHITE_09,\r\n    WIDTH: 70\r\n};\r\n","import { COLOR } from '../color';\r\n\r\nexport const RADAR_TARGET_THEME = {\r\n    HISTORY_DOT_INSIDE_RANGE: COLOR.WHITE,\r\n    HISTORY_DOT_OUTSIDE_RANGE: COLOR.GRAY_LIGHT,\r\n    HISTORY_DOT_RADIUS_KM: 0.2,\r\n    HISTORY_LENGTH: 10,\r\n    PROJECTED_TRACK_LINES: COLOR.WHITE,\r\n    PROJECTION_ARRIVAL: COLOR.RED_06,\r\n    PROJECTION_ARRIVAL_ALL: COLOR.RED_02,\r\n    PROJECTION_DEPARTURE: COLOR.BLUE_06,\r\n    PROJECTION_DEPARTURE_ALL: COLOR.BLUE_02,\r\n    PROJECTION_ESTABLISHED_ON_APPROACH: COLOR.RED,\r\n    RADAR_TARGET: COLOR.GRAY_LIGHT,\r\n    RADIUS_KM: 0.5,\r\n    RADIUS_SELECTED_KM: 0.75,\r\n    RING_CONFLICT: COLOR.WHITE_02,\r\n    RING_VIOLATION: COLOR.RED,\r\n    HALO: COLOR.GREEN_LIGHT,\r\n    TRAILING_SEPARATION_INDICATOR_ENABLED: true,\r\n    TRAILING_SEPARATION_INDICATOR: COLOR.RED_08\r\n};\r\n","import { COLOR } from '../color';\r\n\r\nexport const SCOPE_THEME = {\r\n    AIRSPACE_FILL: COLOR.GREEN_LIGHT_PALE_002,\r\n    AIRSPACE_PERIMETER: COLOR.GREEN_LIGHT_PALE_025,\r\n    BACKGROUND: COLOR.GREEN_DARK,\r\n    COMPASS_HASH: COLOR.GRAY_LIGHT,\r\n    COMPASS_TEXT: COLOR.WHITE,\r\n    CROSSHAIR_STROKE: COLOR.GRAY,\r\n    FIX_FILL: COLOR.WHITE_05,\r\n    FIX_TEXT: COLOR.WHITE_05,\r\n    HALO_DEFAULT_RADIUS_NM: 3,\r\n    HALO_MAX_RADIUS_NM: 20,\r\n\r\n    /**\r\n     * Color to use for the background on the `MeasureTool` labels\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property MEASURE_BACKGROUND\r\n     */\r\n    MEASURE_BACKGROUND: COLOR.GREEN_MEDIUM,\r\n\r\n    /**\r\n     * Color to use for the text on the `MeasureTool` line\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property MEASURE_LINE\r\n     */\r\n    MEASURE_LINE: COLOR.GREEN_LIGHT,\r\n\r\n    /**\r\n     * Color to use for the text on the `MeasureTool` labels\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property MEASURE_TEXT\r\n     */\r\n    MEASURE_TEXT: COLOR.WHITE,\r\n\r\n    RANGE_RING_COLOR: COLOR.GREEN_LIGHT_PALE_01,\r\n    RESTRICTED_AIRSPACE: COLOR.BLUE_LIGHT_SOFT_03,\r\n    RUNWAY_EXTENDED_CENTERLINE: COLOR.GREEN_MEDIUM,\r\n    RUNWAY_LABELS: COLOR.WHITE_08,\r\n    RUNWAY: COLOR.WHITE_04,\r\n    SID: COLOR.BLUE_06,\r\n    STAR: COLOR.RED,\r\n    TOP_ROW_TEXT: COLOR.WHITE_08,\r\n    VIDEO_MAP: COLOR.GREEN_LIGHT\r\n};\r\n","export const TERRAIN_THEME = {\r\n    BORDER_OPACITY: 1,\r\n    FILL_OPACITY: 0.1,\r\n    COLOR: {\r\n        0: '199, 100%, 30%',\r\n        1000: '139, 70%, 35%',\r\n        2000: '104, 46%, 56%',\r\n        3000: '60, 25%, 100%',\r\n        4000: '35, 97%, 75%',\r\n        5000: '18, 85%, 62%',\r\n        6000: '24, 67%, 37%'\r\n    }\r\n};\r\n","import { COLOR } from '../color';\r\n\r\nexport const WIND_VANE_THEME = {\r\n    DIRECTION_LINE_GUSTY: COLOR.RED_BRIGHT_07,\r\n    DIRECTION_LINE: COLOR.WHITE_07,\r\n    INNER_RING_STROKE: COLOR.WHITE_07,\r\n    OUTER_RING_FILL: COLOR.BLACK_07,\r\n    WIND_SPEED_TEXT: COLOR.WHITE_07\r\n};\r\n","import { DATA_BLOCK_THEME } from './modules/dataBlock';\r\nimport { RADAR_TARGET_THEME } from './modules/radarTarget';\r\nimport { SCOPE_THEME } from './modules/scope';\r\nimport { TERRAIN_THEME } from './modules/terrain';\r\nimport { WIND_VANE_THEME } from './modules/windVane';\r\n\r\n/**\r\n * @enum THEME_CLASSIC\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const THEME_CLASSIC = {\r\n    CLASSNAME: 'canvas-theme-classic',\r\n    DATA_BLOCK: DATA_BLOCK_THEME,\r\n    RADAR_TARGET: RADAR_TARGET_THEME,\r\n    SCOPE: SCOPE_THEME,\r\n    TERRAIN: TERRAIN_THEME,\r\n    WIND_VANE: WIND_VANE_THEME\r\n};\r\n","/**\r\n * @property COLOR\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const COLOR = {\r\n    BLUE_VERY_LIGHT: 'rgba(64, 127, 143, 1.0)',\r\n    BLUE_VERY_LIGHT_02: 'rgba(64, 127, 143, 0.2)',\r\n    BLUE_LIGHT: 'rgba(56, 111, 125, 1.0)',\r\n    BLUE_MEDIUM_LIGHT: 'rgba(48, 96, 108, 1.0)',\r\n    BLUE_MEDIUM: 'rgba(40, 80, 90, 1.0)',\r\n    BLUE_MEDIUM_DARK: 'rgba(32, 64, 72, 1.0)',\r\n    BLUE_MEDIUM_DARK_01: 'rgba(32, 64, 72, 0.1)',\r\n    BLUE_DARK: 'rgba(24, 49, 55, 1.0)',\r\n    BLUE_VERY_DARK: 'rgba(16, 33, 37, 1.0)',\r\n    GREEN_LIGHT: 'rgba(193, 218, 205, 1)',\r\n    GRAY_VERY_VERY_DARK: 'rgba(20, 20, 20, 1.0)',\r\n    RED: 'rgba(224, 128, 128, 1.0)',\r\n    RED_02: 'rgba(224, 128, 128, 0.2)',\r\n    WHITE: 'rgba(255, 255, 255, 1.0)',\r\n    WHITE_05: 'rgba(255, 255, 255, 0.5)'\r\n};\r\n","import { COLOR } from '../color';\r\n\r\n// TODO: Instead of individual colors, can we somehow specify an alpha value\r\n// for 'IN_RANGE', 'OUT_OF_RANGE' and 'SELECTED', to be applied to the entire\r\n// data block? Possibly `cc.globalAlpha`, to be only effective while drawing\r\n// the data block, then `cc.restore()` to return to normal opacity?\r\n/**\r\n * Colors and options for data blocks\r\n *\r\n * @enum DATA_BLOCK_THEME\r\n * @type {object}\r\n */\r\nexport const DATA_BLOCK_THEME = {\r\n    /**\r\n     * Number of characters of aircraft model icao to show in data block\r\n     *\r\n     * @memberof AIRCRAFT_MODEL_ICAO_CHARACTER_LIMIT\r\n     * @type {number}\r\n     */\r\n    AIRCRAFT_MODEL_ICAO_CHARACTER_LIMIT: 4,\r\n\r\n    /**\r\n     * Color of the bar on the left side of the data block\r\n     * Opacity used for when the aircraft is within the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property ARRIVAL_BAR_IN_RANGE\r\n     */\r\n    ARRIVAL_BAR_IN_RANGE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the bar on the left side of the data block\r\n     * Opacity used for when the aircraft is outside the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property ARRIVAL_BAR_OUT_OF_RANGE\r\n     */\r\n    ARRIVAL_BAR_OUT_OF_RANGE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the bar on the left side of the data block\r\n     * Opacity used for when the aircraft is selected\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property ARRIVAL_BAR_SELECTED\r\n     */\r\n    ARRIVAL_BAR_SELECTED: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the data block fill (if it is enabled)\r\n     * Opacity used for when the aircraft is within the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property BACKGROUND_IN_RANGE\r\n     */\r\n    BACKGROUND_IN_RANGE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the data block fill (if it is enabled)\r\n     * Opacity used for when the aircraft is outside the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property BACKGROUND_OUT_OF_RANGE\r\n     */\r\n    BACKGROUND_OUT_OF_RANGE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the data block fill (if it is enabled)\r\n     * Opacity used for when the aircraft is selected\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property BACKGROUND_SELECTED\r\n     */\r\n    BACKGROUND_SELECTED: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the bar on the left side of the data block\r\n     * Opacity used for when the aircraft is within the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property DEPARTURE_BAR_IN_RANGE\r\n     */\r\n    DEPARTURE_BAR_IN_RANGE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the bar on the left side of the data block\r\n     * Opacity used for when the aircraft is outside the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property DEPARTURE_BAR_OUT_OF_RANGE\r\n     */\r\n    DEPARTURE_BAR_OUT_OF_RANGE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the bar on the left side of the data block\r\n     * Opacity used for when the aircraft is selected\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property DEPARTURE_BAR_SELECTED\r\n     */\r\n    DEPARTURE_BAR_SELECTED: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Whether or not to fill the data block with a background color\r\n     * This z\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property HAS_FILL\r\n     */\r\n    HAS_FILL: false,\r\n\r\n    /**\r\n     * One half of the height of a data block\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property HALF_HEIGHT\r\n     */\r\n    HALF_HEIGHT: 16,\r\n\r\n    /**\r\n     * One half of the width of a data block\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property HALF_HEIGHT\r\n     */\r\n    HALF_WIDTH: 30,\r\n\r\n    /**\r\n     * Height of a data block\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property HEIGHT\r\n     */\r\n    HEIGHT: 32,\r\n\r\n    /**\r\n     * Direction to extend the data block away from the target\r\n     * Currently, only 360, 45, 90, 135, 180, 225, 270, and 315 are available.\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property LEADER_DIRECTION\r\n     */\r\n    LEADER_DIRECTION: 360,\r\n\r\n    /**\r\n     * Number of additional pixels away from the target to position the data block\r\n     * Used to adjust spacing between data block and target at lowest leader length\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property LEADER_LENGTH_ADJUSTMENT_PIXELS\r\n     */\r\n    LEADER_LENGTH_ADJUSTMENT_PIXELS: -10,\r\n\r\n    /**\r\n     * Number of pixels longer the leader line becomes with each increase of\r\n     * the 'leader length' value\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property LEADER_LENGTH_INCREMENT_PIXELS\r\n     */\r\n    LEADER_LENGTH_INCREMENT_PIXELS: 25,\r\n\r\n    /**\r\n     * Default length of the leader lines (no meaningful units)\r\n     * The 'leader line' is the line that connects the target (position dot) to\r\n     * the data block so you know which callsign applies to which aircraft\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property LEADER_LENGTH\r\n     */\r\n    LEADER_LENGTH: 1,\r\n\r\n    /**\r\n     * Distance from data block after which the leader line is drawn\r\n     * Higher values mean a shorter leader line\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @type {number}\r\n     */\r\n    LEADER_PADDING_FROM_BLOCK_PX: -2,\r\n\r\n    /**\r\n     * Distance from radar target after which the leader line is drawn\r\n     * Higher values mean a shorter leader line\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @type {number}\r\n     */\r\n    LEADER_PADDING_FROM_TARGET_PX: 0,\r\n\r\n    /**\r\n     * Number of characters of scratchpad to show in data block\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @type {number}\r\n     */\r\n    SCRATCHPAD_CHARACTER_LIMIT: 3,\r\n\r\n    /**\r\n     * Font and size of text used in the data block\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property TEXT_FONT\r\n     */\r\n    TEXT_FONT: '10px monoOne, monospace',\r\n\r\n    /**\r\n     * Color of text used in the data block\r\n     * Opacity used for when the aircraft is within the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property TEXT_IN_RANGE\r\n     */\r\n    TEXT_IN_RANGE: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color of text used in the data block\r\n     * Opacity used for when the aircraft is outside the airspace\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property TEXT_OUT_OF_RANGE\r\n     */\r\n    TEXT_OUT_OF_RANGE: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color of text used in the data block\r\n     * Opacity used for when the aircraft is selected\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property TEXT_SELECTED\r\n     */\r\n    TEXT_SELECTED: COLOR.WHITE,\r\n\r\n    /**\r\n     * Width of the data block\r\n     *\r\n     * @memberof DATA_BLOCK_THEME\r\n     * @property WIDTH\r\n     */\r\n    WIDTH: 60\r\n};\r\n","import { COLOR } from '../color';\r\n\r\n/**\r\n * Colors and options for radar targets\r\n *\r\n * @enum RADAR_TARGET_THEME\r\n * @type {object}\r\n */\r\nexport const RADAR_TARGET_THEME = {\r\n\r\n    /**\r\n     * Color of the dots behind the aircraft, showing where it has been\r\n     * Opacity used for when the aircraft is within the airspace\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property HISTORY_DOT_INSIDE_RANGE\r\n     */\r\n    HISTORY_DOT_INSIDE_RANGE: COLOR.WHITE_05,\r\n\r\n    /**\r\n     * Color of the dots behind the aircraft, showing where it has been\r\n     * Opacity used for when the aircraft is outside the airspace\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property HISTORY_DOT_OUTSIDE_RANGE\r\n     */\r\n    HISTORY_DOT_OUTSIDE_RANGE: COLOR.WHITE_05,\r\n\r\n    /**\r\n     * Radius of the history dots, in kilometers\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property HISTORY_DOT_RADIUS_KM\r\n     */\r\n    HISTORY_DOT_RADIUS_KM: 0.2,\r\n\r\n    /**\r\n     * Number of history dots to display behind the aircraft\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property HISTORY_LENGTH\r\n     */\r\n    HISTORY_LENGTH: 7,\r\n\r\n    /**\r\n     * Color of projected track lines\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property PROJECTED_TRACK_LINES\r\n     */\r\n    PROJECTED_TRACK_LINES: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color of projection lines showing an arrival aircraft will go\r\n     * (for selected aircraft)\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property PROJECTION_ARRIVAL\r\n     */\r\n    PROJECTION_ARRIVAL: COLOR.RED,\r\n\r\n    /**\r\n     * Color of projection lines showing an arrival aircraft will go\r\n     * (for non-selected aircraft when projected path set to \"always\")\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property PROJECTION_ARRIVAL_ALL\r\n     */\r\n    PROJECTION_ARRIVAL_ALL: COLOR.RED_02,\r\n\r\n    /**\r\n     * Color of projection lines showing where a departure aircraft will go\r\n     * (for selected aircraft)\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property PROJECTION_DEPARTURE\r\n     */\r\n    PROJECTION_DEPARTURE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of projection lines showing where a departure aircraft will go\r\n     * (for non-selected aircraft when projected path set to \"always\")\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property PROJECTION_DEPARTURE_ALL\r\n     */\r\n    PROJECTION_DEPARTURE_ALL: COLOR.BLUE_VERY_LIGHT_02,\r\n\r\n    /**\r\n     * Color of projection lines used when the aircraft is\r\n     * established on an instrument approach\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property PROJECTION_ESTABLISHED_ON_APPROACH\r\n     */\r\n    PROJECTION_ESTABLISHED_ON_APPROACH: COLOR.RED,\r\n\r\n    /**\r\n     * Color of any radar target, including that of aircraft\r\n     * A 'radar target' is the dot showing the actual position\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property RADAR_TARGET\r\n     */\r\n    RADAR_TARGET: COLOR.WHITE,\r\n\r\n    /**\r\n     * Radius to draw all radar targets\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property RADIUS_KM\r\n     */\r\n    RADIUS_KM: 0.5,\r\n\r\n    /**\r\n     * Radius to draw radar targets of aircraft that are currently selected\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property RADIUS_SELECTED_KM\r\n     */\r\n    RADIUS_SELECTED_KM: 0.75,\r\n\r\n    /**\r\n     * Color of conflict rings (shown to warn you of possible issue)\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property RING_CONFLICT\r\n     */\r\n    RING_CONFLICT: COLOR.BLUE_DARK,\r\n\r\n    /**\r\n     * Color of violation rings (shown when aircraft have lost separation)\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property RING_VIOLATION\r\n     */\r\n    RING_VIOLATION: COLOR.RED,\r\n\r\n    /**\r\n     * Color of halo\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property HALO\r\n     */\r\n    HALO: COLOR.GREEN_LIGHT,\r\n\r\n    /**\r\n     * Whether or not the small line behind aircraft established on an\r\n     * instrument approach should be drawn\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property TRAILING_SEPARATION_INDICATOR_ENABLED\r\n     */\r\n    TRAILING_SEPARATION_INDICATOR_ENABLED: false,\r\n\r\n    /**\r\n     * Color of small line behind aircraft established on an instrument approach\r\n     *\r\n     * @memberof RADAR_TARGET_THEME\r\n     * @property TRAILING_SEPARATION_INDICATOR\r\n     */\r\n    TRAILING_SEPARATION_INDICATOR: COLOR.RED\r\n};\r\n","import { COLOR } from '../color';\r\n\r\n/**\r\n * Colors and options for scope\r\n *\r\n * @enum SCOPE_THEME\r\n * @type {object}\r\n */\r\nexport const SCOPE_THEME = {\r\n\r\n    /**\r\n     * Color to fill the airspace area\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property AIRSPACE_FILL\r\n     */\r\n    AIRSPACE_FILL: COLOR.BLUE_MEDIUM_DARK_01,\r\n\r\n    /**\r\n     * Color to draw the solid line along the airspace perimeter\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property AIRSPACE_PERIMETER\r\n     */\r\n    AIRSPACE_PERIMETER: COLOR.BLUE_DARK,\r\n\r\n    /**\r\n     * Color of the overall background of the scope\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property BACKGROUND\r\n     */\r\n    BACKGROUND: COLOR.BLUE_VERY_DARK,\r\n\r\n    /**\r\n     * Color of the minor and major hash marks of the relative compass headings\r\n     * displayed when an aircraft is selected\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property COMPASS_HASH\r\n     */\r\n    COMPASS_HASH: COLOR.BLUE_MEDIUM_DARK,\r\n\r\n    /**\r\n     * Color of the heading text by the major hash marks of the relative compass\r\n     * headings displayed when an aircraft is selected\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property COMPASS_TEXT\r\n     */\r\n    COMPASS_TEXT: COLOR.BLUE_MEDIUM_DARK,\r\n\r\n    /**\r\n     * Color of the crosshair symbol drawn by `CanvasController.canvas_draw_crosshairs()`\r\n     * This is mostly a debug function used to help developers get some context on the\r\n     * state of the canvas when examining and improving the current drawing system\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property CROSSHAIR_STROKE\r\n     */\r\n    CROSSHAIR_STROKE: COLOR.RED,\r\n\r\n    /**\r\n     * Color to fill the fix triangles with\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property FIX_FILL\r\n     */\r\n    FIX_FILL: COLOR.BLUE_MEDIUM,\r\n\r\n    /**\r\n     * Color to use for the labels on each of the fixes\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property FIX_TEXT\r\n     */\r\n    FIX_TEXT: COLOR.BLUE_MEDIUM,\r\n\r\n    /**\r\n     * Size to draw halos when size is not specified\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property HALO_DEFAULT_RADIUS_NM\r\n     */\r\n    HALO_DEFAULT_RADIUS_NM: 3,\r\n\r\n    /**\r\n     * Maximum size to draw halos when size is not specified\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property HALO_MAX_RADIUS_NM\r\n     */\r\n    HALO_MAX_RADIUS_NM: 20,\r\n\r\n    /**\r\n     * Color to use for the background on the `MeasureTool` labels\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property MEASURE_BACKGROUND\r\n     */\r\n    MEASURE_BACKGROUND: COLOR.BLUE_MEDIUM_DARK,\r\n\r\n    /**\r\n     * Color to use for the text on the `MeasureTool` line\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property MEASURE_LINE\r\n     */\r\n    MEASURE_LINE: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color to use for the labels on the `MeasureTool` labels\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property MEASURE_TEXT\r\n     */\r\n    MEASURE_TEXT: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color of the range rings shown on the scope around the airport\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property RANGE_RING_COLOR\r\n     */\r\n    RANGE_RING_COLOR: COLOR.BLUE_DARK,\r\n\r\n    /**\r\n     * Color used to depict the restricted airspace areas\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property RESTRICTED_AIRSPACE\r\n     */\r\n    RESTRICTED_AIRSPACE: COLOR.BLUE_MEDIUM_LIGHT,\r\n\r\n    /**\r\n     * Color of the lines extending out from the runway thresholds\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property RUNWAY_EXTENDED_CENTERLINE\r\n     */\r\n    RUNWAY_EXTENDED_CENTERLINE: COLOR.BLUE_MEDIUM_DARK,\r\n\r\n    /**\r\n     * Color of the runway label text\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property RUNWAY_LABELS\r\n     */\r\n    RUNWAY_LABELS: COLOR.BLUE_LIGHT,\r\n\r\n    /**\r\n     * Color of the runways themselves\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property RUNWAY\r\n     */\r\n    RUNWAY: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color of the lines drawn between fixes on SIDs\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property SID\r\n     */\r\n    SID: COLOR.BLUE_VERY_LIGHT,\r\n\r\n    /**\r\n     * Color of the lines drawn between fixes on STARs\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property STAR\r\n     */\r\n    STAR: COLOR.RED,\r\n\r\n    /**\r\n     * Color of the lines drawn between fixes on STARs\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property TOP_ROW_TEXT\r\n     */\r\n    TOP_ROW_TEXT: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color of the video map lines (defined in the `maps`\r\n     * section of the airport file)\r\n     *\r\n     * @memberof SCOPE_THEME\r\n     * @property VIDEO_MAP\r\n     */\r\n    VIDEO_MAP: COLOR.BLUE_MEDIUM\r\n};\r\n","/**\r\n * Colors and options for terrain contours\r\n *\r\n * @enum TERRAIN_THEME\r\n * @type {object}\r\n */\r\nexport const TERRAIN_THEME = {\r\n    /**\r\n     * Opacity of the lines on outer edges of terrain-elevated areas\r\n     *\r\n     * @memberof TERRAIN_THEME\r\n     * @property BORDER_OPACITY\r\n     */\r\n    BORDER_OPACITY: 1,\r\n\r\n    /**\r\n     * Opacity of the fill color within terrain-elevated areas\r\n     *\r\n     * @memberof TERRAIN_THEME\r\n     * @property FILL_OPACITY\r\n     */\r\n    FILL_OPACITY: 0.1,\r\n\r\n    /**\r\n     * Colors for each elevation level (in feet), in HSL\r\n     * From these HSL values, we later generate HSLA for use in the canvas\r\n     *\r\n     * Note that values must use the following units:\r\n     * (H) Hue:         degrees\r\n     * (S) Saturation:  percentage\r\n     * (L) Lightness:   percentage\r\n     *\r\n     * @memberof TERRAIN_THEME\r\n     * @property COLOR\r\n     */\r\n    COLOR: {\r\n        0: '199, 100%, 22%',\r\n        1000: '190, 38%, 20%',\r\n        2000: '190, 38%, 20%',\r\n        3000: '190, 38%, 20%',\r\n        4000: '190, 38%, 20%',\r\n        5000: '190, 38%, 20%',\r\n        6000: '72, 38%, 15%',\r\n        7000: '72, 38%, 15%',\r\n        8000: '72, 38%, 15%',\r\n        9000: '72, 38%, 15%',\r\n        10000: '72, 38%, 15%',\r\n        11000: '312, 38%, 20%',\r\n        12000: '312, 38%, 20%',\r\n        13000: '312, 38%, 20%',\r\n        14000: '312, 38%, 20%',\r\n        15000: '312, 38%, 20%',\r\n        16000: '132, 38%, 20%',\r\n        17000: '132, 38%, 20%',\r\n        18000: '132, 38%, 20%',\r\n        19000: '132, 38%, 20%',\r\n        20000: '132, 38%, 20%',\r\n        21000: '12, 38%, 30%',\r\n        22000: '12, 38%, 30%',\r\n        23000: '12, 38%, 30%',\r\n        24000: '12, 38%, 30%',\r\n        25000: '12, 38%, 30%'\r\n    }\r\n};\r\n","import { COLOR } from '../color';\r\n\r\n/**\r\n * Colors and options for wind vane\r\n *\r\n * @enum WIND_VANE_THEME\r\n * @type {object}\r\n */\r\nexport const WIND_VANE_THEME = {\r\n\r\n    /**\r\n     * Color of the line indicating the wind direction in gusty winds\r\n     *\r\n     * @memberof WIND_VANE_THEME\r\n     * @property DIRECTION_LINE_GUSTY\r\n     */\r\n    DIRECTION_LINE_GUSTY: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color of the line indicating the wind direction\r\n     *\r\n     * @memberof WIND_VANE_THEME\r\n     * @property DIRECTION_LINE\r\n     */\r\n    DIRECTION_LINE: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color of the ring around the wind speed\r\n     *\r\n     * @memberof WIND_VANE_THEME\r\n     * @property INNER_RING_STROKE\r\n     */\r\n    INNER_RING_STROKE: COLOR.WHITE,\r\n\r\n    /**\r\n     * Color to fill the whole wind vane\r\n     *\r\n     * @memberof WIND_VANE_THEME\r\n     * @property OUTER_RING_FILL\r\n     */\r\n    OUTER_RING_FILL: COLOR.GRAY_VERY_VERY_DARK,\r\n\r\n    /**\r\n     * Color of the wind speed text\r\n     *\r\n     * @memberof WIND_VANE_THEME\r\n     * @property WIND_SPEED_TEXT\r\n     */\r\n    WIND_SPEED_TEXT: COLOR.WHITE\r\n};\r\n","import { DATA_BLOCK_THEME } from './modules/dataBlock';\r\nimport { RADAR_TARGET_THEME } from './modules/radarTarget';\r\nimport { SCOPE_THEME } from './modules/scope';\r\nimport { TERRAIN_THEME } from './modules/terrain';\r\nimport { WIND_VANE_THEME } from './modules/windVane';\r\n\r\n/**\r\n * @enum THEME_DEFAULT\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const THEME_DEFAULT = {\r\n    CLASSNAME: 'canvas-theme-default',\r\n    DATA_BLOCK: DATA_BLOCK_THEME,\r\n    RADAR_TARGET: RADAR_TARGET_THEME,\r\n    SCOPE: SCOPE_THEME,\r\n    TERRAIN: TERRAIN_THEME,\r\n    WIND_VANE: WIND_VANE_THEME\r\n};\r\n","/**\r\n * Enum of categories used for ga event tracking\r\n *\r\n * @property TRACKABLE_EVENT\r\n */\r\nexport const TRACKABLE_EVENT = {\r\n    /**\r\n     * airport-specific events like:\r\n     *\r\n     * - initial-load\r\n     * - airport switcher open\r\n     * - airport switcher close\r\n     * - airport switcher change\r\n     *\r\n     * @memberof TRACKABLE_EVENT\r\n     * @property AIRPORTS\r\n     */\r\n    AIRPORTS: 'airports',\r\n\r\n    /**\r\n     * spawn pattern changes like\r\n     *\r\n     * - flight-category\r\n     * - spawn-pattern\r\n     *\r\n     * @memberof CHANGE_SPAWN_PATTERN\r\n     * @property SETTINGS\r\n     */\r\n    CHANGE_SPAWN_PATTERN: 'change-spawn-pattern',\r\n\r\n    /**\r\n     * options events, encompasses all buttons\r\n     * in option bar footer\r\n     *\r\n     * will report on/off (true/false) for each option\r\n     *\r\n     * timewarp should report current timewarp value\r\n     *\r\n     * @memberof TRACKABLE_EVENT\r\n     * @property OPTIONS\r\n     */\r\n    OPTIONS: 'options',\r\n\r\n    /**\r\n     * toggle of settings dialog\r\n     *\r\n     * tracks change and next setting of a game option\r\n     *\r\n     * @memberof TRACKABLE_EVENT\r\n     * @property SETTINGS\r\n     */\r\n    SETTINGS: 'settings',\r\n\r\n    /**\r\n     * reports on prev/next actions of tutorial\r\n     *\r\n     * @memberof TRACKABLE_EVENT\r\n     * @property TUTORIAL\r\n     */\r\n    TUTORIAL: 'tutorial',\r\n\r\n    /**\r\n     * reports on clicks of links to an external resource\r\n     *\r\n     * @memberof\r\n     * @property OUTBOUND\r\n     */\r\n    OUTBOUND: 'outbound',\r\n\r\n    /**\r\n     * reports when the ui log renders an error message\r\n     *\r\n     * @memberof TRACKABLE_EVENT\r\n     * @property UI_LOG\r\n     */\r\n    UI_LOG: 'ui-log'\r\n};\r\n","/**\r\n * Symbol denoting a greater than restriction\r\n *\r\n * @enum ABOVE_SYMBOL\r\n * @type {string}\r\n * @final\r\n */\r\nexport const ABOVE_SYMBOL = '+';\r\n\r\n/**\r\n * Character prefix indicating the subsequent value is an altitude restriction\r\n *\r\n * @enum ALTITUDE_RESTRICTION_PREFIX\r\n * @type {string}\r\n * @final\r\n */\r\nexport const ALTITUDE_RESTRICTION_PREFIX = 'A';\r\n\r\n/**\r\n * Symbol denoting a less than restriction\r\n *\r\n * @enum ABOVE_SYMBOL\r\n * @type {string}\r\n * @final\r\n */\r\nexport const BELOW_SYMBOL = '-';\r\n\r\n/**\r\n * Default options for holding patterns\r\n *\r\n * @enum DEFAULT_HOLD_PARAMETERS\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const DEFAULT_HOLD_PARAMETERS = {\r\n    inboundHeading: undefined,\r\n    legLength: '1min',\r\n    speedMaximum: undefined,\r\n    timer: -1,\r\n    turnDirection: 'right'\r\n};\r\n\r\n/**\r\n* Symbol that prepends a fixname indicating the aircraft should pass completely\r\n* over the fix before turning toward the next fix on their route\r\n*\r\n* @enum FLY_OVER_WAYPOINT_PREFIX\r\n* @type {string}\r\n*/\r\nexport const FLY_OVER_WAYPOINT_PREFIX = '^';\r\n\r\n/**\r\n* Symbol that prepends a fixname indicating the aircraft should enter\r\n* a holding pattern once it arrives at the fix.\r\n*\r\n* @enum HOLD_WAYPOINT_PREFIX\r\n* @type {string}\r\n* @final\r\n*/\r\nexport const HOLD_WAYPOINT_PREFIX = '@';\r\n\r\n/**\r\n* Index where the name is located within `[\"WAMMY\", \"A20+|S220\"]`\r\n*\r\n* @enum NAME_INDEX\r\n* @type {number}\r\n* @final\r\n*/\r\nexport const NAME_INDEX = 0;\r\n\r\n/**\r\n* Index where the restriction is located within `[\"WAMMY\", \"A20+|S220\"]`\r\n*\r\n* @enum RESTRICTION_INDEX\r\n* @type {number}\r\n* @final\r\n*/\r\nexport const RESTRICTION_INDEX = 1;\r\n\r\n/**\r\n* Character used to separate altitude/speed restrictions from each other\r\n*\r\n* @enum RESTRICTION_SEPARATOR\r\n* @type {string}\r\n* @final\r\n*/\r\nexport const RESTRICTION_SEPARATOR = '|';\r\n\r\n/**\r\n* Symbol used to denote an RNAV waypoint\r\n*\r\n* @enum RNAV_WAYPOINT_PREFIX\r\n* @type {string}\r\n* @final\r\n*/\r\nexport const RNAV_WAYPOINT_PREFIX = '_';\r\n\r\n/**\r\n* @enum RNAV_WAYPOINT_DISPLAY_NAME\r\n* @type {string}\r\n* @final\r\n*/\r\nexport const RNAV_WAYPOINT_DISPLAY_NAME = '[RNAV]';\r\n\r\n/**\r\n* Character prefix indicating the subsequent value is a speed restriction\r\n*\r\n* @enum SPEED_RESTRICTION_PREFIX\r\n* @type {string}\r\n* @final\r\n*/\r\nexport const SPEED_RESTRICTION_PREFIX = 'S';\r\n\r\n/**\r\n* Symbols that prepends a three digit number, indicating that the created waypoint\r\n* should simply be to follow the given heading until told to proceed to next waypoint\r\n*\r\n* @enum VECTOR_WAYPOINT_PREFIX\r\n* @type {string}\r\n* @final\r\n*/\r\nexport const VECTOR_WAYPOINT_PREFIX = '#';\r\n","import $ from 'jquery';\r\nimport LoadableContentModel from './LoadableContentModel';\r\n\r\n/**\r\n * Asynchronous JSON asset loading framework.\r\n *\r\n * Allows queueing assets to be loaded, assets may queued at a higher\r\n * priority by specifying the `immediate` option.  All assets with the\r\n * `immediate` option will be loaded before other assets.\r\n *\r\n * Events:\r\n *   startLoading - When an asset start being loaded, asset url as data\r\n *   stopLoading - When the last asset in the queue is downloaded\r\n *\r\n * Example:\r\n *  var promise = zlsa.atc.loadAsset({url: 'assets/aircraft/b747.json'});\r\n *\r\n * @module zlsa.atc.loadAsset\r\n */\r\n/**\r\n* Implementation of the queueing\r\n*/\r\nexport default class ContentQueueClass {\r\n    constructor(loadingView) {\r\n        this.loadingView = loadingView;\r\n        this.isLoading = false;\r\n        this.lowPriorityQueue = [];\r\n        this.highPriorityQueue = [];\r\n        this.queuedContent = {};\r\n    }\r\n\r\n    /**\r\n     * Adds or updates a piece of content\r\n     *\r\n     * Supports a url becoming an `immediate` load\r\n     *\r\n     * @for ContentQueue\r\n     * @method add\r\n     * @param options {object}\r\n     * @return {Promise}\r\n     */\r\n    add(options) {\r\n        let c = new LoadableContentModel(options);\r\n\r\n        if (c.url in this.queuedContent) {\r\n            c = this.queuedContent[c.url];\r\n\r\n            if (c.immediate && (!this.queuedContent[c.url].immediate)) {\r\n                const idx = $.inArray(c.url, this.lowPriorityQueue);\r\n\r\n                if (idx > -1) {\r\n                    this.highPriorityQueue.push(this.lowPriorityQueue.splice(idx, 1));\r\n                }\r\n            }\r\n        } else {\r\n            this.queuedContent[c.url] = c;\r\n\r\n            if (c.immediate) {\r\n                this.highPriorityQueue.push(c.url);\r\n            } else {\r\n                this.lowPriorityQueue.push(c.url);\r\n            }\r\n        }\r\n\r\n        if (!this.isLoading) {\r\n            this.startLoad();\r\n        }\r\n\r\n        return c.deferred.promise();\r\n    }\r\n\r\n    /**\r\n     * @for ContentQueue\r\n     * @method startLoad\r\n     * @return {boolean}\r\n     */\r\n    startLoad() {\r\n        if (this.highPriorityQueue.length) {\r\n            this.load(this.highPriorityQueue.shift());\r\n\r\n            return true;\r\n        } else if (this.lowPriorityQueue.length) {\r\n            this.load(this.lowPriorityQueue.shift());\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * @for contentQueue\r\n     * @method load\r\n     * @param url {string}\r\n     * @return {Promise}\r\n     */\r\n    load(url) {\r\n        const c = this.queuedContent[url];\r\n\r\n        $.getJSON(c.url)\r\n            .done((data, textStatus, jqXHR) => {\r\n                c.deferred.resolve(data, textStatus, jqXHR);\r\n            })\r\n            .fail((jqXHR, textStatus, errorThrown) => {\r\n                c.deferred.reject(jqXHR, textStatus, errorThrown);\r\n            })\r\n            .always(() => {\r\n                delete this.queuedContent[c.url];\r\n            });\r\n    }\r\n}\r\n","import $ from 'jquery';\r\nimport _get from 'lodash/get';\r\n\r\n/**\r\n * Simple container for a given piece of content\r\n *\r\n * @class LoadableContentModel\r\n */\r\nexport default class LoadableContentModel {\r\n    constructor(options) {\r\n        this.url = options.url;\r\n        this.immediate = _get(options, 'immediate', false);\r\n        this.type = 'json';\r\n        this.deferred = $.Deferred();\r\n    }\r\n}\r\n","import { extrapolate_range_clamp } from '../math/core';\r\nimport { TIME } from '../constants/globalConstants';\r\n\r\n/**\r\n * Value used as `#_frameDeltaTime` when performing future track\r\n * calculations for aircraft.\r\n *\r\n * @property SIMULATION_RATE_FOR_TRACK_PROJECTIONS\r\n * @type {number}\r\n * @final\r\n */\r\nconst SIMULATION_RATE_FOR_TRACK_PROJECTIONS = 5;\r\n\r\n/**\r\n * Singleton used to manage game time and the advancement of animation frames\r\n *\r\n * You will notice a large number of the instance properties are private with exposed getters.\r\n * This is done to ensure that other classes are not able to modify the property values\r\n * of this class. TimeKeeping is an integral part of the app and must be able to keep accurate,\r\n * consistent time. Other classes can use these values but should never, directly, edit them.\r\n *\r\n * @class TimeKeeper\r\n */\r\nclass TimeKeeper {\r\n    /**\r\n     * @constructor\r\n     */\r\n    constructor() {\r\n        /**\r\n         * Sum of `deltaTime` values\r\n         *\r\n         * Used an an incrementor, thus we default to `0` instead of `-1`\r\n         *\r\n         * @property _accumulatedDeltaTime\r\n         * @type {number}\r\n         * @default 0\r\n         * @private\r\n         */\r\n        this._accumulatedDeltaTime = 0;\r\n\r\n        /**\r\n         * Nubmer of frames rendered\r\n         *\r\n         * Used an an incrementor, thus we default to `0` instead of `-1`\r\n         *\r\n         * @property frames\r\n         * @type {number}\r\n         * @default 0\r\n         * @private\r\n         */\r\n        this._elapsedFrameCount = 0;\r\n\r\n        /**\r\n         * Time difference in seconds between the `#lastFrame` and `#_frameStartTimestamp`\r\n         *\r\n         * **This is the most important value of this class.**\r\n         *\r\n         * From this value, we calculate how far everything has moved within the sim\r\n         * as defined by (in the simplest terms):\r\n         *\r\n         * ```\r\n         * d = distance\r\n         * r = rate\r\n         * t = time\r\n         *\r\n         * d = r * t\r\n         * ```\r\n         *\r\n         * This property should only be used and accessed internally\r\n         * All external methods should use public getter: `#deltaTime`\r\n         *\r\n         * This value is the single source of truth for true `deltaTime`, however,\r\n         * we will only ever use this value locally. Every other external method needs\r\n         * `deltaTime * simulationRate`, as provided by `#deltaTime`, to account for\r\n         * any timewarp adjustments by the user\r\n         *\r\n         * @property _frameDeltaTime\r\n         * @type {number}\r\n         * @default -1\r\n         * @private\r\n         */\r\n        this._frameDeltaTime = 0;\r\n\r\n        /**\r\n         * Timestamp for the current frame\r\n         *\r\n         * @property _frameStartTimestamp\r\n         * @type {number}\r\n         * @default -1\r\n         * @private\r\n         */\r\n        this._frameStartTimestamp = 0;\r\n\r\n        // TODO: not entirely sure what this is for\r\n        /**\r\n         *\r\n         *\r\n         * @property _frameStep\r\n         * @type {number}\r\n         * @default 0\r\n         * @private\r\n         */\r\n        this._frameStep = 0;\r\n\r\n        /**\r\n         * This property is used to hold the value of `#_frameDeltaTime` when\r\n         * performing future path calculations.\r\n         *\r\n         * This value should never be modified externally and only modified internally via the\r\n         * `.saveDeltaTimeBeforeFutureTrackCalculation()' and `.restoreDeltaTimeAfterFutureTrackCalculation()`\r\n         * methods.\r\n         *\r\n         * We modify `#_frameDeltaTime` like this so we can _fake_ a timewarp of 5 during future\r\n         * track calculations.\r\n         *\r\n         * // TODO: this method of future track calculation should be looking into. it is non-performant\r\n         * // and, frankly, quite messy.\r\n         *\r\n         * @property _futureTrackDeltaTimeCache\r\n         * @type {number}\r\n         * @default -1\r\n         * @private\r\n         */\r\n        this._futureTrackDeltaTimeCache = -1;\r\n\r\n        /**\r\n         * Flag used to determine if the sim has been paused\r\n         *\r\n         * This defaults to `true` because the sim is effectively paused\r\n         * on initial load. This way the game loop doesn't run needlessly\r\n         * as the sim is loading.\r\n         *\r\n         * @property _isPaused\r\n         * @type {boolean}\r\n         * @default false\r\n         * @private\r\n         */\r\n        this._isPaused = true;\r\n\r\n        /**\r\n         * Timestamp of the previous frame\r\n         *\r\n         * @property _previousFrameTimestamp\r\n         * @type {number}\r\n         */\r\n        this._previousFrameTimestamp = 0;\r\n\r\n        /**\r\n         * Timestamp for the start of rendering\r\n         *\r\n         * @property _startTimestamp\r\n         * @type {number}\r\n         * @private\r\n         */\r\n        this._startTimestamp = 0;\r\n\r\n        /**\r\n         * Previously known as `timewarp`, this value is used a time multiplier\r\n         *\r\n         * This value is changed via methods exposed here used within the\r\n         * `GameController` and is used to effectively _speed up_ this sim\r\n         *\r\n         * This value is used as a multiplier when returning the current `#_frameDeltaTime`\r\n         * which causes moving objects appear to have moved a farther distance than they\r\n         * would have at normal speed\r\n         *\r\n         * It is possible to set any numeric value via system command, though the\r\n         * UI enforces values of: `1`, `2` and `5` via the timewarp toggle button\r\n         *\r\n         * @property _simulationRate\r\n         * @type {number}\r\n         * @default 1\r\n         * @private\r\n         */\r\n        this._simulationRate = 1;\r\n\r\n        return this._init();\r\n    }\r\n\r\n    /**\r\n     * Accumulated time since the start of the simulation in seconds\r\n     *\r\n     * @property accumulatedDeltaTime\r\n     * @type {number}\r\n     */\r\n    get accumulatedDeltaTime() {\r\n        return this._accumulatedDeltaTime;\r\n    }\r\n\r\n    /**\r\n     * Current timestamp in milliseconds\r\n     *\r\n     * This is the same value as `gameTime`.\r\n     * We define this getter here simply for the added context\r\n     * given in the name\r\n     *\r\n     * @property gameTimeMilliseconds\r\n     * @return {number}\r\n     */\r\n    get gameTimeMilliseconds() {\r\n        return (new Date()).getTime();\r\n    }\r\n\r\n    /**\r\n     * Current timestamp in seconds\r\n     *\r\n     * @property gameTimeSeconds\r\n     * @return {number}\r\n     */\r\n    get gameTimeSeconds() {\r\n        return (new Date()).getTime() * TIME.ONE_MILLISECOND_IN_SECONDS;\r\n    }\r\n\r\n    /**\r\n     * Current `#_frameDeltaTime` multiplied by the current `#_simulationRate`\r\n     *\r\n     * This is value any external method needs when calculating movement with\r\n     * deltaTime. No external method should every access `#_frameDeltaTime`\r\n     * because that value will not account for `#_simulationRate`.\r\n     *\r\n     * For more information on the concept of `deltaTime` see:\r\n     * https://en.wikipedia.org/wiki/Delta_timing\r\n     *\r\n     * @property deltaTime\r\n     * @return {number} current delta time in seconds\r\n     */\r\n    get deltaTime() {\r\n        const deltaTimeOffsetBySimulationRate = this._frameDeltaTime * this._simulationRate;\r\n\r\n        return Math.min(deltaTimeOffsetBySimulationRate, 100);\r\n    }\r\n\r\n    /**\r\n     * @property isPaused\r\n     * @type {boolean}\r\n     */\r\n    get isPaused() {\r\n        return this._isPaused;\r\n    }\r\n\r\n    /**\r\n     * The fast-forward value used to speed up animated distances\r\n     *\r\n     * Previously known as `timewarp`\r\n     *\r\n     * @property simulationRate\r\n     * @type {number}\r\n     */\r\n    get simulationRate() {\r\n        return this._simulationRate;\r\n    }\r\n\r\n    /**\r\n     * Lifecycle method\r\n     *\r\n     * @for TimeKeeper\r\n     * @method _init\r\n     * @chainable\r\n     */\r\n    _init() {\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Reset model properties\r\n     *\r\n     * @for TimeKeeper\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        this._accumulatedDeltaTime = 0;\r\n        this._elapsedFrameCount = 0;\r\n        this._frameDeltaTime = 0;\r\n        this._frameStartTimestamp = 0;\r\n        this._frameStep = 0;\r\n        this._futureTrackDeltaTimeCache = -1;\r\n        this._isPaused = true;\r\n        this._previousFrameTimestamp = 0;\r\n        this._startTimestamp = 0;\r\n        this._simulationRate = 1;\r\n    }\r\n\r\n    /**\r\n     * Wrapper used to get current `#_frameDeltaTime` value or zero under certain conditions\r\n     *\r\n     * When the sim is 'paused' or un-focused, we do not want `#_frameDeltaTime` to be used\r\n     * in position calculations. This causes movement at a time when there shouldn't be any.\r\n     *\r\n     * By supplying `0` in those cases, there is effectively no 'time' difference and thus no\r\n     * change in position given a rate. This freezes objects at their current position until\r\n     * such time we begin returning `#_frameDeltaTime` again.\r\n     *\r\n     * @for TimeKeeper\r\n     * @method getDeltaTimeForGameStateAndTimewarp\r\n     * @return {number} delta time in seconds\r\n     */\r\n    getDeltaTimeForGameStateAndTimewarp() {\r\n        if (this.isPaused || this._isReturningFromPauseAndNotFutureTrack()) {\r\n            return 0;\r\n        }\r\n\r\n        return this.deltaTime;\r\n    }\r\n\r\n    /**\r\n     * Used to store the current `#_frameDeltaTime` and override the current delta\r\n     * with a static value\r\n     *\r\n     * This method should be called immediately before performing calculations\r\n     * for an aircraft's future path. Immediately after those calculations are\r\n     * performed, `.restoreDeltaTimeAfterFutureTrackCalculation()` should be called\r\n     * so position calculations can continue with the correct `#_frameDeltaTime`\r\n     *\r\n     * Modifying `#_frameDeltaTime` this way, though not ideal, is based on\r\n     * the original implmenetation. This gives us a way to _fudge_ the\r\n     * current deltTime and make it easy to draw out an aircraft's future path\r\n     *\r\n     * @for TimeKeeper\r\n     * @method saveDeltaTimeBeforeFutureTrackCalculation\r\n     */\r\n    saveDeltaTimeBeforeFutureTrackCalculation() {\r\n        this._futureTrackDeltaTimeCache = this._frameDeltaTime;\r\n        this._frameDeltaTime = SIMULATION_RATE_FOR_TRACK_PROJECTIONS;\r\n    }\r\n\r\n    /**\r\n     * Used to reset `#_futureTrackDeltaTimeCache` after future track\r\n     * calculations have finished\r\n     *\r\n     * This method should be called immediately after performing calculations\r\n     * for an aircraft's future path.\r\n     *\r\n     * @for TimeKeeper\r\n     * @method restoreDeltaTimeAfterFutureTrackCalculation\r\n     */\r\n    restoreDeltaTimeAfterFutureTrackCalculation() {\r\n        this._frameDeltaTime = this._futureTrackDeltaTimeCache;\r\n        this._futureTrackDeltaTimeCache = -1;\r\n    }\r\n\r\n    /**\r\n     * Updates the value of `#_isPaused`\r\n     *\r\n     * Calls to this method will happen externally as a result of a user\r\n     * interaction with the controls bar\r\n     *\r\n     * This value is used in reference to `#_frameDeltaTime`. So `#_isPaused`\r\n     * will be true if the app is _either_ paused or blurred. When this\r\n     * value is true, `#_frameDeltaTime` value will be `0` so the position\r\n     * of moving objects will not changes while `#_isPaused` is `true`\r\n     *\r\n     * @for TimeKeeper\r\n     * @method setPause\r\n     * @param nextPaus {boolean}\r\n     */\r\n    setPause(nextPause) {\r\n        if (nextPause === this._isPaused) {\r\n            return;\r\n        }\r\n\r\n        this._isPaused = nextPause;\r\n    }\r\n\r\n    /**\r\n     * Helper method used by the `CanvasController` to determine whether or not we\r\n     * should re-calculate and re-draw\r\n     *\r\n     * This returns `true` once every `#_frameStep` based on total `#_elapsedFrameCount`\r\n     *\r\n     * @for TimeKeeper\r\n     * @method shouldUpdate\r\n     * @return {boolean}\r\n     */\r\n    shouldUpdate() {\r\n        return this._elapsedFrameCount % this._frameStep === 0;\r\n    }\r\n\r\n    /**\r\n     * Update time and `#_frameDeltaTime` values\r\n     *\r\n     * Should be called at the end of each update cycle by the `AppController`\r\n     * Calling this method signifies the end of a frame and the beginning of\r\n     * a new frame\r\n     *\r\n     * @for TimeKeeper\r\n     * @method update\r\n     */\r\n    update() {\r\n        if (this._futureTrackDeltaTimeCache !== -1) {\r\n            return;\r\n        }\r\n\r\n        const currentTime = this.gameTimeSeconds;\r\n\r\n        this._incrementFrame();\r\n        this._calculateNextDeltaTime(currentTime);\r\n        this._calculateFrameStep();\r\n    }\r\n\r\n    /**\r\n     * Update the value of `#_simulationRate`\r\n     *\r\n     * Calls to this method will happen externally as a result of a user interaction\r\n     * with the controls bar or by issuing a system command.\r\n     *\r\n     * @for TimeKeeper\r\n     * @method updateSimulationRate\r\n     * @param nextTimewarp {number}  the next value for `#_simulationRate`\r\n     */\r\n    updateSimulationRate(nextTimewarp) {\r\n        if (nextTimewarp < 0) {\r\n            return;\r\n        }\r\n\r\n        this._simulationRate = nextTimewarp;\r\n    }\r\n\r\n    /**\r\n     * Increments the `#_elapsedFrameCount` value by `1`\r\n     *\r\n     * Called every frame via `.update()`\r\n     *\r\n     * Calls to this method signal the start of a new frame\r\n     *\r\n     * @for TimeKeeper\r\n     * @method incrementFrame\r\n     * @private\r\n     */\r\n    _incrementFrame() {\r\n        this._elapsedFrameCount += 1;\r\n    }\r\n\r\n    /**\r\n     * Caclulate the difference (delta) between the `#currentTime`\r\n     * and `#_previousFrameTimestamp`\r\n     *\r\n     * Called every frame via `.update()`\r\n     *\r\n     * @for TimeKeeper\r\n     * @method _calculateNextDelatTime\r\n     * @param currentTime {number} current time in seconds\r\n     * @private\r\n     */\r\n    _calculateNextDeltaTime(currentTime) {\r\n        const frameDelay = 1;\r\n        const elapsed = currentTime - this._frameStartTimestamp;\r\n\r\n        if (elapsed > frameDelay) {\r\n            this._frameStartTimestamp = currentTime;\r\n        }\r\n\r\n        this._frameDeltaTime = currentTime - this._previousFrameTimestamp;\r\n        this._previousFrameTimestamp = currentTime;\r\n        this._accumulatedDeltaTime += this.getDeltaTimeForGameStateAndTimewarp();\r\n    }\r\n\r\n    /**\r\n     * Updates the `#_frameStep` value based on the current `#_simulationRate`\r\n     *\r\n     * Called every frame via `.update()`\r\n     *\r\n     * @for CanvasController\r\n     * @method _calculateFrameStep\r\n     * @private\r\n     */\r\n    _calculateFrameStep() {\r\n        // TODO: what do the magic numbers mean?\r\n        this._frameStep = Math.round(extrapolate_range_clamp(1, this._simulationRate, 10, 30, 1));\r\n    }\r\n\r\n\r\n    /**\r\n     * Boolean abstraction used to determine if this frame is being calculated after returning\r\n     * from pause, which is assumed when `#_frameDeltaTime` is greater than `1` and\r\n     * `#_simulationRate` is `1`. And this is not part of a future track calculation, when\r\n     * `#_futureTrackDeltaTimeCache` is `-1`.\r\n     *\r\n     * @for TimeKeeper\r\n     * @method _isReturningFromPauseAndNotFutureTrack\r\n     * @return {boolean}\r\n     */\r\n    _isReturningFromPauseAndNotFutureTrack() {\r\n        return this.deltaTime >= 1 && this._simulationRate === 1 && this._futureTrackDeltaTimeCache === -1;\r\n    }\r\n}\r\n\r\nexport default new TimeKeeper();\r\n","import $ from 'jquery';\r\nimport _forEach from 'lodash/forEach';\r\nimport _has from 'lodash/has';\r\nimport EventBus from '../lib/EventBus';\r\nimport EventTracker from '../EventTracker';\r\nimport GameOptions from './GameOptions';\r\nimport TimeKeeper from '../engine/TimeKeeper';\r\nimport { round } from '../math/core';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport { GAME_OPTION_NAMES } from '../constants/gameOptionConstants';\r\nimport { TIME } from '../constants/globalConstants';\r\nimport { TRACKABLE_EVENT } from '../constants/trackableEvents';\r\nimport { SELECTORS } from '../constants/selectors';\r\nimport { THEME } from '../constants/themes';\r\n\r\n// TODO: Remember to move me to wherever the constants end up being moved to\r\n/**\r\n * Definitions of point values for given game events\r\n * @type {Object}\r\n */\r\nconst GAME_EVENTS_POINT_VALUES = {\r\n    AIRSPACE_BUST: -200,\r\n    ARRIVAL: 10,\r\n    COLLISION: -1000,\r\n    DEPARTURE: 10,\r\n    EXTREME_CROSSWIND_OPERATION: -15,\r\n    EXTREME_TAILWIND_OPERATION: -75,\r\n    GO_AROUND: -50,\r\n    HIGH_CROSSWIND_OPERATION: -5,\r\n    HIGH_TAILWIND_OPERATION: -25,\r\n    ILLEGAL_APPROACH_CLEARANCE: -10,\r\n    LOCALIZER_INTERCEPT_ABOVE_GLIDESLOPE: -10,\r\n    NOT_CLEARED_ON_ROUTE: -25,\r\n    SEPARATION_LOSS: -200,\r\n    NO_TAKEOFF_SEPARATION: -200\r\n};\r\n\r\n/**\r\n * List of game events\r\n * @type {Object}\r\n */\r\nexport const GAME_EVENTS = {\r\n    AIRSPACE_BUST: 'AIRSPACE_BUST',\r\n    ARRIVAL: 'ARRIVAL',\r\n    COLLISION: 'COLLISION',\r\n    DEPARTURE: 'DEPARTURE',\r\n    EXTREME_CROSSWIND_OPERATION: 'EXTREME_CROSSWIND_OPERATION',\r\n    EXTREME_TAILWIND_OPERATION: 'EXTREME_TAILWIND_OPERATION',\r\n    GO_AROUND: 'GO_AROUND',\r\n    HIGH_CROSSWIND_OPERATION: 'HIGH_CROSSWIND_OPERATION',\r\n    HIGH_TAILWIND_OPERATION: 'HIGH_TAILWIND_OPERATION',\r\n    ILLEGAL_APPROACH_CLEARANCE: 'ILLEGAL_APPROACH_CLEARANCE',\r\n    /**\r\n    * Aircraft is cleared for the approach, has just become fully established on the localizer,\r\n    * but they are above the glideslope, and will have to chase it down\r\n    *\r\n    * This event is used to assess a penalty to the controller because they are required to have\r\n    * aircraft at/below glideslope altitude when intercepting the localizer\r\n    *\r\n    * @memberof GAME_EVENTS\r\n    * @property LOCALIZER_INTERCEPT_ABOVE_GLIDESLOPE\r\n    * @type {string}\r\n    */\r\n    LOCALIZER_INTERCEPT_ABOVE_GLIDESLOPE: 'LOCALIZER_INTERCEPT_ABOVE_GLIDESLOPE',\r\n    NOT_CLEARED_ON_ROUTE: 'NOT_CLEARED_ON_ROUTE',\r\n    SEPARATION_LOSS: 'SEPARATION_LOSS',\r\n    NO_TAKEOFF_SEPARATION: 'NO_TAKEOFF_SEPARATION'\r\n};\r\n\r\n/**\r\n * Event log description for a point event\r\n * @type {Object}\r\n */\r\nconst GAME_EVENTS_DESCRIPTION = {\r\n    AIRSPACE_BUST: 'Aircraft left radar coverage as arrival',\r\n    ARRIVAL: 'Aircraft landed successfully',\r\n    COLLISION: 'Multiple aircraft collided',\r\n    DEPARTURE: 'Departing aircraft switched to center',\r\n    EXTREME_CROSSWIND_OPERATION: 'Aircraft operated with extreme crosswind',\r\n    EXTREME_TAILWIND_OPERATION: 'Aircraft operated with extreme tailwind',\r\n    GO_AROUND: 'Aircraft had to go around',\r\n    HIGH_CROSSWIND_OPERATION: 'Aircraft operated with high crosswind',\r\n    HIGH_TAILWIND_OPERATION: 'Aircraft operated with high tailwind',\r\n    ILLEGAL_APPROACH_CLEARANCE: 'Aircraft intercept angle was > 30 degrees',\r\n    LOCALIZER_INTERCEPT_ABOVE_GLIDESLOPE: 'Aircraft intercepted localizer above glidescope',\r\n    NOT_CLEARED_ON_ROUTE: 'Aircraft left airspace without being on route',\r\n    SEPARATION_LOSS: 'Aircraft violated separation requirements',\r\n    NO_TAKEOFF_SEPARATION: 'Aircraft violated same runway separation requirements'\r\n};\r\n\r\n/**\r\n * @class GameController\r\n */\r\nclass GameController {\r\n    /**\r\n     * @constructor\r\n     */\r\n    constructor() {\r\n        // TODO: the below $elements _should_ be used instead of the inline vars currently in use but\r\n        // take caution when implmenting these because it will break tests currently in place. This is\r\n        // because of the use of $ within lifecycle methods and becuase this is a static class used\r\n        // by many of the files under test.\r\n        // this._$htmlElement = $('html');\r\n        // this._$pauseToggleElement = null;\r\n        // this._$fastForwardElement = null;\r\n        // this._$scoreElement = null;\r\n        this.game = {};\r\n        this.game.focused = true;\r\n        this.game.frequency = 1;\r\n        this.game.events = {};\r\n        this.game.timeouts = [];\r\n        this.game.last_score = 0;\r\n        this.game.score = 0;\r\n        this.game.option = new GameOptions();\r\n        this.theme = THEME.DEFAULT;\r\n\r\n        this._eventBus = EventBus;\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method init_pre\r\n     */\r\n    init_pre() {\r\n        return this.setupHandlers()\r\n            .createChildren()\r\n            .enable();\r\n    }\r\n\r\n    /**\r\n    * Initialize blur functions used during game pausing\r\n    *\r\n    * @for GameController\r\n    * @method setupHandlers\r\n    * @chainable\r\n    */\r\n    setupHandlers() {\r\n        this._onWindowBlurHandler = this._onWindowBlur.bind(this);\r\n        this._onWindowFocusHandler = this._onWindowFocus.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method createChildren\r\n     * @chainable\r\n     */\r\n    createChildren() {\r\n        // see comment in constructor. tl;dr these props should be used but are not because they break tests\r\n        // this._$pauseToggleElement = $(SELECTORS.DOM_SELECTORS.TOGGLE_PAUSE);\r\n        // this._$fastForwardElement = $(SELECTORS.DOM_SELECTORS.FAST_FORWARDS);\r\n        // this._$scoreElement = $(SELECTORS.DOM_SELECTORS.SCORE);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method enable\r\n     * @chainable\r\n     */\r\n    enable() {\r\n        this._eventBus.on(EVENT.SET_THEME, this._setTheme);\r\n\r\n        window.addEventListener('blur', this._onWindowBlurHandler);\r\n        window.addEventListener('focus', this._onWindowFocusHandler);\r\n        // for when the browser window receives or looses focus\r\n        document.addEventListener('visibilitychange', () => {\r\n            if (document.visibilityState === 'hidden') {\r\n                return this._onWindowBlurHandler();\r\n            }\r\n\r\n            return this._onWindowFocusHandler();\r\n        });\r\n\r\n        return this.initializeEventCount();\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method disable\r\n     * @chainable\r\n     */\r\n    disable() {\r\n        this._eventBus.off(EVENT.SET_THEME, this._setTheme);\r\n\r\n        return this.destroy();\r\n    }\r\n\r\n    /**\r\n     * Destroy instance properties\r\n     *\r\n     * @for GameController\r\n     * @method destroy\r\n     * @chainable\r\n     */\r\n    destroy() {\r\n        // this._$htmlElement = $('html');\r\n        // this._$pauseToggleElement = null;\r\n        // this._$fastForwardElement = null;\r\n        // this._$scoreElement = null;\r\n        this.game = {};\r\n        this.game.focused = true;\r\n        // TODO: remove\r\n        this.game.frequency = 1;\r\n        this.game.events = {};\r\n        this.game.timeouts = [];\r\n        this.game.last_score = 0;\r\n        this.game.score = 0;\r\n        this.game.option = new GameOptions();\r\n        this.theme = THEME.DEFAULT;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Initialize `GameController.events` to contain appropriate properties with values of 0\r\n     *\r\n     * @for GameController\r\n     * @method initializeEventCount\r\n     */\r\n    initializeEventCount() {\r\n        _forEach(GAME_EVENTS, (gameEvent, key) => {\r\n            this.game.events[key] = 0;\r\n        });\r\n    }\r\n\r\n    // TODO: usages of this method should move to use EventBus\r\n    /**\r\n     * Record a game event to this.game.events, and update this.game.score\r\n     *\r\n     * @for GameController\r\n     * @method events_recordNew\r\n     * @param gameEvent {String} one of the events listed in GAME_EVENTS\r\n     */\r\n    events_recordNew(gameEvent) {\r\n        if (!_has(GAME_EVENTS, gameEvent)) {\r\n            throw new TypeError(`Expected a game event listed in GAME_EVENTS, but instead received ${gameEvent}`);\r\n        }\r\n\r\n        this.game.events[gameEvent] += 1;\r\n        this.game.score += GAME_EVENTS_POINT_VALUES[gameEvent];\r\n\r\n        this.game_updateScore();\r\n        this.updateScoreHistory(gameEvent);\r\n    }\r\n\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method game_get_weighted_score\r\n     */\r\n    game_get_weighted_score() {\r\n        const hoursPlayed = TimeKeeper.accumulatedDeltaTime / TIME.ONE_HOUR_IN_SECONDS;\r\n        const scorePerHour = this.game.score / hoursPlayed;\r\n\r\n        return scorePerHour;\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method game_reset_score_and_events\r\n     */\r\n    game_reset_score_and_events() {\r\n        // Reset events\r\n        _forEach(this.game.events, (gameEvent, key) => {\r\n            this.game.events[key] = 0;\r\n        });\r\n\r\n        // Reset score\r\n        this.game.score = 0;\r\n\r\n        this.game_updateScore();\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @for GameController\r\n     * @method updateTimescale\r\n     * @param nextValue {number}\r\n     */\r\n    updateTimescale(nextValue) {\r\n        if (nextValue === 0) {\r\n            this.game_timewarp_toggle();\r\n            return;\r\n        } else if (nextValue < 0) {\r\n            return;\r\n        }\r\n\r\n        TimeKeeper.updateSimulationRate(nextValue);\r\n        EventTracker.recordEvent(TRACKABLE_EVENT.OPTIONS, 'timewarp', nextValue);\r\n\r\n        const $fastForwards = $(SELECTORS.DOM_SELECTORS.FAST_FORWARDS);\r\n\r\n        if (nextValue === 1) {\r\n            $fastForwards.removeClass(SELECTORS.CLASSNAMES.SPEED_2);\r\n            $fastForwards.removeClass(SELECTORS.CLASSNAMES.SPEED_5);\r\n            $fastForwards.prop('title', 'Set time warp to 2');\r\n        } else if (nextValue < 5) {\r\n            $fastForwards.removeClass(SELECTORS.CLASSNAMES.SPEED_5);\r\n            $fastForwards.addClass(SELECTORS.CLASSNAMES.SPEED_2);\r\n            $fastForwards.prop('title', 'Set time warp to 5');\r\n        } else {\r\n            $fastForwards.removeClass(SELECTORS.CLASSNAMES.SPEED_2);\r\n            $fastForwards.addClass(SELECTORS.CLASSNAMES.SPEED_5);\r\n            $fastForwards.prop('title', 'Reset time warp');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update the visual state of the timewarp control button and call\r\n     * `TimeKeeper.updateTimescalse` with the next timewarp value.\r\n     *\r\n     * This method is called as a result of a user interaction\r\n     *\r\n     * @for GameController\r\n     * @method game_timewarp_toggle\r\n     */\r\n    game_timewarp_toggle() {\r\n        if (TimeKeeper.simulationRate >= 5) {\r\n            this.updateTimescale(1);\r\n        } else if (TimeKeeper.simulationRate === 1) {\r\n            this.updateTimescale(2);\r\n        } else {\r\n            this.updateTimescale(5);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method game_pause\r\n     */\r\n    game_pause() {\r\n        TimeKeeper.setPause(true);\r\n\r\n        const $pauseToggleElement = $(SELECTORS.DOM_SELECTORS.TOGGLE_PAUSE);\r\n\r\n        $pauseToggleElement.addClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n        $pauseToggleElement.attr('title', 'Resume simulation');\r\n        $('html').addClass(SELECTORS.CLASSNAMES.PAUSED);\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method game_unpause\r\n     */\r\n    game_unpause() {\r\n        TimeKeeper.setPause(false);\r\n\r\n        const $pauseToggleElement = $(SELECTORS.DOM_SELECTORS.TOGGLE_PAUSE);\r\n\r\n        $pauseToggleElement.removeClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n        $pauseToggleElement.attr('title', 'Pause simulation');\r\n        $('html').removeClass(SELECTORS.CLASSNAMES.PAUSED);\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method game_pause_toggle\r\n     */\r\n    game_pause_toggle() {\r\n        if (TimeKeeper.isPaused) {\r\n            EventTracker.recordEvent(TRACKABLE_EVENT.OPTIONS, 'pause', 'false');\r\n            this.game_unpause();\r\n\r\n            return;\r\n        }\r\n\r\n        EventTracker.recordEvent(TRACKABLE_EVENT.OPTIONS, 'pause', 'true');\r\n        this.game_pause();\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method game_paused\r\n     * @return {boolean}\r\n     */\r\n    game_paused() {\r\n        return !this.game.focused || TimeKeeper.isPaused;\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method game_speedup\r\n     * @return {number}\r\n     */\r\n    game_speedup() {\r\n        return !this.game_paused() ? TimeKeeper.simulationRate : 0;\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method game_timeout\r\n     * @param func {function} called when timeout is triggered\r\n     * @param delay {number} in seconds\r\n     * @param that\r\n     * @param data\r\n     * @return {array} gameTimeout\r\n     */\r\n    game_timeout(functionToCall, delay, that, data) {\r\n        const timerDelay = TimeKeeper.accumulatedDeltaTime + delay;\r\n        const gameTimeout = [functionToCall, timerDelay, data, delay, false, that];\r\n\r\n        this.game.timeouts.push(gameTimeout);\r\n\r\n        return gameTimeout;\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method game_interval\r\n     * @param func {function} called when timeout is triggered\r\n     * @param delay {number} in seconds\r\n     * @param that\r\n     * @param data\r\n     * @return {array} to\r\n     */\r\n    game_interval(func, delay, that, data) {\r\n        const to = [func, TimeKeeper.accumulatedDeltaTime + delay, data, delay, true, that];\r\n\r\n        this.game.timeouts.push(to);\r\n\r\n        return to;\r\n    }\r\n\r\n    /**\r\n     * Destroys a specific timer.\r\n     *\r\n     * @for GameController\r\n     * @method destroyTimer\r\n     * @param timer {array} the timer to destroy\r\n     */\r\n    destroyTimer(timer) {\r\n        this.game.timeouts.splice(this.game.timeouts.indexOf(timer), 1);\r\n    }\r\n\r\n    /**\r\n     * Destroy all current timers\r\n     *\r\n     * Used when changing airports. any timer is only valid\r\n     * for a specific airport.\r\n     *\r\n     * @for GameController\r\n     * @method destroyTimers\r\n     */\r\n    destroyTimers() {\r\n        this.game.timeouts = [];\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method game_updateScore\r\n     * @param score {number}\r\n     */\r\n    game_updateScore() {\r\n        if (this.game.score === this.game.last_score) {\r\n            return;\r\n        }\r\n\r\n        const $scoreElement = $(SELECTORS.DOM_SELECTORS.SCORE);\r\n\r\n        $scoreElement.text(round(this.game.score));\r\n\r\n        // TODO: wait, what? Why not just < 0?\r\n        if (this.game.score < -0.51) {\r\n            $scoreElement.addClass(SELECTORS.CLASSNAMES.NEGATIVE);\r\n        } else {\r\n            $scoreElement.removeClass(SELECTORS.CLASSNAMES.NEGATIVE);\r\n        }\r\n\r\n        this.game.last_score = this.game.score;\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method updateScoreHistory\r\n     * @param event {String} one of the events listed in GAME_EVENTS\r\n     */\r\n    updateScoreHistory(event) {\r\n        let points = GAME_EVENTS_POINT_VALUES[event];\r\n\r\n        if (points < 0) {\r\n            points = `<span class=\"gameScoreHistory-points_negative\">${points}</span>`;\r\n        }\r\n\r\n        const html = $(`<li>${GAME_EVENTS_DESCRIPTION[event]}: ${points}</li>`);\r\n        const listView = $(SELECTORS.DOM_SELECTORS.SCORE_LOG);\r\n\r\n        listView.append(html);\r\n        listView.scrollTop(listView.get(0).scrollHeight);\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method update_pre\r\n     */\r\n    update_pre() {\r\n        const $htmlElement = $('html');\r\n\r\n        if (!this.game_paused() && $htmlElement.hasClass(SELECTORS.CLASSNAMES.PAUSED)) {\r\n            $htmlElement.removeClass(SELECTORS.CLASSNAMES.PAUSED);\r\n        }\r\n\r\n        this.updateTimers();\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method updateTimers\r\n     */\r\n    updateTimers() {\r\n        const currentGameTime = TimeKeeper.accumulatedDeltaTime;\r\n\r\n        for (let i = this.game.timeouts.length - 1; i >= 0; i--) {\r\n            let willRemoveTimerFromList = false;\r\n            const timeout = this.game.timeouts[i];\r\n            const callback = timeout[0];\r\n            const delayFireTime = timeout[1];\r\n            const callbackArguments = timeout[2];\r\n            const delayInterval = timeout[3];\r\n            const shouldRepeat = timeout[4];\r\n\r\n            if (currentGameTime > delayFireTime) {\r\n                callback.call(timeout[5], callbackArguments);\r\n                willRemoveTimerFromList = true;\r\n\r\n                if (shouldRepeat) {\r\n                    timeout[1] = delayFireTime + delayInterval;\r\n                    willRemoveTimerFromList = false;\r\n                }\r\n            }\r\n\r\n            if (willRemoveTimerFromList) {\r\n                this.game.timeouts.splice(i, 1);\r\n                i -= 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method complete\r\n     */\r\n    complete() {\r\n        TimeKeeper.setPause(false);\r\n    }\r\n\r\n    /**\r\n     * Facade for `game.option.get`\r\n     *\r\n     * Allows for classes that import the `GameController` single-level\r\n     * access to any game option value\r\n     *\r\n     * @for GameController\r\n     * @method getGameOption\r\n     * @param optionName {string}\r\n     * @return {string}\r\n     */\r\n    getGameOption(optionName) {\r\n        return this.game.option.getOptionByName(optionName);\r\n    }\r\n\r\n    /**\r\n     * Check whether or not the trailing distance separator should be drawn.\r\n     *\r\n     * Used by the `CanvasController` to determine whether or not to proceed with\r\n     * `canvas_draw_separation_indicator`.\r\n     *\r\n     * @for GameController\r\n     * @method shouldUseTrailingSeparationIndicator\r\n     * @param aircraft {AircraftModel}\r\n     * @return {boolean}\r\n     */\r\n    shouldUseTrailingSeparationIndicator(aircraft) {\r\n        const userSettingsValue = this.getGameOption(GAME_OPTION_NAMES.DRAW_ILS_DISTANCE_SEPARATOR);\r\n        let isIndicatorEnabled = userSettingsValue === 'yes';\r\n\r\n        if (userSettingsValue === 'from-theme') {\r\n            isIndicatorEnabled = this.theme.RADAR_TARGET.TRAILING_SEPARATION_INDICATOR_ENABLED;\r\n        }\r\n\r\n        return isIndicatorEnabled && aircraft.isArrival();\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method _onWindowBlur\r\n     * @param event {UIEvent}\r\n     * @private\r\n     */\r\n    _onWindowBlur(event) {\r\n        this.game.focused = false;\r\n\r\n        // resetting back to 1 here so when focus returns, we can reliably reset\r\n        // `#game.delta` to 0 to prevent jumpiness\r\n        TimeKeeper.updateSimulationRate(1);\r\n        TimeKeeper.setPause(true);\r\n\r\n        // update visual state of the timewarp control button for consistency\r\n        const $fastForwards = $(SELECTORS.DOM_SELECTORS.FAST_FORWARDS);\r\n\r\n        $fastForwards.removeClass(SELECTORS.CLASSNAMES.SPEED_2);\r\n        $fastForwards.removeClass(SELECTORS.CLASSNAMES.SPEED_5);\r\n        $fastForwards.prop('title', 'Set time warp to 2');\r\n    }\r\n\r\n    /**\r\n     * @for GameController\r\n     * @method _onWindowFocus\r\n     * @param event {UIEvent}\r\n     * @private\r\n     */\r\n    _onWindowFocus(event) {\r\n        this.game.focused = true;\r\n\r\n        // if was already manually paused when lost focus, respect that\r\n        if ($('html').hasClass(SELECTORS.CLASSNAMES.PAUSED)) {\r\n            return;\r\n        }\r\n\r\n        TimeKeeper.setPause(false);\r\n    }\r\n\r\n\r\n    /**\r\n     * Change theme to the specified name\r\n     *\r\n     * This should ONLY be called through the EventBus during a `SET_THEME` event,\r\n     * thus ensuring that the same theme is always in use by all app components.\r\n     *\r\n     * This method must remain an arrow function in order to preserve the scope\r\n     * of `this`, since it is being invoked by an EventBus callback.\r\n     *\r\n     * @for GameController\r\n     * @method _setTheme\r\n     * @param themeName {string}\r\n     */\r\n    _setTheme = (themeName) => {\r\n        if (!_has(THEME, themeName)) {\r\n            console.error(`Expected valid theme to change to, but received '${themeName}'`);\r\n\r\n            return;\r\n        }\r\n\r\n        this.theme = THEME[themeName];\r\n    };\r\n}\r\n\r\nexport default new GameController();\r\n","import _isNil from 'lodash/isNil';\r\nimport EventBus from '../lib/EventBus';\r\nimport EventTracker from '../EventTracker';\r\nimport { GAME_OPTION_VALUES } from '../constants/gameOptionConstants';\r\nimport { TRACKABLE_EVENT } from '../constants/trackableEvents';\r\n\r\n/**\r\n * Set, store and retrieve game options.\r\n *\r\n * @class GameOptions\r\n */\r\nexport default class GameOptions {\r\n    /**\r\n     * @for GameOptions\r\n     * @constructor\r\n     */\r\n    constructor() {\r\n        /**\r\n         * @property _eventBus\r\n         * @type EventBus\r\n         * @private\r\n         */\r\n        this._eventBus = EventBus;\r\n\r\n        /**\r\n         * @property _options\r\n         * @type {Object}\r\n         * @default {}\r\n         * @private\r\n         */\r\n        this._options = {};\r\n\r\n        /**\r\n         * Model properties will be added for each game option\r\n         * dynamically via `.addGameOptions()`\r\n         *\r\n         * @property {*}\r\n         * @type {string}\r\n         *\r\n         * this[OPTION_NAME] = OPTION_VALUE;\r\n         */\r\n\r\n        this.addGameOptions();\r\n    }\r\n\r\n    /**\r\n     * Add available game options to `_options` dictionary\r\n     *\r\n     * @for GameOptions\r\n     * @method addGameOptions\r\n     */\r\n    addGameOptions() {\r\n        for (let i = 0; i < GAME_OPTION_VALUES.length; i++) {\r\n            const option = GAME_OPTION_VALUES[i];\r\n\r\n            this.addOption(option);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @for GameOptions\r\n     * @method addOption\r\n     * @param optionProps {object}\r\n     */\r\n    addOption(optionProps) {\r\n        const optionStorageKey = this.buildStorageName(optionProps.name);\r\n        const storedOptionValue = global.localStorage.getItem(optionStorageKey);\r\n        this._options[optionProps.name] = optionProps;\r\n        let optionValue = optionProps.defaultValue;\r\n\r\n        if (!_isNil(storedOptionValue)) {\r\n            optionValue = storedOptionValue;\r\n        }\r\n\r\n        this[optionProps.name] = optionValue;\r\n    }\r\n\r\n    /**\r\n     * @for GameOptions\r\n     * @method getDescriptions\r\n     * @return {object}\r\n     */\r\n    getDescriptions() {\r\n        return this._options;\r\n    }\r\n\r\n    /**\r\n     * Gets the value of a given game option\r\n     *\r\n     * @for GameOptions\r\n     * @method getOptionByName\r\n     * @param name {string}\r\n     * @return {object}\r\n     */\r\n    getOptionByName(name) {\r\n        return this[name];\r\n    }\r\n\r\n    /**\r\n     * Sets a game option to a given value\r\n     *\r\n     * will fire an event with the `EventBus` is one is registered\r\n     *\r\n     * @for GameOptions\r\n     * @method setOptionByName\r\n     * @param name {string} name of the option to change\r\n     * @param value {string} value to set the option to\r\n     */\r\n    setOptionByName(name, value) {\r\n        this[name] = value;\r\n        const optionStorageKey = this.buildStorageName(name);\r\n\r\n        global.localStorage.setItem(optionStorageKey, value);\r\n        EventTracker.recordEvent(TRACKABLE_EVENT.SETTINGS, name, value);\r\n\r\n        if (this._options[name].onChangeEventHandler) {\r\n            this._eventBus.trigger(this._options[name].onChangeEventHandler, value);\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Build a string that can be used as a key for localStorage data\r\n     *\r\n     * @for GameOptions\r\n     * @method buildStorageName\r\n     * @param optionName {string}\r\n     * @return {string}\r\n     */\r\n    buildStorageName(optionName) {\r\n        return `zlsa.atc.option.${optionName}`;\r\n    }\r\n}\r\n","import EventBus from '../lib/EventBus';\r\nimport GameController, { GAME_EVENTS } from './GameController';\r\nimport UiController from '../ui/UiController';\r\nimport { nm_ft } from '../utilities/unitConverters';\r\nimport { AIRCRAFT_EVENT } from '../constants/eventNames';\r\nimport { AIRPORT_CONTROL_POSITION_NAME } from '../constants/airportConstants';\r\nimport { MCP_MODE } from '../aircraft/ModeControl/modeControlConstants';\r\n\r\n/**\r\n * @class ScoreController\r\n */\r\nexport default class ScoreController {\r\n    constructor(aircraftController) {\r\n        /**\r\n         * Whether the aircraft has received a clearance to conduct an approach to a runway\r\n         *\r\n         * @for ScoreController\r\n         * @property _aircraftController\r\n         * @type {boolean}\r\n         * @private\r\n         */\r\n        this._aircraftController = aircraftController;\r\n\r\n        this.init()\r\n            .setupHandlers()\r\n            .enable();\r\n    }\r\n\r\n    init() {\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for ScoreController\r\n     * @method setupHandler\r\n     * @chainable\r\n     */\r\n    setupHandlers() {\r\n        this._onApproachHandler = this._onApproach.bind(this);\r\n        this._onLandingHandler = this._onLanding.bind(this);\r\n        this._onExitAirspaceHandler = this._onExitAirspace.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for ScoreController\r\n     * @method enable\r\n     * @chainable\r\n     */\r\n    enable() {\r\n        EventBus.on(AIRCRAFT_EVENT.APPROACH, this._onApproachHandler);\r\n        EventBus.on(AIRCRAFT_EVENT.FULLSTOP, this._onLandingHandler);\r\n        EventBus.on(AIRCRAFT_EVENT.AIRSPACE_EXIT, this._onExitAirspaceHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for ScoreController\r\n     * @method disable\r\n     * @chainable\r\n     */\r\n    disable() {\r\n        EventBus.off(AIRCRAFT_EVENT.APPROACH, this._onApproachHandler);\r\n        EventBus.off(AIRCRAFT_EVENT.FULLSTOP, this._onLandingHandler);\r\n        EventBus.off(AIRCRAFT_EVENT.AIRSPACE_EXIT, this._onExitAirspaceHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for ScoreController\r\n     * @method _onApproach\r\n     * @param aircraftModel {AircraftModel}\r\n     */\r\n    _onApproach(aircraftModel) {\r\n        this._penalizeLocalizerInterceptAltitude(aircraftModel);\r\n\r\n        // TODO: How can we evaluate the intercept angle?\r\n        // if () {\r\n        //     this._penalizeLocalizerInterceptAngle();\r\n        // }\r\n    }\r\n\r\n    /**\r\n     * @for ScoreController\r\n     * @method _onLanding\r\n     * @param aircraftModel {AircraftModel}\r\n     * @param runwayModel {RunwayModel}\r\n     */\r\n    _onLanding(aircraftModel, runwayModel) {\r\n        this._scoreWind(aircraftModel, 'landed');\r\n        this._scoreRunwaySeparation(aircraftModel, runwayModel, 'landed');\r\n    }\r\n\r\n    /**\r\n     * @for ScoreController\r\n     * @method _onExitAirspace\r\n     * @param aircraftModel {AircraftModel}\r\n     */\r\n    _onExitAirspace(aircraftModel) {\r\n        if (aircraftModel.isArrival()) {\r\n            this._onAirspaceExitForArrival(aircraftModel);\r\n\r\n            return;\r\n        }\r\n\r\n        if (aircraftModel.mcp.headingMode !== MCP_MODE.HEADING.LNAV) {\r\n            this._onAirspaceExitWithoutClearance(aircraftModel);\r\n\r\n            return;\r\n        }\r\n\r\n        this._onAirspaceExitWithClearance(aircraftModel);\r\n    }\r\n\r\n    /**\r\n     * An arriving aircraft is exiting the airpsace\r\n     *\r\n     * @for ScoreController\r\n     * @method _onAirspaceExitForArrival\r\n     * @param aircraftModel {AircraftModel}\r\n     * @private\r\n     */\r\n    _onAirspaceExitForArrival(aircraftModel) {\r\n        aircraftModel.radioCall('leaving radar coverage as arrival', AIRPORT_CONTROL_POSITION_NAME.APPROACH, true);\r\n        GameController.events_recordNew(GAME_EVENTS.AIRSPACE_BUST);\r\n    }\r\n\r\n    /**\r\n     * @for ScoreController\r\n     * @method _onAirspaceExitWithClearance\r\n     * @param aircraftModel {AircraftModel}\r\n     * @private\r\n     */\r\n    _onAirspaceExitWithClearance(aircraftModel) {\r\n        aircraftModel.radioCall('switching to center, good day', AIRPORT_CONTROL_POSITION_NAME.DEPARTURE);\r\n        GameController.events_recordNew(GAME_EVENTS.DEPARTURE);\r\n    }\r\n\r\n    /**\r\n     * @for ScoreController\r\n     * @method _onAirspaceExitWithoutClearance\r\n     * @param aircraftModel {AircraftModel}\r\n     * @private\r\n     */\r\n    _onAirspaceExitWithoutClearance(aircraftModel) {\r\n        aircraftModel.radioCall('leaving airspace without being on our route', AIRPORT_CONTROL_POSITION_NAME.DEPARTURE, true);\r\n        GameController.events_recordNew(GAME_EVENTS.NOT_CLEARED_ON_ROUTE);\r\n    }\r\n\r\n    /**\r\n     * @for ScoreController\r\n     * @method _scoreWind\r\n     * @param aircraftModel {AircraftModel}\r\n     * @param action {string}\r\n     */\r\n    _scoreWind(aircraftModel, action) {\r\n        const isWarning = true;\r\n        const wind = aircraftModel.getWindComponents();\r\n\r\n        // TODO: these two if blocks could be done in a single switch statement\r\n        if (wind.cross >= 20) {\r\n            GameController.events_recordNew(GAME_EVENTS.EXTREME_CROSSWIND_OPERATION);\r\n            UiController.ui_log(`${aircraftModel.callsign} ${action} with major crosswind`, isWarning);\r\n        } else if (wind.cross >= 10) {\r\n            GameController.events_recordNew(GAME_EVENTS.HIGH_CROSSWIND_OPERATION);\r\n            UiController.ui_log(`${aircraftModel.callsign} ${action} with crosswind`, isWarning);\r\n        }\r\n\r\n        if (wind.head <= -10) {\r\n            GameController.events_recordNew(GAME_EVENTS.EXTREME_TAILWIND_OPERATION);\r\n            UiController.ui_log(`${aircraftModel.callsign} ${action} with major tailwind`, isWarning);\r\n        } else if (wind.head <= -5) {\r\n            GameController.events_recordNew(GAME_EVENTS.HIGH_TAILWIND_OPERATION);\r\n            UiController.ui_log(`${aircraftModel.callsign} ${action} with tailwind`, isWarning);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @for ScoreController\r\n     * @method _scoreRunwaySeparation\r\n     * @param aircraftModel {AircraftModel}\r\n     * @param runwayModel {RunwayModel}\r\n     * @param action {string}\r\n     */\r\n    _scoreRunwaySeparation(aircraftModel, runwayModel, action) {\r\n        const previousAircraft = runwayModel.lastDepartedAircraftModel;\r\n\r\n        // do not penalize departures launched automatically; only those launched by the user\r\n        if (!previousAircraft || previousAircraft.shouldTakeOffWhenRunwayIsClear) {\r\n            return;\r\n        }\r\n\r\n        const actualDistance = nm_ft(aircraftModel.distanceToAircraft(previousAircraft));\r\n        const requiredDistance = aircraftModel.model.calculateSameRunwaySeparationDistanceInFeet(previousAircraft.model);\r\n\r\n        if (actualDistance < requiredDistance || previousAircraft.isOnGround()) {\r\n            const isWarning = true;\r\n\r\n            GameController.events_recordNew(GAME_EVENTS.NO_TAKEOFF_SEPARATION);\r\n            UiController.ui_log(`${aircraftModel.callsign} ${action} without adequate separation from another ` +\r\n                'aircraft using the same runway', isWarning);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Display a waring and record an illegal glideslope intercept event\r\n     *\r\n     * @for ScoreController\r\n     * @method _penalizeLocalizerInterceptAltitude\r\n     * @param aircraftModel {AircraftModel}\r\n     */\r\n    _penalizeLocalizerInterceptAltitude(aircraftModel) {\r\n        if (!aircraftModel.isAboveGlidepath()) {\r\n            return;\r\n        }\r\n\r\n        const isWarning = true;\r\n\r\n        UiController.ui_log(`${aircraftModel.callsign} intercepted localizer above glideslope`, isWarning);\r\n        GameController.events_recordNew(GAME_EVENTS.LOCALIZER_INTERCEPT_ABOVE_GLIDESLOPE);\r\n    }\r\n\r\n    /**\r\n     * Display a waring and record an illegal approach event\r\n     *\r\n     * @for ScoreController\r\n     * @method _penalizeLocalizerInterceptAngle\r\n     * @param aircraftModel {AircraftModel}\r\n     */\r\n    _penalizeLocalizerInterceptAngle(aircraftModel) {\r\n        const isWarning = true;\r\n\r\n        UiController.ui_log(`${aircraftModel.callsign} approach course intercept angle was greater than 30 degrees`, isWarning);\r\n        GameController.events_recordNew(GAME_EVENTS.ILLEGAL_APPROACH_CLEARANCE);\r\n    }\r\n}\r\n","import $ from 'jquery';\r\nimport App from './App';\r\n\r\nrequire('raf').polyfill();\r\n\r\n/**\r\n * Entry point for the application.\r\n *\r\n * Provides a way to grab the `body` element of the document and pass it to the app.\r\n */\r\nexport default (() => {\r\n    const $body = $('body');\r\n    // eslint-disable-next-line no-unused-vars\r\n    const app = new App($body);\r\n})();\r\n","import $ from 'jquery';\r\nimport { leftPad } from '../utilities/generalUtilities';\r\nimport { radiansToDegrees } from '../utilities/unitConverters';\r\nimport AirportController from '../airport/AirportController';\r\nimport SimClockController from './SimClockController';\r\nimport EventBus from '../lib/EventBus';\r\nimport { INVALID_NUMBER } from '../constants/globalConstants';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport { AIRPORT_INFO_TEMPLATE } from './airportInfoTemplate';\r\nimport { PERFORMANCE } from '../constants/aircraftConstants';\r\n\r\n/**\r\n * @property INFO_VIEW_SELECTORS\r\n * @type {object<string, string>}\r\n * @final\r\n */\r\nconst INFO_VIEW_SELECTORS = {\r\n    CLOCK_LABEL: '.js-airportInfo-clock-label',\r\n    CLOCK_VALUE: '.js-airportInfo-clock-value',\r\n    WIND_LABEL: '.js-airportInfo-wind-label',\r\n    WIND_VALUE: '.js-airportInfo-wind-value',\r\n    ALTIMETER_LABEL: '.js-airportInfo-altimeter-label',\r\n    ALTIMETER_VALUE: '.js-airportInfo-altimeter-value',\r\n    ELEVATION_LABEL: '.js-airportInfo-elevation-label',\r\n    ELEVATION_VALUE: '.js-airportInfo-elevation-value'\r\n};\r\n\r\n/**\r\n * Gets information about the current airport, specifically\r\n * the airport's elevation, wind speed and direction, and altimeter.\r\n *\r\n * @class AirportInfoController\r\n */\r\nexport default class AirportInfoController {\r\n    /**\r\n     * @for AirportInfoController\r\n     * @constructor\r\n     * @param {jQuery|HTML element}\r\n     */\r\n    constructor($element) {\r\n        /**\r\n         * Root DOM element\r\n         *\r\n         * @for AirportInfoController\r\n         * @property $element\r\n         * @type {jQuery|HTML element}\r\n         */\r\n        this.$element = $element;\r\n\r\n        /**\r\n         * Information div\r\n         *\r\n         * @for AirportInfoController\r\n         * @property $template\r\n         * @type {jQuery|HTML element}\r\n         */\r\n        this.$template = null;\r\n\r\n        /**\r\n         * Information div\r\n         *\r\n         * @for AirportInfoController\r\n         * @property $altimeterView\r\n         * @type {jQuery|HTML element}\r\n         */\r\n        this.$altimeterView = null;\r\n\r\n        /**\r\n         * Information div\r\n         *\r\n         * @for AirportInfoController\r\n         * @property $clockView\r\n         * @type {jQuery|HTML element}\r\n         */\r\n        this.$clockView = null;\r\n\r\n        /**\r\n         * Information div\r\n         *\r\n         * @for AirportInfoController\r\n         * @property $elevationView\r\n         * @type {jQuery|HTML element}\r\n         */\r\n        this.$elevationView = null;\r\n\r\n        /**\r\n         * Information div\r\n         *\r\n         * @for AirportInfoController\r\n         * @property $windView\r\n         * @type {jQuery|HTML element}\r\n         */\r\n        this.$windView = null;\r\n\r\n        /**\r\n         * @for AirportInfoController\r\n         * @property altimeter\r\n         * @type {Number}\r\n         */\r\n        this.altimeter = INVALID_NUMBER;\r\n\r\n        /**\r\n         * @for AirportInfoController\r\n         * @property elevation\r\n         * @type {String}\r\n         */\r\n        this.elevation = '';\r\n\r\n        /**\r\n         * @for AirportInfoController\r\n         * @property icao\r\n         * @type {String}\r\n         */\r\n        this.icao = '';\r\n\r\n        /**\r\n         * @for AirportInfoController\r\n         * @property simClockController\r\n         */\r\n        this.simClockController = null;\r\n\r\n        /**\r\n         * @for AirportInfoController\r\n         * @property wind\r\n         * @type {String}\r\n         */\r\n        this.wind = '';\r\n\r\n        /**\r\n         * Local reference of the event bus\r\n         *\r\n         * @for AirportInfoController\r\n         * @property _eventBus\r\n         * @type {EventBus}\r\n         */\r\n        this._eventBus = EventBus;\r\n\r\n        return this.init()\r\n            ._createChildren()\r\n            ._setupHandlers()\r\n            .enable()\r\n            .onAirportChange();\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * @for AirportInfoController\r\n     * @method init\r\n     * @chainable\r\n     */\r\n    init() {\r\n        this.$template = $(AIRPORT_INFO_TEMPLATE);\r\n        this.$altimeterView = this.$template.find(INFO_VIEW_SELECTORS.ALTIMETER_VALUE);\r\n        this.$clockView = this.$template.find(INFO_VIEW_SELECTORS.CLOCK_VALUE);\r\n        this.$elevationView = this.$template.find(INFO_VIEW_SELECTORS.ELEVATION_VALUE);\r\n        this.$windView = this.$template.find(INFO_VIEW_SELECTORS.WIND_VALUE);\r\n        this.altimeter = INVALID_NUMBER;\r\n        this.elevation = '';\r\n        this.icao = '';\r\n        this.simClockController = new SimClockController();\r\n        this.wind = '';\r\n        this._eventBus = EventBus;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set initial element references\r\n     *\r\n     * Should be run once only on instantiation\r\n     *\r\n     * @for StripViewModel\r\n     * @method _createChildren\r\n     * @chainable\r\n     * @private\r\n     */\r\n    _createChildren() {\r\n        this.$element.append(this.$template);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for AirportInfoController\r\n     * @method _setupHandlers\r\n     * @chainable\r\n     * @private\r\n     */\r\n    _setupHandlers() {\r\n        this._onAirportChangeHandler = this.onAirportChange.bind(this);\r\n        this._onWindChangeHandler = this.onWindChange.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Enable all event handlers\r\n     *\r\n     * @for AirportInfoController\r\n     * @method _enable\r\n     * @chainable\r\n     */\r\n    enable() {\r\n        this._eventBus.on(EVENT.AIRPORT_CHANGE, this._onAirportChangeHandler);\r\n        this._eventBus.on(EVENT.WIND_CHANGE, this._onWindChangeHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Disable all event handlers\r\n     *\r\n     * @for AirportInfoController\r\n     * @method _disable\r\n     * @chainable\r\n     */\r\n    disable() {\r\n        this._eventBus.off(EVENT.AIRPORT_CHANGE, this._onAirportChangeHandler);\r\n        this._eventBus.off(EVENT.WIND_CHANGE, this._onWindChangeHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for AirportInfoController\r\n     * @method reset\r\n     * @chainable\r\n     */\r\n    reset() {\r\n        this.$element = null;\r\n        this.$template = null;\r\n        this.altimeter = null;\r\n        this.elevation = null;\r\n        this.icao = null;\r\n        this.simClockController = null;\r\n        this.wind = null;\r\n        this._eventBus = null;\r\n\r\n        return this;\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * Updates the information taken from the AirportModel: the wind, the altimeter,\r\n     * and the elevation. Triggered on airport change.\r\n     *\r\n     * @for AirportInfoController\r\n     * @method onAirportChange\r\n     */\r\n    onAirportChange() {\r\n        const airport = AirportController.airport_get();\r\n        const windAngle = Math.round(radiansToDegrees(airport.wind.angle));\r\n\r\n        this.wind = this._buildWindAndGustReadout({ speed: airport.wind.speed, angle: windAngle });\r\n        this.altimeter = this._generateHighAltimeterReading(airport.wind.speed);\r\n        this.elevation = `${airport.elevation}`;\r\n        this.icao = airport.icao.toUpperCase();\r\n\r\n        this._render();\r\n    }\r\n\r\n    /**\r\n     * Updates the wind information\r\n     *\r\n     * @for AirportInfoController\r\n     * @method onWindChange\r\n     */\r\n    onWindChange(currentWind) {\r\n        this.wind = this._buildWindAndGustReadout({ speed: currentWind.speed, angle: currentWind.angle });\r\n\r\n        this._render();\r\n    }\r\n\r\n    /**\r\n     * Updates the clock, called from `AppController#update_pre`\r\n     *\r\n     * @for AirportInfoController\r\n     * @method updateClock\r\n     */\r\n    updateClock() {\r\n        const readout = this.simClockController.buildClockReadout();\r\n\r\n        this.$clockView.text(readout);\r\n    }\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    /**\r\n     * Formats the wind angle and speed from object into a string,\r\n     * in the format `${newAngle} ${newSpeed}G${gustSpeed}`.\r\n     *\r\n     * Example output: 270 10G18\r\n     *\r\n     * @for AirportGameInfoView\r\n     * @method _buildWindAndGustReadout\r\n     * @param {Object} wind\r\n     * @returns {String} formatted string\r\n     * @private\r\n     */\r\n    _buildWindAndGustReadout(wind) {\r\n        const minGustStrength = 5;\r\n        const { speed } = wind;\r\n        const { angle } = wind;\r\n        const newAngle = leftPad((angle || 360), 3);\r\n        const newSpeed = leftPad(speed, 2);\r\n        // Creates a fake \"gusting\" speed\r\n        const gustStrength = speed * Math.random();\r\n        const gustSpeed = leftPad(Math.round(speed + gustStrength), 2);\r\n\r\n        if (gustStrength < minGustStrength) {\r\n            return `${newAngle} ${newSpeed}`;\r\n        }\r\n\r\n        return `${newAngle} ${newSpeed} G${gustSpeed}`;\r\n    }\r\n\r\n    /**\r\n     * Creates an 'altimeter' reading for the info view\r\n     *\r\n     * @for AirportInfoController\r\n     * @method _generateHighAltimeterReading\r\n     * @param {Number} windSpeed\r\n     * @returns {Number} the altimeter value (29.92 or above)\r\n     * @private\r\n     */\r\n    _generateHighAltimeterReading(windSpeed) {\r\n        const pressure = PERFORMANCE.DEFAULT_ALTIMETER_IN_INHG + (windSpeed * Math.random() / 100);\r\n\r\n        return pressure.toFixed(2);\r\n    }\r\n\r\n    /**\r\n     * Sets the values from the updated airport info.\r\n     *\r\n     * @for AirportInfoController\r\n     * @method _render\r\n     * @private\r\n     */\r\n    _render() {\r\n        this.$windView.text(`${this.icao} ${this.wind}`);\r\n        this.$altimeterView.text(`${this.icao} ${this.altimeter}`);\r\n        this.$elevationView.text(`${this.icao} ${this.elevation}`);\r\n    }\r\n}\r\n","import TimeKeeper from '../engine/TimeKeeper';\r\nimport { digits_integer } from '../utilities/radioUtilities';\r\nimport { TIME } from '../constants/globalConstants';\r\n\r\n/**\r\n * Manages a clock that stays in sync with the current game time\r\n * @class SimClockController\r\n */\r\nexport default class SimClockController {\r\n    /**\r\n     * @for SimClockController\r\n     * @constructor\r\n     */\r\n    constructor() {\r\n        /**\r\n         * @for SimClockController\r\n         * @property startTime\r\n         * @type {Number}\r\n         * @default 0\r\n         */\r\n        this.startTime = 0;\r\n\r\n        return this._init();\r\n    }\r\n\r\n    /**\r\n     * @for SimClockController\r\n     * @method _init\r\n     * @private\r\n     */\r\n    _init() {\r\n        this.startTime = this.realWorldCurrentZuluTime;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Get current time in the user's time zone\r\n     *\r\n     *  @for SimClockController\r\n     * @property realWorldCurrentLocalTime\r\n     * @return {number} ms since 01/01/1970, 00:00:00 (user's time zone)\r\n     */\r\n    get realWorldCurrentLocalTime() {\r\n        return new Date().getTime();\r\n    }\r\n\r\n    /**\r\n     * Get current zulu time in milliseconds\r\n     *\r\n     * @for SimClockController\r\n     * @property realWorldCurrentZuluTime\r\n     * @return utc {number} ms since 01/01/1970, 00:00:00 UTC\r\n     */\r\n    get realWorldCurrentZuluTime() {\r\n        const date = new Date();\r\n        const utc = date.getTime() + (date.getTimezoneOffset() * TIME.ONE_MINUTE_IN_MILLISECONDS);\r\n\r\n        return utc;\r\n    }\r\n\r\n    /**\r\n     * @for SimClockController\r\n     * @method reset\r\n     * @chainable\r\n     */\r\n    reset() {\r\n        this.startTime = 0;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Generates a string of the current game time in a human-readable format\r\n     *\r\n     * @for SimClockController\r\n     * @method buildClockReadout\r\n     * @return clockTime {string} current game time formatted like '03:44:17'\r\n     */\r\n    buildClockReadout() {\r\n        const elapsedTimeInMilliseconds = TimeKeeper.accumulatedDeltaTime * TIME.ONE_SECOND_IN_MILLISECONDS;\r\n        const clockDate = new Date(this.startTime + elapsedTimeInMilliseconds);\r\n        const hours = digits_integer(clockDate.getHours(), 2);\r\n        const minutes = digits_integer(clockDate.getMinutes(), 2);\r\n        const seconds = digits_integer(clockDate.getSeconds(), 2);\r\n        const clockTime = `${hours}${minutes}/${seconds}`;\r\n\r\n        return clockTime;\r\n    }\r\n}\r\n","/**\r\n * HTML template for the airport info view and clock.\r\n *\r\n * @property AIRPORT_INFO_TEMPLATE\r\n * @type {String|HTML Element}\r\n * @final\r\n */\r\nexport const AIRPORT_INFO_TEMPLATE = '' +\r\n'<div id=\"airportInfo\" class=\"notSelectable\">' +\r\n'    <div class=\"airportInfo-line\">' +\r\n'        <div class=\"airportInfo-label js-airportInfo-clock-label\">TIME</div>' +\r\n'        <div class=\"airportInfo-value js-airportInfo-clock-value\"></div>' +\r\n'    </div>' +\r\n'    <div class=\"airportInfo-line\">' +\r\n'        <div class=\"airportInfo-label js-airportInfo-wind-label\">WIND</div>' +\r\n'        <div class=\"airportInfo-value js-airportInfo-wind-value\"></div>' +\r\n'    </div>' +\r\n'    <div class=\"airportInfo-line\">' +\r\n'        <div class=\"airportInfo-label js-airportInfo-altimeter-label\">ALTIM</div>' +\r\n'        <div class=\"airportInfo-value js-airportInfo-altimeter-value\"></div>' +\r\n'    </div>' +\r\n'    <div class=\"airportInfo-line\">' +\r\n'        <div class=\"airportInfo-label js-airportInfo-elevation-label\">ELEV</div>' +\r\n'        <div class=\"airportInfo-value js-airportInfo-elevation-value\"></div>' +\r\n'    </div>' +\r\n'</div>';\r\n","import _has from 'lodash/has';\r\nimport EventModel from './EventModel';\r\n\r\n/**\r\n * Creates a static class that should be used for cross class communication.\r\n *\r\n * This alleviates the need for direct imports between classes. Instead, the class\r\n * that performs an action need only `trigger` and any listening classes can respond\r\n * with their own internal callback.\r\n *\r\n * As a rule, when this class is used it should be reassigned to an instance property `#eventBus`.\r\n *\r\n * Example:\r\n * - triggering class `this.eventBus.trigger('EVENT_NAME', DATA_TO_PASS)`\r\n * - responding class `this.eventBus.on('EVENT_NAME', this.onEventCallback)`\r\n *\r\n * @class EventBus\r\n */\r\nclass EventBus {\r\n    /**\r\n     * @constructor\r\n     */\r\n    constructor() {\r\n        /**\r\n         * Dictionary of `eventNames`\r\n         *\r\n         * @property _events\r\n         * @type {object<string, EventModel>}\r\n         * @default {}\r\n         * @private\r\n         */\r\n        this._events = {};\r\n    }\r\n\r\n    /**\r\n     * @for EventBus\r\n     * @method destroy\r\n     */\r\n    destroy() {\r\n        this._events = {};\r\n    }\r\n\r\n    /**\r\n     * Register an event with a callback\r\n     *\r\n     * If an eventName already exists, add the observer to the observers list\r\n     *\r\n     * @for EventBus\r\n     * @method on\r\n     * @param eventName {string}   the name of an event\r\n     * @param callback {function}  function to be called when an event is triggered\r\n     */\r\n    on(eventName, callback) {\r\n        if (this.has(eventName)) {\r\n            this._events[eventName].addObserver(callback);\r\n\r\n            return;\r\n        }\r\n\r\n        this._events[eventName] = new EventModel(eventName);\r\n\r\n        this._addObserver(eventName, callback);\r\n    }\r\n\r\n    /**\r\n     * Remove a callback from the observers list\r\n     *\r\n     * When multiple observers exist, remove only the one callback from that list\r\n     *\r\n     * When `eventName` is the only observer, the event will be destroyed\r\n     * and removed from `#_events`.\r\n     *\r\n     * @for EventBus\r\n     * @method off\r\n     * @param eventName {string}   the name of an event\r\n     * @param callback {function}  function to remove from an events observers list\r\n     */\r\n    off(eventName, callback) {\r\n        if (!this.has(eventName)) {\r\n            return;\r\n        }\r\n\r\n        this._removeObserver(eventName, callback);\r\n\r\n        if (this._events[eventName].observers.length < 1) {\r\n            this._removeEventKey(eventName);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Trigger an event\r\n     *\r\n     * Will result in calling all of the observers listed for a particular\r\n     * event with the provided argument(s)\r\n     *\r\n     * @for EventBus\r\n     * @method trigger\r\n     * @param eventName {string}\r\n     * @param args {rest parameter}\r\n     */\r\n    trigger(eventName, ...args) {\r\n        if (!this.has(eventName)) {\r\n            return;\r\n        }\r\n\r\n        const { observers } = this._events[eventName];\r\n\r\n        for (let i = 0; i < observers.length; i++) {\r\n            observers[i](...args);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Boolean helper used to determine if `eventName` exists within `#_events`\r\n     *\r\n     * @for EventBus\r\n     * @method has\r\n     * @return {boolean}\r\n     */\r\n    has(eventName) {\r\n        return _has(this._events, eventName);\r\n    }\r\n\r\n    /**\r\n     * Add an observer to an event's observer list\r\n     *\r\n     * @for EventBus\r\n     * @method _addObserver\r\n     * @param eventName {string}\r\n     * @param callback {function}\r\n     * @private\r\n     */\r\n    _addObserver(eventName, callback) {\r\n        this._events[eventName].addObserver(callback);\r\n    }\r\n\r\n    /**\r\n     * Remove an observer from an event's observer list\r\n     *\r\n     * @for EventBus\r\n     * @method _removeObserver\r\n     * @param eventName {string}\r\n     * @param callback {function}\r\n     * @private\r\n     */\r\n    _removeObserver(eventName, callback) {\r\n        this._events[eventName].removeObserver(callback);\r\n    }\r\n\r\n    /**\r\n     * Remove a key from `#_events`\r\n     *\r\n     * This should only be called after the removal of the last observer\r\n     * for an `eventName`.\r\n     *\r\n     * @for EventBus\r\n     * @method _removeEventKey\r\n     * @param eventName {string}\r\n     * @private\r\n     */\r\n    _removeEventKey(eventName) {\r\n        delete this._events[eventName];\r\n    }\r\n}\r\n\r\nexport default new EventBus();\r\n","import { INVALID_INDEX } from '../constants/globalConstants';\r\n\r\n/**\r\n * Defines an event and an event's observers\r\n *\r\n * Should be used by the `EventBus` when defining new events\r\n *\r\n * @class EventModel\r\n */\r\nexport default class EventModel {\r\n    /**\r\n     * @constructor\r\n     * @param name {string}\r\n     */\r\n    constructor(name) {\r\n        /**\r\n         * The name of an event\r\n         *\r\n         * @property name\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.name = '';\r\n\r\n        /**\r\n         * Functions that will be called when this event is triggered\r\n         *\r\n         * @property observers\r\n         * @type {*[]}\r\n         * @default []\r\n         */\r\n        this.observers = [];\r\n\r\n        this.init(name);\r\n    }\r\n\r\n    /**\r\n     * @for EventModel\r\n     * @method init\r\n     * @param  name {string}\r\n     */\r\n    init(name) {\r\n        this.name = name;\r\n    }\r\n\r\n    /**\r\n     * @for EventModel\r\n     * @method destroy\r\n     */\r\n    destroy() {\r\n        this.name = '';\r\n        this.observers = [];\r\n    }\r\n\r\n    /**\r\n     * add a callback(s) that fires when an event is triggered\r\n     *\r\n     * @for EventModel\r\n     * @method addObserver\r\n     * @param observer\r\n     */\r\n    addObserver(observer) {\r\n        if (this.hasObserver(observer)) {\r\n            return;\r\n        }\r\n\r\n        this.observers.push(observer);\r\n    }\r\n\r\n    /**\r\n     * remove an observer from the observers list\r\n     *\r\n     * @for EventModel\r\n     * @method removeObserver\r\n     * @param  observer\r\n     */\r\n    removeObserver(observer) {\r\n        if (!this.hasObserver(observer)) {\r\n            return;\r\n        }\r\n\r\n        const index = this.observers.indexOf(observer);\r\n        this.observers.splice(index, 1);\r\n    }\r\n\r\n    /**\r\n     * Determine if a passed observer exists within the current observer list\r\n     *\r\n     * @for EventModel\r\n     * @method hasObserver\r\n     * @param observer {function}\r\n     * @return {boolean}\r\n     */\r\n    hasObserver(observer) {\r\n        return this.observers.indexOf(observer) !== INVALID_INDEX;\r\n    }\r\n}\r\n","import { mod } from './core';\r\nimport { radiansToDegrees, degreesToRadians } from '../utilities/unitConverters';\r\n\r\n/**\r\n * 2x Pi\r\n *\r\n * @function tau\r\n * @return {number}\r\n */\r\nexport const tau = () => {\r\n    return Math.PI * 2;\r\n};\r\n\r\n/**\r\n * Returns the angle difference between two headings\r\n *\r\n * @function angle_offset\r\n * @param {number} a     heading, in radians\r\n * @param {number} b     heading, in radians\r\n * @return {number}\r\n */\r\nexport const angle_offset = (a, b) => {\r\n    a = radiansToDegrees(a);\r\n    b = radiansToDegrees(b);\r\n    let invert = false;\r\n\r\n    if (b > a) {\r\n        invert = true;\r\n        const temp = a;\r\n\r\n        a = b;\r\n        b = temp;\r\n    }\r\n\r\n    let offset = mod(a - b, 360);\r\n    if (offset > 180) {\r\n        offset -= 360;\r\n    }\r\n\r\n    if (invert) {\r\n        offset *= -1;\r\n    }\r\n\r\n    offset = degreesToRadians(offset);\r\n\r\n    return offset;\r\n};\r\n\r\n/**\r\n * normalize angles to within 0° - 360°\r\n * @param  {number} degrees an angle\r\n * @return {number}         an angle within [0,360]\r\n */\r\nexport const degrees_normalize = (degrees) => {\r\n    if (degrees >= 0) {\r\n        return degrees % 360;\r\n    }\r\n\r\n    return 360 + (degrees % 360);\r\n};\r\n\r\n/**\r\n * normalize angles to within 0 - 2π\r\n * @param  {number} radians an angle\r\n * @return {number}         an angle within [0,2π]\r\n */\r\nexport const radians_normalize = (radians) => {\r\n    if (radians >= 0) {\r\n        return radians % tau();\r\n    }\r\n\r\n    return tau() + (radians % tau());\r\n};\r\n\r\n/**\r\n * Calculate the distance between two lat/long coordinates in km\r\n *\r\n * This is a javascript implementation of the Haversine Formula\r\n *\r\n * for more information on the math see:\r\n * - http://www.movable-type.co.uk/scripts/latlong.html\r\n * - http://stackoverflow.com/questions/27928/calculate-distance-between-two-latitude-longitude-points-haversine-formula\r\n *\r\n * @function distanceToPoint\r\n * @param startLatitude {number}\r\n * @param startLongitude {number}\r\n * @param endLatitude {number}\r\n * @param endLongitude {number}\r\n * return {number}\r\n */\r\nexport const distanceToPoint = (startLatitude, startLongitude, endLatitude, endLongitude) => {\r\n    // TODO: add to global constants\r\n    const EARTH_RADIUS_KM = 6371;\r\n    const startLatitudeRadians = degreesToRadians(startLatitude);\r\n    const endLatitudeRadians = degreesToRadians(endLatitude);\r\n    const distanceLatitude = degreesToRadians(startLatitude - endLatitude);\r\n    const distanceLongitude = degreesToRadians(startLongitude - endLongitude);\r\n\r\n    // the square of half the chord length between points\r\n    const a = Math.pow(Math.sin(distanceLatitude / 2), 2) +\r\n        (Math.cos(startLatitudeRadians) * Math.cos(endLatitudeRadians) * Math.pow(Math.sin(distanceLongitude / 2), 2));\r\n\r\n\r\n    const angularDistanceInRadians = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n\r\n    return angularDistanceInRadians * EARTH_RADIUS_KM;\r\n};\r\n\r\n// /**\r\n//  *\r\n//  * @function distEuclid\r\n//  * @param\r\n//  * @param\r\n//  * @return\r\n//  */\r\n// export const distEuclid = (lat1, lon1, lat2, lon2) => {\r\n//     // TODO: add to global constants\r\n//     const EARTH_RADIUS_KM = 6371;\r\n//     const lat1 = degreesToRadians(lat1);\r\n//     const lat2 = degreesToRadians(lat2);\r\n//     const dlat = degreesToRadians(lat2 - lat1);\r\n//     const dlon = degreesToRadians(lon2 - lon1);\r\n//\r\n//     const a = Math.sin(dlat / 2) * Math.sin(dlat / 2) + Math.cos(lat1) * Math.cos(lat2) * Math.sin(dlon / 2) * Math.sin(dlon / 2);\r\n//     const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n//     const d = EARTH_RADIUS_KM * c;\r\n//\r\n//     return d; // distance, in kilometers\r\n// };\r\n","import _isNumber from 'lodash/isNumber';\r\nimport _random from 'lodash/random';\r\nimport { leftPad } from '../utilities/generalUtilities';\r\n\r\n/**\r\n * @function round\r\n * @return {number}\r\n */\r\nexport function round(n, factor = 1) {\r\n    return Math.round(n / factor) * factor;\r\n}\r\n\r\n/**\r\n * @function abs\r\n * @return {number}\r\n */\r\nexport function abs(n) {\r\n    return Math.abs(n);\r\n}\r\n\r\n/**\r\n * @function avg\r\n * @param n {Number[]}\r\n * @return {number}\r\n */\r\nexport function avg(n) {\r\n    return n.reduce((a, b) => a + b) / n.length;\r\n}\r\n\r\n/**\r\n * @function sin\r\n * @return {number}\r\n */\r\nexport function sin(a) {\r\n    return Math.sin(a);\r\n}\r\n\r\n/**\r\n * @function cos\r\n * @return {number}\r\n */\r\nexport function cos(a) {\r\n    return Math.cos(a);\r\n}\r\n\r\n/**\r\n * @function tan\r\n * @return {number}\r\n */\r\nexport function tan(a) {\r\n    return Math.tan(a);\r\n}\r\n\r\n// TODO: rename to floor,\r\n/**\r\n * @function fl\r\n * @return {number}\r\n */\r\nexport function fl(n, number = 1) {\r\n    return Math.floor(n / number) * number;\r\n}\r\n\r\n// TODO: rename to randomInteger\r\n/**\r\n * @function randint\r\n * @return {number}\r\n */\r\nexport function randint(low, high) {\r\n    return Math.floor(Math.random() * (high - low + 1)) + low;\r\n}\r\n\r\n// TODO: rename to pluralize\r\n/**\r\n * @function s\r\n * @return {number}\r\n */\r\nexport function s(i) {\r\n    return (i === 1) ? '' : 's';\r\n}\r\n\r\n/**\r\n * Checks whether or not a given value is between (inclusive) two given values\r\n *\r\n * Note: The more efficient order is to pass (value, minimum, maximum), but if the\r\n * relative values are not known, the function will still conduct the comparison\r\n * correctly.\r\n *\r\n * @function isWithin\r\n * @param value {number}    the value in question\r\n * @param limit1 {number}   constraining value (inclusive)\r\n * @param limit2 {number}   constraining value (inclusive)\r\n * @return {boolean}\r\n */\r\nexport function isWithin(value, limit1, limit2) {\r\n    if (limit1 > limit2) {\r\n        const oldLimit1 = limit1;\r\n        limit1 = limit2;\r\n        limit2 = oldLimit1;\r\n    }\r\n\r\n    return limit1 <= value && value <= limit2;\r\n}\r\n\r\n/**\r\n * Test if a value is within EPSILON of an expected value\r\n *\r\n * this is necessary because of approximation due to the floating point arithmetics (i think)\r\n * For example: Math.cos(Math.PI/2) returns 6.123233995736766e-17 instead of 0\r\n * In this case iswithinEpsilon(Math.cos(Math.PI/2), 0) would return true\r\n *\r\n * @param {number}   value            the value we want to test\r\n * @param {number}   expectedValue    the value we want to test against\r\n * @return boolean  true if the value is within EPSILON of the expected value, false otherwise\r\n */\r\nexport function isWithinEpsilon(value, expectedValue) {\r\n    const lowerBound = expectedValue - Number.EPSILON;\r\n    const upperBound = expectedValue + Number.EPSILON;\r\n\r\n    return isWithin(value, lowerBound, upperBound);\r\n}\r\n\r\n// TODO: add a divisor paramater that defaults to `2`\r\n/**\r\n * Given a number, find the middle value.\r\n *\r\n * @method calculateMiddle\r\n * @param  {number} value\r\n * @return {number}\r\n */\r\nexport function calculateMiddle(value = 0) {\r\n    if (!_isNumber(value)) {\r\n        throw new TypeError(`Invalid parameter, expected a number but found ${typeof value}`);\r\n    }\r\n\r\n    return round(value / 2);\r\n}\r\n\r\n/**\r\n *\r\n * @function mod\r\n * @param firstValue {number}\r\n * @param secondValue {number}\r\n * @return {number}\r\n */\r\nexport function mod(firstValue, secondValue) {\r\n    return ((firstValue % secondValue) + secondValue) % secondValue;\r\n}\r\n\r\n// TODO: Reorder as (valueToClamp, min, max) to maintain uniformity with the lodash equivalent\r\n/**\r\n * Clamp a value to be within a certain range\r\n * Note: For the opposite, see `spread()`\r\n *\r\n * @function clamp\r\n * @param min {number}\r\n * @param valueToClamp {number}\r\n * @param max {number} (optional)\r\n * @return {number}\r\n */\r\nexport function clamp(min, valueToClamp, max = Infinity) {\r\n    let temp;\r\n\r\n    if (!_isNumber(valueToClamp)) {\r\n        throw new TypeError('Invalid parameter. Expected `valueToClamp` to be a number');\r\n    }\r\n\r\n    if (max === Infinity) {\r\n        if (min > valueToClamp) {\r\n            return min;\r\n        }\r\n\r\n        return valueToClamp;\r\n    }\r\n\r\n    if (min > max) {\r\n        temp = max;\r\n        max = min;\r\n        min = temp;\r\n    }\r\n\r\n    if (min > valueToClamp) {\r\n        return min;\r\n    }\r\n\r\n    if (max < valueToClamp) {\r\n        return max;\r\n    }\r\n\r\n    return valueToClamp;\r\n}\r\n\r\n/**\r\n * Spread a value to be OUTSIDE OF a certain range\r\n * Note: For the opposite, see `clamp()`\r\n *\r\n * @function spread\r\n * @param value {number} the value in question\r\n * @param lowerLimit {number} the minimum value that is considered unacceptable\r\n * @param upperLimit {number} the maximum value that is considered unacceptable\r\n * @return {number}\r\n */\r\nexport function spread(value, lowerLimit, upperLimit) {\r\n    const averageOfLimits = (lowerLimit + upperLimit) / 2;\r\n\r\n    if (value <= lowerLimit || value >= upperLimit) {\r\n        return value;\r\n    }\r\n\r\n    if (value < averageOfLimits) {\r\n        return lowerLimit;\r\n    }\r\n\r\n    return upperLimit;\r\n}\r\n\r\n/**\r\n * Takes a value's position relative to a given range, and extrapolates to another range.\r\n *\r\n * Note: Return will be outside range2 if target_val is outside range1.\r\n *       If you wish to clamp it within range2, use extrapolate_range_clamp.\r\n *\r\n * @function extrapolate_range\r\n * @param  {number} range1_min minimum value of range 1\r\n * @param  {number} target_val target value within range 1\r\n * @param  {number} range1_max maximum value of range 1\r\n * @param  {number} range2_min minimum value of range 2\r\n * @param  {number} range2_max maximum value of range 2\r\n * @return {number}            target value wihtin range 2\r\n */\r\nfunction extrapolate_range(range1_min, target_val, range1_max, range2_min, range2_max) {\r\n    return range2_min + (range2_max - range2_min) * (target_val - range1_min) / (range1_max - range1_min);\r\n}\r\n\r\n/**\r\n * Take a value's location relative to a given range then extrapolate to (and clamp within) another range.\r\n *\r\n * Note: Return will be clamped within range2, even if target_val is outside range1.\r\n *       If you wish to allow extrapolation beyond the bounds of range2, us extrapolate_range.\r\n *\r\n * @function extrapolate_range_clamp\r\n * @param  {number} range1Min       minimum value of range1\r\n * @param  {number} targetValue     target value relative to range1\r\n * @param  {number} range1Max       maximum value of range1\r\n * @param  {number} range2Min       minimum value of range2\r\n * @param  {number} range2Max       maximum value of range2\r\n * @return {number}                 target value within range2\r\n */\r\nexport function extrapolate_range_clamp(range1Min, targetValue, range1Max, range2Min, range2Max) {\r\n    const extrapolationResult = extrapolate_range(range1Min, targetValue, range1Max, range2Min, range2Max);\r\n\r\n    return clamp(extrapolationResult, range2Min, range2Max);\r\n}\r\n\r\n/**\r\n * Generate a random number with each digit between 0-7\r\n *\r\n * @function generateRandomOctalWithLength\r\n * @return {string}                         number with digits between 0-7\r\n */\r\nexport function generateRandomOctalWithLength(length = 1) {\r\n    const value = [];\r\n\r\n    for (let i = 0; i < length; i++) {\r\n        const randomOctal = _random(0, 7);\r\n\r\n        value.push(randomOctal);\r\n    }\r\n\r\n    return leftPad(value.join(''), length);\r\n}\r\n","/**\r\n * Calculate distance in a 2d plane between two points\r\n *\r\n * @function distance2d\r\n * @param a {array}\r\n * @param b {array}\r\n * return {number}\r\n */\r\nexport const distance2d = (a, b) => {\r\n    const x = a[0] - b[0];\r\n    const y = a[1] - b[1];\r\n\r\n    return Math.sqrt((x * x) + (y * y));\r\n};\r\n","import {\r\n    abs,\r\n    sin,\r\n    cos\r\n} from './core';\r\nimport {\r\n    tau,\r\n    angle_offset\r\n} from './circle';\r\nimport {\r\n    vradial,\r\n    vsub,\r\n    vlen\r\n} from './vector';\r\nimport {\r\n    degreesToRadians,\r\n    radiansToDegrees\r\n} from '../utilities/unitConverters';\r\nimport { PERFORMANCE } from '../constants/aircraftConstants';\r\n\r\n/**\r\n * Calculate the radius of turn of the aircraft, given its groundspeed\r\n *\r\n * Reference:\r\n * http://www.flightlearnings.com/2009/08/26/radius-of-turn/\r\n * https://en.wikipedia.org/wiki/Banked_turn#Banked_turn_in_aeronautics\r\n *\r\n * Possible conversion factor constants:\r\n *    - 68416 (yields nautical miles)\r\n *    - 11.26 (yields feet)\r\n *\r\n * @function calcTurnRadiusByBankAngle\r\n * @param speed {number} aircraft groundspeed, in knots\r\n * @param bankAngle {number} bank angle to use, in radians\r\n * @return {number} radius of turn, in nautical miles\r\n */\r\nexport function calcTurnRadiusByBankAngle(speed, bankAngle) {\r\n    const conversionFactor = 68416; // yields radius in nautical miles\r\n\r\n    return (speed * speed) / (conversionFactor * Math.tan(bankAngle));\r\n}\r\n\r\n\r\n/**\r\n * Calculate the radius of turn of the aircraft, given its groundspeed and\r\n * its turn rate\r\n *\r\n * R = speedInKnots / (turnRateInDegreePerSecond * 20 * PI)\r\n *\r\n * https://en.wikipedia.org/wiki/Standard_rate_turn#Formulae\r\n *\r\n * @function calcTurnRadiusByTurnRate\r\n * @param speed {number} aircraft groundspeed, in knots\r\n * @param turnRate {number} in radians per second\r\n * @return {number} radius of turn, in nautical miles\r\n */\r\nexport function calcTurnRadiusByTurnRate(speed, turnRate) {\r\n    return speed / (turnRate * 180 * 20);\r\n}\r\n\r\n/**\r\n * The turn initiation distance is the distance that is necessary to complete\r\n * a turn before reaching of a fly-by turn.\r\n *\r\n * @function calcTurnInitiationDistanceNm\r\n * @param speed {number}        current speed of the aircraft in knots\r\n * @param turnRate {number}     turn rate of the aircraft in radian per second\r\n * @param courseChange {number} angular difference, in radians\r\n * @return {number}\r\n */\r\nexport function calcTurnInitiationDistanceNm(speed, turnRate, courseChange) {\r\n    const turnRadiusNm = calcTurnRadiusByTurnRate(speed, turnRate);\r\n\r\n    return turnRadiusNm * Math.tan(courseChange * 0.5);\r\n}\r\n\r\n/**\r\n * Returns the bearing from `startPosition` to `endPosition`\r\n * @function bearingToPoint\r\n * @param startPosition {array}     positional array, start point\r\n * @param endPosition {array}       positional array, end point\r\n * @return {number}\r\n */\r\nexport function bearingToPoint(startPosition, endPosition) {\r\n    return vradial(vsub(endPosition, startPosition));\r\n}\r\n\r\n// TODO: this may be better suited to live in an Aircraft model somewhere.\r\n// TODO: This is goofy like this. Should be changed to accept (PositionModel, PositionModel, heading)\r\n/**\r\n * Returns an offset array showing how far [fwd/bwd, left/right] 'aircraft' is of 'target'\r\n *\r\n * @param aircraft {AircraftModel}      the aircraft in question\r\n * @param target {array}                        positional array of the targeted position [x,y]\r\n * @param headingThruTarget {number} (optional) The heading the aircraft should\r\n *                                              be established on when passing the target.\r\n *                                              Default value is the aircraft's heading.\r\n * @returns {array}                             [0] is the lateral offset, in km\r\n *                                              [1] is the longitudinal offset, in km\r\n *                                              [2] is the hypotenuse (straight-line distance), in km\r\n */\r\nexport function getOffset(aircraft, target, headingThruTarget = null) {\r\n    if (!headingThruTarget) {\r\n        headingThruTarget = aircraft.heading;\r\n    }\r\n\r\n    const offset = [0, 0, 0];\r\n    const vector = vsub(target, aircraft.relativePosition); // vector from aircraft pointing to target\r\n    const bearingToTarget = vradial(vector);\r\n\r\n    offset[2] = vlen(vector);\r\n    offset[0] = offset[2] * sin(headingThruTarget - bearingToTarget);\r\n    offset[1] = offset[2] * cos(headingThruTarget - bearingToTarget);\r\n\r\n    return offset;\r\n}\r\n\r\n/**\r\n * @function _calculateNominalNewCourse\r\n * @param nextWaypointRelativePosition {array}\r\n * @param currentWaypointRelativePosition {array}\r\n * @return nominalNewCourse {number}\r\n * */\r\nfunction _calculateNominalNewCourse(nextWaypointRelativePosition, currentWaypointRelativePosition) {\r\n    let nominalNewCourse = vradial(vsub(nextWaypointRelativePosition, currentWaypointRelativePosition));\r\n\r\n    // normalize angle within 0 to 2pi\r\n    if (nominalNewCourse < 0) {\r\n        nominalNewCourse += tau();\r\n    }\r\n\r\n    return nominalNewCourse;\r\n}\r\n\r\n/**\r\n * @function _calculateCourseChangeInRadians\r\n * @param currentHeading {number}\r\n * @param nominalNewCourse {number}\r\n * @return {number}\r\n */\r\nfunction _calculateCourseChangeInRadians(currentHeading, nominalNewCourse) {\r\n    let courseChange = abs(radiansToDegrees(currentHeading) - radiansToDegrees(nominalNewCourse));\r\n\r\n    if (courseChange > 180) {\r\n        courseChange = 360 - courseChange;\r\n    }\r\n\r\n    return degreesToRadians(courseChange);\r\n}\r\n\r\n/**\r\n * Calculate the turn initiation distance for an aircraft to navigate between two fixes.\r\n *\r\n * References:\r\n * - http://www.ohio.edu/people/uijtdeha/ee6900_fms_00_overview.pdf, Fly-by waypoint\r\n * - The Avionics Handbook, ch 15\r\n *\r\n * @function calculateTurnInitiationDistance\r\n * @param aircraft {AircraftModel}\r\n * @param currentWaypointPosition {StaticPositionModel}\r\n * @return {number} distance before fix to initiate turn to level out on route, in nautical miles\r\n */\r\nexport function calculateTurnInitiationDistance(aircraft, currentWaypointPosition) {\r\n    const nextWaypointModel = aircraft.fms.nextWaypoint;\r\n\r\n    if (!aircraft.fms.hasNextWaypoint() || nextWaypointModel.isVectorWaypoint) {\r\n        return 0;\r\n    }\r\n\r\n    // use the target heading instead of the actual heading to take into account\r\n    // that we might be already turning and there might be no need to initiate\r\n    // a turn at the moment. see #935\r\n    let { targetHeading } = aircraft;\r\n\r\n    if (targetHeading < 0) {\r\n        targetHeading += tau();\r\n    }\r\n\r\n    const turnRate = PERFORMANCE.TURN_RATE;\r\n    const nominalNewCourse = _calculateNominalNewCourse(\r\n        nextWaypointModel.relativePosition,\r\n        currentWaypointPosition.relativePosition\r\n    );\r\n    const courseChange = _calculateCourseChangeInRadians(targetHeading, nominalNewCourse);\r\n    const turnInitiationDistanceNm = calcTurnInitiationDistanceNm(aircraft.groundSpeed, turnRate, courseChange);\r\n\r\n    return turnInitiationDistanceNm;\r\n}\r\n\r\n/**\r\n * @function calculateCrosswindAngle\r\n * @param runwayAngle {number}\r\n * @param windAngle {number}\r\n * @return {number}\r\n */\r\nexport function calculateCrosswindAngle(runwayAngle, windAngle) {\r\n    return abs(angle_offset(runwayAngle, windAngle));\r\n}\r\n","import _forEach from 'lodash/forEach';\r\nimport _map from 'lodash/map';\r\nimport {\r\n    sin,\r\n    cos,\r\n    abs,\r\n    clamp\r\n} from './core';\r\nimport { radians_normalize } from './circle';\r\nimport { degreesToRadians } from '../utilities/unitConverters';\r\n\r\n/**\r\n * Computes length of 2D vector\r\n *\r\n * @function vlen\r\n */\r\nexport const vlen = (v) => {\r\n    try {\r\n        return Math.sqrt((v[0] * v[0]) + (v[1] * v[1]));\r\n    } catch (err) {\r\n        console.error(`call to vlen() failed. v:${v} | Err:${err}`);\r\n    }\r\n};\r\n\r\n/**\r\n * Compute angle of 2D vector, in radians\r\n *\r\n * @function vradial\r\n * @param v {}\r\n * @return {number}\r\n */\r\nexport const vradial = (v) => {\r\n    return Math.atan2(v[0], v[1]);\r\n};\r\n\r\n/**\r\n * Subtracts Vectors (all dimensions)\r\n *\r\n * @fuction vsub\r\n * @param v1 {number}\r\n * @param v2 {number}\r\n * @return {number}\r\n */\r\nexport const vsub = (v1, v2) => {\r\n    try {\r\n        const v = [];\r\n        const limit = Math.min(v1.length, v2.length);\r\n\r\n        // TODO: this is easie rwith _map()\r\n        for (let i = 0; i < limit; i++) {\r\n            v.push(v1[i] - v2[i]);\r\n        }\r\n\r\n        return v;\r\n    } catch (err) {\r\n        console.error(`call to vsub() failed. v1: ${v1} | v2:${v2} | Err: ${err}`);\r\n    }\r\n};\r\n\r\n// ************************ VECTOR FUNCTIONS ************************\r\n// For more info, see http://threejs.org/docs/#Reference/Math/Vector3\r\n// Remember: [x,y] convention is used, and doesn't match [lat,lon]\r\n\r\n/**\r\n * Normalize a 2D vector\r\n * eg scaling elements such that net length is 1\r\n * Turns vector 'v' into a 'unit vector'\r\n */\r\nexport const vnorm = (v, length) => {\r\n    const x = v[0];\r\n    const y = v[1];\r\n    const angle = Math.atan2(x, y);\r\n\r\n    if (!length) {\r\n        length = 1;\r\n    }\r\n\r\n    return [\r\n        sin(angle) * length,\r\n        cos(angle) * length\r\n    ];\r\n};\r\n\r\n/**\r\n * Get a 2D unit vector corresponding to a heading in radians\r\n *\r\n * @param  heading_angle    float    the heading angle, in radians\r\n * @return array    an array of the x and y components of the vector\r\n */\r\nexport const vectorize2dFromRadians = (heading_angle) => {\r\n    // normalize the angle beetween 0 and 2*PI\r\n    heading_angle = radians_normalize(heading_angle);\r\n\r\n    return [\r\n        sin(heading_angle),\r\n        cos(heading_angle)\r\n    ];\r\n};\r\n\r\n/**\r\n * Get a 2D unit vector corresponding to a heading in degrees\r\n *\r\n * @param  heading_angle    float    the heading angle, in degrees\r\n * @return array    an array of the x and y components of the vector\r\n */\r\nexport const vectorize2dFromDegrees = (heading_angle) => {\r\n    return vectorize2dFromRadians(degreesToRadians(heading_angle));\r\n};\r\n\r\n/**\r\n * Adds Vectors (all dimensions)\r\n */\r\nexport const vadd = (v1, v2) => {\r\n    // TODO: why try/catch?\r\n    try {\r\n        const v = [];\r\n        const limit = Math.min(v1.length, v2.length);\r\n\r\n        // TODO: this can be done with a _map()\r\n        for (let i = 0; i < limit; i++) {\r\n            v.push(v1[i] + v2[i]);\r\n        }\r\n\r\n        return v;\r\n    } catch (err) {\r\n        console.error(`call to vadd() failed. v1:${v1} | v2:${v2} | Err:${err}`);\r\n    }\r\n};\r\n\r\n/**\r\n * Multiplies Vectors (all dimensions)\r\n */\r\n// const vmul = (v1, v2) => {\r\n//     // TODO: why try/catch?\r\n//     try {\r\n//         const v = [];\r\n//         const limit = Math.min(v1.length, v2.length);\r\n//\r\n//         // TODO: this can be done with a _map()\r\n//         for (let i = 0; i < limit; i++) {\r\n//             v.push(v1[i] * v2[i]);\r\n//         }\r\n//\r\n//         return v;\r\n//     } catch (err) {\r\n//         console.error(`call to vmul() failed. v1:${v1} | v2:${v2} | Err:${err}`);\r\n//     }\r\n// };\r\n\r\n/**\r\n * Divides Vectors (all dimensions)\r\n */\r\n// const vdiv = (v1, v2) => {\r\n//     // TODO: why try/catch?\r\n//     try {\r\n//         const v = [];\r\n//         const lim = Math.min(v1.length, v2.length);\r\n//\r\n//         // TODO: this can be done with a _map()\r\n//         for (let i = 0; i < lim; i++) {\r\n//             v.push(v1[i] / v2[i]);\r\n//         }\r\n//\r\n//         return v;\r\n//     } catch (err) {\r\n//         console.error(`call to vdiv() failed. v1:${v1} | v2:${v2} | Err:${err}`);\r\n//     }\r\n// };\r\n\r\n/**\r\n * Scales vectors in magnitude (all dimensions)\r\n */\r\nexport const vscale = (vectors, factor) => {\r\n    return _map(vectors, (v) => v * factor);\r\n};\r\n\r\n/**\r\n * Vector dot product (all dimensions)\r\n */\r\n// const vdp = (v1, v2) => {\r\n//     let n = 0;\r\n//     const lim = Math.min(v1.length, v2.length);\r\n//\r\n//     // TODO: mabye use _map() here?\r\n//     for (let i = 0; i < lim; i++) {\r\n//         n += v1[i] * v2[i];\r\n//     }\r\n//\r\n//     return n;\r\n// };\r\n\r\n/**\r\n * Compute determinant of 2D/3D vectors\r\n * Remember: May return negative values (undesirable in some situations)\r\n */\r\nconst vdet = (v1, v2, /* optional */ v3) => {\r\n    if (Math.min(v1.length, v2.length) === 2) {\r\n        // 2x2 determinant\r\n        return (v1[0] * v2[1]) - (v1[1] * v2[0]);\r\n    } else if (Math.min(v1.length, v2.length, v3.length) === 3 && v3) {\r\n        // 3x3 determinant\r\n        return (\r\n            v1[0] *\r\n            vdet([v2[1], v2[2]], [v3[1], v3[2]]) - v1[1] *\r\n            vdet([v2[0], v2[2]], [v3[0], v3[2]]) + v1[2] *\r\n            vdet([v2[0], v2[1]], [v3[0], v3[1]])\r\n        );\r\n    }\r\n};\r\n\r\n/**\r\n * Vector cross product (3D/2D*)\r\n * Passing 3D vector returns 3D vector\r\n * Passing 2D vector (classically improper) returns z-axis SCALAR\r\n * *Note on 2D implementation: http://stackoverflow.com/a/243984/5774767\r\n */\r\nconst vcp = (v1, v2) => {\r\n    if (Math.min(v1.length, v2.length) === 2) {\r\n        // for 2D vector (returns z-axis scalar)\r\n        return vcp([v1[0], v1[1], 0], [v2[0], v2[1], 0])[2];\r\n    }\r\n\r\n    if (Math.min(v1.length, v2.length) === 3) {\r\n        // for 3D vector (returns 3D vector)\r\n        return [\r\n            vdet([v1[1], v1[2]], [v2[1], v2[2]]),\r\n            -vdet([v1[0], v1[2]], [v2[0], v2[2]]),\r\n            vdet([v1[0], v1[1]], [v2[0], v2[1]])\r\n        ];\r\n    }\r\n};\r\n\r\n/**\r\n * Returns vector rotated by \"radians\" radians\r\n */\r\nexport const vturn = (radians, v) => {\r\n    if (!v) {\r\n        v = [0, 1];\r\n    }\r\n\r\n    const x = v[0];\r\n    const y = v[1];\r\n    const cs = cos(-radians);\r\n    const sn = sin(-radians);\r\n\r\n    return [\r\n        x * cs - y * sn,\r\n        x * sn + y * cs\r\n    ];\r\n};\r\n\r\n/**\r\n * Determines if and where two rays will intersect. All angles in radians.\r\n * Variation based on http://stackoverflow.com/a/565282/5774767\r\n */\r\nexport const raysIntersect = (pos1, dir1, pos2, dir2, deg_allowance) => {\r\n    if (!deg_allowance) {\r\n        // degrees divergence still considered 'parallel'\r\n        deg_allowance = 0;\r\n    }\r\n\r\n    const p = pos1;\r\n    const q = pos2;\r\n    const r = vectorize2dFromRadians(dir1);\r\n    const s = vectorize2dFromRadians(dir2);\r\n    const t = abs(vcp(vsub(q, p), s) / vcp(r, s));\r\n    const t_norm = abs(vcp(vsub(vnorm(q), vnorm(p)), s) / vcp(r, s));\r\n    const u_norm = abs(vcp(vsub(vnorm(q), vnorm(p)), r) / vcp(r, s));\r\n\r\n    if (abs(vcp(r, s)) < abs(vcp([0, 1], vectorize2dFromRadians(degreesToRadians(deg_allowance))))) {\r\n        // parallel (within allowance)\r\n        const crossProduct = vcp(\r\n            vsub(vnorm(q), vnorm(p)),\r\n            r\r\n        );\r\n\r\n        if (crossProduct === 0) {\r\n            // collinear\r\n            return true;\r\n        }\r\n\r\n        // parallel, non-intersecting\r\n        return false;\r\n    } else if ((t_norm >= 0 && t_norm <= 1) && (u_norm >= 0 && u_norm <= 1)) {\r\n        // rays intersect here\r\n        return vadd(p, vscale(r, t));\r\n    }\r\n\r\n    // diverging, non-intersecting\r\n    return false;\r\n};\r\n\r\n/**\r\n * 'Flips' vector's Y component in direction\r\n * Helper function for culebron's poly edge vector functions\r\n */\r\nconst vflipY = (v) => {\r\n    return [-v[1], v[0]];\r\n};\r\n\r\n/**\r\n *\r\n *\r\n * solution by @culebron\r\n * turn poly edge into a vector.\r\n * the edge vector scaled by j and its normal vector scaled by i meet\r\n * if the edge vector points between the vertices,\r\n * then normal is the shortest distance.\r\n * --------\r\n * x1 + x2 * i == x3 + x4 * j\r\n * y1 + y2 * i == y3 + y4 * j\r\n * 0 < j < 1\r\n * --------\r\n *\r\n * i == (y3 + j y4 - y1) / y2\r\n * x1 + x2 y3 / y2 + j x2 y4 / y2 - x2 y1 / y2 == x3 + j x4\r\n * j x2 y4 / y2 - j x4 == x3 - x1 - x2 y3 / y2 + x2 y1 / y2\r\n * j = (x3 - x1 - x2 y3 / y2 + x2 y1 / y2) / (x2 y4 / y2 - x4)\r\n * i = (y3 + j y4 - y1) / y2\r\n *\r\n * i == (x3 + j x4 - x1) / x2\r\n * y1 + y2 x3 / x2 + j y2 x4 / x2 - y2 x1 / x2 == y3 + j y4\r\n * j y2 x4 / x2 - j y4 == y3 - y1 - y2 x3 / x2 + y2 x1 / x2\r\n * j = (y3 - y1 - y2 x3 / x2 + y2 x1 / x2) / (y2 x4 / x2 - y4)\r\n * i = (x3 + j x4 - x1) / x2\r\n *\r\n * @fnuction distance_to_poly\r\n * @param point {array}\r\n * @param poly {array}\r\n * @return number\r\n */\r\nexport const distance_to_poly = (point, poly) => {\r\n    const dists = _map(poly, (vertex1, i) => {\r\n        const prev = (i === 0 ? poly.length : i) - 1;\r\n        const vertex2 = poly[prev];\r\n        const edge = vsub(vertex2, vertex1);\r\n\r\n        if (vlen(edge) === 0) {\r\n            return vlen(vsub(point, vertex1));\r\n        }\r\n\r\n        // point + normal * i == vertex1 + edge * j\r\n        const norm = vflipY(edge);\r\n        const x1 = point[0];\r\n        const x2 = norm[0];\r\n        const x3 = vertex1[0];\r\n        const x4 = edge[0];\r\n        const y1 = point[1];\r\n        const y2 = norm[1];\r\n        const y3 = vertex1[1];\r\n        const y4 = edge[1];\r\n        let k;\r\n        let j;\r\n\r\n        if (y2 !== 0) {\r\n            j = (x3 - x1 - x2 * y3 / y2 + x2 * y1 / y2) / (x2 * y4 / y2 - x4);\r\n            k = (y3 + j * y4 - y1) / y2;\r\n        } else if (x2 !== 0) { // normal can't be zero unless the edge has 0 length\r\n            j = (y3 - y1 - y2 * x3 / x2 + y2 * x1 / x2) / (y2 * x4 / x2 - y4);\r\n            k = (x3 + j * x4 - x1) / x2;\r\n        }\r\n\r\n        if (j < 0 || j > 1 || !j) {\r\n            return Math.min(\r\n                vlen(vsub(point, vertex1)),\r\n                vlen(vsub(point, vertex2))\r\n            );\r\n        }\r\n\r\n        return vlen(vscale(norm, k));\r\n    });\r\n\r\n    return Math.min(...dists);\r\n};\r\n\r\n// source: https://github.com/substack/point-in-polygon/\r\nexport const point_in_poly = (point, vs) => {\r\n    // ray-casting algorithm based on\r\n    // http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\r\n    const x = point[0];\r\n    const y = point[1];\r\n    let j = vs.length - 1;\r\n    let inside = false;\r\n\r\n    // poly might not be the correct term here\r\n    _forEach(vs, (poly, i) => {\r\n        const xi = poly[0];\r\n        const yi = poly[1];\r\n        const xj = vs[j][0];\r\n        const yj = vs[j][1];\r\n        const intersect = ((yi > y) !== (yj > y)) && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\r\n\r\n        if (intersect) {\r\n            inside = !inside;\r\n        }\r\n\r\n        j = i;\r\n    });\r\n\r\n    return inside;\r\n};\r\n\r\n/**\r\n *\r\n * @function point_to_mpoly\r\n * @param point {array}\r\n * @param mpoly {array}\r\n * @return {object}\r\n */\r\nexport const point_to_mpoly = (point, mpoly) => {\r\n    // returns: boolean inside/outside & distance to the polygon\r\n    let inside = false;\r\n\r\n    _forEach(mpoly, (ring, k) => {\r\n        // ring = mpoly[k];\r\n\r\n        if (point_in_poly(point, ring)) {\r\n            if (k === 0) {\r\n                // if inside outer ring, remember that and wait till the end\r\n                inside = true;\r\n            }\r\n\r\n            // if by change in one of inner rings, it's out of poly, return distance to the inner ring\r\n            return {\r\n                inside: false,\r\n                distance: distance_to_poly(point, ring)\r\n            };\r\n        }\r\n    });\r\n\r\n    // if not matched to inner circles, return the match to outer and distance to it\r\n    return {\r\n        inside: inside,\r\n        distance: distance_to_poly(point, mpoly[0])\r\n    };\r\n};\r\n\r\n/**\r\n * Converts an 'area' to a 'poly'\r\n *\r\n * @param area {array<array>}  The #perimeter property of an `AirspaceModel`\r\n */\r\nexport const area_to_poly = (area) => {\r\n    return _map(area.poly, (v) => v.relativePosition);\r\n};\r\n\r\n/**\r\n * Checks to see if a point is in an area\r\n */\r\nexport const point_in_area = (point, area) => {\r\n    return point_in_poly(point, area_to_poly(area));\r\n};\r\n\r\n\r\n// TODO: this might be best accomplished with a Rectangle class, with this function working as the middleman\r\n// creating the class and asking if there is an intersection.\r\n/**\r\n * Compute a point of intersection of a ray with a rectangle.\r\n *\r\n * Args:\r\n *   pos: array of 2 numbers, representing ray source.\r\n *   dir: array of 2 numbers, representing ray direction.\r\n *   rectPos: array of 2 numbers, representing rectangle corner position.\r\n *   rectSize: array of 2 positive numbers, representing size of the rectangle.\r\n *\r\n * Returns:\r\n * - undefined, if pos is outside of the rectangle.\r\n * - undefined, in case of a numerical error.\r\n * - array of 2 numbers on a rectangle boundary, in case of an intersection.\r\n */\r\nexport const positive_intersection_with_rect = (pos, dir, rectPos, rectSize) => {\r\n    const left = rectPos[0];\r\n    const right = rectPos[0] + rectSize[0];\r\n    const top = rectPos[1];\r\n    const bottom = rectPos[1] + rectSize[1];\r\n    let t;\r\n    let x;\r\n    let y;\r\n\r\n    dir = vnorm(dir);\r\n\r\n    // Check if pos is outside of rectangle.\r\n    if (clamp(left, pos[0], right) !== pos[0] || clamp(top, pos[1], bottom) !== pos[1]) {\r\n        return undefined;\r\n    }\r\n\r\n    // Check intersection with top segment.\r\n    if (dir[1] < 0) {\r\n        t = (top - pos[1]) / dir[1];\r\n        x = pos[0] + dir[0] * t;\r\n\r\n        if (clamp(left, x, right) === x) {\r\n            return [x, top];\r\n        }\r\n    }\r\n\r\n    // Check intersection with bottom segment.\r\n    if (dir[1] > 0) {\r\n        t = (bottom - pos[1]) / dir[1];\r\n        x = pos[0] + dir[0] * t;\r\n\r\n        if (clamp(left, x, right) === x) {\r\n            return [x, bottom];\r\n        }\r\n    }\r\n\r\n    // Check intersection with left segment.\r\n    if (dir[0] < 0) {\r\n        t = (left - pos[0]) / dir[0];\r\n        y = pos[1] + dir[1] * t;\r\n\r\n        if (clamp(top, y, bottom) === y) {\r\n            return [left, y];\r\n        }\r\n    }\r\n\r\n    // Check intersection with right segment.\r\n    if (dir[0] > 0) {\r\n        t = (right - pos[0]) / dir[0];\r\n        y = pos[1] + dir[1] * t;\r\n\r\n        if (clamp(top, y, bottom) === y) {\r\n            return [right, y];\r\n        }\r\n    }\r\n\r\n    // Failed to compute intersection due to numerical precision.\r\n    return undefined;\r\n};\r\n","import { angle_offset } from '../math/circle';\r\nimport { bearingToPoint } from '../math/flightMath';\r\nimport { distance2d } from '../math/distance';\r\n\r\n/**\r\n * Describes a single leg of a path being measured, used by the\r\n * `MeasureTool` to draw the path on the `CanvasController`\r\n *\r\n * These form a doubly linked list, that allows each leg to reference\r\n * the `#previous` and `#next` legs.\r\n */\r\nexport default class MeasureLegModel {\r\n    /**\r\n     * @for MeasureLeg\r\n     * @constructor\r\n     * @param endPoint {array<number>}\r\n     * @param previousLeg {MeasureLegModel|null}\r\n     */\r\n    constructor(endPoint, radius = 0, previousLeg = null) {\r\n        /**\r\n         * The bearing along the leg (in radians)\r\n         *\r\n         * @for MeasureLegModel\r\n         * @property _bearing\r\n         * @type {number}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._bearing = null;\r\n\r\n        /**\r\n         * The end point of the leg\r\n         *\r\n         * @for MeasureLegModel\r\n         * @property endPoint\r\n         * @type {array<number>}\r\n         * @default endPoint\r\n         */\r\n        this.endPoint = endPoint;\r\n\r\n        /**\r\n         * The length of the leg (in km)\r\n         *\r\n         * @for MeasureLegModel\r\n         * @property _distance\r\n         * @type {number}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._distance = null;\r\n\r\n        /**\r\n         * The list of text labels to be displayed\r\n         *\r\n         * @for MeasureLegModel\r\n         * @property labels\r\n         * @type {labels}\r\n         * @default null;\r\n         */\r\n        this.labels = null;\r\n\r\n        /**\r\n         * The end point of the leg\r\n         *\r\n         * @for MeasureLegModel\r\n         * @property _midPoint\r\n         * @type {array<number>|null}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._midPoint = null;\r\n\r\n        /**\r\n         * The midpoint of this leg\r\n         *\r\n         * @for MeasureLegModel\r\n         * @property _next\r\n         * @type {MeasureLegModel}\r\n         * @default null;\r\n         * @private\r\n         */\r\n        this._next = null;\r\n\r\n        /**\r\n         * The previous leg\r\n         *\r\n         * @for MeasureLegModel\r\n         * @property _previous\r\n         * @type {MeasureLegModel}\r\n         * @default previousLeg\r\n         * @private\r\n         */\r\n        this._previous = previousLeg;\r\n\r\n        /**\r\n         * The turn radius (in km)\r\n         *\r\n         * @for MeasureLegModel\r\n         * @property _radius\r\n         * @type {number}\r\n         * @default radius\r\n         * @private\r\n         */\r\n        this._radius = radius;\r\n\r\n        this._init(previousLeg);\r\n    }\r\n\r\n    /**\r\n     * The bearing along the leg (in radians)\r\n     *\r\n     * @for MeasureLegModel\r\n     * @property bearing\r\n     * @type {number}\r\n     */\r\n    get bearing() {\r\n        return this._bearing;\r\n    }\r\n\r\n    /**\r\n     * The length of the leg (in km)\r\n     *\r\n     * @for MeasureLegModel\r\n     * @property distance\r\n     * @type {number}\r\n     */\r\n    get distance() {\r\n        return this._distance;\r\n    }\r\n\r\n    /**\r\n     * The midpoint of this leg\r\n     *\r\n     * @for MeasureLegModel\r\n     * @property midPoint\r\n     * @type {array<number>|null}\r\n     */\r\n    get midPoint() {\r\n        return this._midPoint;\r\n    }\r\n\r\n    /**\r\n     * The next leg\r\n     *\r\n     * @for MeasureLegModel\r\n     * @property next\r\n     * @type {MeasureLegModel}\r\n     */\r\n    get next() {\r\n        return this._next;\r\n    }\r\n\r\n    /**\r\n     * The previous leg\r\n     *\r\n     * @for MeasureLegModel\r\n     * @property next\r\n     * @type {MeasureLegModel}\r\n     */\r\n    get previous() {\r\n        return this._previous;\r\n    }\r\n\r\n    /**\r\n     * The turn radius (in km)\r\n     *\r\n     * @for MeasureLegModel\r\n     * @property radius\r\n     * @type {number}\r\n     */\r\n    get radius() {\r\n        const radius = this._radius;\r\n\r\n        // No point in validating if the radius is empty\r\n        if (radius === 0) {\r\n            return radius;\r\n        }\r\n\r\n        return this._hasValidRadius() ? radius : 0;\r\n    }\r\n\r\n    /**\r\n     * The start point of this leg\r\n     *\r\n     * @for MeasureLegModel\r\n     * @property startPoint\r\n     * @type {array<number>|null}\r\n     */\r\n    get startPoint() {\r\n        return this._previous === null ? null : this._previous.endPoint;\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * @for MeasureLegModel\r\n     * @method _init\r\n     * @param previousLeg {MeasureLegModel|null}\r\n     * @private\r\n     */\r\n    _init(previousLeg) {\r\n        if (previousLeg !== null) {\r\n            previousLeg._next = this;\r\n\r\n            this._calculateLegParameters();\r\n        }\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    /**\r\n     * Calculates the metrics of the leg, `#_midPoint`, `#_distance`, `#_bearing`\r\n     *\r\n     * @for MeasureLegTool\r\n     * @method _calculateLegParameters\r\n     * @private\r\n     */\r\n    _calculateLegParameters() {\r\n        const start = this.startPoint;\r\n        const end = this.endPoint;\r\n\r\n        this._midPoint = [\r\n            (start[0] + end[0]) / 2,\r\n            (start[1] + end[1]) / 2\r\n        ];\r\n        this._bearing = bearingToPoint(start, end);\r\n        this._distance = distance2d(start, end);\r\n    }\r\n\r\n    /**\r\n     * Returns a flag that indicates whether the radius is valid for this leg\r\n     *\r\n     * The arcTo command gives strange results when the relative radius is too large\r\n     *\r\n     * @for MeasureLegMode\r\n     * @method _hasValidRadius\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    _hasValidRadius() {\r\n        const nextLeg = this.next;\r\n\r\n        if (nextLeg === null) {\r\n            return false;\r\n        }\r\n\r\n        // Test if the angle required to fillet the corner (ensuring the fillet\r\n        // doesn't extend pass the midpoint of the shortest line) is smaller\r\n        // than the angle between the two lines\r\n        const a1 = this.bearing;\r\n        const a2 = this.next.bearing + Math.PI;\r\n        const halfLength = Math.min(this.distance, nextLeg.distance) / 2;\r\n        const angularDifference = Math.abs(angle_offset(a1, a2));\r\n        const filletAngle = 2 * Math.atan2(this._radius, halfLength);\r\n\r\n        return angularDifference >= filletAngle;\r\n    }\r\n}\r\n","import _round from 'lodash/round';\r\nimport { radians_normalize } from '../math/circle';\r\nimport { bearingToPoint } from '../math/flightMath';\r\nimport { distance2d } from '../math/distance';\r\nimport {\r\n    heading_to_string,\r\n    km,\r\n    nm\r\n} from '../utilities/unitConverters';\r\nimport MeasureLegModel from './MeasureLegModel';\r\nimport AircraftModel from '../aircraft/AircraftModel';\r\nimport FixModel from '../navigationLibrary/FixModel';\r\nimport { MEASURE_TOOL_STYLE } from '../constants/inputConstants';\r\nimport { TIME } from '../constants/globalConstants';\r\n\r\n/**\r\n * Defines a `MeasurePath`\r\n *\r\n * The `MeasurePath` is used by the `MeasureTool` to keep\r\n * track of the points in a path being meaured and to\r\n * generate a path to be drawn by the `CanvasController`\r\n *\r\n * A `MeasurePath` is designed to only be used internally\r\n * by the `MeasureTool`\r\n */\r\nexport default class MeasurePath {\r\n    /**\r\n     * @for MeasurePath\r\n     * @constructor\r\n     * @param startPoint {AircraftModel|FixModel|array<number>}\r\n     * @param style {MEASURE_TOOL_STYLE}\r\n     */\r\n    constructor(style) {\r\n        /**\r\n         * The list of points that make up the path being measured\r\n         * This can be an object with a `#relativePosition` property,\r\n         * or a array of numbers that represent a `relativePosition`\r\n         *\r\n         * @for MeasurePath\r\n         * @property _points\r\n         * @type {AircraftModel|FixModel|array<number>}\r\n         * @default []\r\n         * @private\r\n         */\r\n        this._points = [];\r\n\r\n        /**\r\n         * The style of how the path is rendered\r\n         *\r\n         * @for MeasurePath\r\n         * @property style\r\n         * @type {MEASURE_TOOL_STYLE}\r\n         * @default null;\r\n         * @private\r\n         */\r\n        this._style = style;\r\n\r\n        this._init();\r\n    }\r\n\r\n    /** Gets the aircraft at the beginning of the path\r\n     *\r\n     * @for MeasurePath\r\n     * @property aircraft\r\n     * @type {AircraftModel|null}\r\n     */\r\n    get aircraft() {\r\n        if (!this.hasStarted || !(this._points[0] instanceof AircraftModel)) {\r\n            return null;\r\n        }\r\n\r\n        return this._points[0];\r\n    }\r\n\r\n    /**\r\n     * Indicates whether there are any valid legs\r\n     *\r\n     * @for MeasurePath\r\n     * @property hasLegs\r\n     * @type {boolean}\r\n     */\r\n    get hasLegs() {\r\n        return this._points.length > 1;\r\n    }\r\n\r\n    /**\r\n     * Indicates the `MeasurePath` has started measuring\r\n     * eg. the path has at least one point\r\n     *\r\n     * @for MeasurePath\r\n     * @property hasLegs\r\n     * @type {boolean}\r\n     */\r\n    get hasStarted() {\r\n        return this._points.length !== 0;\r\n    }\r\n\r\n    /**\r\n     * Gets a flag indicating whether the '#style' indicates that\r\n     * the initial turn should be used when building the path\r\n     *\r\n     * @for MeasurePath\r\n     * @property hasStyleInitialTurn\r\n     * @returns {boolean}\r\n     */\r\n    get hasStyleInitialTurn() {\r\n        return this._style === MEASURE_TOOL_STYLE.ARC_TO_NEXT ||\r\n            this._style === MEASURE_TOOL_STYLE.ALL_ARCED;\r\n    }\r\n\r\n    /**\r\n     * Gets a flag indicating whether the '#style' indicates that\r\n     * the arcs should be used when building the path\r\n     *\r\n     * @for MeasurePath\r\n     * @property hasStyleArced\r\n     * @returns {boolean}\r\n     */\r\n    get hasStyleArced() {\r\n        return this._style === MEASURE_TOOL_STYLE.ALL_ARCED;\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * @for MeasurePath\r\n     * @method _init\r\n     * @private\r\n     */\r\n    _init() {\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * Adds a point to the path being measured\r\n     *\r\n     * The value can be an object with a `#relativePosition` property,\r\n     * or a array of numbers that represent a `relativePosition`\r\n     *\r\n     * @for MeasurePath\r\n     * @method addPoint\r\n     * @param value {AircraftModel|FixModel|array<number>}\r\n     */\r\n    addPoint(value) {\r\n        this._throwIfPointInvalid(value);\r\n\r\n        this._points.push(value);\r\n    }\r\n\r\n    /**\r\n     * Gets the information for the path that should be drawn on the `CanvasController`\r\n     *\r\n     * @for MeasurePath\r\n     * @method buildPathInfo\r\n     * @returns {object}\r\n     */\r\n    buildPathInfo() {\r\n        if (!this.hasLegs) {\r\n            return null;\r\n        }\r\n\r\n        // Ground speed is only known if the first point is an AircraftModel\r\n        const { aircraft } = this;\r\n        const groundSpeed = aircraft === null ? null : aircraft.groundSpeed;\r\n        const initialTurn = this._buildInitialTurnParameters();\r\n        const pointsList = [...this._points]; // Shallow copy as the first point may be replaced\r\n        let radius = 0;\r\n\r\n        if (initialTurn !== null && this.hasStyleArced) {\r\n            radius = initialTurn.turnRadius;\r\n        }\r\n\r\n        // These are the values used when reducing the points array\r\n        const initialValues = {\r\n            previousLeg: null,\r\n            totalDistance: 0,\r\n            totalDuration: 0\r\n        };\r\n\r\n        // If there is an initialTurn (eg. a turn onto the first leg), then the exit point is used\r\n        // as the first point in the path\r\n        if (initialTurn !== null) {\r\n            const { exitPoint } = initialTurn;\r\n\r\n            initialValues.lastPoint = exitPoint;\r\n\r\n            pointsList[0] = exitPoint;\r\n        }\r\n\r\n        // The initial leg is just an end point\r\n        const firstPoint = this._getRelativePosition(pointsList.shift());\r\n        const initialLeg = new MeasureLegModel(firstPoint);\r\n        initialValues.previousLeg = initialLeg;\r\n\r\n        pointsList.reduce((lastValues, point, index) => {\r\n            const { previousLeg } = lastValues;\r\n            let { totalDistance, totalDuration } = lastValues;\r\n            const leg = new MeasureLegModel(\r\n                this._getRelativePosition(point),\r\n                radius,\r\n                previousLeg\r\n            );\r\n            const bearing = heading_to_string(leg.bearing);\r\n            let distance = nm(leg.distance);\r\n            let duration = 0;\r\n\r\n            // If there's an initial turn, include the length of that in the first leg\r\n            if (index === 0 && initialTurn !== null) {\r\n                distance += nm(initialTurn.arcLength);\r\n            }\r\n\r\n            if (groundSpeed !== null) {\r\n                duration = _round((distance / groundSpeed) * TIME.ONE_HOUR_IN_MINUTES, 1);\r\n            }\r\n\r\n            // We only want labels that have a distance\r\n            if (distance > 1) {\r\n                const labels = [\r\n                    this._buildLabel(distance, duration, bearing)\r\n                ];\r\n\r\n                totalDistance += distance;\r\n                totalDuration = _round(totalDuration + duration, 1);\r\n\r\n                if (totalDistance !== distance) {\r\n                    labels.push(this._buildLabel(totalDistance, totalDuration));\r\n                }\r\n\r\n                leg.labels = labels;\r\n            }\r\n\r\n            return {\r\n                previousLeg: leg,\r\n                totalDistance,\r\n                totalDuration\r\n            };\r\n        }, initialValues);\r\n\r\n        return {\r\n            initialTurn,\r\n            firstLeg: initialLeg.next\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Removes the last point from the path\r\n     * Note: This \"last\" point is the one that follows the cursor position\r\n     *\r\n     * @for MeasurePath\r\n     * @method removeLastPoint\r\n     */\r\n    removeLastPoint() {\r\n        this._points.pop();\r\n    }\r\n\r\n    /**\r\n     * Removes the second-to-last point from the path\r\n     *\r\n     * @for MeasurePath\r\n     * @method removePreviousPoint\r\n     */\r\n    removePreviousPoint() {\r\n        // The \"last\" point is actually the 2nd last item in _points\r\n        // This means the path will end at the cursor position when redrawn\r\n        const { length } = this._points;\r\n\r\n        if (length > 2) {\r\n            this._points.splice(length - 2, 1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets the style that should be used for path generation and rendering\r\n     *\r\n     * If an invalid valid for MEASURE_TOOL_STYLE is passed, it will default to\r\n     * `MEASURE_TOOL_STYLE.STRAIGHT`\r\n     *\r\n     * @for MeasurePath\r\n     * @method setStyle\r\n     * @param style {MEASURE_TOOL_STYLE}\r\n     */\r\n    setStyle(style) {\r\n        this._style = style;\r\n    }\r\n\r\n    /**\r\n     * Updates the last point in the path\r\n     *\r\n     * The value can be an object with a `#relativePosition` property,\r\n     * or a array of numbers that represent a `relativePosition`\r\n     *\r\n     * @for MeasurePath\r\n     * @method updateEndPoint\r\n     * @param value {AircraftModel|FixModel|array<number>}\r\n     */\r\n    updateLastPoint(value) {\r\n        this._throwIfPointInvalid(value);\r\n\r\n        if (!this.hasStarted) {\r\n            return;\r\n        }\r\n\r\n        if (!this.hasLegs) {\r\n            this.addPoint(value);\r\n\r\n            return;\r\n        }\r\n\r\n        this._points[this._points.length - 1] = value;\r\n    }\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    /**\r\n     * Builds the initial turn parameters that are needed to fly to the first fix\r\n     *\r\n     * @for MeasurePath\r\n     * @method _buildInitialTurnParameters\r\n     * @returns {object}\r\n     * @private\r\n     */\r\n    _buildInitialTurnParameters() {\r\n        if (!this.hasStyleInitialTurn) {\r\n            return null;\r\n        }\r\n\r\n        const { aircraft } = this;\r\n\r\n        if (aircraft === null) {\r\n            return null;\r\n        }\r\n\r\n        const { groundSpeed, groundTrack } = aircraft;\r\n        const turnRate = 3; // Turn rate seems fixed at 3°/sec // groundSpeed > 250 ? 1.5 : 3;\r\n        const turnRadius = km(groundSpeed / (turnRate * 20 * Math.PI));\r\n        const start = aircraft.relativePosition;\r\n        const fix = this._getRelativePositionAtIndex(1);\r\n\r\n        // Get the turn direction by using the basic bearing to the next point\r\n        const bearingToFix = bearingToPoint(start, fix);\r\n        const isRHT = radians_normalize(bearingToFix - groundTrack) < Math.PI;\r\n        const direction = isRHT ? 1 : -1;\r\n\r\n        // The centre of the turn circle is offset to the left or right by 90°\r\n        const bearingToCenter = groundTrack + (direction * Math.PI / 2);\r\n        const center = [\r\n            start[0] + (turnRadius * Math.sin(bearingToCenter)),\r\n            start[1] + (turnRadius * Math.cos(bearingToCenter))\r\n        ];\r\n\r\n        // Turn exit (tangent from turn circle to the fix)\r\n        const centerToFixBearing = bearingToPoint(center, fix);\r\n        const centerToFixDistance = distance2d(center, fix);\r\n        const outboundCourse = centerToFixBearing + (direction * Math.asin(turnRadius / centerToFixDistance));\r\n\r\n        // Entry and exit angles\r\n        const entryAngle = bearingToCenter + Math.PI;\r\n        const exitAngle = outboundCourse - (direction * Math.PI / 2);\r\n\r\n        // The exit point is the point on the turn circle at the exit angle\r\n        const exitPoint = [\r\n            center[0] + (turnRadius * Math.sin(exitAngle)),\r\n            center[1] + (turnRadius * Math.cos(exitAngle))\r\n        ];\r\n\r\n        // Length around the arc\r\n        let turnAngle;\r\n        if (isRHT) {\r\n            turnAngle = exitAngle - entryAngle;\r\n        } else {\r\n            turnAngle = entryAngle - exitAngle;\r\n        }\r\n        const arcLength = turnRadius * radians_normalize(turnAngle);\r\n\r\n        return {\r\n            isRHT,\r\n            turnRadius,\r\n            arcLength,\r\n            entryAngle,\r\n            exitAngle,\r\n            center,\r\n            exitPoint\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Builds the text label that displays the distance and\r\n     * optional duration and bearings\r\n     *\r\n     * @for MeasurePath\r\n     * @method _buildLabel\r\n     * @param distance {number} The distance (in NM) that the leg covers\r\n     * @param duration {number} The length of time (in minutes) that flying the leg will take\r\n     * @param bearing {number|null} The bearing (degrees magnetic) along the leg\r\n     * @private\r\n     */\r\n    _buildLabel(distance, duration, bearing = null) {\r\n        let label = `${distance.toPrecision(3)} NM`;\r\n\r\n        if (duration !== 0) {\r\n            label += `, ${duration.toFixed(1)} min`;\r\n        }\r\n\r\n        if (bearing !== null) {\r\n            label += `, ${bearing}° M`;\r\n        }\r\n\r\n        return label;\r\n    }\r\n\r\n    /**\r\n     * Gets the relative position for the point at the specified index.\r\n     *\r\n     * @for MeasurePath\r\n     * @method _getRelativePositionAtIndex\r\n     * @param index {number}\r\n     * @returns {array<number>}\r\n     */\r\n    _getRelativePositionAtIndex(index) {\r\n        const point = this._points[index];\r\n\r\n        return this._getRelativePosition(point);\r\n    }\r\n\r\n    /**\r\n     * Gets the relative position for the point at the specified index.\r\n     *\r\n     * @for MeasurePath\r\n     * @method _getRelativePosition\r\n     * @param point {AircraftModel|FixModel|array<number>}\r\n     * @returns {array<number>}\r\n     */\r\n    _getRelativePosition(point) {\r\n        return point.relativePosition || point;\r\n    }\r\n\r\n    /**\r\n     * Facade for throwing a TypeError if a point value is not a valid type\r\n     *\r\n     * @for MeasurePath\r\n     * @method _throwIfPointInvalid\r\n     * @param value {AircraftModel|FixModel|array<number>}\r\n    */\r\n    _throwIfPointInvalid(value) {\r\n        if (!(value instanceof Array || value instanceof AircraftModel || value instanceof FixModel)) {\r\n            throw new TypeError(`value cannot be ${typeof value}. An Array, AircraftModel or FixModel is expected.`);\r\n        }\r\n    }\r\n}\r\n","import EventBus from '../lib/EventBus';\r\nimport MeasurePath from './MeasurePath';\r\nimport GameController from '../game/GameController';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport { MEASURE_TOOL_STYLE } from '../constants/inputConstants';\r\nimport { GAME_OPTION_NAMES } from '../constants/gameOptionConstants';\r\n\r\n/**\r\n * Defines a `MeasureTool`\r\n *\r\n * The `MeasureTool` is used by the `InputController` to\r\n * accept user input and build a list of `MeasurePath`s\r\n * which calculate distances, durations and bearings\r\n */\r\nclass MeasureTool {\r\n    /**\r\n     * @for MeasureLeg\r\n     * @constructor\r\n     */\r\n    constructor() {\r\n        /**\r\n         * The current path being measured\r\n         *\r\n         * @for MeasureTool\r\n         * @property _currentPath\r\n         * @type {MeasurePath}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._currentPath = null;\r\n\r\n        /**\r\n         * @for MeasureTool\r\n         * @property _eventBus\r\n         * @type {EventBus}\r\n         * @private\r\n         */\r\n        this._eventBus = EventBus;\r\n\r\n        /**\r\n         * The list of `MeasurePath` objects that the tools is\r\n         * measuring\r\n         *\r\n         * @for MeasureTool\r\n         * @property _paths\r\n         * @type {array<MeasurePath>}\r\n         * @default []\r\n         * @private\r\n         */\r\n        this._paths = [];\r\n\r\n        /**\r\n         * The style of how the path is rendered\r\n         *\r\n         * @for MeasureTool\r\n         * @property _style\r\n         * @type {MEASURE_TOOL_STYLE}\r\n         * @default null;\r\n         * @private\r\n         */\r\n        this._style = null;\r\n\r\n        this._init()\r\n            ._setupHandlers()\r\n            .enable();\r\n    }\r\n\r\n    /**\r\n     * Indicates whether the `MeasureTool` has any paths\r\n     *\r\n     * @for MeasureTool\r\n     * @property hasPaths\r\n     * @type {boolean}\r\n     */\r\n    get hasPaths() {\r\n        return this._paths.length !== 0;\r\n    }\r\n\r\n    /**\r\n     * Indicates the `MeasureTool`s current path has started measuring\r\n     * eg. the path has at least one point\r\n     *\r\n     * @for MeasureTool\r\n     * @property hasLegs\r\n     * @type {boolean}\r\n     */\r\n    get hasStarted() {\r\n        return this.isMeasuring && this._currentPath.hasStarted;\r\n    }\r\n\r\n    /**\r\n     * Indicates whether the tool should be receiving input\r\n     *\r\n     * @for MeasureTool\r\n     * @property isMeasuring\r\n     * @type {boolean}\r\n     */\r\n    get isMeasuring() {\r\n        return this._currentPath !== null;\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * @for MeasureTool\r\n     * @method _init\r\n     * @chainable\r\n     * @private\r\n     */\r\n    _init() {\r\n        this.setStyle(GameController.getGameOption(GAME_OPTION_NAMES.MEASURE_TOOL_PATH));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for MeasureTool\r\n     * @method _setupHandlers\r\n     * @chainable\r\n     * @private\r\n     */\r\n    _setupHandlers() {\r\n        this._onMeasureTooltyleChangeHandler = this._onMeasureTooltyleChange.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for MeasureTool\r\n     * @method disable\r\n     * @chainable\r\n     */\r\n    disable() {\r\n        this._eventBus.off(EVENT.MEASURE_TOOL_STYLE_CHANGE, this._onMeasureTooltyleChangeHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for MeasureTool\r\n     * @method enable\r\n     * @chainable\r\n     */\r\n    enable() {\r\n        this._eventBus.on(EVENT.MEASURE_TOOL_STYLE_CHANGE, this._onMeasureTooltyleChangeHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for MeasureTool\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        this._paths = [];\r\n        this._currentPath = null;\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * Adds a point to the current path being measured\r\n     *\r\n     * The value can be an object with a `#relativePosition` property,\r\n     * or a array of numbers that represent a `relativePosition`\r\n     *\r\n     * @for MeasureTool\r\n     * @method addPoint\r\n     * @param value {AircraftModel|FixModel|array<number>}\r\n     */\r\n    addPoint(value) {\r\n        this._throwIfNotMeasuring();\r\n\r\n        this._currentPath.addPoint(value);\r\n    }\r\n\r\n    /**\r\n     * Gets the information for the paths that should be drawn on the `CanvasController`\r\n     *\r\n     * @for MeasureTool\r\n     * @method buildPathInfo\r\n     * @returns {array<object>}\r\n     */\r\n    buildPathInfo() {\r\n        return this._paths.reduce((list, path) => {\r\n            if (path.hasLegs) {\r\n                list.push(path.buildPathInfo());\r\n            }\r\n\r\n            return list;\r\n        }, []);\r\n    }\r\n\r\n    /**\r\n     * Signals that the editing the current path has finished\r\n     *\r\n     * @for MeasureTool\r\n     * @method endPath\r\n     */\r\n    endPath() {\r\n        this._throwIfNotMeasuring();\r\n\r\n        // Discard the point which is attached to the cursor, and keep\r\n        // only those points which have been clicked into place\r\n        this._currentPath.removeLastPoint();\r\n\r\n        // If the path isn't valid, then don't keep it\r\n        if (!this._currentPath.hasLegs) {\r\n            this._paths.pop();\r\n        }\r\n\r\n        this._currentPath = null;\r\n    }\r\n\r\n    /**\r\n     * Removes the second-to-last point from the current path\r\n     *\r\n     * @for MeasureTool\r\n     * @method removePreviousPoint\r\n     */\r\n    removePreviousPoint() {\r\n        this._throwIfNotMeasuring();\r\n\r\n        this._currentPath.removePreviousPoint();\r\n    }\r\n\r\n    /**\r\n     * Signals that a new path should be created for measurement\r\n     *\r\n     * @for MeasureTool\r\n     * @method startNewPath\r\n     */\r\n    startNewPath() {\r\n        if (this.isMeasuring) {\r\n            throw new Error('Cannot start a new path. The current path hasn\\'t been ended.');\r\n        }\r\n\r\n        const path = new MeasurePath(this._style);\r\n\r\n        this._paths.push(path);\r\n        this._currentPath = path;\r\n    }\r\n\r\n    /**\r\n     * Sets the style that should be used for path generation and rendering\r\n     *\r\n     * If an invalid valid for MEASURE_TOOL_STYLE is passed, it will default to\r\n     * `MEASURE_TOOL_STYLE.STRAIGHT`\r\n     *\r\n     * @for MeasureTool\r\n     * @method setStyle\r\n     * @param style {MEASURE_TOOL_STYLE}\r\n     */\r\n    setStyle(style) {\r\n        const isValid = Object.keys(MEASURE_TOOL_STYLE).some((k) => {\r\n            return MEASURE_TOOL_STYLE[k] === style;\r\n        });\r\n\r\n        this._style = isValid ? style : MEASURE_TOOL_STYLE.STRAIGHT;\r\n\r\n        this._paths.forEach((path) => path.setStyle(style));\r\n    }\r\n\r\n    /**\r\n     * Updates the last point in the path\r\n     *\r\n     * The value can be an object with a `#relativePosition` property,\r\n     * or a array of numbers that represent a `relativePosition`\r\n     *\r\n     * @for MeasureTool\r\n     * @method updateEndPoint\r\n     * @param value {AircraftModel|FixModel|array<number>}\r\n     */\r\n    updateLastPoint(value) {\r\n        this._throwIfNotMeasuring();\r\n\r\n        this._currentPath.updateLastPoint(value);\r\n    }\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    /**\r\n     * Update the `#_style` property\r\n     *\r\n     * This method should only be called via the `EventBus`\r\n     *\r\n     * @for MeasureTool\r\n     * @method _onMeasureTooltyleChange\r\n     * @param style {MEASURE_TOOL_STYLE}\r\n     * @private\r\n     */\r\n    _onMeasureTooltyleChange(style) {\r\n        this.setStyle(style);\r\n    }\r\n\r\n    /**\r\n     * Facade for throwing an Error if the `#isMeasuring` flag is not set\r\n     *\r\n     * @for MeasureTool\r\n     * @method _throwIfNotMeasuring\r\n     */\r\n    _throwIfNotMeasuring() {\r\n        if (!this.isMeasuring) {\r\n            throw Error(`Cannot add point when MeasureTool.isMeasuring is ${this.isMeasuring}`);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * The static instance of the `MeasureTool` class\r\n */\r\nexport default new MeasureTool();\r\n","import _forEach from 'lodash/forEach';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport _map from 'lodash/map';\r\nimport NavigationLibrary from './NavigationLibrary';\r\nimport WaypointModel from '../aircraft/FlightManagementSystem/WaypointModel';\r\nimport { INVALID_INDEX } from '../constants/globalConstants';\r\n\r\nexport default class AirwayModel {\r\n    constructor(icao, fixNames) {\r\n        if (_isEmpty(icao)) {\r\n            throw new TypeError('Expected airway to have a non-empty name, but no airway name was given');\r\n        }\r\n\r\n        if (_isEmpty(fixNames)) {\r\n            throw new TypeError(`Expected a list of fix names for airway \"${icao}\", but received none`);\r\n        }\r\n\r\n        this._fixNameCollection = [];\r\n\r\n        this._icao = '';\r\n\r\n        this.init(icao, fixNames);\r\n    }\r\n\r\n    /**\r\n     * Return the #_fixNameCollection\r\n     *\r\n     * @for AirwayModel\r\n     * @property fixNameCollection\r\n     * @type {array<string>}\r\n     */\r\n    get fixNameCollection() {\r\n        return this._fixNameCollection;\r\n    }\r\n\r\n    get icao() {\r\n        return this._icao;\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    init(icao, fixNames) {\r\n        this._fixNameCollection = fixNames;\r\n        this._icao = icao;\r\n\r\n        this._verifyFixNamesExistInNavigationLibrary(fixNames);\r\n\r\n        return this;\r\n    }\r\n\r\n    reset() {\r\n        this._fixNameCollection = [];\r\n        this._icao = '';\r\n\r\n        return this;\r\n    }\r\n\r\n    _verifyFixNamesExistInNavigationLibrary(fixNames) {\r\n        _forEach(fixNames, (fixName) => {\r\n            if (!NavigationLibrary.hasFixName(fixName)) {\r\n                throw new TypeError(`Expected to find fix \"${fixName}\" for ` +\r\n                    `airway \"${this._icao}\", but it is not a defined fix!`);\r\n            }\r\n        });\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    getWaypointModelsForEntryAndExit(entryName, exitName) {\r\n        if (entryName === exitName) {\r\n            console.error('Expected use of airway to include at least two fixes');\r\n\r\n            return;\r\n        }\r\n\r\n        const indexOfEntryFix = this._fixNameCollection.indexOf(entryName);\r\n        const indexOfExitFix = this._fixNameCollection.indexOf(exitName);\r\n\r\n        if (indexOfEntryFix === INVALID_INDEX) {\r\n            console.error(`Expected valid entry of \"${this._icao}\" airway, but received \"${entryName}\"`);\r\n\r\n            return;\r\n        }\r\n\r\n        if (indexOfExitFix === INVALID_INDEX) {\r\n            console.error(`Expected valid exit of \"${this._icao}\" airway, but received \"${exitName}\"`);\r\n\r\n            return;\r\n        }\r\n\r\n        const fixNames = this._getFixNamesFromIndexToIndex(indexOfEntryFix, indexOfExitFix);\r\n        const waypointModels = _map(fixNames, (fixName) => new WaypointModel(fixName));\r\n\r\n        return waypointModels;\r\n    }\r\n\r\n    /**\r\n     * Returns whether the specified fix name is on the airway\r\n     *\r\n     * @for AirwayModel\r\n     * @method hasFixName\r\n     * @return {boolean}\r\n     */\r\n    hasFixName(fixName) {\r\n        return this._fixNameCollection.indexOf(fixName) !== INVALID_INDEX;\r\n    }\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    _getFixNamesFromIndexToIndex(startIndex, endIndex) {\r\n        if (startIndex === endIndex) {\r\n            throw new TypeError('Expected use of airway to include at least two fixes');\r\n        }\r\n\r\n        const numberOfFixes = Math.abs(endIndex - startIndex) + 1;\r\n\r\n        if (endIndex > startIndex) {\r\n            return this._fixNameCollection.slice().splice(startIndex, numberOfFixes);\r\n        }\r\n\r\n        return this._fixNameCollection.slice().splice(endIndex, numberOfFixes).reverse();\r\n    }\r\n}\r\n","import _find from 'lodash/find';\r\nimport _forEach from 'lodash/forEach';\r\n// TODO: Start using the model source factory again!\r\n// import modelSourceFactory from '../base/ModelSource/ModelSourceFactory';\r\nimport BaseCollection from '../base/BaseCollection';\r\nimport { distance2d } from '../math/distance';\r\nimport FixModel from './FixModel';\r\n\r\n/**\r\n * A collection of all the `FixModel`s defined in an airport json file.\r\n *\r\n * This is built as a static class, so there is only ever once instance.\r\n * We use a static class here because the methods contained herein are needed by several\r\n * different classes. This provides a single source of truth for all the `FixModel`s\r\n * belonging to an Airport.\r\n *\r\n * @class FixCollection\r\n * @extends BaseCollection\r\n */\r\nclass FixCollection extends BaseCollection {\r\n    /**\r\n     * Lifecycle method. Should be run only once on instantiation.\r\n     *\r\n     * @for FixCollection\r\n     * @method addItems\r\n     * @param fixList {object}\r\n     * @param referencePosition {StaticPositionModel}\r\n     */\r\n    addItems(fixList, referencePosition) {\r\n        if (this.length !== 0) {\r\n            // you made it here because an airport has changed.\r\n            // in `AirportModel.init()` this method is called with the fix data for the new airport. We don't want\r\n            // or need to keep the fixes from a previous airport so if `_items` has a length, we need to reset that\r\n            // property before we begin to add fixes for the new airport.\r\n            this.removeItems();\r\n        }\r\n\r\n        this._buildFixModelsFromList(fixList, referencePosition);\r\n    }\r\n\r\n    /**\r\n     * Destroy the current instance\r\n     *\r\n     * @for FixCollection\r\n     * @method removeItems\r\n     */\r\n    removeItems() {\r\n        this._resetFixModels();\r\n\r\n        this._items = [];\r\n    }\r\n\r\n    /**\r\n     * Add a `FixModel` to the collection\r\n     *\r\n     * @for FixCollection\r\n     * @method addFixToCollection\r\n     * @param fixToAdd {FixModel}\r\n     */\r\n    addFixToCollection(fixToAdd) {\r\n        if (!(fixToAdd instanceof FixModel)) {\r\n            throw new TypeError('Expected fixToAdd to be an instance of FixModel');\r\n        }\r\n\r\n        this._items.push(fixToAdd);\r\n    }\r\n\r\n    /**\r\n     * Find a `FixModel` by `name` if it exists within the collection.\r\n     *\r\n     * @for FixCollection\r\n     * @method findFixByName\r\n     * @param fixName {string}\r\n     * @return {FixModel|null}\r\n     */\r\n    findFixByName(fixName) {\r\n        if (!fixName) {\r\n            return null;\r\n        }\r\n\r\n        const fixModel = _find(this._items, { name: fixName.toUpperCase() });\r\n\r\n        // if a fix is not found, _find() returns `undefined` so we specifically return null here if a fix is not found\r\n        return fixModel || null;\r\n    }\r\n\r\n    /**\r\n     * @for FixCollection\r\n     * @method getFixRelativePosition\r\n     * @param fixName {string}\r\n     * @return {array<number>}\r\n     */\r\n    getFixRelativePosition(fixName) {\r\n        const fixModel = this.findFixByName(fixName);\r\n\r\n        if (!fixModel) {\r\n            return null;\r\n        }\r\n\r\n        return fixModel.relativePosition;\r\n    }\r\n\r\n    /**\r\n     * Returns the pronunciation of the fix name if it exists, otherwise returns the input name\r\n     *\r\n     * @for FixCollection\r\n     * @method getFixSpokenName\r\n     * @param fixName {string}\r\n     * @return {string}\r\n     */\r\n    getFixSpokenName(fixName) {\r\n        const fixModel = this.findFixByName(fixName);\r\n\r\n        if (!fixModel) {\r\n            return fixName.toLowerCase(); // lower-case forces the voice engine to try to pronounce it\r\n        }\r\n\r\n        return fixModel.spoken;\r\n    }\r\n\r\n    /**\r\n     * Returns the nearest fix to the specified position\r\n     *\r\n     * @for FixCollection\r\n     * @method getNearestFix\r\n     * @param position {array<number>} These are x, y canvas units (km)\r\n     * @param hiddenFixes {boolean} A flag indicating whether hidden fixes should be used\r\n     */\r\n    getNearestFix(position, hiddenFixes = false) {\r\n        return this._items.reduce((lastResult, fix) => {\r\n            let [nearest, distance] = lastResult;\r\n            const d = distance2d(fix.relativePosition, position);\r\n\r\n            if ((fix.isRealFix || hiddenFixes) && d < distance) {\r\n                nearest = fix;\r\n                distance = d;\r\n            }\r\n\r\n            return [nearest, distance];\r\n        }, [null, Infinity]);\r\n    }\r\n\r\n    /**\r\n     * Return the position model for the specified fix, if that fix exists\r\n     *\r\n     * @for FixCollection\r\n     * @method getPositionModelForFixName\r\n     * @param fixName {string}\r\n     * @return {StaticPositionModel}\r\n     */\r\n    getPositionModelForFixName(fixName) {\r\n        const fixModel = this.findFixByName(fixName);\r\n\r\n        if (!fixModel) {\r\n            return null;\r\n        }\r\n\r\n        return fixModel.positionModel;\r\n    }\r\n\r\n    /**\r\n     * Find a list of all `FixModel`s within the collection that have a name that does not start with an underscore.\r\n     *\r\n     * @for FixCollection\r\n     * @method findRealFixes\r\n     * @return {array<FixModel>}\r\n     */\r\n    findRealFixes() {\r\n        return this._items.filter((fix) => fix.isRealFix);\r\n    }\r\n\r\n    /**\r\n     * Loop through each fix provided in the fix list, create a new `FixModel` instance, then send it off\r\n     * to be added to the collection.\r\n     *\r\n     * @for FixCollection\r\n     * @method _buildFixModelsFromList\r\n     * @param fixList {object}\r\n     * @param referencePosition {StaticPositionModel}\r\n     * @private\r\n     */\r\n    _buildFixModelsFromList(fixList, referencePosition) {\r\n        _forEach(fixList, (fixData, fixName) => {\r\n            const fixModel = new FixModel(fixName, fixData, referencePosition);\r\n            // const fixModel = modelSourceFactory.getModelSourceForType('FixModel', fixName, fixCoordinates, referencePosition);\r\n\r\n            this.addFixToCollection(fixModel);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @for FixCollection\r\n     * @method _resetFixModels\r\n     * @private\r\n     */\r\n    _resetFixModels() {\r\n        _forEach(this._items, (fixModel) => {\r\n            fixModel.reset();\r\n            // modelSourceFactory.returnModelToPool(fixModel);\r\n        });\r\n    }\r\n}\r\n\r\nexport default new FixCollection();\r\n","import _cloneDeep from 'lodash/cloneDeep';\r\nimport BaseModel from '../base/BaseModel';\r\nimport StaticPositionModel from '../base/StaticPositionModel';\r\nimport { RNAV_WAYPOINT_PREFIX } from '../constants/waypointConstants';\r\n\r\n/**\r\n * Defines a navigational `FixModel`\r\n *\r\n * A `FixModel` can be used as part of a `StandardRoute` or as a naviagtional aid.\r\n * Not all `FixModel`s are a part of a `StandardRoute`.\r\n *\r\n * @class FixModel\r\n */\r\nexport default class FixModel extends BaseModel {\r\n    /**\r\n     * @for FixModel\r\n     * @constructor\r\n     * @param fixName {string}\r\n     * @param fixData {array or object}\r\n     * @param referencePosition {StaticPositionModel}\r\n     */\r\n    constructor(fixName, fixData, referencePosition) {\r\n        super();\r\n\r\n        /**\r\n         * Name of the Fix\r\n         *\r\n         * @property name\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.name = '';\r\n\r\n        /**\r\n         * Pronunciation of the fix name\r\n         *\r\n         * @property _spoken\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this._spoken = '';\r\n\r\n        /**\r\n         * Coordinates of the fix\r\n         *\r\n         * @property _positionModel\r\n         * @type {StaticPositionModel}\r\n         * @default null\r\n         */\r\n        this._positionModel = null;\r\n\r\n        this.init(fixName, fixData, referencePosition);\r\n    }\r\n\r\n    /**\r\n     * Indicates whether the fix is a real fix, not an RNAV fix\r\n     * (prefixed with an underscore)\r\n     *\r\n     * @property isRealFix\r\n     * @return {boolean}\r\n     */\r\n    get isRealFix() {\r\n        return this.name[0] !== RNAV_WAYPOINT_PREFIX;\r\n    }\r\n\r\n    /**\r\n     * Provides access to the position data of the instance\r\n     *\r\n     * @property positionModel\r\n     * @return {array}\r\n     */\r\n    get positionModel() {\r\n        return this._positionModel;\r\n    }\r\n\r\n    /**\r\n     * Facade to access relative position\r\n     *\r\n     * @for FixModel\r\n     * @return {array<number>} [kilometersNorth, kilometersEast]\r\n     */\r\n    get relativePosition() {\r\n        return this._positionModel.relativePosition;\r\n    }\r\n\r\n    /**\r\n     * Facade to access spoken name\r\n     *\r\n     * @for FixModel\r\n     * @return {string}\r\n     */\r\n    get spoken() {\r\n        return this._spoken;\r\n    }\r\n\r\n    /**\r\n     * Lifecycle method. Should be run only once on instantiation.\r\n     *\r\n     * @for FixModel\r\n     * @method init\r\n     * @param fixName {string}\r\n     * @param fixData {array or object}\r\n     * @param referencePosition {StaticPositionModel}\r\n     * @chainable\r\n     */\r\n    init(fixName, fixData, referencePosition) {\r\n        if (!fixName || !fixData || !referencePosition) {\r\n            throw new TypeError(`Expected FixModel ${fixName} to receive name, data, and referencePosition, but ` +\r\n                `received ${typeof fixName}, ${typeof fixData}, ${typeof referencePosition}`);\r\n        }\r\n\r\n        const [lat, lon, spoken] = fixData;\r\n        this.name = fixName.toUpperCase();\r\n        this._positionModel = new StaticPositionModel([lat, lon], referencePosition, referencePosition.magneticNorth);\r\n\r\n        if (typeof spoken === 'undefined') {\r\n            this._spoken = fixName.toLowerCase();\r\n        } else {\r\n            this._spoken = spoken.toLowerCase();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * reset the current instance\r\n     *\r\n     * @for FixModel\r\n     * @method reset\r\n     * @chainable\r\n     */\r\n    reset() {\r\n        this.name = '';\r\n        this._spoken = '';\r\n        this._positionModel = null;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns a clone of an instance's `_positionModel` property.\r\n     *\r\n     * It is important to note that this is a _clone_ and not a copy. Any changes made to this instance will\r\n     * not be reflected in the clone. This creates an entirely new instance of the `_positionModel` property,\r\n     * and after creation is completely independant of this instance.\r\n     *\r\n     * This is used with `StandardRouteWaypointModel` objects to obtain the position of a fix. This method\r\n     * provides easy access to the `StaticPositionModel` that already exists here.\r\n     *\r\n     * @for FixModel\r\n     * @return {StaticPositionModel}  a clone of the current `_positionModel` property\r\n     */\r\n    clonePosition() {\r\n        return _cloneDeep(this._positionModel);\r\n    }\r\n}\r\n","import _isObject from 'lodash/isObject';\r\nimport HoldModel from './HoldModel';\r\nimport BaseCollection from '../base/BaseCollection';\r\n\r\n/**\r\n * Collection of `HoldModel`s\r\n *\r\n * Provides methods to create `HoldModel`s, used by `AirportModel`\r\n * and `WaypointModel` for configuring hold\r\n *\r\n * @class HoldCollection\r\n * @extends BaseCollection\r\n */\r\nexport default class HoldCollection extends BaseCollection {\r\n    /**\r\n     * @constructor\r\n     * @param holdJson {object}\r\n     */\r\n    constructor(holdJson) {\r\n        super();\r\n\r\n        // holdsJson is permitted to be null/undefined/empty, but if valid must be an object\r\n        if (holdJson != null && !_isObject(holdJson)) {\r\n            throw new TypeError(\r\n                `Invalid holdJson parameter passed to HoldCollection. Expected an object but found ${typeof holdJson}`\r\n            );\r\n        }\r\n\r\n        /**\r\n         * @inherited\r\n         * @memberof BaseCollection\r\n         * @property _items\r\n         * @type {array<HoldModel>}\r\n         * @default []\r\n         */\r\n\r\n        /**\r\n         * @inherited\r\n         * @memberof BaseCollection\r\n         * @property length\r\n         * @type {number}\r\n         * @default #_items.length\r\n         */\r\n\r\n        this._init(holdJson);\r\n    }\r\n\r\n    /**\r\n     * Public fascade for `#_items`\r\n     *\r\n     * @for HoldCollection\r\n     * @property holds\r\n     * @return {array<HoldModel>}\r\n     */\r\n    get holds() {\r\n        return this._items;\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * Initialize the instance\r\n     *\r\n     * @for HoldCollection\r\n     * @method _init\r\n     * @param holdJson {object}\r\n     */\r\n    _init(holdJson) {\r\n        this.populateHolds(holdJson);\r\n    }\r\n\r\n    /**\r\n     * @for HoldCollection\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        this.holds.forEach((item) => item.reset());\r\n\r\n        this._items = [];\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * Returns a flag indicating whether the `fixName` exists within the collection\r\n     *\r\n     * @for HoldCollection\r\n     * @method containsHoldForFix\r\n     * @param fixName {string}\r\n     * @return {boolean}\r\n     */\r\n    containsHoldForFix(fixName) {\r\n        if (!fixName) {\r\n            return false;\r\n        }\r\n\r\n        fixName = fixName.toUpperCase();\r\n\r\n        return this._items.some((hold) => hold.fixName === fixName);\r\n    }\r\n\r\n    /**\r\n     * Find holdParameters by `fixName` if it exists within the collection\r\n     *\r\n     * @for HoldCollection\r\n     * @method findHoldParametersByFix\r\n     * @param fixName {string}\r\n     * @return {object|null}\r\n     */\r\n    findHoldParametersByFix(fixName) {\r\n        if (!fixName) {\r\n            return null;\r\n        }\r\n\r\n        fixName = fixName.toUpperCase();\r\n\r\n        const model = this._items.find((hold) => hold.fixName === fixName);\r\n\r\n        return model ? model.holdParameters : null;\r\n    }\r\n\r\n    /**\r\n     * Populates the hold collection with the specified holds object\r\n     *\r\n     * @for HoldCollection\r\n     * @method populateHolds\r\n     * @param holdJson {object}\r\n     */\r\n    populateHolds(holdJson) {\r\n        if (!holdJson) {\r\n            return;\r\n        }\r\n\r\n        // Check for duplicate fixName as multiple collections may have to be combined\r\n        // by the `NavigationLibrary` in the future\r\n        Object.keys(holdJson).forEach((fixName) => {\r\n            if (this.containsHoldForFix(fixName)) {\r\n                return;\r\n            }\r\n\r\n            this._items.push(new HoldModel(fixName, holdJson[fixName]));\r\n        });\r\n    }\r\n}\r\n","import _isString from 'lodash/isString';\r\nimport BaseModel from '../base/BaseModel';\r\nimport { radians_normalize } from '../math/circle';\r\nimport { isValidCourseString, isValidDirectionString } from '../commands/parsers/argumentValidators';\r\nimport { directionNormalizer, isLegLengthArg } from '../commands/parsers/argumentParsers';\r\nimport { parseSpeedRestriction } from '../utilities/navigationUtilities';\r\nimport { degreesToRadians } from '../utilities/unitConverters';\r\n\r\n/**\r\n * Defines a navigational `HoldModel`\r\n *\r\n * A `HoldModel` is used to specify how a hold executed at\r\n * a specific fix\r\n *\r\n * @class HoldModel\r\n */\r\nexport default class HoldModel extends BaseModel {\r\n    /**\r\n     * @for HoldModel\r\n     * @constructor\r\n     * @param fixName {string}\r\n     * @param holdString {string}\r\n     */\r\n    constructor(fixName, holdString) {\r\n        super();\r\n\r\n        if (!_isString(fixName)) {\r\n            throw new TypeError(\r\n                `Invalid parameter, fixName must be a string, but found ${typeof fixName}`\r\n            );\r\n        } else if (!_isString(holdString)) {\r\n            throw new TypeError(\r\n                `Invalid parameter, holdString must be a string, but found ${typeof holdString}`\r\n            );\r\n        }\r\n\r\n        /**\r\n         * Name of the Fix\r\n         *\r\n         * @property fixName\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.fixName = '';\r\n\r\n        /**\r\n         * The parameters of the hold\r\n         *\r\n         * @property holdParameters\r\n         * @type {object}\r\n         * @default null\r\n         */\r\n        this.holdParameters = null;\r\n\r\n        this._init(fixName, holdString);\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * Initialize the model\r\n     *\r\n     * @for HoldModel\r\n     * @method _init\r\n     * @param fixName {string}\r\n     * @param holdString {string}\r\n     * @private\r\n     */\r\n    _init(fixName, holdString) {\r\n        this.fixName = fixName;\r\n        this.holdParameters = this._buildHoldParameters(holdString);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for MapModel\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        this.fixName = '';\r\n        this.holdParameters = null;\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * Builds the HoldParameters from the specified string\r\n     *\r\n     * @for HoldModel\r\n     * @method _buildHoldParameters\r\n     * @param holdString {string}\r\n     * @returns {object}\r\n     * @private\r\n     */\r\n    _buildHoldParameters(holdString) {\r\n        const holdParameters = {};\r\n\r\n        holdString.split('|').forEach((item) => {\r\n            if (holdParameters.inboundHeading == null && isValidCourseString(item)) {\r\n                holdParameters.inboundHeading = radians_normalize(degreesToRadians(180 + parseInt(item, 10)));\r\n\r\n                return;\r\n            }\r\n\r\n            if (holdParameters.turnDirection == null && isValidDirectionString(item)) {\r\n                holdParameters.turnDirection = directionNormalizer(item);\r\n\r\n                return;\r\n            }\r\n\r\n            if (holdParameters.legLength == null && isLegLengthArg(item)) {\r\n                holdParameters.legLength = item;\r\n\r\n                return;\r\n            }\r\n\r\n            // The speed limit can be optional, but it tends to imply ICAO speed restrictions\r\n            const [value, limit] = parseSpeedRestriction(item);\r\n            if (value != null) {\r\n                if (limit !== '-') {\r\n                    throw new Error(`Invalid speedMaximum parameter for Fix '${this.fixName}': ${item} is not valid`);\r\n                }\r\n\r\n                holdParameters.speedMaximum = value;\r\n\r\n                return;\r\n            }\r\n\r\n            throw new Error(`Unexpected parameter for Fix '${this.fixName}': ${item}`);\r\n        });\r\n\r\n        if (holdParameters.inboundHeading == null) {\r\n            throw new Error(`Missing radial parameter for Fix '${this.fixName}': ${holdString}`);\r\n        }\r\n\r\n        if (holdParameters.turnDirection == null) {\r\n            throw new Error(`Missing turnDirection parameter for Fix '${this.fixName}': ${holdString}`);\r\n        }\r\n\r\n        if (holdParameters.legLength == null) {\r\n            throw new Error(`Missing legLength parameter for Fix '${this.fixName}': ${holdString}`);\r\n        }\r\n\r\n        return holdParameters;\r\n    }\r\n}\r\n","import _filter from 'lodash/filter';\r\nimport _flatten from 'lodash/flatten';\r\nimport _forEach from 'lodash/forEach';\r\nimport _isNil from 'lodash/isNil';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport _map from 'lodash/map';\r\nimport _without from 'lodash/without';\r\nimport _uniq from 'lodash/uniq';\r\nimport AirwayModel from './AirwayModel';\r\nimport FixCollection from './FixCollection';\r\nimport HoldCollection from './HoldCollection';\r\nimport ProcedureModel from './ProcedureModel';\r\nimport StaticPositionModel from '../base/StaticPositionModel';\r\nimport { PROCEDURE_TYPE } from '../constants/routeConstants';\r\nimport { degreesToRadians } from '../utilities/unitConverters';\r\nimport { INVALID_INDEX } from '../constants/globalConstants';\r\n\r\n/**\r\n *\r\n *\r\n * @class NavigationLibrary\r\n */\r\nclass NavigationLibrary {\r\n    /**\r\n     * @constructor\r\n     * @for NavigationLibrary\r\n     * @param airportJson {object}\r\n     */\r\n    constructor() {\r\n        this._airwayCollection = {};\r\n\r\n        /**\r\n         * Collection of all `HoldModel`s for the airport region\r\n         *\r\n         * @property holdCollection\r\n         * @type {HoldCollection}\r\n         * @default HoldCollection()\r\n         */\r\n        this._holdCollection = new HoldCollection();\r\n\r\n        // /**\r\n        //  *\r\n        //  *\r\n        //  * @property _sidCollection\r\n        //  * @type {StandardRoute}\r\n        //  * @default null\r\n        //  */\r\n        // this._sidCollection = null;\r\n        //\r\n        // /**\r\n        //  *\r\n        //  *\r\n        //  * @property _starCollection\r\n        //  * @type {StandardRoute}\r\n        //  * @default null\r\n        //  */\r\n        // this._starCollection = null;\r\n\r\n        /**\r\n         *\r\n         *\r\n         * @property _procedureCollection\r\n         * @type {array}\r\n         * @default {}\r\n         */\r\n        this._procedureCollection = {};\r\n\r\n        /**\r\n         *\r\n         *\r\n         * @property _referencePosition\r\n         * @type {StaticPositionModel}\r\n         * @default null\r\n         */\r\n        this._referencePosition = null;\r\n\r\n        /**\r\n         * additional information to draw the procedures on the screen\r\n         *\r\n         * @property _procedureLines\r\n         * @type {array}\r\n         * @default {}\r\n         */\r\n        this._procedureLines = {};\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @for NavigationLibrary\r\n     * @property hasSids\r\n     * @type {boolean}\r\n     */\r\n    get hasSids() {\r\n        const sidProcedureModels = _filter(this._procedureCollection, (procedure) => {\r\n            return procedure.procedureType === PROCEDURE_TYPE.SID;\r\n        });\r\n\r\n        return sidProcedureModels.length > 0;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @for NavigationLibrary\r\n     * @property hasStars\r\n     * @type {boolean}\r\n     */\r\n    get hasStars() {\r\n        const starProcedureModels = _filter(this._procedureCollection, (procedure) => {\r\n            return procedure.procedureType === PROCEDURE_TYPE.STAR;\r\n        });\r\n\r\n        return starProcedureModels.length > 0;\r\n    }\r\n\r\n    // get sidCollection() {\r\n    //     return _filter(this._procedureCollection, (procedure) => procedure.procedureType === PROCEDURE_TYPE.SID);\r\n    // }\r\n    //\r\n    // get starCollection() {\r\n    //     return _filter(this._procedureCollection, (procedure) => procedure.procedureType === PROCEDURE_TYPE.STAR);\r\n    // }\r\n\r\n    /**\r\n     *\r\n     * @for NavigationLibrary\r\n     * @property realFixes\r\n     * @type {array<FixModel>}\r\n     */\r\n    get realFixes() {\r\n        return FixCollection.findRealFixes();\r\n    }\r\n\r\n    /**\r\n     * Set initial instance properties\r\n     *\r\n     * May be run multiple times on an instance. Subsequent calls to this method\r\n     * should happen only after a call to `.reset()`\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method init\r\n     */\r\n    init(airportJson) {\r\n        const {\r\n            airways, fixes, holds, sids, stars\r\n        } = airportJson;\r\n\r\n        this._initializeReferencePosition(airportJson);\r\n        this._initializeFixCollection(fixes);\r\n        this._initializeAirwayCollection(airways);\r\n        this._initializeHoldCollection(holds);\r\n        this._initializeProcedureCollection(sids, stars);\r\n        this._initializeSidLines();\r\n        this._initializeStarLines();\r\n        this._showConsoleWarningForUndefinedFixes();\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method _initializeAirwayCollection\r\n     * @param airways {object} - airways to add to the collection.\r\n     */\r\n    _initializeAirwayCollection(airways) {\r\n        _forEach(airways, (fixNames, airwayName) => {\r\n            if (airwayName in this._airwayCollection) {\r\n                throw new TypeError(`Expected single definition for \"${airwayName}\" airway, but received multiple`);\r\n            }\r\n\r\n            this._airwayCollection[airwayName] = new AirwayModel(airwayName, fixNames, this);\r\n        });\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method _initializeFixCollection\r\n     * @param fixes {object} - fixes to add to the collection.\r\n     */\r\n    _initializeFixCollection(fixes) {\r\n        FixCollection.addItems(fixes, this._referencePosition);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method _initializeHoldCollection\r\n     * @param holds {object} - non-procedural holds to add to the collection.\r\n     */\r\n    _initializeHoldCollection(holds) {\r\n        this._holdCollection.populateHolds(holds);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method _initializeProcedureCollection\r\n     * @param sids {object} - SIDs to add to the collection\r\n     * @param stars {object} - STARs to add to the collection\r\n     */\r\n    _initializeProcedureCollection(sids, stars) {\r\n        _forEach(sids, (sid, sidId) => {\r\n            if (sidId in this._procedureCollection) {\r\n                throw new TypeError(`Expected single definition for '${sidId}' procedure, but received multiple`);\r\n            }\r\n\r\n            this._procedureCollection[sidId] = new ProcedureModel(PROCEDURE_TYPE.SID, sid);\r\n        });\r\n\r\n        _forEach(stars, (star, starId) => {\r\n            if (starId in this._procedureCollection) {\r\n                throw new TypeError(`Expected single definition for '${starId}' procedure, but received multiple`);\r\n            }\r\n\r\n            this._procedureCollection[starId] = new ProcedureModel(PROCEDURE_TYPE.STAR, star);\r\n        });\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method _initializeReferencePosition\r\n     * @param airportJson {object}\r\n     */\r\n    _initializeReferencePosition(airportJson) {\r\n        this._referencePosition = new StaticPositionModel(\r\n            airportJson.position,\r\n            null,\r\n            degreesToRadians(airportJson.magnetic_north)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Generate lines for SIDs and add them to the procedure lines\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method _initializeSidLines\r\n     */\r\n    _initializeSidLines() {\r\n        const sids = this.getProceduresByType(PROCEDURE_TYPE.SID);\r\n        this._procedureLines[PROCEDURE_TYPE.SID] = this._buildProcedureLine(sids);\r\n    }\r\n\r\n    /**\r\n     * Generate lines for STARs and add them to the procedure lines\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method _initializeStarLines\r\n     */\r\n    _initializeStarLines() {\r\n        const stars = this.getProceduresByType(PROCEDURE_TYPE.STAR);\r\n        this._procedureLines[PROCEDURE_TYPE.STAR] = this._buildProcedureLine(stars);\r\n    }\r\n\r\n    /**\r\n     * Generate lines for prodecures and return the resulting lines.\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method _buildProcedureLine\r\n     * @param procedures {array<ProcedureModel>}\r\n     * @return {array<object>}\r\n     */\r\n    _buildProcedureLine(procedures) {\r\n        const procedureLines = [];\r\n\r\n        // TODO: simplify/rector these nested loops.\r\n        for (let i = 0; i < procedures.length; i++) {\r\n            const procedure = procedures[i];\r\n            const lines = [];\r\n            const exits = [];\r\n            let firstFixName = null;\r\n            let mostRecentFixName = '';\r\n\r\n            for (let j = 0; j < procedure.draw.length; j++) {\r\n                const fixList = procedure.draw[j];\r\n                const positions = [];\r\n\r\n                for (let k = 0; k < fixList.length; k++) {\r\n                    const fixName = fixList[k];\r\n                    mostRecentFixName = fixName;\r\n\r\n                    if (fixName.indexOf('*') !== INVALID_INDEX) {\r\n                        mostRecentFixName = fixName.replace('*', '');\r\n                        exits.push(mostRecentFixName);\r\n                    }\r\n\r\n                    const fixPosition = this.getFixRelativePosition(mostRecentFixName);\r\n\r\n                    if (!fixPosition) {\r\n                        console.warn(`Unable to draw line to '${fixName}' because its position is not defined!`);\r\n                        continue;\r\n                    }\r\n\r\n                    if (firstFixName === null) {\r\n                        firstFixName = mostRecentFixName;\r\n                    }\r\n\r\n                    positions.push(fixPosition);\r\n                }\r\n\r\n                if (positions.length > 1) {\r\n                    lines.push(positions);\r\n                }\r\n            }\r\n\r\n            procedureLines.push({\r\n                identifier: procedure.icao,\r\n                lines: lines,\r\n                firstFixName: firstFixName,\r\n                lastFixName: mostRecentFixName,\r\n                exits: exits\r\n            });\r\n        }\r\n\r\n        return procedureLines;\r\n    }\r\n\r\n    /**\r\n     * Tear down the instance\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        FixCollection.removeItems();\r\n        this._holdCollection.reset();\r\n\r\n        this._airwayCollection = {};\r\n        this._procedureCollection = {};\r\n        this._referencePosition = null;\r\n        this._procedureLines = {};\r\n    }\r\n\r\n    // /**\r\n    //  * Given a `procedureRouteSegment`, find and assemble a list\r\n    //  * of `WaypointModel` objects to be used with a `LegModel`\r\n    //  * in the Fms.\r\n    //  *\r\n    //  * @for NavigationLibrary\r\n    //  * @method buildWaypointModelsForProcedure\r\n    //  * @param procedureRouteSegment {string}  of the shape `ENTRY.PROCEDURE_NAME.EXIT`\r\n    //  * @param runway {string}                 assigned runway\r\n    //  * @param flightPhase {string}            current phase of flight\r\n    //  * @return {array<WaypointModel>}\r\n    //  */\r\n    // buildWaypointModelsForProcedure(procedureRouteSegment, runway, flightPhase) {\r\n    //     const routeModel = new RouteModel(procedureRouteSegment);\r\n    //     let standardRouteWaypointModelList;\r\n    //\r\n    //     if (this.isGroundedFlightPhase(flightPhase)) {\r\n    //         standardRouteWaypointModelList = this.sidCollection.generateFmsWaypointModelsForRoute(\r\n    //             routeModel.procedure,\r\n    //             runway,\r\n    //             routeModel.exit\r\n    //         );\r\n    //     } else {\r\n    //         standardRouteWaypointModelList = this.starCollection.generateFmsWaypointModelsForRoute(\r\n    //             routeModel.procedure,\r\n    //             routeModel.entry,\r\n    //             runway\r\n    //         );\r\n    //     }\r\n    //\r\n    //     return standardRouteWaypointModelList;\r\n    // }\r\n    //\r\n    // /**\r\n    //  * Find the `StandardRouteWaypointModel` objects for a given route.\r\n    //  *\r\n    //  * @for NavigationLibrary\r\n    //  * @method findWaypointModelsForSid\r\n    //  * @param id {string}\r\n    //  * @param runway {string}\r\n    //  * @param exit {string}\r\n    //  * @return {array<StandardWaypointModel>}\r\n    //  */\r\n    // findWaypointModelsForSid(id, runway, exit) {\r\n    //     return this.sidCollection.findRouteWaypointsForRouteByEntryAndExit(id, runway, exit);\r\n    // }\r\n    //\r\n    // /**\r\n    //  * Find the `StandardRouteWaypointModel` objects for a given route.\r\n    //  *\r\n    //  * @for NavigationLibrary\r\n    //  * @method findWaypointModelsForStar\r\n    //  * @param id {string}\r\n    //  * @param entry {string}\r\n    //  * @param runway {string}\r\n    //  * @param isPreSpawn {boolean} flag used to determine if distances between waypoints should be calculated\r\n    //  * @return {array<StandardWaypointModel>}\r\n    //  */\r\n    // findWaypointModelsForStar(id, entry, runway, isPreSpawn = false) {\r\n    //     return this.starCollection.findRouteWaypointsForRouteByEntryAndExit(id, entry, runway, isPreSpawn);\r\n    // }\r\n    //\r\n    // /**\r\n    //  * Finds the collectionName a given `procedureId` belongs to.\r\n    //  *\r\n    //  * This is useful when trying to find a particular route without\r\n    //  * knowing, first, what collection it may be a part of. Like when\r\n    //  * validating a user entered route.\r\n    //  *\r\n    //  * @for NavigationLibrary\r\n    //  * @method findCollectionNameForProcedureId\r\n    //  * @param procedureId {string}\r\n    //  * @return collectionName {string}\r\n    //  */\r\n    // findCollectionNameForProcedureId(procedureId) {\r\n    //     let collectionName = '';\r\n    //\r\n    //     if (this.sidCollection.hasRoute(procedureId)) {\r\n    //         collectionName = 'sidCollection';\r\n    //     } else if (this.starCollection.hasRoute(procedureId)) {\r\n    //         collectionName = 'starCollection';\r\n    //     }\r\n    //\r\n    //     return collectionName;\r\n    // }\r\n\r\n    /**\r\n     * Facade for `HoldCollection.findHoldParametersByFix`\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method findHoldParametersByFix\r\n     * @param fixName {string}\r\n     * @return {object|null}\r\n     */\r\n    findHoldParametersByFix(fixName) {\r\n        return this._holdCollection.findHoldParametersByFix(fixName);\r\n    }\r\n\r\n    /**\r\n     * Facade Method\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method findFixByName\r\n     * @param fixName {string}\r\n     * @return {FixModel|undefined}\r\n     */\r\n    findFixByName(fixName) {\r\n        return FixCollection.findFixByName(fixName);\r\n    }\r\n\r\n    /**\r\n     * Return the corresponding AirwayModel with the specified identifier\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method getAirway\r\n     * @return {AirwayModel}\r\n     */\r\n    getAirway(airwayId) {\r\n        if (!this.hasAirway(airwayId)) {\r\n            return null;\r\n        }\r\n\r\n        return this._airwayCollection[airwayId];\r\n    }\r\n\r\n    /**\r\n     * Return the corresponding ProcedureModel with the specified identifier\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method getProcedure\r\n     * @param procedureId {string}\r\n     * @return {ProcedureModel}\r\n     */\r\n    getProcedure(procedureId) {\r\n        if (!this.hasProcedure(procedureId)) {\r\n            return null;\r\n        }\r\n\r\n        return this._procedureCollection[procedureId];\r\n    }\r\n\r\n    /**\r\n    * Return a list of ProcedureModel with the specified procedure type\r\n    *\r\n    * @for NavigationLibrary\r\n    * @method getProceduresByType\r\n    * @param procedureType {string}\r\n    * @return {array<ProcedureModel>}\r\n    */\r\n    getProceduresByType(procedureType) {\r\n        return _filter(this._procedureCollection, (procedureModel) => {\r\n            return !_isEmpty(procedureModel) && procedureModel.procedureType === procedureType;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Facade Method\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method getFixRelativePosition\r\n     * @param fixName {string}\r\n     * @return {array<number>}\r\n     */\r\n    getFixRelativePosition(fixName) {\r\n        return FixCollection.getFixRelativePosition(fixName);\r\n    }\r\n\r\n    /**\r\n     * Facade Method\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method getFixSpokenName\r\n     * @param fixName {string}\r\n     * @return {string}\r\n     */\r\n    getFixSpokenName(fixName) {\r\n        return FixCollection.getFixSpokenName(fixName);\r\n    }\r\n\r\n    /**\r\n     *\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method getProcedureLines\r\n     * @param procedureId {string}\r\n     * @return {array}\r\n     */\r\n    getProcedureLines(procedureId) {\r\n        return this._procedureLines[procedureId];\r\n    }\r\n\r\n    /**\r\n     * Return whether the specified airway identifier is listed in the #_airwayCollection\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method hasAirway\r\n     * @param airwayId {string}\r\n     * @return {boolean}\r\n     */\r\n    hasAirway(airwayId) {\r\n        return airwayId in this._airwayCollection;\r\n    }\r\n\r\n    /**\r\n    * Provides a way to check the `FixCollection` for the existence\r\n    * of a specific `fixName`.\r\n    *\r\n    * @for NavigationLibrary\r\n    * @method hasFixName\r\n    * @param fixName {string}\r\n    * @return {boolean}\r\n    */\r\n    hasFixName(fixName) {\r\n        const fixOrNull = this.findFixByName(fixName);\r\n\r\n        return !_isNil(fixOrNull);\r\n    }\r\n\r\n    /**\r\n    * Provides a way to check for the existence\r\n    * of a specific `procedureId`.\r\n    *\r\n    * @for NavigationLibrary\r\n    * @method hasProcedure\r\n    * @param procedureId {string}\r\n    * @return {boolean}\r\n    */\r\n    hasProcedure(procedureId) {\r\n        return procedureId in this._procedureCollection;\r\n    }\r\n\r\n    /**\r\n     * Check all fixes used in procedures, and gather a list of any fixes that are\r\n     * not defined in the `fixes` section of the airport file, then sort and print\r\n     * that list to the console.\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method _showConsoleWarningForUndefinedFixes\r\n     */\r\n    _showConsoleWarningForUndefinedFixes() {\r\n        const allFixNames = this._getAllFixNamesInUse();\r\n        const missingFixes = allFixNames.filter((fix) => !FixCollection.findFixByName(fix));\r\n\r\n        if (missingFixes.length < 1) {\r\n            return;\r\n        }\r\n\r\n        console.warn(`The following fixes have yet to be defined in the \"fixes\" section: \\n${missingFixes}`);\r\n    }\r\n\r\n    /**\r\n     * Gathers a unique, sorted list of all fixes used in all known procedures\r\n     *\r\n     * @for NavigationLibrary\r\n     * @method _getAllFixNamesInUse\r\n     * @return {array<string>} ['fixxa', 'fixxb', 'fixxc', ...]\r\n     * @private\r\n     */\r\n    _getAllFixNamesInUse() {\r\n        const airwayFixes = _map(this._airwayCollection, (airwayModel) => airwayModel.fixNameCollection);\r\n        const fixGroups = _map(this._procedureCollection, (procedureModel) => procedureModel.getAllFixNamesInUse());\r\n        const uniqueFixNames = _without(_uniq(_flatten([...airwayFixes, ...fixGroups])), undefined);\r\n\r\n        return uniqueFixNames.sort();\r\n    }\r\n}\r\n\r\nexport default new NavigationLibrary();\r\n","import _forEach from 'lodash/forEach';\r\nimport _isArray from 'lodash/isArray';\r\nimport _isNil from 'lodash/isNil';\r\nimport _map from 'lodash/map';\r\nimport _random from 'lodash/random';\r\nimport _uniq from 'lodash/uniq';\r\nimport WaypointModel from '../aircraft/FlightManagementSystem/WaypointModel';\r\nimport HoldCollection from './HoldCollection';\r\nimport { PROCEDURE_TYPE } from '../constants/routeConstants';\r\n\r\n/**\r\n * Generic class for instrument procedures of multiple types, such as SIDs/STARs\r\n *\r\n * Used by FMS to generate waypoints from instrument procedures outlined in an\r\n * airport's JSON file. The FMS is given a route on spawn, or a reroute by a\r\n * controller, and if it contains a procedure, it will look up the associated\r\n * `ProcedureModel`, and request the waypoints for that procedure at\r\n * the planned entry and exit points, which are then consumed by the FMS for\r\n * navigation purposes.\r\n *\r\n * @class ProcedureModel\r\n */\r\nexport default class ProcedureModel {\r\n    /**\r\n     * @for ProcedureModel\r\n     * @constructor\r\n     * @param procedureType {string} must belong to the `PROCEDURE_TYPE` enum\r\n     * @param data {object} JSON data from airport file\r\n     */\r\n    constructor(procedureType, data) {\r\n        if (_isNil(data)) {\r\n            throw new TypeError(`Expected valid procedure data, but received '${data}'`);\r\n        }\r\n\r\n        /**\r\n         * Body segment of the procedure\r\n         *\r\n         * All possible routes will contain all waypoints from the body, regardless\r\n         * of where they enter or exit the procedure. Does not necessarily contain\r\n         * any waypoints, provided that no combination of entry/exit would result\r\n         * in fewer than two waypoints.\r\n         *\r\n         * @property _body\r\n         * @type {array<array<string>|<string>>}\r\n         * @default []\r\n         * @private\r\n         */\r\n        this._body = [];\r\n\r\n        /**\r\n         * 2D array describing the lines needed to be drawn between fixes in order\r\n         * to properly depict the procedure's path on the scope\r\n         *\r\n         * [\r\n         *     ['FIXXA', 'FIXXB', 'FIXXC'],\r\n         *     ['FIXXA', 'FIXXC']\r\n         * ]\r\n         *\r\n         * @property _draw\r\n         * @type {array<array<string>>}\r\n         * @default []\r\n         * @private\r\n         */\r\n        this._draw = [];\r\n\r\n        /**\r\n         * All fixes where aircraft may enter the procedure\r\n         *\r\n         * Each entry fix is a key in this property, whose value is a list of (restrictable)\r\n         * fixes to follow on that entry in order to join the body of the procedure.\r\n         *\r\n         * @property _entryPoints\r\n         * @type {array<array<string>|<string>>}\r\n         * @default {}\r\n         * @private\r\n         */\r\n        this._entryPoints = {};\r\n\r\n        /**\r\n         * All fixes where aircraft may exit the procedure\r\n         *\r\n         * Each exit fix is a key in this property, whose value is a list of (restrictable)\r\n         * fixes to follow on that exit in order to leave the procedure.\r\n         *\r\n         * @property _exitPoints\r\n         * @type {array<array<string>|<string>>}\r\n         * @default {}\r\n         * @private\r\n         */\r\n        this._exitPoints = {};\r\n\r\n        /**\r\n         * The ICAO identifier for this procedure\r\n         *\r\n         * @property _icao\r\n         * @type {string}\r\n         * @default ''\r\n         * @private\r\n         */\r\n        this._icao = '';\r\n\r\n        /**\r\n         * The collection of holds for this procedure\r\n         *\r\n         * @property _holdCollection\r\n         * @type {HoldCollection}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._holdCollection = null;\r\n\r\n        /**\r\n         * The verbally spoken name of the procedure\r\n         *\r\n         * Nonstandard spellings may be used to achieve the desired pronunciations,\r\n         * since this is only used for speech synthesis.\r\n         *\r\n         * @property _name\r\n         * @type {string}\r\n         * @default ''\r\n         * @private\r\n         */\r\n        this._name = '';\r\n\r\n        /**\r\n         * The type of instrument procedure (must be one of `PROCEDURE_TYPE`)\r\n         *\r\n         * @property _procedureType\r\n         * @type {string}\r\n         * @default ''\r\n         * @private\r\n         */\r\n        this._procedureType = '';\r\n\r\n        /**\r\n         * The initial climb clearance (only for SIDs)\r\n         *\r\n         * @property _altitude\r\n         * @type {number}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._altitude = null;\r\n\r\n        this.init(procedureType, data);\r\n    }\r\n\r\n    /**\r\n     * Return value of `#_draw`\r\n     *\r\n     * @for ProcedureModel\r\n     * @property draw\r\n     * @type {array}\r\n     */\r\n    get draw() {\r\n        return this._draw;\r\n    }\r\n\r\n    /**\r\n     * Return value of `#_icao`\r\n     *\r\n     * @for ProcedureModel\r\n     * @property icao\r\n     * @type {string}\r\n     */\r\n    get icao() {\r\n        return this._icao;\r\n    }\r\n\r\n    /**\r\n     * Return value of `#_name`\r\n     *\r\n     * @for ProcedureModel\r\n     * @property name\r\n     * @type {string}\r\n     */\r\n    get name() {\r\n        return this._name;\r\n    }\r\n\r\n    /**\r\n     * Return value of `#_procedureType`\r\n     *\r\n     * @for ProcedureModel\r\n     * @property procedureType\r\n     * @type {string}\r\n     */\r\n    get procedureType() {\r\n        return this._procedureType;\r\n    }\r\n\r\n    /**\r\n     * Return value of `#_altitude`\r\n     *\r\n     * @for ProcedureModel\r\n     * @property altitude\r\n     * @type {number}\r\n     */\r\n    get altitude() {\r\n        return this._altitude;\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * Initialize instance properties\r\n     *\r\n     * @for ProcedureModel\r\n     * @method init\r\n     * @param procedureType {string} must belong to the `PROCEDURE_TYPE` enum\r\n     * @param data {object} JSON data from airport file\r\n     * @chainable\r\n     */\r\n    init(procedureType, data) {\r\n        this._body = data.body;\r\n        this._draw = data.draw;\r\n        this._holdCollection = new HoldCollection(data.holds);\r\n        this._icao = data.icao;\r\n        this._name = data.name;\r\n        this._altitude = data.altitude;\r\n        this._procedureType = procedureType;\r\n\r\n        if (this._procedureType === PROCEDURE_TYPE.SID) {\r\n            return this._initEntriesAndExitsForSid(data);\r\n        } else if (this._procedureType === PROCEDURE_TYPE.STAR) {\r\n            return this._initEntriesAndExitsForStar(data);\r\n        }\r\n\r\n        throw new TypeError('Expected procedure definition with known type, ' +\r\n            `but received unknown type '${this._procedureType}'`);\r\n    }\r\n\r\n    /**\r\n     * Reset instance properties\r\n     *\r\n     * @for ProcedureModel\r\n     * @method reset\r\n     * @chainable\r\n     */\r\n    reset() {\r\n        this._body = [];\r\n        this._draw = [];\r\n        this._entryPoints = {};\r\n        this._exitPoints = {};\r\n        this._icao = '';\r\n        this._name = '';\r\n        this._procedureType = '';\r\n        this._altitude = null;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Initialize `#_entryPoints` and `#_exitPoints` for 'SID' procedure\r\n     *\r\n     * @for ProcedureModel\r\n     * @method _initEntriesAndExitsForSid\r\n     * @param data {object} JSON data from airport file\r\n     * @private\r\n     * @chainable\r\n     */\r\n    _initEntriesAndExitsForSid(data) {\r\n        this._entryPoints = data.rwy;\r\n        this._exitPoints = data.exitPoints;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Initialize `#_entryPoints` and `#_exitPoints` for 'STAR' procedure\r\n     *\r\n     * @for ProcedureModel\r\n     * @method _initEntriesAndExitsForStar\r\n     * @param data {object} JSON data from airport file\r\n     * @private\r\n     * @chainable\r\n     */\r\n    _initEntriesAndExitsForStar(data) {\r\n        this._entryPoints = data.entryPoints;\r\n        this._exitPoints = data.rwy;\r\n\r\n        return this;\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * Return an array of names of all fixes existing in any segment of this procedure\r\n     *\r\n     * @for ProcedureModel\r\n     * @method getAllFixNamesInUse\r\n     * @return {array<string>}\r\n     */\r\n    getAllFixNamesInUse() {\r\n        if (!_isArray(this._draw[0])) {\r\n            throw new TypeError(`Invalid data set in draw segment of the ${this._icao} procedure. Expected a 2D ` +\r\n                'array: `[[FIXXA, FIXXB*], [FIXXC, FIXXD*]]`. Please see airport documentation for more information ' +\r\n                '(https://github.com/openscope/openscope/blob/develop/documentation/airport-format.md#sids).');\r\n        }\r\n\r\n        const entryFixNames = this._getFixNamesFromEntries();\r\n        const bodyFixNames = this._getFixNamesFromBody();\r\n        const exitFixNames = this._getFixNamesFromExits();\r\n        const drawFixNames = this._getFixNamesFromDraw();\r\n        const allFixNames = [...entryFixNames, ...bodyFixNames, ...exitFixNames, ...drawFixNames];\r\n        const uniqueFixNames = _uniq(allFixNames);\r\n\r\n        return uniqueFixNames;\r\n    }\r\n\r\n    /**\r\n     * Return the name of a randomly selected exit point\r\n     *\r\n     * @for ProcedureModel\r\n     * @method getRandomExitPoint\r\n     * @return {string}\r\n     */\r\n    getRandomExitPoint() {\r\n        const exitNames = Object.keys(this._exitPoints);\r\n        const maxIndex = exitNames.length - 1;\r\n        const randomIndex = _random(0, maxIndex);\r\n\r\n        return exitNames[randomIndex];\r\n    }\r\n\r\n    /**\r\n     * Return the name of the first entry point in the list\r\n     *\r\n     * NOTE: Since this will return whichever element appears first in the object,\r\n     * it should only really be useful when we are trying to get ANY valid entry point.\r\n     *\r\n     * The above is exactly the use case for which this was created: When given a clearance\r\n     * with a route that is invalid for the planned departure runway, we need to apply that\r\n     * route using ANY runway which is valid. When the aircraft is taxiied to a runway and\r\n     * cleared for takeoff, they will verify the procedure's compatibility with that runway.\r\n     *\r\n     * @for ProcedureModel\r\n     * @method getFirstEntryPoint\r\n     * @return {string}\r\n     */\r\n    getFirstEntryPoint() {\r\n        const entryNames = Object.keys(this._entryPoints);\r\n\r\n        if (entryNames.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        return entryNames[0];\r\n    }\r\n\r\n    /**\r\n     * Return the name of the first entry point if there is exactly one entry point.\r\n     *\r\n     * @for ProcedureModel\r\n     * @method getUniqueEntryPoint\r\n     * @return {string}\r\n     */\r\n    getUniqueEntryPoint() {\r\n        const entryNames = Object.keys(this._entryPoints);\r\n\r\n        if (entryNames.length !== 1) {\r\n            return '';\r\n        }\r\n\r\n        return entryNames[0];\r\n    }\r\n\r\n    /**\r\n    * Given an entry point and exit point, return a list of all applicable waypoints\r\n    *\r\n    * @for ProcedureModel\r\n    * @method getWaypointModelsForEntryAndExit\r\n    * @param entry {string} name of the requested entry point\r\n    * @param exit {string} name of the requested exit point\r\n    * @return {array<WaypointModel>}\r\n    */\r\n    getWaypointModelsForEntryAndExit(entry, exit) {\r\n        if (!(entry in this._entryPoints)) {\r\n            console.error(`Expected valid entry of ${this._icao}, but received ${entry}`);\r\n\r\n            return;\r\n        }\r\n\r\n        if (!(exit in this._exitPoints)) {\r\n            console.error(`Expected valid exit of ${this._icao}, but received ${exit}`);\r\n\r\n            return;\r\n        }\r\n\r\n        const entryWaypointModels = this._generateWaypointsForEntry(entry);\r\n        const bodyWaypointModels = this._generateWaypointsForBody();\r\n        const exitWaypointModels = this._generateWaypointsForExit(exit);\r\n\r\n        return [...entryWaypointModels, ...bodyWaypointModels, ...exitWaypointModels];\r\n    }\r\n\r\n    /**\r\n     * Return whether this procedure contains an entry point with the specified name\r\n     *\r\n     * @for ProcedureModel\r\n     * @method hasEntry\r\n     * @return {boolean}\r\n     */\r\n    hasEntry(entryName) {\r\n        return entryName in this._entryPoints;\r\n    }\r\n\r\n    /**\r\n     * Return whether this procedure contains an exit point with the specified name\r\n     *\r\n     * @for ProcedureModel\r\n     * @method hasExit\r\n     * @return {boolean}\r\n     */\r\n    hasExit(exitName) {\r\n        return exitName in this._exitPoints;\r\n    }\r\n\r\n    /**\r\n     * Returns whether this procedure is a SID\r\n     *\r\n     * @for ProcedureModel\r\n     * @method isSid\r\n     * @return {Boolean}\r\n     */\r\n    isSid() {\r\n        return this._procedureType === PROCEDURE_TYPE.SID;\r\n    }\r\n\r\n    /**\r\n     * Returns whether this procedure is a STAR\r\n     *\r\n     * @for ProcedureModel\r\n     * @method isStar\r\n     * @return {Boolean}\r\n     */\r\n    isStar() {\r\n        return this._procedureType === PROCEDURE_TYPE.STAR;\r\n    }\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    /**\r\n     * Generate a `WaypointModel` for the specified data\r\n     *\r\n     * @for ProcedureModel\r\n     * @method _generateWaypoint\r\n     * @param data {string|array<string>}\r\n     * @returns {WaypointModel}\r\n     * @private\r\n     */\r\n    _generateWaypoint(data) {\r\n        const waypoint = new WaypointModel(data);\r\n\r\n        const holdParameters = this._holdCollection.findHoldParametersByFix(waypoint.name);\r\n\r\n        if (holdParameters != null) {\r\n            waypoint.setDefaultHoldParameters(holdParameters);\r\n        }\r\n\r\n        return waypoint;\r\n    }\r\n\r\n    /**\r\n    * Generate new `WaypointModel`s for the body portion of the procedure\r\n    *\r\n    * @for ProcedureModel\r\n    * @method _generateWaypointsForBody\r\n    * @return {array<WaypointModel>}\r\n    * @private\r\n    */\r\n    _generateWaypointsForBody() {\r\n        return _map(this._body, (waypoint) => this._generateWaypoint(waypoint));\r\n    }\r\n\r\n    /**\r\n    * Generate new `WaypointModel`s for the specified entry\r\n    *\r\n    * @for ProcedureModel\r\n    * @method _generateWaypointsForEntry\r\n    * @param entryPoint {string} name of the requested entry point\r\n    * @return {array<WaypointModel>}\r\n    * @private\r\n    */\r\n    _generateWaypointsForEntry(entryPoint) {\r\n        if (!(entryPoint in this._entryPoints)) {\r\n            throw new TypeError(`Expected valid entry of ${this._icao}, but received ${entryPoint}`);\r\n        }\r\n\r\n        return _map(this._entryPoints[entryPoint], (waypoint) => this._generateWaypoint(waypoint));\r\n    }\r\n\r\n    /**\r\n    * Generate new `WaypointModel`s for the specified exit\r\n    *\r\n    * @for ProcedureModel\r\n    * @method _generateWaypointsForEntry\r\n    * @param exitPoint {string} name of the requested exit point\r\n    * @return {array<WaypointModel>}\r\n    * @private\r\n    */\r\n    _generateWaypointsForExit(exitPoint) {\r\n        if (!(exitPoint in this._exitPoints)) {\r\n            throw new TypeError(`Expected valid exit of ${this._icao}, but received ${exitPoint}`);\r\n        }\r\n\r\n        return _map(this._exitPoints[exitPoint], (waypoint) => this._generateWaypoint(waypoint));\r\n    }\r\n\r\n    /**\r\n     * Return an array containing names of all fixes existing in the body\r\n     *\r\n     * @for ProcedureModel\r\n     * @method _getFixNamesFromBody\r\n     * @return {array<string>}\r\n     * @private\r\n     */\r\n    _getFixNamesFromBody() {\r\n        return _map(this._body, (restrictedFix) => {\r\n            return this._getFixNameFromRestrictedFixArray(restrictedFix);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Return an array containing names of all fixes existing in the draw array\r\n     *\r\n     * @for ProcedureModel\r\n     * @method _getFixNamesFromDraw\r\n     * @return {array<string>}\r\n     * @private\r\n     */\r\n    _getFixNamesFromDraw() {\r\n        const drawFixNames = this._draw.reduce((fixList, lineSegment) => fixList.concat(lineSegment));\r\n        const drawFixNamesWithoutAsterisks = drawFixNames.map((fixName) => fixName.replace('*', ''));\r\n\r\n        return drawFixNamesWithoutAsterisks;\r\n    }\r\n\r\n    /**\r\n     * Return an array containing names of all fixes existing in any entry\r\n     *\r\n     * @for ProcedureModel\r\n     * @method _getFixNamesFromEntries\r\n     * @return {array<string>}\r\n     * @private\r\n     */\r\n    _getFixNamesFromEntries() {\r\n        let fixNames = [];\r\n\r\n        _forEach(this._entryPoints, (segment) => {\r\n            const fixesInSegment = _map(segment, (restrictedFix) => {\r\n                return this._getFixNameFromRestrictedFixArray(restrictedFix);\r\n            });\r\n\r\n            fixNames = fixNames.concat(fixesInSegment);\r\n        });\r\n\r\n        return _uniq(fixNames);\r\n    }\r\n\r\n    /**\r\n     * Return an array containing names of all fixes existing in any exit\r\n     *\r\n     * @for ProcedureModel\r\n     * @method _getFixNamesFromExits\r\n     * @return {array<string>}\r\n     * @private\r\n     */\r\n    _getFixNamesFromExits() {\r\n        let fixNames = [];\r\n\r\n        _forEach(this._exitPoints, (segment) => {\r\n            const fixesInSegment = _map(segment, (restrictedFix) => {\r\n                return this._getFixNameFromRestrictedFixArray(restrictedFix);\r\n            });\r\n\r\n            fixNames = fixNames.concat(fixesInSegment);\r\n        });\r\n\r\n        return _uniq(fixNames);\r\n    }\r\n\r\n    /**\r\n     * Return the name of a fix from a restrited-fix array\r\n     *\r\n     * Ex:    ['FIXXA', 'A100']    -->    'FIXXA'\r\n     *\r\n     * @for ProcedureModel\r\n     * @method _getFixNameFromRestrictedFixArray\r\n     * @param restrictedFix {array<string>}\r\n     * @return {string}\r\n     * @private\r\n     */\r\n    _getFixNameFromRestrictedFixArray(restrictedFix) {\r\n        if (_isArray(restrictedFix)) {\r\n            restrictedFix = restrictedFix[0];\r\n        }\r\n\r\n        if (restrictedFix.indexOf('#') !== -1) {\r\n            return;\r\n        }\r\n\r\n        return restrictedFix.replace('^', '').replace('@', '');\r\n    }\r\n}\r\n","import _filter from 'lodash/filter';\r\nimport _has from 'lodash/has';\r\nimport RadarTargetModel from './RadarTargetModel';\r\nimport BaseCollection from '../base/BaseCollection';\r\nimport EventBus from '../lib/EventBus';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport { THEME } from '../constants/themes';\r\n\r\n/**\r\n * Collection of `RadarTargetModel`s\r\n *\r\n * @class RadarTargetCollection\r\n */\r\nexport default class RadarTargetCollection extends BaseCollection {\r\n    /**\r\n     * @for RadarTargetCollection\r\n     * @constructor\r\n     * @param theme {object}\r\n     */\r\n    constructor(theme) {\r\n        super();\r\n\r\n        /**\r\n         * Local reference to the event bus\r\n         *\r\n         * @for RadarTargetModel\r\n         * @property _eventBus\r\n         * @type {EventBus}\r\n         */\r\n        this._eventBus = EventBus;\r\n\r\n        /**\r\n         * Current theme, updated via event bus events\r\n         *\r\n         * @for RadarTargetCollection\r\n         * @property _theme\r\n         * @type {object}\r\n         */\r\n        this._theme = theme;\r\n\r\n        this._init()\r\n            .enable();\r\n    }\r\n\r\n    /**\r\n     * Return a read-only reference to the collection array\r\n     *\r\n     * @for RadarTargetCollection\r\n     * @property items\r\n     * @type {array}\r\n     */\r\n    get items() {\r\n        return this._items;\r\n    }\r\n\r\n    /**\r\n     * Complete initialization tasks\r\n     *\r\n     * @for RadarTargetCollection\r\n     * @method _init\r\n     * @private\r\n     * @chainable\r\n     */\r\n    _init() {\r\n        return this;\r\n    }\r\n\r\n    /**\r\n    * Activate event handlers\r\n    *\r\n    * @for RadarTargetModel\r\n    * @method enable\r\n    */\r\n    enable() {\r\n        this._eventBus.on(EVENT.ADD_AIRCRAFT, this.addRadarTargetModelForAircraftModel);\r\n        this._eventBus.on(EVENT.SET_THEME, this._setTheme);\r\n    }\r\n\r\n    /**\r\n    * Deactivate event handlers\r\n    *\r\n    * @for RadarTargetModel\r\n    * @method disable\r\n    */\r\n    disable() {\r\n        this._eventBus.off(EVENT.ADD_AIRCRAFT, this.addRadarTargetModelForAircraftModel);\r\n        this._eventBus.off(EVENT.SET_THEME, this._setTheme);\r\n    }\r\n\r\n    /**\r\n     * Add the provided `RadarTargetModel` instance to the collection\r\n     *\r\n     * @for RadarTargetCollection\r\n     * @method addRadarTargetModel\r\n     * @param radarTargetModel {RadarTargetModel}\r\n     */\r\n    addRadarTargetModel(radarTargetModel) {\r\n        if (!(radarTargetModel instanceof RadarTargetModel)) {\r\n            throw new TypeError(`Expected instance of RadarTargetModel but received '${radarTargetModel}'`);\r\n        }\r\n\r\n        this._items.push(radarTargetModel);\r\n    }\r\n\r\n    /**\r\n     * Create `RadarTargetModel`s for the given `AircraftModel`\r\n     *\r\n     * @for RadarTargetCollection\r\n     * @method addRadarTargetModelForAircraftModel\r\n     * @param aircraftModel {AircraftModel}\r\n     */\r\n    addRadarTargetModelForAircraftModel = (aircraftModel) => {\r\n        const radarTargetModel = new RadarTargetModel(this._theme, aircraftModel);\r\n\r\n        this.addRadarTargetModel(radarTargetModel);\r\n    };\r\n\r\n    /**\r\n     * Get the radar target model object for the specified aircraft\r\n     *\r\n     * @for RadarTargetCollection\r\n     * @method findRadarTargetModelForAircraftModel\r\n     * @param aircraftModel {AircraftModel}\r\n     * @return radarTargetModel {RadarTargetModel}\r\n     */\r\n    findRadarTargetModelForAircraftModel(aircraftModel) {\r\n        // Store variable because `this` within lodash `_filter` has different scope\r\n        const radarTargetModels = this._items;\r\n        const results = _filter(\r\n            radarTargetModels,\r\n            (radarTargetModel) => radarTargetModel.aircraftModel.id === aircraftModel.id\r\n        );\r\n\r\n        if (results.length > 1) {\r\n            throw new Error(`Unable to get radar target because ${results.length} matching aircraft were found`);\r\n        }\r\n\r\n        const radarTargetModel = results[0];\r\n\r\n        return radarTargetModel;\r\n    }\r\n\r\n    // TODO: Allow us to choose an aircraft by its CID\r\n    /**\r\n     * Get the radar target model object for the specified aircraft\r\n     *\r\n     * @for RadarTargetCollection\r\n     * @method findRadarTargetModelForAircraftReference\r\n     * @param aircraftReference {string} the CID, squawk code, or callsign assigned to an aircraft\r\n     * @return radarTargetModel {RadarTargetModel}\r\n     */\r\n    findRadarTargetModelForAircraftReference(aircraftReference) {\r\n        // Store variable because `this` within lodash `_filter` has different scope\r\n        const radarTargetModels = this._items;\r\n        const results = _filter(radarTargetModels, ({ aircraftModel }) => {\r\n            return aircraftModel.transponderCode === aircraftReference ||\r\n                aircraftModel.callsign === aircraftReference;\r\n        });\r\n\r\n        if (results.length > 1) {\r\n            return;\r\n        }\r\n\r\n        const radarTargetModel = results[0];\r\n\r\n        return radarTargetModel;\r\n    }\r\n\r\n    /**\r\n     * Remove from the collection the radar target model associated with the specified aircraft model\r\n     *\r\n     * @for RadarTargetCollection\r\n     * @method removeRadarTargetModelForAircraftModel\r\n     * @param aircraftModel {AircraftModel}\r\n     */\r\n    removeRadarTargetModelForAircraftModel = (aircraftModel) => {\r\n        const collectionWithAircraftRemoved = _filter(this._items, (radarTargetModel) => {\r\n            return radarTargetModel.aircraftModel.id !== aircraftModel.id;\r\n        });\r\n\r\n        this._items = collectionWithAircraftRemoved;\r\n    };\r\n\r\n    /**\r\n    * Reset all properties to their default values\r\n    *\r\n    * @for RadarTargetCollection\r\n    * @method reset\r\n    */\r\n    reset() {\r\n        this._items = [];\r\n    }\r\n\r\n    /**\r\n     * Reset all radar target models to default state\r\n     *\r\n     * @for RadarTargetCollection\r\n     * @method resetAllRadarTargets\r\n     */\r\n    resetAllRadarTargets() {\r\n        const radarTargetModels = this._items;\r\n\r\n        for (let i = 0; i < radarTargetModels.length; i++) {\r\n            radarTargetModels[i].reset();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Change theme to the specified name\r\n     *\r\n     * This should ONLY be called through the EventBus during a `SET_THEME` event,\r\n     * thus ensuring that the same theme is always in use by all app components.\r\n     *\r\n     * This method must remain an arrow function in order to preserve the scope\r\n     * of `this`, since it is being invoked by an EventBus callback.\r\n     *\r\n     * @for RadarTargetCollection\r\n     * @method _setTheme\r\n     * @param themeName {string}\r\n     * @private\r\n     */\r\n    _setTheme = (themeName) => {\r\n        if (!_has(THEME, themeName)) {\r\n            console.error(`Expected valid theme to change to, but received '${themeName}'`);\r\n\r\n            return;\r\n        }\r\n\r\n        this._theme = THEME[themeName];\r\n    }\r\n}\r\n","import _has from 'lodash/has';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport _isNaN from 'lodash/isNaN';\r\nimport _padEnd from 'lodash/padEnd';\r\nimport EventBus from '../lib/EventBus';\r\nimport { round } from '../math/core';\r\nimport { vadd } from '../math/vector';\r\nimport { leftPad } from '../utilities/generalUtilities';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport { INVALID_NUMBER } from '../constants/globalConstants';\r\nimport { DECIMAL_RADIX } from '../utilities/unitConverters';\r\nimport {\r\n    DATA_BLOCK_DIRECTION_LENGTH_SEPARATOR,\r\n    DATA_BLOCK_POSITION_MAP\r\n} from '../constants/scopeConstants';\r\nimport { THEME } from '../constants/themes';\r\nimport { WAKE_TURBULENCE_CATEGORY } from '../constants/aircraftConstants';\r\n\r\n/**\r\n * A single radar target observed by the radar system and shown on the scope\r\n * Contains references to the full aircraft model, though only some of that\r\n * information will be made available to the controller through the scope.\r\n *\r\n * @class RadarTargetModel\r\n */\r\nexport default class RadarTargetModel {\r\n    /**\r\n     * @for RadarTargetModel\r\n     * @constructor\r\n     * @param theme {object}\r\n     * @param aircraftModel {AircraftModel}\r\n     */\r\n    constructor(theme, aircraftModel) {\r\n        /**\r\n         * The full aircraft model object that this radar target corresponds to\r\n         *\r\n         * @for RadarTargetModel\r\n         * @property aircraftModel\r\n         * @type {AircraftModel}\r\n         */\r\n        this.aircraftModel = null;\r\n\r\n        /**\r\n         * The cruise altitude (hard) assigned in the data block\r\n         *\r\n         * @for RadarTargetModel\r\n         * @property _cruiseAltitude\r\n         * @type {number}\r\n         */\r\n        this._cruiseAltitude = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Direction the data block is extended away from the radar target.\r\n         * A value of -1 means to leave at default position.\r\n         *\r\n         * @for RadarTargetModel\r\n         * @property _dataBlockLeaderDirection\r\n         * @type {number}\r\n         */\r\n        this._dataBlockLeaderDirection = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Length of the leader line extending away from the radar target and\r\n         * connecting to the data block.\r\n         *\r\n         * @for RadarTargetModel\r\n         * @property _dataBlockLeaderLength\r\n         * @type {number}\r\n         */\r\n        this._dataBlockLeaderLength = theme.DATA_BLOCK.LEADER_LENGTH;\r\n\r\n        /**\r\n         * Event Bus reference\r\n         *\r\n         * @for RadarTargetModel\r\n         * @property _eventBus\r\n         * @type {EventBus}\r\n         */\r\n        this._eventBus = EventBus;\r\n\r\n        // TODO: This will later be expanded upon such that aircraft may exist in\r\n        // the simulation without necessarily having full data blocks. An example\r\n        // of this would be VFR traffic with a partial or altitude-only data block.\r\n        // For now, assuming all aircraft in existence have an editable data block.\r\n        /**\r\n         * Boolean value representing whether the aircraft has a full data block.\r\n         * This is opposed to a partial (PDB), limited (LDB), or other non-full state.\r\n         *\r\n         * @for RadarTargetModel\r\n         * @property _hasFullDataBlock\r\n         * @type {boolean}\r\n         */\r\n        this._hasFullDataBlock = true;\r\n\r\n        /**\r\n         * Radius of the halo to be drawn around the radar taget\r\n         *\r\n         * If no halo is to be drawn, the value will be INVALID_NUMBER\r\n         *\r\n         * @for RadarTargetModel\r\n         * @property _haloRadius\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this._haloRadius = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Boolean value representing whether the full data block is being suppressed\r\n         * on this particular scope.\r\n         *\r\n         * @for RadarTargetModel\r\n         * @property _hasSuppressedDataBlock\r\n         * @type {boolean}\r\n         */\r\n        this._hasSuppressedDataBlock = false;\r\n\r\n        /**\r\n         * The altitude (soft) assigned in the data block\r\n         *\r\n         * @for RadarTargetModel\r\n         * @property _interimAltitude\r\n         * @type {number}\r\n         */\r\n        this._interimAltitude = INVALID_NUMBER;\r\n\r\n        // TODO: This will be replaced with `this._sectorInControl` or something\r\n        // when handoffs become possible. For now, just marking whether or not \"we\"\r\n        // are the sector with control of the track.\r\n        /**\r\n         * Boolean value representing whether the track of this target is under\r\n         * control of this particular scope.\r\n         *\r\n         * @for RadarTargetModel\r\n         * @property _isUnderOurControl\r\n         * @type {boolean}\r\n         */\r\n        this._isUnderOurControl = true;\r\n\r\n        // TODO: Store the aircraft's initial route here. Yes, we want to intentionally\r\n        // make a copy of the route and store it here, not point to the aircraft's route.\r\n        // When the aircraft is told to fly a new route, this property should still show\r\n        // the old route, until the controller updates it in the scope.\r\n        /**\r\n         * The flight plan route for the aircraft associated with this radar target\r\n         *\r\n         * @for RadarTargetModel\r\n         * @property _routeString\r\n         * @type {string}\r\n         */\r\n        this._routeString = '';\r\n\r\n        /**\r\n         * A 3 character (or less) alphanumeric string that is shown in the data block\r\n         * The scratchpad is used for controller shorthand notes and other purposes\r\n         *\r\n         * @for RadarTargetModel\r\n         * @property _scratchPadText\r\n         * @type {string}\r\n         */\r\n        this._scratchPadText = '';\r\n\r\n        /**\r\n         * Active theme\r\n         *\r\n         * @for RadarTargetModel\r\n         * @property _theme\r\n         * @type {object}\r\n         */\r\n        this._theme = theme;\r\n\r\n        this._init(aircraftModel)\r\n            .enable();\r\n    }\r\n\r\n    /**\r\n     * Angle away from the radar target to draw the leader line and data block\r\n     *\r\n     * @for RadarTargetModel\r\n     * @property dataBlockLeaderDirection\r\n     * @type {number}\r\n     */\r\n    get dataBlockLeaderDirection() {\r\n        return this._dataBlockLeaderDirection;\r\n    }\r\n\r\n    /**\r\n     * Length of leader line connecting radar target and data block\r\n     *\r\n     * @for RadarTargetModel\r\n     * @property dataBlockLeaderLength\r\n     * @type {number}\r\n     */\r\n    get dataBlockLeaderLength() {\r\n        return this._dataBlockLeaderLength;\r\n    }\r\n\r\n    /**\r\n     * Get the `PositionModel` for the aircraft associated with the radar target\r\n     *\r\n     * @for RadarTargetModel\r\n     * @property positionModel\r\n     * @type {PositionModel}\r\n     */\r\n    get positionModel() {\r\n        return this.aircraftModel.positionModel;\r\n    }\r\n\r\n    /**\r\n     * Get the latest known altitude for the aircraft associated with the radar target\r\n     *\r\n     * @for RadarTargetModel\r\n     * @property positionModel\r\n     * @type {PositionModel}\r\n     */\r\n    get indicatedAltitude() {\r\n        return this.aircraftModel.altitude;\r\n    }\r\n\r\n    /**\r\n     * @for RadarTargetModel\r\n     * @property scratchPadText\r\n     * @type {string}\r\n     */\r\n    get scratchPadText() {\r\n        return this._scratchPadText;\r\n    }\r\n\r\n    set scratchPadText(text) {\r\n        this._scratchPadText = text.slice(0, 3).toUpperCase();\r\n    }\r\n\r\n    /**\r\n     * @for RadarTargetModel\r\n     * @property haloRadius\r\n     * @type {number}\r\n     */\r\n    get haloRadius() {\r\n        return this._haloRadius;\r\n    }\r\n\r\n    /**\r\n     * @for RadarTargetModel\r\n     * @property hasHalo\r\n     * @type {boolean}\r\n     */\r\n    get hasHalo() {\r\n        return this._haloRadius > 0;\r\n    }\r\n\r\n    /**\r\n     * Complete initialization tasks\r\n     *\r\n     * @for RadarTargetModel\r\n     * @method _init\r\n     * @param theme {object}\r\n     * @param aircraftModel {AircraftModel}\r\n     * @private\r\n     * @chainable\r\n     */\r\n    _init(aircraftModel) {\r\n        this.aircraftModel = aircraftModel;\r\n        this._cruiseAltitude = aircraftModel.fms.flightPlanAltitude;\r\n        this._dataBlockLeaderDirection = this._theme.DATA_BLOCK.LEADER_DIRECTION;\r\n        this._dataBlockLeaderLength = this._theme.DATA_BLOCK.LEADER_LENGTH;\r\n        this._routeString = aircraftModel.fms.getRouteString();\r\n\r\n        this.setDefaultScratchpad();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n    * Disable handlers\r\n    *\r\n    * @for RadarTargetModel\r\n    * @method enable\r\n    * @chainable\r\n    */\r\n    enable() {\r\n        this._eventBus.on(EVENT.SET_THEME, this._setTheme);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n    * Enable handlers\r\n    *\r\n    * @for RadarTargetModel\r\n    * @method disable\r\n    * @chainable\r\n    */\r\n    disable() {\r\n        this._eventBus.off(EVENT.SET_THEME, this._setTheme);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n    * Reset all properties to their default state\r\n    *\r\n    * @for RadarTargetModel\r\n    * @method reset\r\n    * @chainable\r\n    */\r\n    reset() {\r\n        this.aircraftModel = null;\r\n        this._cruiseAltitude = INVALID_NUMBER;\r\n        this._dataBlockLeaderDirection = INVALID_NUMBER;\r\n        this._dataBlockLeaderLength = this._theme.DATA_BLOCK.LEADER_LENGTH;\r\n        this._hasFullDataBlock = true;\r\n        this._haloRadius = INVALID_NUMBER;\r\n        this._hasSuppressedDataBlock = false;\r\n        this._interimAltitude = INVALID_NUMBER;\r\n        this._isUnderOurControl = true;\r\n        this._routeString = '';\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Assign a new \"hard\" altitude\r\n     *\r\n     * @for RadarTargetModel\r\n     * @param altitude {number}\r\n     * @return {array} [success of operation, system's response]\r\n     */\r\n    amendAltitude(altitude) {\r\n        this._cruiseAltitude = altitude;\r\n\r\n        return [true, 'AMEND ALTITUDE'];\r\n    }\r\n\r\n    /**\r\n     * Generate a string to be used for the first row of a datablock\r\n     *\r\n     * @for RadarTargetModel\r\n     * @method buildDataBlockRowOne\r\n     * @returns {string}\r\n     */\r\n    buildDataBlockRowOne() {\r\n        let dataBlockRowOne = this.aircraftModel.callsign;\r\n\r\n        const wtc = Object.values(WAKE_TURBULENCE_CATEGORY).find((WTC) => WTC.LETTER === this.aircraftModel.model.weightClass) ??\r\n            { APPEND: false };\r\n\r\n        if (wtc.APPEND) {\r\n            // NOTE: using empty space before the letter on purpose so this gets rendered appropriately within a canvas\r\n            dataBlockRowOne += ` ${wtc.LETTER}`;\r\n        }\r\n\r\n        return dataBlockRowOne;\r\n    }\r\n\r\n    /**\r\n     * Generate a string to be used for the second row of a datablock\r\n     *\r\n     * @for RadarTargetModel\r\n     * @method buildDataBlockRowTwoPrimaryInfo\r\n     * @returns {string}\r\n     */\r\n    buildDataBlockRowTwoPrimaryInfo() {\r\n        const aircraftAltitude = round(this.aircraftModel.altitude / 100);\r\n        const aircraftSpeed = round(this.aircraftModel.groundSpeed / 10);\r\n\r\n        return `${leftPad(aircraftAltitude, 3)} ${leftPad(aircraftSpeed, 2)}`;\r\n    }\r\n\r\n    /**\r\n     * Generate a string to be used for the second row of a datablock\r\n     * when the timeshare section is active\r\n     *\r\n     * @for RadarTargetModel\r\n     * @method buildDataBlockRowTwoSecondaryInfo\r\n     * @returns {string}\r\n     */\r\n    buildDataBlockRowTwoSecondaryInfo() {\r\n        const paddedScratchPadText = _padEnd(\r\n            this.scratchPadText,\r\n            this._theme.DATA_BLOCK.SCRATCHPAD_CHARACTER_LIMIT,\r\n            ' '\r\n        );\r\n        const paddedAircraftModelIcao = _padEnd(\r\n            this.aircraftModel.model.icao.toUpperCase(),\r\n            this._theme.DATA_BLOCK.AIRCRAFT_MODEL_ICAO_CHARACTER_LIMIT,\r\n            ' '\r\n        );\r\n        const scratchPadText = paddedScratchPadText.slice(0, this._theme.DATA_BLOCK.SCRATCHPAD_CHARACTER_LIMIT);\r\n        const aircraftModelIcao = paddedAircraftModelIcao.slice(0, this._theme.DATA_BLOCK.AIRCRAFT_MODEL_ICAO_CHARACTER_LIMIT);\r\n\r\n        return `${scratchPadText} ${aircraftModelIcao}`;\r\n    }\r\n\r\n    /**\r\n     * Abstracts the math from the `CanvasController` used to determine\r\n     * where the center of a datablock should be located\r\n     *\r\n     * @param {number} leaderIntersectionWithBlock\r\n     */\r\n    calculateDataBlockCenter(leaderIntersectionWithBlock) {\r\n        const blockCenterOffset = {\r\n            ctr: [0, 0],\r\n            360: [0, -this._theme.DATA_BLOCK.HALF_HEIGHT],\r\n            45: [this._theme.DATA_BLOCK.HALF_WIDTH, -this._theme.DATA_BLOCK.HALF_HEIGHT],\r\n            90: [this._theme.DATA_BLOCK.HALF_WIDTH, 0],\r\n            135: [this._theme.DATA_BLOCK.HALF_WIDTH, this._theme.DATA_BLOCK.HALF_HEIGHT],\r\n            180: [0, this._theme.DATA_BLOCK.HALF_HEIGHT],\r\n            225: [-this._theme.DATA_BLOCK.HALF_WIDTH, this._theme.DATA_BLOCK.HALF_HEIGHT],\r\n            270: [-this._theme.DATA_BLOCK.HALF_WIDTH, 0],\r\n            315: [-this._theme.DATA_BLOCK.HALF_WIDTH, -this._theme.DATA_BLOCK.HALF_HEIGHT]\r\n        };\r\n        const leaderEndToBlockCenter = blockCenterOffset[this.dataBlockLeaderDirection];\r\n\r\n        return vadd(leaderIntersectionWithBlock, leaderEndToBlockCenter);\r\n    }\r\n\r\n    /**\r\n    * Mark this radar target as NOT being controlled by \"our\" ScopeModel\r\n    * Note that this will eventually be reworked so we can specify which\r\n    * scope has control, not just whether or not \"we\" do.\r\n    *\r\n    * @for RadarTargetModel\r\n    * @method markAsNotOurControl\r\n    */\r\n    markAsNotOurControl() {\r\n        this._isUnderOurControl = false;\r\n    }\r\n\r\n    /**\r\n     * Mark this radar target as being controlled by \"our\" ScopeModel\r\n     * Note that this will eventually be reworked so we can specify which\r\n     * scope has control, not just whether or not \"we\" do.\r\n     *\r\n     * @for RadarTargetModel\r\n     * @method markAsOurControl\r\n     */\r\n    markAsOurControl() {\r\n        this._isUnderOurControl = true;\r\n    }\r\n\r\n    /**\r\n     * Change the direction and/or length of the data block leader line\r\n     *\r\n     * @for RadarTargetModel\r\n     * @method moveDataBlock\r\n     * @param commandArguments {string}\r\n     * @return {array} [success of operation, system's response]\r\n     */\r\n    moveDataBlock(commandArguments) {\r\n        if (_isEmpty(commandArguments)) {\r\n            return [false, 'ERR: BAD SYNTAX'];\r\n        }\r\n\r\n        let desiredDirection = commandArguments;\r\n        let desiredLength = '';\r\n\r\n        if (commandArguments.indexOf(DATA_BLOCK_DIRECTION_LENGTH_SEPARATOR) !== INVALID_NUMBER) {\r\n            const argumentPieces = commandArguments.split(DATA_BLOCK_DIRECTION_LENGTH_SEPARATOR);\r\n            desiredDirection = parseInt(argumentPieces[0], DECIMAL_RADIX);\r\n            desiredLength = parseInt(argumentPieces[1], DECIMAL_RADIX);\r\n\r\n            if (_isEmpty(argumentPieces[0])) {\r\n                desiredDirection = '';\r\n            }\r\n        }\r\n\r\n        if (desiredLength > 6 || desiredLength < 0) {\r\n            return [false, 'ERR: LEADER LENGTH 0-6 ONLY'];\r\n        }\r\n\r\n        if (desiredDirection !== '' && !_isNaN(desiredDirection)) {\r\n            if (!_has(DATA_BLOCK_POSITION_MAP, desiredDirection)) {\r\n                return [false, 'ERR: BAD SYNTAX'];\r\n            }\r\n\r\n            this._dataBlockLeaderDirection = DATA_BLOCK_POSITION_MAP[desiredDirection];\r\n        }\r\n\r\n        if (desiredLength !== '' && !_isNaN(desiredLength)) {\r\n            this._dataBlockLeaderLength = desiredLength;\r\n        }\r\n\r\n        return [true, 'ADJUST DATA BLOCK'];\r\n    }\r\n\r\n    /**\r\n     * Clear any existing halo\r\n     *\r\n     * @for RadarTargetModel\r\n     * @method removeHalo\r\n     * @return {array} [success of operation, system's response]\r\n     */\r\n    removeHalo() {\r\n        if (!this.hasHalo) {\r\n            return;\r\n        }\r\n\r\n        this._haloRadius = INVALID_NUMBER;\r\n\r\n        return [true, 'TOGGLE HALO'];\r\n    }\r\n\r\n    /**\r\n     * Set the radius of the halo\r\n     *\r\n     * @for RadarTargetModel\r\n     * @method setHalo\r\n     * @param radius {number}\r\n     * @return {array} [success of operation, system's response]\r\n     */\r\n    setHalo(radius) {\r\n        if (!this.hasHalo) {\r\n            this._haloRadius = radius;\r\n\r\n            return [true, 'TOGGLE HALO'];\r\n        }\r\n\r\n        if (radius === this._haloRadius) {\r\n            return this.removeHalo();\r\n        }\r\n\r\n        this._haloRadius = radius;\r\n\r\n        return [true, 'ADJUST HALO'];\r\n    }\r\n\r\n    /**\r\n     * Set default value of the scratchpad\r\n     *\r\n     * @for RadarTargetModel\r\n     * @method setDefaultScratchpad\r\n     * @return {array} [success of operation, system's response]\r\n     */\r\n    setDefaultScratchpad() {\r\n        if (this.aircraftModel.isDeparture()) {\r\n            this.scratchPadText = this.aircraftModel.fms.getFlightPlanEntry();\r\n\r\n            return [true, 'RESET SCRATCHPAD'];\r\n        }\r\n\r\n        this.scratchPadText = this.aircraftModel.destination.substr(1, 3);\r\n\r\n        return [true, 'RESET SCRATCHPAD'];\r\n    }\r\n\r\n    /**\r\n     * Set the value of the scratchpad\r\n     *\r\n     * @for RadarTargetModel\r\n     * @method setScratchpad\r\n     * @param scratchPadText {string}\r\n     * @return {array} [success of operation, system's response]\r\n     */\r\n    setScratchpad(scratchPadText) {\r\n        this.scratchPadText = scratchPadText;\r\n\r\n        return [true, 'SET SCRATCHPAD'];\r\n    }\r\n\r\n    /**\r\n     * Change theme to the specified name\r\n     *\r\n     * This should ONLY be called through the EventBus during a `SET_THEME` event,\r\n     * thus ensuring that the same theme is always in use by all app components.\r\n     *\r\n     * This method must remain an arrow function in order to preserve the scope\r\n     * of `this`, since it is being invoked by an EventBus callback.\r\n     *\r\n     * @for RadarTargetModel\r\n     * @method _setTheme\r\n     * @param themeName {string}\r\n     */\r\n    _setTheme = (themeName) => {\r\n        if (!_has(THEME, themeName)) {\r\n            console.error(`Expected valid theme to change to, but received '${themeName}'`);\r\n\r\n            return;\r\n        }\r\n\r\n        this._theme = THEME[themeName];\r\n    };\r\n}\r\n","/* eslint-disable no-unused-vars */\r\nimport _has from 'lodash/has';\r\nimport _isNil from 'lodash/isNil';\r\nimport GameController from '../game/GameController';\r\nimport RadarTargetCollection from './RadarTargetCollection';\r\nimport EventBus from '../lib/EventBus';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport { GAME_OPTION_NAMES } from '../constants/gameOptionConstants';\r\nimport { THEME } from '../constants/themes';\r\nimport { DECIMAL_RADIX } from '../utilities/unitConverters';\r\n\r\n/**\r\n * Scope belonging to a Player\r\n *\r\n * NOTE: Many methods are just placeholders for future use, hence why their params are commented out\r\n *\r\n * @class ScopeModel\r\n */\r\nexport default class ScopeModel {\r\n    /**\r\n     * @for ScopeModel\r\n     * @constructor\r\n     */\r\n    constructor() {\r\n        /**\r\n         * Local reference to the event bus\r\n         *\r\n         * @for ScopeModel\r\n         * @property _eventBus\r\n         * @type {EventBus}\r\n         * @private\r\n         */\r\n        this._eventBus = EventBus;\r\n\r\n        /**\r\n         * Length of PTL lines (aka \"vector lines\") for all aircraft\r\n         *\r\n         * @for ScopeModel\r\n         * @property _ptlLength\r\n         * @type {number} length in minutes\r\n         * @default 0\r\n         * @private\r\n         */\r\n        this._ptlLength = 0;\r\n\r\n        // TODO: Use this!\r\n        /**\r\n         * Collection of all sectors being controlled by this scope\r\n         *\r\n         * Currently set to null and not used. Is a placeholder for the\r\n         * forthcoming class `SectorCollection`.\r\n         *\r\n         * @for ScopeModel\r\n         * @property _sectorCollection\r\n         * @type {null}\r\n         * @private\r\n         */\r\n        this._sectorCollection = null;\r\n\r\n        /**\r\n         * Current theme\r\n         *\r\n         * @for ScopeModel\r\n         * @property _theme\r\n         * @type {object}\r\n         * @private\r\n         */\r\n        this._theme = THEME.DEFAULT;\r\n\r\n        /**\r\n         * Collection of all radar targets observed by this scope\r\n         *\r\n         * @for ScopeModel\r\n         * @property radarTargetCollection\r\n         * @type {RadarTargetCollection}\r\n         */\r\n        this.radarTargetCollection = new RadarTargetCollection(this._theme);\r\n\r\n        this.init()\r\n            .enable();\r\n    }\r\n\r\n    get ptlLength() {\r\n        return this._ptlLength;\r\n    }\r\n\r\n    // ------------------------------ LIFECYCLE ------------------------------\r\n\r\n    /**\r\n     * Complete initialization tasks\r\n     *\r\n     * @for ScopeModel\r\n     * @method init\r\n     * @chainable\r\n     */\r\n    init() {\r\n        return this;\r\n    }\r\n\r\n    /**\r\n    * Enable handlers\r\n    *\r\n    * @for ScopeModel\r\n    * @method enable\r\n    */\r\n    enable() {\r\n        this._eventBus.on(EVENT.SET_THEME, this._setTheme);\r\n    }\r\n\r\n    /**\r\n    * Disable handlers\r\n    *\r\n    * @for ScopeModel\r\n    * @method disable\r\n    */\r\n    disable() {\r\n        this._eventBus.off(EVENT.SET_THEME, this._setTheme);\r\n    }\r\n\r\n    // ------------------------------ PUBLIC ------------------------------\r\n\r\n    /**\r\n     * Accept a pending handoff from another sector\r\n     *\r\n     * NOTE: This is just a placeholder for future use, hence why the params are commented out\r\n     *\r\n     * @for ScopeModel\r\n     * @method acceptHandoff\r\n     * @param radarTargetModel {RadarTargetModel}\r\n     * @return result {array} [success of operation, system's response]\r\n     */\r\n    acceptHandoff(/* radarTargetModel */) {\r\n        return [false, 'acceptHandoff command not yet available'];\r\n    }\r\n\r\n    /**\r\n     * Amend the cruise altitude OR interim altitude for a given `RadarTargetModel`\r\n     *\r\n     * @for ScopeModel\r\n     * @method amendAltitude\r\n     * @param radarTargetModel {RadarTargetModel}\r\n     * @param altitude {string}\r\n     * @return result {array} [success of operation, system's response]\r\n     */\r\n    amendAltitude(radarTargetModel, altitude) {\r\n        altitude = parseInt(altitude, DECIMAL_RADIX);\r\n\r\n        return radarTargetModel.amendAltitude(altitude);\r\n    }\r\n\r\n    /**\r\n     * Increase or decrease the PTL length by one step\r\n     *\r\n     * @for ScopeModel\r\n     * @method changePtlLength\r\n     * @param {number} direction - either -1 or 1 to indicate increment direction\r\n     */\r\n    changePtlLength(direction) {\r\n        const validValues = GameController.getGameOption(GAME_OPTION_NAMES.PROJECTED_TRACK_LINE_LENGTHS)\r\n            .split('-')\r\n            .map((val) => parseFloat(val));\r\n        const currentIndex = validValues.indexOf(this._ptlLength);\r\n        const nextIndex = currentIndex + Math.sign(direction);\r\n\r\n        if (nextIndex >= validValues.length) {\r\n            return;\r\n        }\r\n\r\n        if (nextIndex < 0) {\r\n            this._ptlLength = 0;\r\n\r\n            this._eventBus.trigger(EVENT.MARK_SHALLOW_RENDER);\r\n\r\n            return;\r\n        }\r\n\r\n        this._ptlLength = validValues[nextIndex];\r\n\r\n        this._eventBus.trigger(EVENT.MARK_SHALLOW_RENDER);\r\n    }\r\n\r\n    /**\r\n     * Decrease the length of the PTL lines for all aircraft\r\n     *\r\n     * @for ScopeModel\r\n     * @method decreasePtlLength\r\n     */\r\n    decreasePtlLength() {\r\n        const direction = -1;\r\n\r\n        this.changePtlLength(direction);\r\n    }\r\n\r\n    /**\r\n     * Increase the length of the PTL lines for all aircraft\r\n     *\r\n     * @for ScopeModel\r\n     * @method increasePtlLength\r\n     */\r\n    increasePtlLength() {\r\n        const direction = 1;\r\n\r\n        this.changePtlLength(direction);\r\n    }\r\n\r\n    /**\r\n     * Initiate a handoff to another sector\r\n     *\r\n     * NOTE: This is just a placeholder for future use, hence why the params are commented out\r\n     *\r\n     * @for ScopeModel\r\n     * @method initiateHandoff\r\n     * @param radarTargetModel {RadarTargetModel}\r\n     * @param sectorCode {string} the handoff code for the receiving sector\r\n     * @return result {array} [success of operation, system's response]\r\n     */\r\n    initiateHandoff(/* radarTargetModel, sectorCode */) {\r\n        return [false, 'initiateHandoff command not yet available'];\r\n    }\r\n\r\n    /**\r\n     * Change direction and/or length of data block leader line\r\n     *\r\n     * @for ScopeModel\r\n     * @method moveDataBlock\r\n     * @param radarTargetModel {RadarTargetModel}\r\n     * @param commandArguments {string}\r\n     * @return result {array} [success of operation, system's response]\r\n     */\r\n    moveDataBlock(radarTargetModel, commandArguments) {\r\n        return radarTargetModel.moveDataBlock(commandArguments);\r\n    }\r\n\r\n    /**\r\n     * Toggle visibility of the data block of a given `RadarTargetModel`, on this\r\n     * sector's scope, or the scope of another sector\r\n     *\r\n     * NOTE: This is just a placeholder for future use, hence why the params are commented out\r\n     *\r\n     * @for ScopeModel\r\n     * @method propogateDataBlock\r\n     * @param radarTargetModel {RadarTargetModel}\r\n     * @param sectorCode {string} handoff code for the receiving sector\r\n     * @return result {array} [success of operation, system's response]\r\n     */\r\n    propogateDataBlock(/* radarTargetModel, sectorCode */) {\r\n        return [false, 'propogateDataBlock command not yet available'];\r\n    }\r\n\r\n    /**\r\n     * Amend the route stored in the scope for a given `RadarTargetModel`\r\n     *\r\n     * NOTE: This is just a placeholder for future use, hence why the params are commented out\r\n     *\r\n     * @for ScopeModel\r\n     * @method route\r\n     * @param radarTargetModel {RadarTargetModel}\r\n     * @param routeString {string}\r\n     * @return result {array} [success of operation, system's response]\r\n     */\r\n    route(/* radarTargetModel, routeString */) {\r\n        return [false, 'route command not yet available'];\r\n    }\r\n\r\n    /**\r\n     * Execute a scope command from a `ScopeCommandModel`\r\n     * @method runScopeCommand\r\n     * @param scopeCommandModel {ScopeCommandModel}\r\n     * @return result {array} [success of operation, system's response]\r\n     */\r\n    runScopeCommand(scopeCommandModel) {\r\n        const functionName = scopeCommandModel.commandFunction;\r\n        const functionArguments = scopeCommandModel.commandArguments;\r\n        const radarTargetModel = this.radarTargetCollection.findRadarTargetModelForAircraftReference(\r\n            scopeCommandModel.aircraftReference\r\n        );\r\n\r\n        if (!(functionName in this)) {\r\n            return [false, 'ERR: BAD SYNTAX'];\r\n        }\r\n\r\n        if (_isNil(radarTargetModel)) {\r\n            return [false, 'ERR: UNKNOWN AIRCRAFT'];\r\n        }\r\n\r\n        // call the appropriate function, and explode the array of arguments\r\n        // this allows any number of arguments to be accepted by the receiving method\r\n        return this[functionName](radarTargetModel, ...functionArguments);\r\n    }\r\n\r\n    /**\r\n     * Amend the scratchpad for a given `RadarTargetModel`\r\n     *\r\n     * @for ScopeModel\r\n     * @method setScratchpad\r\n     * @param radarTargetModel {RadarTargetModel}\r\n     * @param scratchPadText {string}\r\n     * @return result {array} [success of operation, system's response]\r\n     */\r\n    setScratchpad(radarTargetModel, scratchPadText) {\r\n        if (scratchPadText.length > 3) {\r\n            return [false, 'ERR: SCRATCHPAD MAX 3 CHAR'];\r\n        }\r\n\r\n        if (scratchPadText === '.') {\r\n            return radarTargetModel.setDefaultScratchpad();\r\n        }\r\n\r\n        return radarTargetModel.setScratchpad(scratchPadText.toUpperCase());\r\n    }\r\n\r\n    /**\r\n     * Toggle halo for a given `RadarTargetModel`\r\n     *\r\n     * @for ScopeModel\r\n     * @method setHalo\r\n     * @param radarTargetModel {RadarTargetModel}\r\n     * @return result {array} [success of operation, system's response]\r\n     */\r\n    setHalo(radarTargetModel, radius) {\r\n        const haloDefaultRadius = this._theme.SCOPE.HALO_DEFAULT_RADIUS_NM;\r\n        const haloMaxRadius = this._theme.SCOPE.HALO_MAX_RADIUS_NM;\r\n\r\n        if (radius <= 0) {\r\n            return [false, 'ERR: HALO SIZE INVALID'];\r\n        }\r\n\r\n        if (radius > haloMaxRadius) {\r\n            return [false, `ERR: HALO MAX ${haloMaxRadius} NM`];\r\n        }\r\n\r\n        if (!radius) {\r\n            radius = haloDefaultRadius;\r\n        }\r\n\r\n        return radarTargetModel.setHalo(radius);\r\n    }\r\n\r\n    // ------------------------------ PRIVATE ------------------------------\r\n\r\n    /**\r\n     * Change theme to the specified name\r\n     *\r\n     * This should ONLY be called through the EventBus during a `SET_THEME` event,\r\n     * thus ensuring that the same theme is always in use by all app components.\r\n     *\r\n     * This method must remain an arrow function in order to preserve the scope\r\n     * of `this`, since it is being invoked by an EventBus callback.\r\n     *\r\n     * @for ScopeModel\r\n     * @method _setTheme\r\n     * @param themeName {string}\r\n     */\r\n    _setTheme = (themeName) => {\r\n        if (!_has(THEME, themeName)) {\r\n            console.error(`Expected valid theme to change to, but received '${themeName}'`);\r\n\r\n            return;\r\n        }\r\n\r\n        this._theme = THEME[themeName];\r\n    }\r\n}\r\n","/* eslint-disable no-underscore-dangle, no-unused-vars, no-undef, global-require */\r\nimport $ from 'jquery';\r\nimport _get from 'lodash/get';\r\nimport _has from 'lodash/has';\r\nimport EventTracker from './EventTracker';\r\nimport { radio_heading, radio_altitude } from './utilities/radioUtilities';\r\nimport { STORAGE_KEY } from './constants/storageKeys';\r\nimport { SELECTORS } from './constants/selectors';\r\nimport {\r\n    VOICES,\r\n    LOWER_PITCH,\r\n    HIGHER_PITCH,\r\n    NORMAL_SPEED,\r\n    FASTER_SPEED\r\n} from './constants/speechConstants';\r\nimport { TRACKABLE_EVENT } from './constants/trackableEvents';\r\n\r\n/**\r\n *\r\n * @function speech_init\r\n */\r\nexport const speech_init = () => {\r\n    prop.speech = {};\r\n    prop.speech.synthesis = window.speechSynthesis;\r\n    prop.speech.enabled = false;\r\n\r\n    if (_get(localStorage, STORAGE_KEY.ATC_SPEECH_ENABLED, false) === true) {\r\n        prop.speech.enabled = true;\r\n        $(SELECTORS.DOM_SELECTORS.TOGGLE_SPEECH).addClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n    }\r\n};\r\n\r\n/**\r\n *\r\n * @function randomizePilotVoice\r\n */\r\nexport const randomizePilotVoice = () => {\r\n    const voice = VOICES[Math.floor(Math.random() * VOICES.length)];\r\n    const pitch = (Math.random() * (LOWER_PITCH - HIGHER_PITCH) + HIGHER_PITCH).toFixed(1);\r\n    const rate = (Math.random() * (NORMAL_SPEED - FASTER_SPEED) + FASTER_SPEED).toFixed(3);\r\n\r\n    return {\r\n        voice,\r\n        pitch,\r\n        rate\r\n    };\r\n};\r\n\r\n/**\r\n *\r\n * @function speech_say\r\n * @param sentence\r\n */\r\nexport const speech_say = (sentence, pilotVoice) => {\r\n    if (prop.speech.synthesis != null && prop.speech.enabled) {\r\n        let textToSay = '';\r\n\r\n        for (let i = 0; i < sentence.length; i++) {\r\n            const singleSentence = sentence[i];\r\n\r\n            switch (singleSentence.type) {\r\n                case 'callsign':\r\n                    textToSay += ` ${singleSentence.content.getRadioCallsign()} `;\r\n                    break;\r\n                case 'altitude':\r\n                    textToSay += ` ${radio_altitude(singleSentence.content)} `;\r\n                    break;\r\n                case 'speed': case 'heading':\r\n                    textToSay += ` ${radio_heading(singleSentence.content)} `;\r\n                    break;\r\n                case 'text':\r\n                    textToSay += ` ${singleSentence.content} `;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        const utterance = new SpeechSynthesisUtterance(textToSay); // make the object\r\n        utterance.lang = 'en-US'; // set the language\r\n        utterance.voice = prop.speech.synthesis.getVoices().filter((voice) => {\r\n            // set the voice\r\n            return voice.name === pilotVoice.voice;\r\n        })[0];\r\n        utterance.rate = pilotVoice.rate;\r\n        utterance.pitch = pilotVoice.pitch;\r\n\r\n        // say the words\r\n        prop.speech.synthesis.speak(utterance);\r\n    }\r\n};\r\n\r\n/**\r\n *\r\n * @function speech_toggle\r\n */\r\nexport const speech_toggle = () => {\r\n    const $speechToggleElement = $(SELECTORS.DOM_SELECTORS.TOGGLE_SPEECH);\r\n    prop.speech.enabled = !prop.speech.enabled;\r\n\r\n    if (!prop.speech.enabled) {\r\n        prop.speech.synthesis.cancel();\r\n    }\r\n\r\n    $speechToggleElement.toggleClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n\r\n    localStorage[STORAGE_KEY.ATC_SPEECH_ENABLED] = prop.speech.enabled;\r\n    const hasClass = $speechToggleElement.hasClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n\r\n    EventTracker.recordEvent(TRACKABLE_EVENT.OPTIONS, 'speech', `${hasClass}`);\r\n};\r\n","import _filter from 'lodash/filter';\r\nimport _forEach from 'lodash/forEach';\r\nimport _isNaN from 'lodash/isNaN';\r\nimport _random from 'lodash/random';\r\nimport BaseCollection from '../base/BaseCollection';\r\nimport SpawnPatternModel from './SpawnPatternModel';\r\nimport { FLIGHT_CATEGORY } from '../constants/aircraftConstants';\r\nimport { isEmptyOrNotObject } from '../utilities/validatorUtilities';\r\n\r\n/**\r\n * A collection of `SpawnPatternModel` objects\r\n *\r\n * @class SpawnPatternCollection\r\n * @extends BaseCollection\r\n */\r\nclass SpawnPatternCollection extends BaseCollection {\r\n    /**\r\n     * Public property that gives access to the current value of `_items`\r\n     *\r\n     * @property spawnPatternModels\r\n     * @type {array<SpawnPatternModel>}\r\n     */\r\n    get spawnPatternModels() {\r\n        return this._items;\r\n    }\r\n\r\n    /**\r\n     * All `SpawnPatternModel` objects categorized as `departure`\r\n     *\r\n     * Used for assembling preSpawn departures\r\n     *\r\n     * @property departureModels\r\n     * @return {array<SpawnPatternModel>}\r\n     */\r\n    get departureModels() {\r\n        return _filter(this._items, { category: FLIGHT_CATEGORY.DEPARTURE });\r\n    }\r\n\r\n    /**\r\n     * Lifecycle method. Should be run only once on instantiation.\r\n     *\r\n     * Set up the instance properties\r\n     *\r\n     * @for SpawnPatternCollection\r\n     * @method init\r\n     * @param airportJson {object}\r\n     */\r\n    init(airportJson) {\r\n        if (isEmptyOrNotObject(airportJson)) {\r\n            throw new TypeError('Invalid airportJson passed to SpawnPatternCollection.init. ' +\r\n                `Expected a non-empty object, but received ${typeof airportJson}`);\r\n        }\r\n\r\n        this._buildSpawnPatternModels(airportJson.spawnPatterns);\r\n    }\r\n\r\n    /**\r\n     * Loop through each item in the collection and call `.destroy()` on that model.\r\n     *\r\n     * Used when resetting the collection, like onAirportChange.\r\n     *\r\n     * @for SpawnPatternCollection\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        _forEach(this._items, (spawnPatternModel) => {\r\n            spawnPatternModel.reset();\r\n\r\n            // ModelSourceFactory.returnModelToPool(spawnPatternModel);\r\n        });\r\n\r\n        this._items = [];\r\n    }\r\n\r\n    /**\r\n     * Loop through each item in the collection and reset the spaen rate.\r\n     *\r\n     * Used when resetting the rate in the traffic settings panel.\r\n     *\r\n     * @for SpawnPatternCollection\r\n     * @method resetRates\r\n     */\r\n    resetRates() {\r\n        this._items.forEach((spawnPatternModel) => {\r\n            spawnPatternModel.resetRate();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @for SpawnPatternCollection\r\n     * @method addItems\r\n     * @param items {array}\r\n     */\r\n    addItems(items = []) {\r\n        if (items.length === 0) {\r\n            return;\r\n        }\r\n\r\n        for (let i = 0; i < items.length; i++) {\r\n            const itemToAdd = items[i];\r\n\r\n            this.addItem(itemToAdd);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @for SpawnPatternCollection\r\n     * @method addItem\r\n     * @param item {SpawnPatternModel}\r\n     */\r\n    addItem(item) {\r\n        if (!(item instanceof SpawnPatternModel)) {\r\n            throw new TypeError('Only SpawnPatternModel objects can be added to the SpawnPatternCollection.');\r\n        }\r\n\r\n        this._items.push(item);\r\n    }\r\n\r\n    /**\r\n     * Gather a randomized list of departure `SpawnPatternModel` objects\r\n     * that will be created during the preSpawn.\r\n     *\r\n     * Clamps max at 5 patterns.\r\n     * Randomly selects departure patterns from a filtered list containing only departure patterns.\r\n     *\r\n     * This method should be called by the `SpawnScheduler` when preSpawning new\r\n     * aircraft on session start.\r\n     *\r\n     * @for SpawnPatternCollection\r\n     * @method getDepartureModelsForPreSpawn\r\n     * @return departureModelsForPreSpawn {array<SpawnPatternModel>}\r\n     */\r\n    getDepartureModelsForPreSpawn() {\r\n        const spawnPatternsByDepartureRunway = {};\r\n\r\n        // note this DOES NOT include patterns where the route doesn't specify the runway, because we can't\r\n        // deconflict them. Instead, we just don't prespawn those departures.\r\n        for (const spawnPattern of this.departureModels) {\r\n            const firstElement = spawnPattern.routeString.split('.')[0];\r\n\r\n            // if not in shape of `KSEA16L`, mark this spawn pattern as having an unknown runway assignment\r\n            if (firstElement.length < 5 || _isNaN(+firstElement[4])) {\r\n                if (!('unknownRunway' in spawnPatternsByDepartureRunway)) {\r\n                    spawnPatternsByDepartureRunway.unknownRunway = [];\r\n                }\r\n\r\n                spawnPatternsByDepartureRunway.unknownRunway.push(spawnPattern);\r\n\r\n                continue;\r\n            }\r\n\r\n            // else, we know we do have a route string which specifies the departure runway\r\n            const departureRunwayId = firstElement.substr(4);\r\n\r\n            if (!(departureRunwayId in spawnPatternsByDepartureRunway)) {\r\n                spawnPatternsByDepartureRunway[departureRunwayId] = [];\r\n            }\r\n\r\n            spawnPatternsByDepartureRunway[departureRunwayId].push(spawnPattern);\r\n        }\r\n\r\n        const spawnPatternsToPreSpawn = [];\r\n\r\n        // randomly select (while respecting spawn weighting) ONE departure\r\n        // pattern to pre-spawn for each departure runway detected\r\n        for (const runway of Object.keys(spawnPatternsByDepartureRunway)) {\r\n            if (runway === 'unknownRunway') {\r\n                if (Object.keys(spawnPatternsByDepartureRunway).length > 1) {\r\n                    continue; // if known AND unknown runways exist, ignore unknown\r\n                }\r\n                // else, NO runways are known, and all spawn patterns are via\r\n                // 'unknownRunway', in which case we will pick a pattern below.\r\n            }\r\n\r\n            // randomly choose a spawn pattern for this runway to prespawn\r\n            const spawnPatterns = spawnPatternsByDepartureRunway[runway].filter((p) => p.rate > 0);\r\n            const rateMap = spawnPatterns.map((pattern) => pattern.rate);\r\n            const rateTotal = spawnPatterns.reduce((sum, pattern) => sum + pattern.rate, 0);\r\n            const randomPosition = _random(rateTotal, true);\r\n            let position = 0;\r\n\r\n            for (let i = 0; i < rateMap.length; i++) {\r\n                const endOfThisRange = position + rateMap[i];\r\n\r\n                if (randomPosition <= endOfThisRange) {\r\n                    spawnPatternsToPreSpawn.push(spawnPatterns[i]);\r\n\r\n                    break;\r\n                }\r\n\r\n                position += rateMap[i];\r\n            }\r\n        }\r\n\r\n        return spawnPatternsToPreSpawn;\r\n    }\r\n\r\n    /**\r\n     * Gather a list of `SpawnPatternModel` objects by their flight category.\r\n     *\r\n     * @for SpawnPatternCollection\r\n     * @method findSpawnPatternsByCategory\r\n     * @param flightCategory {FLIGHT_CATEGORY}\r\n     * @return {array<SpawnPatternModel>}\r\n     */\r\n    findSpawnPatternsByCategory(flightCategory) {\r\n        return _filter(this._items, { category: flightCategory });\r\n    }\r\n\r\n    /**\r\n     * Loop through spawnPatterns, as defined in airport json, and create\r\n     * a `SpawnPatternModel` for each. Then add it to the collection.\r\n     *\r\n     * @for SpawnPatternCollection\r\n     * @method _buildSpawnPatternModels\r\n     * @param spawnPatterns {array<object>}\r\n     * @private\r\n     */\r\n    _buildSpawnPatternModels(spawnPatterns) {\r\n        _forEach(spawnPatterns, (spawnPattern) => {\r\n            const spawnPatternModel = new SpawnPatternModel(spawnPattern);\r\n\r\n            this.addItem(spawnPatternModel);\r\n        });\r\n    }\r\n}\r\n\r\nexport default new SpawnPatternCollection();\r\n","import _forEach from 'lodash/forEach';\r\nimport _get from 'lodash/get';\r\nimport _map from 'lodash/map';\r\nimport _isArray from 'lodash/isArray';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport _random from 'lodash/random';\r\nimport _round from 'lodash/round';\r\nimport RouteModel from '../aircraft/FlightManagementSystem/RouteModel';\r\nimport AirportController from '../airport/AirportController';\r\nimport BaseModel from '../base/BaseModel';\r\nimport StaticPositionModel from '../base/StaticPositionModel';\r\nimport { buildPreSpawnAircraft } from './buildPreSpawnAircraft';\r\nimport { spawnPatternModelJsonValidator } from './spawnPatternModelJsonValidator';\r\nimport { tau } from '../math/circle';\r\nimport { FLIGHT_CATEGORY } from '../constants/aircraftConstants';\r\nimport { AIRPORT_CONSTANTS } from '../constants/airportConstants';\r\nimport {\r\n    INVALID_NUMBER,\r\n    TIME\r\n} from '../constants/globalConstants';\r\nimport {\r\n    convertMinutesToSeconds,\r\n    DECIMAL_RADIX\r\n} from '../utilities/unitConverters';\r\n\r\n// TODO: this may need to live somewhere else\r\n/**\r\n * @property SPAWN_METHOD\r\n * @type {Object}\r\n * @final\r\n */\r\nconst SPAWN_METHOD = {\r\n    RANDOM: 'random',\r\n    CYCLIC: 'cyclic',\r\n    SURGE: 'surge',\r\n    WAVE: 'wave'\r\n};\r\n\r\n/**\r\n * Defines a spawn pattern for a specific route within the area\r\n *\r\n * This same structure is used to define departures and arrivals\r\n * and is used by the `SpawnScheduler` to instantiate new `AircraftModel`\r\n * objects.\r\n *\r\n * This class will expect data in the following shape:\r\n * ```javascript\r\n * // Departures\r\n * {\r\n *    \"origin\": \"KLAS\",\r\n *    \"destination\": \"\",\r\n *    \"category\": \"departure\",\r\n *    \"route\": \"KLAS.BOACH6.HEC\",\r\n *    \"altitude\": \"\",\r\n *    \"speed\": \"\",\r\n *    \"method\": \"random\",\r\n *    \"rate\": 5,\r\n *    \"airlines\": [\r\n *        [\"aal\", 10],\r\n *        [\"ual\", 10],\r\n *        [\"ual/long\", 3]\r\n *    ]\r\n * }\r\n *\r\n * // Arrivals\r\n * {\r\n *   \"origin\": \"\",\r\n *   \"destination\": \"KLAS\",\r\n *   \"category\": \"arrival\",\r\n *   \"route\": \"BETHL.GRNPA1.KLAS\",\r\n *   \"altitude\": [30000, 40000],\r\n *   \"speed\": 320,\r\n *   \"method\": \"cyclic\",\r\n *   \"rate\": 17.5,\r\n *   \"period\": 75,\r\n *   \"offset\": 25,\r\n *   \"airlines\": [\r\n *       [\"aal\", 10],\r\n *       [\"ual\", 10],\r\n *       [\"ual/long\", 3]\r\n *   ]\r\n * }\r\n * ```\r\n * additional information on `spawnPatterns` can be found in the\r\n * [spawnPatternReadme](https://github.com/openscope/openscope/tree/develop/documentation/spawnPatternReadme.md)\r\n *\r\n * @class SpawnPatternModel\r\n * @extends BaseModel\r\n */\r\nexport default class SpawnPatternModel extends BaseModel {\r\n    /**\r\n     * @constructor\r\n     * @for SpawnPatternModel\r\n     * @param spawnPatternJson {object}\r\n     */\r\n    // istanbul ignore next\r\n    constructor(spawnPatternJson) {\r\n        super('spawnPatternModel');\r\n\r\n        /**\r\n         * Schedule reference id\r\n         *\r\n         * Stored here so a specific interval can be associated with a\r\n         * specfic `SpawnPatternModel` instance. An Interval may be reset\r\n         * or changed during the life of the app.\r\n         *\r\n         * Provides easy access to a specific scheduleId\r\n         *\r\n         * @property scheduleId\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this.scheduleId = INVALID_NUMBER;\r\n\r\n        /**\r\n         * One of `FLIGHT_CATEGORY`\r\n         *\r\n         * @property category\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.category = '';\r\n\r\n        /**\r\n         * Type of arrival or departure pattern\r\n         *\r\n         * Could be `random`, `cyclic`, `surge` or `wave`\r\n         *\r\n         * @property type\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.method = '';\r\n\r\n        /**\r\n         * List of possible airlines a spawning aircraft can belong to.\r\n         *\r\n         * @property airlines\r\n         * @type {array<string>}\r\n         * @default []\r\n         */\r\n        this.airlines = [];\r\n\r\n        /**\r\n         * List of airlines enumerated by weight\r\n         *\r\n         * In english, if the value of `this.airlines` was:\r\n         * ```\r\n         * [\r\n         *     ['aal', 5],\r\n         *     ['ual', 2]\r\n         * ]\r\n         * ```\r\n         * This property would have a length of 7, with 5 entires of `aal` and two entries of `ual`.\r\n         * The reason for this is to provide an easy way to find a weighted value. Now all we need is\r\n         * a random index and the value located at that index.\r\n         *\r\n         * @property _weightedAirlineList\r\n         * @type {array}\r\n         * @default []\r\n         */\r\n        this._weightedAirlineList = [];\r\n\r\n        /**\r\n         * Aircraft to spawn on airport load\r\n         *\r\n         * This list is evaluated by the `SpawnScheduler` when setting up\r\n         * schedules for each `SpawnPatternModel`.\r\n         *\r\n         * @property preSpawnAircraftList\r\n         * @type {array<object>}\r\n         * @default []\r\n         */\r\n        this.preSpawnAircraftList = [];\r\n\r\n        /**\r\n         * A local copy of the `RouteModel` that will exist in all aircraft spawned\r\n         * from this spawn pattern. Note that this property IS NOT transferred or\r\n         * copied or anything like that during aircraft spawn, but rather is included\r\n         * here so we can ask questions about the route related to HOW we spawn traffic.\r\n         *\r\n         * @for SpawnPatternModel\r\n         * @property _routeModel\r\n         * @type {RouteModel}\r\n         */\r\n        this._routeModel = null;\r\n\r\n        // SPAWNING AIRCRAFT PROPERTIES\r\n\r\n        /**\r\n         * The airport this pattern begins at\r\n         *\r\n         * @property origin\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.origin = '';\r\n\r\n        /**\r\n         * The airport icao id this pattern's aircraft will land at\r\n         * or the procedure name the aircraft is departing with\r\n         *\r\n         * @property destination\r\n         * @type {string}\r\n         * @default ''\r\n         */\r\n        this.destination = '';\r\n\r\n        /**\r\n         * String representation of a `StandardRoute` or a list of fixes\r\n         *\r\n         * @property routeString\r\n         * @type {string}\r\n         * @default\r\n         */\r\n        this.routeString = '';\r\n\r\n        /**\r\n         * Object defining runway specific commands to send to an aircraft at spawn time\r\n         *\r\n         * @property commands\r\n         * @type {object}\r\n         * @default\r\n         */\r\n        this.commands = {};\r\n\r\n        /**\r\n         * List of fixes to follow on spawn.\r\n         *\r\n         * This property will be set to an array of strings representing\r\n         * fixnames. this is only used when a DirectRouteString has been\r\n         * passed for the route parameter.\r\n         *\r\n         * @property waypoints\r\n         * @type {array<string>}\r\n         * @default []\r\n         */\r\n        this.waypoints = [];\r\n\r\n        /**\r\n         * Lowest altitude an aircraft can spawn at\r\n         *\r\n         * @property _minimumAltitude\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._minimumAltitude = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Highest altitude an aircraft can spawn at\r\n         *\r\n         * @property _maximumAltitude\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._maximumAltitude = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Speed of spawning aircraft\r\n         *\r\n         * @property speed\r\n         * @type {number}\r\n         * @default 0\r\n         */\r\n        this.speed = 0;\r\n\r\n        /**\r\n         * Heading of a spawning aircraft\r\n         *\r\n         * @property heading\r\n         * @type {number}\r\n         * @default -999\r\n         */\r\n        this.heading = -999;\r\n\r\n        /**\r\n         * Initial position of a spawning aircraft\r\n         *\r\n         * @property _positionModel\r\n         * @type {StaticPositionModel}\r\n         * @default null\r\n         */\r\n        this._positionModel = null;\r\n\r\n        // SPAWN PATTERN PROPERTIES\r\n\r\n        /**\r\n         * Rate at which aircaft spawn, express in aircraft per hour\r\n         *\r\n         * @property rate\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this.rate = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Rate at which aircaft spawn, express in aircraft per hour\r\n         * Used to preserve initial configuration\r\n         *\r\n         * @property defaultRate\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this.defaultRate = INVALID_NUMBER;\r\n\r\n        /**\r\n         * GameTime when a specific spawn pattern started\r\n         *\r\n         * Used only for cycle, surge and wave patterns\r\n         *\r\n         * @property cycleStartTime\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this.cycleStartTime = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Used only with cycle, surge or wave spawnPatters\r\n         *\r\n         * Shifts the pattern to a different part of the cycle\r\n         *\r\n         * @property offset\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this.offset = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Used only with cycle, surge or wave spawnPatters\r\n         *\r\n         * Length of a pattern cycle\r\n         *\r\n         * @property period\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this.period = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Used only with cycle, surge or wave spawnPatters\r\n         *\r\n         * @property variation\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         */\r\n        this.variation = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Miles entrail during the surge [fast, slow]\r\n         *\r\n         * Used only for `surge` spawn patterns. set as a class\r\n         * property to allow maintainence of state between spawns\r\n         *\r\n         * @property entrail\r\n         * @type {number}\r\n         * @default\r\n         */\r\n        this.entrail = [5.5, 10];\r\n\r\n        /**\r\n         * calculated arrival rate when \"in the surge\"\r\n         *\r\n         * Used only for `surge` spawn patterns. set as a class\r\n         * property to allow maintainence of state between spawns\r\n         *\r\n         * @property _aircraftPerHourUp\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._aircraftPerHourUp = INVALID_NUMBER;\r\n\r\n        /**\r\n         * calculated arrival rate when not \"in the surge\"\r\n         *\r\n         * Used only for `surge` spawn patterns. set as a class\r\n         * property to allow maintainence of state between spawns\r\n         *\r\n         * @property _aircraftPerHourDown\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._aircraftPerHourDown = INVALID_NUMBER;\r\n\r\n        /**\r\n         * Calculated time length of surge, in minutes\r\n         *\r\n         * Used only for `surge` spawn patterns. set as a class\r\n         * property to allow maintainence of state between spawns\r\n         *\r\n         * @property _uptime\r\n         * @type {number}\r\n         * @default INVALID_NUMBER\r\n         * @private\r\n         */\r\n        this._uptime = INVALID_NUMBER;\r\n\r\n        this.init(spawnPatternJson);\r\n    }\r\n\r\n    /**\r\n     * The spawn pattern's id\r\n     *\r\n     * @property id\r\n     * @return {string}\r\n     */\r\n\r\n    get id() {\r\n        return this._id;\r\n    }\r\n\r\n    /**\r\n     * List of airline icaos for this spawnPattern\r\n     *\r\n     * @property airlineList\r\n     * @return {array<string>}\r\n     */\r\n    get airlineList() {\r\n        return _map(this.airlines, (airline) => airline.name);\r\n    }\r\n\r\n    /**\r\n     * Convenience getter used for `EventTracker`\r\n     *\r\n     * This getter *should not* be used in code for\r\n     * anything other than event tracking\r\n     *\r\n     * @property airportIcao\r\n     * @return string\r\n     */\r\n    get airportIcao() {\r\n        if (this.isOverflight()) {\r\n            return 'overflight';\r\n        }\r\n\r\n        return this.isArrival()\r\n            ? this.destination\r\n            : this.origin;\r\n    }\r\n\r\n    /**\r\n     * Initial altitude of a spawning aircraft\r\n     *\r\n     * value rounded to the nearest thousandth foot\r\n     *\r\n     * @property altitude\r\n     * @return {number}\r\n     */\r\n    get altitude() {\r\n        const altitude = _random(this._minimumAltitude, this._maximumAltitude);\r\n\r\n        return _round(altitude, -3);\r\n    }\r\n\r\n    /**\r\n     * Provide read-only public access to this._positionModel\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @property positionModel\r\n     * @type {StaticPositionModel}\r\n     */\r\n    get positionModel() {\r\n        return this._positionModel;\r\n    }\r\n\r\n    /**\r\n     * Facade to access relative position\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @property relativePosition\r\n     * @type {array<number>} [kilometersNorth, kilometersEast]\r\n     */\r\n    get relativePosition() {\r\n        return this._positionModel.relativePosition;\r\n    }\r\n\r\n    /**\r\n     * Lifecycle method. Should be run only once on instantiation.\r\n     *\r\n     * Set up the instance properties\r\n     *\r\n     * This is a pooled object so we verify essential parameters\r\n     * here instead of the constructor\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method init\r\n     * @param spawnPatternJson {object}\r\n     */\r\n    init(spawnPatternJson) {\r\n        // We return early here if the object is empty because we pre-hydrate objects in the `ModelSourcePool`\r\n        if (_isEmpty(spawnPatternJson)) {\r\n            return;\r\n        }\r\n\r\n        if (!spawnPatternModelJsonValidator(spawnPatternJson)) {\r\n            console.error('### Invalid spawnPatternJson received', spawnPatternJson);\r\n        }\r\n\r\n        this.origin = spawnPatternJson.origin;\r\n        this.destination = spawnPatternJson.destination;\r\n        this.category = spawnPatternJson.category;\r\n        this.routeString = spawnPatternJson.route;\r\n        this.commands = spawnPatternJson.commands;\r\n        this.speed = this._extractSpeedFromJson(spawnPatternJson);\r\n        this.method = spawnPatternJson.method;\r\n        this.rate = parseFloat(spawnPatternJson.rate);\r\n        this.defaultRate = this.rate;\r\n        this.entrail = _get(spawnPatternJson, 'entrail', this.entrail);\r\n\r\n        this._routeModel = new RouteModel(spawnPatternJson.route);\r\n        this.cycleStartTime = 0;\r\n        this.period = TIME.ONE_HOUR_IN_SECONDS / 2;\r\n        this._positionModel = this._generateSelfReferencedAirportPositionModel();\r\n        this.airlines = this._assembleAirlineNamesAndFrequencyForSpawn(spawnPatternJson.airlines);\r\n        this._weightedAirlineList = this._buildWeightedAirlineList();\r\n        this.preSpawnAircraftList = this._buildPreSpawnAircraft(spawnPatternJson);\r\n\r\n        this._calculateSurgePatternInitialDelayValues(spawnPatternJson);\r\n        this._setCyclePeriodAndOffset(spawnPatternJson);\r\n        this._initializePositionAndHeadingForAirborneAircraft(spawnPatternJson);\r\n        this._setMinMaxAltitude(spawnPatternJson.altitude);\r\n    }\r\n\r\n    /**\r\n     * Destroy the current instance properties\r\n     *\r\n     * Useful when changing airports\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        this.scheduleId = INVALID_NUMBER;\r\n        this.category = '';\r\n        this.method = '';\r\n        this.origin = '';\r\n        this.destination = '';\r\n        this.routeString = '';\r\n        this.commands = {};\r\n        this._minimumAltitude = INVALID_NUMBER;\r\n        this._maximumAltitude = INVALID_NUMBER;\r\n        this.speed = 0;\r\n        this.heading = INVALID_NUMBER;\r\n        this._positionModel = null;\r\n\r\n        this.cycleStartTime = INVALID_NUMBER;\r\n        this.rate = INVALID_NUMBER;\r\n        this.offset = INVALID_NUMBER;\r\n        this.period = INVALID_NUMBER;\r\n        this.variation = INVALID_NUMBER;\r\n\r\n        this.airlines = [];\r\n        this._weightedAirlineList = [];\r\n        this.preSpawnAircraftList = [];\r\n    }\r\n\r\n    /**\r\n     * Reset the spawn rate to the value found in the Airport Json\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method resetRate\r\n     */\r\n    resetRate() {\r\n        this.rate = this.defaultRate;\r\n    }\r\n\r\n    /**\r\n     * Sets the `cycleStart` property with the value of the gameClock when the first\r\n     * timer for this pattern is run by the `SpawnScheduler`\r\n     *\r\n     * Used to calculate cycle, wave and surge spawn patterns\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method cycleStart\r\n     * @param startTime {number}\r\n     */\r\n    cycleStart(startTime) {\r\n        if (this.cycleStartTime !== INVALID_NUMBER) {\r\n            return;\r\n        }\r\n\r\n        this.cycleStartTime = startTime - this.offset;\r\n    }\r\n\r\n    /**\r\n     * Return a random value from `_weightedAirlineList`\r\n     *\r\n     * Used for spawning arrival aircraft that do not yet have an assigned airline\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method getRandomAirlineForSpawn\r\n     * @return {string}\r\n     */\r\n    getRandomAirlineForSpawn() {\r\n        const index = this._findRandomIndexForList(this._weightedAirlineList);\r\n        const airlineId = this._weightedAirlineList[index];\r\n\r\n        return airlineId;\r\n    }\r\n\r\n    /**\r\n     * Return a number to use for the next delay period calculated based\r\n     * on spawning method.\r\n     *\r\n     * This is the value that will be used by the `SpawnScheduler` when\r\n     * when creating a new spawn interval.\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method getNextDelayValue\r\n     * @param gameTime {number}\r\n     * @return {number}  Next delay period based on spawn method in seconds\r\n     */\r\n    getNextDelayValue(gameTime = 0) {\r\n        switch (this.method) {\r\n            case SPAWN_METHOD.RANDOM:\r\n                return this._calculateRandomDelayPeriod();\r\n            case SPAWN_METHOD.CYCLIC:\r\n                return this._calculateNextCyclicDelayPeriod(gameTime);\r\n            case SPAWN_METHOD.SURGE:\r\n                return this._calculateNextSurgeDelayPeriod(gameTime);\r\n            case SPAWN_METHOD.WAVE:\r\n                return this._calculateNextWaveDelayPeriod(gameTime);\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Used to determine if this spawn pattern will spawn aircraft in the air instead of on the ground\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method isAirborneAtSpawn\r\n     * @return {boolean}\r\n     */\r\n    isAirborneAtSpawn() {\r\n        return this.isArrival() || this.isOverflight();\r\n    }\r\n\r\n    /**\r\n     * Used to determine if this spawn pattern is for an arrival\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method isArrival\r\n     * @return {boolean}\r\n     */\r\n    isArrival() {\r\n        return this.category === FLIGHT_CATEGORY.ARRIVAL;\r\n    }\r\n\r\n    /**\r\n     * Used to determine if this spawn pattern is for an departing aircraft\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method isDeparture\r\n     * @return {boolean}\r\n     */\r\n    isDeparture() {\r\n        return this.category === FLIGHT_CATEGORY.DEPARTURE;\r\n    }\r\n\r\n    /**\r\n     * Used to determine if this spawn pattern is for an overflight\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method isOverflight\r\n     * @return {boolean}\r\n     */\r\n    isOverflight() {\r\n        return this.category === FLIGHT_CATEGORY.OVERFLIGHT;\r\n    }\r\n\r\n    /**\r\n     * Use the supplied aircraft controller to generate prespawned aircraft using this model\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method createPreSpawnAircraft\r\n     * @param aircraftController {AircraftController}\r\n     */\r\n    createPreSpawnAircraft(aircraftController) {\r\n        if (this.preSpawnAircraftList.length === 0) {\r\n            this.preSpawnAircraftList = this._buildPreSpawnAircraft(this);\r\n        }\r\n\r\n        if (this.isAirborneAtSpawn() && this.preSpawnAircraftList.length > 0) {\r\n            aircraftController.createPreSpawnAircraftWithSpawnPatternModel(this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _calculateSurgePatternInitialDelayValues\r\n     * @param spawnPatternJson {object}\r\n     * @private\r\n     */\r\n    _calculateSurgePatternInitialDelayValues(spawnPatternJson) {\r\n        if (spawnPatternJson.method !== SPAWN_METHOD.SURGE) {\r\n            return;\r\n        }\r\n\r\n        this._aircraftPerHourUp = this.speed / this.entrail[0];\r\n        this._aircraftPerHourDown = this.speed / this.entrail[1]; // to help the uptime calculation\r\n\r\n        // TODO: move this calculation out to a helper function or class method\r\n        this.uptime = (this.period * this.rate - this.period * this._aircraftPerHourDown) /\r\n            (this._aircraftPerHourUp - this._aircraftPerHourDown);\r\n        this.uptime -= this.uptime % (TIME.ONE_HOUR_IN_SECONDS / this._aircraftPerHourUp);\r\n\r\n        // TODO: abstract to helper\r\n        // adjust to maintain correct acph rate\r\n        const averageSpawnRate = this.rate * this.period * TIME.ONE_SECOND_IN_HOURS;\r\n        const elevatedSpawnRate = this._aircraftPerHourUp * this.uptime * TIME.ONE_SECOND_IN_HOURS;\r\n        const downTime = this.period - this.uptime;\r\n        const hoursSpentAtReducedSpawnRate = downTime * TIME.ONE_SECOND_IN_HOURS;\r\n        const reducedSpawnRate = (averageSpawnRate - elevatedSpawnRate) * hoursSpentAtReducedSpawnRate;\r\n\r\n        this._aircraftPerHourDown = reducedSpawnRate;\r\n\r\n        // TODO: abstract this if/else block to helper method\r\n        // Verify we can comply with the requested arrival rate based on entrail spacing\r\n        if (this.rate > this._aircraftPerHourUp) {\r\n            console.warn('TOO MANY ARRIVALS IN SURGE! Requested: ' +\r\n                `${this.rate} acph | Acceptable Range for requested entrail distance: ` +\r\n                `${Math.ceil(this._aircraftPerHourDown)} acph - ${Math.floor(this._aircraftPerHourUp)} acph`);\r\n\r\n            this.rate = this._aircraftPerHourUp;\r\n            this._aircraftPerHourDown = this._aircraftPerHourUp;\r\n        } else if (this.rate < this._aircraftPerHourDown) {\r\n            console.warn('TOO FEW ARRIVALS IN SURGE! Requested: ' +\r\n                `${this.rate} acph | Acceptable Range for requested entrail distance: ` +\r\n                `${Math.ceil(this._aircraftPerHourDown)} acph - ${Math.floor(this._aircraftPerHourUp)} acph`);\r\n\r\n            this.rate = this._aircraftPerHourDown;\r\n            this._aircraftPerHourUp = this._aircraftPerHourDown;\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _setCyclePeriodAndOffset\r\n     * @param spawnPatternJson {object}\r\n     * @private\r\n     */\r\n    _setCyclePeriodAndOffset(spawnPatternJson) {\r\n        const offset = _get(spawnPatternJson, 'offset', 0);\r\n        const period = _get(spawnPatternJson, 'period', null);\r\n\r\n        this.offset = convertMinutesToSeconds(offset);\r\n        this.period = period ?\r\n            convertMinutesToSeconds(period) :\r\n            this.period;\r\n        this.variation = _get(spawnPatternJson, 'variation', 0);\r\n    }\r\n\r\n    /**\r\n     * Sets `_minimumAltitude` and `_maximumAltitude` from a provided altitude.\r\n     *\r\n     * Altitude may be a single number or a range, expressed as: `[min, max]`.\r\n     * This method handles that variation and sets the instance properties with\r\n     * the correct values.\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _setMinMaxAltitude\r\n     * @param altitude {array|number}\r\n     * @private\r\n     */\r\n    _setMinMaxAltitude(altitude) {\r\n        if (_isArray(altitude)) {\r\n            const [min, max] = altitude;\r\n\r\n            this._minimumAltitude = parseInt(min, DECIMAL_RADIX);\r\n            this._maximumAltitude = parseInt(max, DECIMAL_RADIX);\r\n\r\n            return;\r\n        }\r\n\r\n        this._minimumAltitude = parseInt(altitude, DECIMAL_RADIX);\r\n        this._maximumAltitude = parseInt(altitude, DECIMAL_RADIX);\r\n    }\r\n\r\n    /**\r\n     *\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _calculateRandomDelayPeriod\r\n     * @return {number}\r\n     * @private\r\n     */\r\n    _calculateRandomDelayPeriod() {\r\n        const minimumDelay = this._calculateMinimumDelayFromSpeed();\r\n        const averageDelay = TIME.ONE_HOUR_IN_SECONDS / this.rate;\r\n\r\n        if (averageDelay < minimumDelay) {\r\n            console.error(`Too many aircraft requested on spawn pattern \"${this.routeString}\"`);\r\n\r\n            return minimumDelay;\r\n        }\r\n\r\n        const delayVariation = averageDelay - minimumDelay;\r\n        const maximumDelay = averageDelay + delayVariation;\r\n\r\n        return _random(minimumDelay, maximumDelay);\r\n    }\r\n\r\n    /**\r\n     * @for SpawnPatternModel\r\n     * @method _calculateMinimumDelayFromSpeed\r\n     * @return {number}  number to use as a delay period for the next delay\r\n     * @private\r\n     */\r\n    _calculateMinimumDelayFromSpeed() {\r\n        if (this.speed === 0) {\r\n            return 0;\r\n        }\r\n\r\n        return Math.floor(AIRPORT_CONSTANTS.MIN_ENTRAIL_DISTANCE_NM * (TIME.ONE_HOUR_IN_SECONDS / this.speed));\r\n    }\r\n\r\n    /**\r\n     * Calculates the correct delay period to create arrivals in a cyclic pattern.\r\n     *\r\n     * Rate at which the arrival rate increases or decreases remains constant throughout the cycle.\r\n     *\r\n     * |---o---------------o---------------o---------------o-----------| < - - - - - - max arrival rate\r\n     * | o   o           o   o           o   o           o   o         |   +variation\r\n     * o-------o-------o-------o-------o-------o-------o-------o-------o < - - - - - - avg arrival rate\r\n     * |         o   o |         o   o           o   o           o   o |   -variation\r\n     * |-----------o---|-----------o---------------o---------------o---| < - - - - - - min arrival rate\r\n     * |<---period---->|           |<---period---->|\r\n     *\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _calculateNextCyclicDelayPeriod\r\n     * @param gameTime {number} current gameTime\r\n     * @return {number}         number to use as a delay period for the next delay\r\n     * @private\r\n     */\r\n    _calculateNextCyclicDelayPeriod(gameTime) {\r\n        const totalTime = gameTime - this.cycleStartTime;\r\n        const progressInPeriod = totalTime / (this.period / 4);\r\n\r\n        if (progressInPeriod >= 4) {\r\n            this.cycleStartTime += this.period;\r\n\r\n            return TIME.ONE_HOUR_IN_SECONDS / (this.rate + (progressInPeriod - 4) * this.variation);\r\n        }\r\n\r\n        if (progressInPeriod <= 1) {\r\n            return TIME.ONE_HOUR_IN_SECONDS / (this.rate + progressInPeriod * this.variation);\r\n        }\r\n\r\n        if (progressInPeriod <= 2) {\r\n            return TIME.ONE_HOUR_IN_SECONDS / (this.rate + (2 * (this.period - 2 * totalTime) / this.period) * this.variation);\r\n        }\r\n\r\n        if (progressInPeriod <= 3) {\r\n            return TIME.ONE_HOUR_IN_SECONDS / (this.rate - (progressInPeriod - 2) * this.variation);\r\n        }\r\n\r\n        if (progressInPeriod < 4) {\r\n            return TIME.ONE_HOUR_IN_SECONDS / (this.rate - (4 * (this.period - totalTime) / this.period) * this.variation);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculate a delay period that goes from very low and steeply increases to a\r\n     * sustained arrival surge of densely packed aircraft.\r\n     *\r\n     * Example airport: `EDDT - Berlin Tegel Airport`\r\n     *\r\n     * o o o o o o o o o o - - - - - - - - - - - o o o o o o o o o o-----+ < - - - max arrival rate ( *this.factor)\r\n     * o                 o                       o                 o     |\r\n     * o                 o                       o                 o     |   x(this.factor)\r\n     * o                 o                       o                 o     |\r\n     * o - - - - - - - - o o o o o o o o o o o o o - - - - - - - - o o o-+ < - - - min arrival rate (n)\r\n     * |<--- up time --->|<----- down time ----->|<--- up time --->|\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _calculateNextSurgeDelayPeriod\r\n     * @param gameTime {number} current gameTime\r\n     * @return {number}         number to use as a delay period for the next delay\r\n     * @private\r\n     */\r\n    _calculateNextSurgeDelayPeriod(gameTime) {\r\n        const totalTime = gameTime - this.cycleStartTime;\r\n        const progressInPeriod = totalTime / this.period; // progress in period\r\n        const intervalUp = TIME.ONE_HOUR_IN_SECONDS / this._aircraftPerHourUp;\r\n        const intervalDown = TIME.ONE_HOUR_IN_SECONDS / this._aircraftPerHourDown;\r\n        // reduced spawn rate\r\n        const timeRemaining = this.period - totalTime;\r\n\r\n        if (progressInPeriod >= 1) {\r\n            this.cycleStartTime += this.period;\r\n\r\n            return intervalUp;\r\n        }\r\n\r\n        // elevated spawn rate\r\n        if (totalTime <= this.uptime) {\r\n            return intervalUp;\r\n        }\r\n\r\n        if (timeRemaining > intervalDown + intervalUp) {\r\n            // plenty of time until new period\r\n            return intervalDown;\r\n        }\r\n\r\n        if (timeRemaining > intervalDown) {\r\n            // next plane will delay the first arrival of the next period\r\n            return intervalDown - (totalTime + intervalDown + intervalUp - this.period);\r\n        }\r\n\r\n        // next plane is first of elevated spawn rate\r\n        this.cycleStartTime += this.period;\r\n\r\n        return intervalUp;\r\n    }\r\n\r\n    /**\r\n     * Calculate a delay period that will increase and decrease faster when changing between the lower/higher rates.\r\n     *\r\n     * ------------o-o-o---------------------------------------+-----------o-o < - - - - - max arrival rate\r\n     *        o             o                                  |      o      |       ^\r\n     *    o                     o                              |  o          |  +variation\r\n     *  o                         o                            |o            |       v\r\n     * o-------------------------- o---------------------------o-------------+ < - - - - - avg arrival rate\r\n     * |                            o                         o|             |       ^\r\n     * |                              o                     o  |             |  -variation\r\n     * |                                  o             o      |             |       v\r\n     * +---------------------------------------o-o-o-----------+-------------+ < - - - - - min arrival rate\r\n     * |                                                       |\r\n     * |<  -  -  -  -  -  -  -  - period -  -  -  -  -  -  -  >|\r\n     *\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _calculateNextWaveDelayPeriod\r\n     * @param gameTime {number} current gameTime\r\n     * @return {number}         number to use as a delay period for the next delay\r\n     * @private\r\n     */\r\n    _calculateNextWaveDelayPeriod(gameTime) {\r\n        const t = gameTime - this.cycleStartTime;\r\n        const progressInPeriod = t / this.period;\r\n\r\n        if (progressInPeriod >= 1) {\r\n            this.cycleStartTime += this.period;\r\n        }\r\n\r\n        const rate = this.rate + this.variation * Math.sin(progressInPeriod * tau());\r\n\r\n        return TIME.ONE_HOUR_IN_SECONDS / rate;\r\n    }\r\n\r\n    /**\r\n     * Abstracted boolean logic used to determine if a category is valid.\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _isValidCategory\r\n     * @param _isValidCategory {string}\r\n     * @return {boolean}\r\n     * @private\r\n     */\r\n    _isValidCategory(category) {\r\n        return category === FLIGHT_CATEGORY.ARRIVAL ||\r\n            category === FLIGHT_CATEGORY.DEPARTURE ||\r\n            category === FLIGHT_CATEGORY.OVERFLIGHT;\r\n    }\r\n\r\n    /**\r\n     * Returns a random index number for an array\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _findRandomIndexForList\r\n     * @param list {array}\r\n     * @return {number}\r\n     * @private\r\n     */\r\n    _findRandomIndexForList(list) {\r\n        return _random(0, list.length - 1);\r\n    }\r\n\r\n    /**\r\n     * When `speed` is null, return 0 otherwise the specified speed value\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _extractSpeedFromJson\r\n     * @param spawnPatternJson {object}\r\n     * @return {number}\r\n     */\r\n    _extractSpeedFromJson(spawnPatternJson) {\r\n        if (!spawnPatternJson.speed) {\r\n            return 0;\r\n        }\r\n\r\n        return parseInt(spawnPatternJson.speed, DECIMAL_RADIX);\r\n    }\r\n\r\n    /**\r\n     * Loops through defined airlines for the spawn pattern and transforms them from array values\r\n     * to an object with meaningful keys.\r\n     *\r\n     * The result is used internally to build the `weightedAirlineList`.\r\n     *\r\n     * In the future the assembled object could, itself, be a defined model object\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _assembleAirlineNamesAndFrequencyForSpawn\r\n     * @param spawnPatternAirlines {array<array>}\r\n     * @return {array<object>}\r\n     * @private\r\n     */\r\n    _assembleAirlineNamesAndFrequencyForSpawn(spawnPatternAirlines) {\r\n        const spawnPatternAirlineModels = _map(spawnPatternAirlines, (spawnPatternAirline) => ({\r\n            name: spawnPatternAirline[0],\r\n            rate: spawnPatternAirline[1]\r\n        }));\r\n\r\n        return spawnPatternAirlineModels;\r\n    }\r\n\r\n    /**\r\n     * Build the values for `_weightedAirlineList`\r\n     *\r\n     * see doc block for `_weightedAirlineList` property for more information\r\n     * about what this method produces and why\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _buildWeightedAirlineList\r\n     * @return {array<string>}\r\n     * @private\r\n     */\r\n    _buildWeightedAirlineList() {\r\n        const weightedAirlineList = [];\r\n\r\n        _forEach(this.airlines, (airline) => {\r\n            for (let i = 0; i < airline.rate; i++) {\r\n                weightedAirlineList.push(airline.name);\r\n            }\r\n        });\r\n\r\n        return weightedAirlineList;\r\n    }\r\n\r\n    /**\r\n     * Builds a list of objects used to create the initial aircraft\r\n     * that exist within the app onLoad or onAirportChange.\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _buildPreSpawnAircraft\r\n     * @param spawnPatternJson {object}\r\n     */\r\n    _buildPreSpawnAircraft(spawnPatternJson) {\r\n        if (this.isDeparture()) {\r\n            // TODO: this may be dead, please remove if it is\r\n            const preSpawnDepartureAircraft = [{\r\n                type: 'departure'\r\n            }];\r\n\r\n            return preSpawnDepartureAircraft;\r\n        }\r\n\r\n        const preSpawnArrivalAircraftList = buildPreSpawnAircraft(\r\n            spawnPatternJson,\r\n            AirportController.current\r\n        );\r\n\r\n        return preSpawnArrivalAircraftList;\r\n    }\r\n\r\n    /**\r\n     * Calculate the initial heading and position for a spawning arrival.\r\n     *\r\n     * Sets `position` and `heading` properties.\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _initializePositionAndHeadingForAirborneAircraft\r\n     * @param spawnPatternJson {object}\r\n     * @private\r\n     */\r\n    _initializePositionAndHeadingForAirborneAircraft(spawnPatternJson) {\r\n        if (spawnPatternJson.category === FLIGHT_CATEGORY.DEPARTURE) {\r\n            return;\r\n        }\r\n\r\n        this._positionModel = this._routeModel.waypoints[0].positionModel;\r\n        this.heading = this._calculateSpawnHeading();\r\n    }\r\n\r\n    /**\r\n     * Calculate the heading from the first waypoint to the second waypoint\r\n     *\r\n     * This is used to determine the heading of newly spawned aircraft\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method calculateSpawnHeading\r\n     * @return {number} heading, in radians\r\n     */\r\n    _calculateSpawnHeading() {\r\n        const firstWaypointPositionModel = this._routeModel.waypoints[0].positionModel;\r\n        const secondWaypointPositionModel = this._routeModel.waypoints[1].positionModel;\r\n        const heading = firstWaypointPositionModel.bearingToPosition(secondWaypointPositionModel);\r\n\r\n        return heading;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @for SpawnPatternModel\r\n     * @method _generateSelfReferencedAirportPositionModel\r\n     * @return {StaticPositionModel}\r\n     */\r\n    _generateSelfReferencedAirportPositionModel() {\r\n        const airportPosition = AirportController.airport_get().positionModel;\r\n        const selfReferencingPosition = new StaticPositionModel(\r\n            airportPosition.gps,\r\n            airportPosition,\r\n            airportPosition.magneticNorth\r\n        );\r\n\r\n        return selfReferencingPosition;\r\n    }\r\n}\r\n","import _forEach from 'lodash/forEach';\r\nimport SpawnPatternCollection from './SpawnPatternCollection';\r\nimport TimeKeeper from '../engine/TimeKeeper';\r\nimport GameController from '../game/GameController';\r\nimport { INVALID_NUMBER } from '../constants/globalConstants';\r\n\r\n/**\r\n * Used to create a game_timer for a `SpawnPatternModel` and provide\r\n * methods for re-creating a new timer on timer expiration.\r\n *\r\n * This is designed to be a stateless class.\r\n *\r\n * @class SpawnScheduler\r\n */\r\nclass SpawnScheduler {\r\n    /**\r\n     * @constructor\r\n     * @for SpawnScheduler\r\n     * @param aircraftController {AircraftController}\r\n     */\r\n    constructor() {\r\n        /**\r\n         * @property _aircraftController\r\n         * @type {AircraftController}\r\n         * @default null\r\n         * @private\r\n         */\r\n        this._aircraftController = null;\r\n    }\r\n\r\n    /**\r\n     * @for SpawnScheduler\r\n     * @method init\r\n     * @param aircraftController {AircraftController}\r\n     * @chainable\r\n     */\r\n    init(aircraftController) {\r\n        if (typeof aircraftController === 'undefined') {\r\n            throw new TypeError('Invalid parameter. SpawnScheduler requires aircraftController to be defined.');\r\n        }\r\n\r\n        this._aircraftController = aircraftController;\r\n\r\n        this.startScheduler();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Starts the scheduler and prespawns departures\r\n     *\r\n     * @for SpawnScheduler\r\n     * @method startScheduler\r\n     */\r\n    startScheduler() {\r\n        // TODO: rename to createSchedulesWithTimer\r\n        this.createSchedulesFromList();\r\n        // TODO: create getter on collection to get all preSpawn including departures\r\n        // TODO: create method `createPreSpawnDeparturesAndArrivals`\r\n        this.createPreSpawnDepartures();\r\n    }\r\n\r\n    /**\r\n     * Loop through each `SpawnPatternModel` and create a `game_timeout` for each\r\n     *\r\n     * @for SpawnScheduler\r\n     * @method createSchedulesFromList\r\n     */\r\n    createSchedulesFromList() {\r\n        _forEach(SpawnPatternCollection.spawnPatternModels, (spawnPatternModel) => {\r\n            // set the #cycleStartTime for this `spawnPatternModel` with current game time\r\n            spawnPatternModel.cycleStart(TimeKeeper.accumulatedDeltaTime);\r\n            spawnPatternModel.scheduleId = this.createNextSchedule(spawnPatternModel);\r\n            spawnPatternModel.createPreSpawnAircraft(this._aircraftController);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Loop through each airborne `SpawnPatternModel` and reset the spawned and preSpawned traffic.\r\n     *\r\n     * Used when resetting the traffic in the traffic settings panel.\r\n     *\r\n     * @for SpawnScheduler\r\n     * @method resetAirborneTraffic\r\n     */\r\n    resetAirborneTraffic() {\r\n        SpawnPatternCollection.spawnPatternModels.filter((s) => s.isAirborneAtSpawn()).forEach((spawnPatternModel) => {\r\n            spawnPatternModel.preSpawnAircraftList = [];\r\n            spawnPatternModel.createPreSpawnAircraft(this._aircraftController);\r\n            this.resetTimer(spawnPatternModel);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Send `SpawnPatternModel` objects off the the `AircraftController` to create\r\n     * new aircraft onLoad or onAirportChange.\r\n     *\r\n     * When starting a session there should always be at least one departure waiting\r\n     * to taxi. The logic for determining _which_ patterns to use, and how many,\r\n     * is handled within the `SpawnPatternCollection`. Here we simply get the\r\n     * result and loop through each `SpawnPatternModel`.\r\n     *\r\n     * @for SpawnScheduler\r\n     * @method createPreSpawnDepartures\r\n     */\r\n    createPreSpawnDepartures() {\r\n        const departureModelsToPreSpawn = SpawnPatternCollection.getDepartureModelsForPreSpawn();\r\n\r\n        for (let i = 0; i < departureModelsToPreSpawn.length; i++) {\r\n            const spawnPatternModel = departureModelsToPreSpawn[i];\r\n\r\n            this._aircraftController.createAircraftWithSpawnPatternModel(spawnPatternModel);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Registers a new timeout, its callback and callback arguments with the `GameController`\r\n     *\r\n     * @for SpawnScheduler\r\n     * @method createNextSchedule\r\n     * @param spawnPatternModel {SpawnPatternModel}\r\n     * @return {array}\r\n     */\r\n    createNextSchedule(spawnPatternModel) {\r\n        const delay = spawnPatternModel.getNextDelayValue(TimeKeeper.accumulatedDeltaTime);\r\n\r\n        return this._createTimeout(spawnPatternModel, delay);\r\n    }\r\n\r\n    /**\r\n     * Resets the timer for a specific spawn pattern\r\n     *\r\n     * @for SpawnScheduler\r\n     * @method resetTimer\r\n     * @param spawnPatternModel {SpawnPatternModel}\r\n     */\r\n    resetTimer(spawnPatternModel) {\r\n        let timePassed = 0;\r\n        const { scheduleId } = spawnPatternModel;\r\n\r\n        if (scheduleId && scheduleId !== INVALID_NUMBER) {\r\n            GameController.destroyTimer(spawnPatternModel.scheduleId);\r\n\r\n            const timerStart = spawnPatternModel.scheduleId[1] - spawnPatternModel.scheduleId[3];\r\n            timePassed = TimeKeeper.accumulatedDeltaTime - timerStart;\r\n            spawnPatternModel.scheduleId = null;\r\n        }\r\n\r\n        if (spawnPatternModel.rate <= 0) {\r\n            return;\r\n        }\r\n\r\n        let nextDelay = spawnPatternModel.getNextDelayValue(TimeKeeper.accumulatedDeltaTime);\r\n\r\n        if (timePassed < nextDelay) {\r\n            nextDelay -= timePassed;\r\n        } else {\r\n            this._aircraftController.createAircraftWithSpawnPatternModel(spawnPatternModel);\r\n        }\r\n\r\n        spawnPatternModel.scheduleId = this._createTimeout(spawnPatternModel, nextDelay);\r\n    }\r\n\r\n    /**\r\n     * Registers a new timeout, its callback and callback arguments with the `GameController`\r\n     *\r\n     * @for SpawnScheduler\r\n     * @method _createTimeout\r\n     * @param spawnPatternModel {SpawnPatternModel}\r\n     * @param delay {number} time in seconds\r\n     * @return {array}\r\n     */\r\n    _createTimeout(spawnPatternModel, delay) {\r\n        return GameController.game_timeout(\r\n            this.createAircraftAndRegisterNextTimeout,\r\n            // lifespan of timeout\r\n            delay,\r\n            // passing null only to match existing api\r\n            null,\r\n            // arguments sent to callback as it's first parameter. using array so multiple arg can be sent\r\n            [spawnPatternModel, this._aircraftController]\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Method sent to `game_timeout` as the callback\r\n     *\r\n     * When fired, this method will call `createAircraftWithSpawnPatternModel` and then\r\n     * create a new time by calling `createNextSchedule`. Doing so will also result\r\n     * in calculating a new delay period.\r\n     *\r\n     * Accepts two arguments; `spawnPattern` and `aircraftController`.\r\n     *\r\n     * @for SpawnScheduler\r\n     * @method createAircraftAndRegisterNextTimeout\r\n     * @param args {*[]}\r\n     */\r\n    createAircraftAndRegisterNextTimeout = (...args) => {\r\n        const spawnPatternModel = args[0][0];\r\n        const aircraftController = args[0][1];\r\n\r\n        aircraftController.createAircraftWithSpawnPatternModel(spawnPatternModel);\r\n\r\n        spawnPatternModel.scheduleId = this.createNextSchedule(spawnPatternModel);\r\n    };\r\n}\r\n\r\n\r\nexport default new SpawnScheduler();\r\n","import _findIndex from 'lodash/findIndex';\r\nimport _floor from 'lodash/floor';\r\nimport _isArray from 'lodash/isArray';\r\nimport _isNil from 'lodash/isNil';\r\nimport _random from 'lodash/random';\r\nimport _without from 'lodash/without';\r\nimport AirportModel from '../airport/AirportModel';\r\nimport RouteModel from '../aircraft/FlightManagementSystem/RouteModel';\r\nimport { TIME } from '../constants/globalConstants';\r\nimport { nm } from '../utilities/unitConverters';\r\nimport { isEmptyOrNotObject } from '../utilities/validatorUtilities';\r\nimport { distance2d } from '../math/distance';\r\nimport { ENVIRONMENT } from '../constants/environmentConstants';\r\nimport { avg } from '../math/core';\r\n\r\n/**\r\n * Return an array whose indices directly mirror those of `waypointModelList`, except it\r\n * contains the distances along the route at which each waypoint lies from the spawn point\r\n *\r\n * @function _calculateOffsetsToEachWaypointInRoute\r\n * @param waypointModelList {array<WaypointModel>} array of all waypoints along the route\r\n * @return {array<number>} offset distance from spawn point to each waypoint\r\n */\r\nexport function _calculateOffsetsToEachWaypointInRoute(waypointModelList) {\r\n    // begin by storing the first fix's offset: a distance of 0 from the spawn point\r\n    const waypointOffsetMap = [0];\r\n    let totalDistanceTraveled = 0;\r\n\r\n    // continue with second waypoint, because first is already stored\r\n    for (let i = 1; i < waypointModelList.length; i++) {\r\n        if (waypointModelList[i].isVectorWaypoint || waypointModelList[i - 1].isVectorWaypoint) {\r\n            continue;\r\n        }\r\n\r\n        const previousWaypointModel = waypointModelList[i - 1];\r\n        const nextWaypointModel = waypointModelList[i];\r\n        const distanceToNextWaypoint = previousWaypointModel.calculateDistanceToWaypoint(nextWaypointModel);\r\n        totalDistanceTraveled += distanceToNextWaypoint;\r\n\r\n        waypointOffsetMap.push(totalDistanceTraveled);\r\n    }\r\n\r\n    return waypointOffsetMap;\r\n}\r\n\r\n/**\r\n * Create an array of the various altitude restrictions along the route, and the offset distances at which they exist\r\n *\r\n * Note that unlike the `waypointOffsetMap`, the altitude offset array DOES NOT mirror the indices\r\n * of the `waypointModelList`. Only offsets and altitudes of altitude-restricted waypoints are included.\r\n *\r\n * Also note that this is designed to retrieve bottom altitudes used in descent. It could probably\r\n * be reused for departures, just by doing a Math.max() instead of Math.min() below\r\n *\r\n * @function _calculateAltitudeOffsets\r\n * @param waypointModelList {array<WaypointModel>} array of all waypoints along the route\r\n * @param waypointOffsetMap {array<number>} offset distance from spawn point to each waypoint\r\n * @return {array<array<number>>} [[offsetDistance, altitude], [offsetDistance, altitude], ...]\r\n */\r\nexport function _calculateAltitudeOffsets(waypointModelList, waypointOffsetMap) {\r\n    const altitudeOffsets = [];\r\n\r\n    for (let i = 0; i < waypointModelList.length; i++) {\r\n        const waypointModel = waypointModelList[i];\r\n\r\n        if (!waypointModel.hasAltitudeRestriction) {\r\n            continue;\r\n        }\r\n\r\n        const altitudes = _without([waypointModel.altitudeMaximum, waypointModel.altitudeMinimum], -1);\r\n\r\n        altitudeOffsets.push([\r\n            waypointOffsetMap[i],\r\n            Math.min(...altitudes)\r\n        ]);\r\n    }\r\n\r\n    return altitudeOffsets;\r\n}\r\n\r\n/**\r\n * Calculate the interpolated altitude along the glidepath at the given distance along the route from the spawn point\r\n *\r\n * @function _calculateAltitudeAtOffset\r\n * @param altitudeOffsets {array<array<number>>} information about location of altitude restrictions\r\n * @param offsetDistance {number} distance along route at which we want to know the ideal spawn altitude\r\n * @return {number} ideal spawn altitude, in feet (rounded up to nearest thousand)\r\n */\r\nexport function _calculateAltitudeAtOffset(altitudeOffsets, offsetDistance) {\r\n    const indexOfDistance = 0;\r\n    const indexOfAltitude = 1;\r\n    const indexOfNextAltitudeRestriction = _findIndex(altitudeOffsets, (altitudeOffset) => {\r\n        return altitudeOffset[indexOfDistance] >= offsetDistance;\r\n    });\r\n    let indexOfPreviousAltitudeRestriction = indexOfNextAltitudeRestriction - 1;\r\n\r\n    if (indexOfPreviousAltitudeRestriction < -1) {\r\n        indexOfPreviousAltitudeRestriction = altitudeOffsets.length - 1;\r\n    }\r\n\r\n    if (indexOfNextAltitudeRestriction < 0) { // no restrictions ahead\r\n        if (indexOfPreviousAltitudeRestriction < 0) { // no restrictions ahead or behind\r\n            throw new TypeError('Expected altitude restrictions to calculate appropriate spawn altiude, but none were received.');\r\n        }\r\n\r\n        return altitudeOffsets[indexOfPreviousAltitudeRestriction][indexOfAltitude];\r\n    }\r\n\r\n    if (indexOfPreviousAltitudeRestriction < 0) { // have restrictions ahead, but none behind\r\n        return _floor(altitudeOffsets[indexOfNextAltitudeRestriction][indexOfAltitude], -3);\r\n    }\r\n\r\n    const previousAltitudeRestriction = altitudeOffsets[indexOfPreviousAltitudeRestriction];\r\n    const nextAltitudeRestriction = altitudeOffsets[indexOfNextAltitudeRestriction];\r\n    const distanceBetweenRestrictions = nextAltitudeRestriction[indexOfDistance] - previousAltitudeRestriction[indexOfDistance];\r\n    const altitudeBetweenRestrictions = nextAltitudeRestriction[indexOfAltitude] - previousAltitudeRestriction[indexOfAltitude];\r\n    const distanceFromPreviousRestrictionToOffsetDistance = offsetDistance - previousAltitudeRestriction[indexOfDistance];\r\n    const progressBetweenRestrictions = distanceFromPreviousRestrictionToOffsetDistance / distanceBetweenRestrictions;\r\n    const altitudeChangeFromPreviousRestriction = altitudeBetweenRestrictions * progressBetweenRestrictions;\r\n\r\n    return _floor(previousAltitudeRestriction[indexOfAltitude] + altitudeChangeFromPreviousRestriction, -3);\r\n}\r\n\r\n/**\r\n * Calculate the ideal spawn altitude at the given distance along the route from the spawn point\r\n *\r\n * @function _calculateIdealSpawnAltitudeAtOffset\r\n * @param altitudeOffsets {array<array<number>>} information about location of altitude restrictions\r\n * @param offsetDistance {number} distance along route at which we want to know the ideal spawn altitude\r\n * @param spawnSpeed {number} airspeed at which to spawn the aircraft\r\n * @param spawnAltitude {number|array<number>} altitude specified in the spawn pattern json\r\n * @param totalDistance {number} distance along route from spawn point to airspace boundary\r\n * @param airspaceCeiling {number} altitude of the top of our airspace\r\n * @return {number} ideal spawn altitude, in feet (rounded up to nearest thousand)\r\n */\r\nexport function _calculateIdealSpawnAltitudeAtOffset(\r\n    altitudeOffsets,\r\n    offsetDistance,\r\n    spawnSpeed,\r\n    spawnAltitude,\r\n    totalDistance,\r\n    airspaceCeiling\r\n) {\r\n    const indexOfDistance = 0;\r\n    const indexOfAltitude = 1;\r\n    let firstAltitudeRestriction = altitudeOffsets[0];\r\n\r\n    if (!firstAltitudeRestriction) { // no altitude restrictions at all\r\n        firstAltitudeRestriction = [totalDistance, airspaceCeiling];\r\n    }\r\n\r\n    if (offsetDistance >= firstAltitudeRestriction[indexOfDistance]) {\r\n        return _calculateAltitudeAtOffset(altitudeOffsets, offsetDistance);\r\n    }\r\n\r\n    const distanceToFirstAltitudeRestriction = firstAltitudeRestriction[indexOfDistance] - offsetDistance;\r\n    const minutesToFirstAltitudeRestriction = distanceToFirstAltitudeRestriction / spawnSpeed * TIME.ONE_HOUR_IN_MINUTES;\r\n    const assumedDescentRate = 1000;\r\n    const highestAcceptableAltitude = firstAltitudeRestriction[indexOfAltitude] +\r\n        (assumedDescentRate * minutesToFirstAltitudeRestriction);\r\n\r\n    if (_isArray(spawnAltitude)) {\r\n        spawnAltitude = _random(spawnAltitude[0] / 1000, spawnAltitude[1] / 1000) * 1000;\r\n    }\r\n\r\n    return Math.min(_floor(highestAcceptableAltitude, -3), spawnAltitude);\r\n}\r\n\r\n/**\r\n * Loop through `waypointModelList` and determine where along the route an\r\n * aircraft should spawn\r\n *\r\n * @function _calculateSpawnPositionsAndAltitudes\r\n * @param waypointModelList {array<WaypointModel>}\r\n * @param spawnOffsets {array}\r\n * @param spawnSpeed {number}\r\n * @param spawnAltitude {number}\r\n * @param totalDistance {number} distance along route from spawn point to airspace boundary\r\n * @return spawnPositions {array<number>} distances along route, in nm\r\n */\r\nfunction _calculateSpawnPositionsAndAltitudes(\r\n    waypointModelList,\r\n    spawnOffsets,\r\n    spawnSpeed,\r\n    spawnAltitude,\r\n    totalDistance,\r\n    airspaceCeiling\r\n) {\r\n    const spawnPositionsAndAltitudes = [];\r\n    const waypointOffsetMap = _calculateOffsetsToEachWaypointInRoute(waypointModelList);\r\n    const altitudeOffsets = _calculateAltitudeOffsets(waypointModelList, waypointOffsetMap);\r\n\r\n    // for each new aircraft\r\n    for (let i = 0; i < spawnOffsets.length; i++) {\r\n        const spawnOffset = spawnOffsets[i];\r\n        const nextWaypointIndex = _findIndex(waypointOffsetMap, (distanceToWaypoint) => {\r\n            // Purposefully using strict comparison:\r\n            // If we return true here when distanceToWaypoint is equal to spawnOffset,\r\n            // the previousWaypointModel and the nextWaypointModel will be the same for\r\n            // the last item (the spawn point) resulting in the incapacity to compute a\r\n            // heading.\r\n            return distanceToWaypoint > spawnOffset;\r\n        });\r\n        const nextWaypointModel = waypointModelList[nextWaypointIndex];\r\n        const previousWaypointIndex = Math.max(0, nextWaypointIndex - 1);\r\n        const previousWaypointModel = waypointModelList[previousWaypointIndex];\r\n        const distanceFromPreviousWaypointToSpawnPoint = spawnOffset - waypointOffsetMap[previousWaypointIndex];\r\n        const heading = previousWaypointModel.calculateBearingToWaypoint(nextWaypointModel);\r\n        const spawnPositionModel = previousWaypointModel.positionModel.generateDynamicPositionFromBearingAndDistance(\r\n            heading,\r\n            distanceFromPreviousWaypointToSpawnPoint\r\n        );\r\n        const altitude = _calculateIdealSpawnAltitudeAtOffset(\r\n            altitudeOffsets,\r\n            spawnOffset,\r\n            spawnSpeed,\r\n            spawnAltitude,\r\n            totalDistance,\r\n            airspaceCeiling\r\n        );\r\n\r\n        spawnPositionsAndAltitudes.push({\r\n            altitude,\r\n            heading,\r\n            nextFix: nextWaypointModel.name,\r\n            positionModel: spawnPositionModel\r\n        });\r\n    }\r\n\r\n    return spawnPositionsAndAltitudes;\r\n}\r\n\r\n/**\r\n * Calculate distances along spawn pattern route at which to prespawn aircraft\r\n *\r\n * To randomize the spawn locations, the interval between aircraft will vary, but should\r\n * average out to exactly the `entrailDistance`. The exception is if the `entrailDistance`\r\n * is less than the `smallestIntervalNm` defined below. In that case, aircraft will be\r\n * spawned at exactly the `entrailDistance` with no variation due to their proximity.\r\n *\r\n * NOTE: Provided there is at least `smallestIntervalNm` distance between them, an aircraft\r\n * will always be spawned right along the airspace boundary, and another at the first fix.\r\n *\r\n * For example, with `smallestIntervalNm = 15`:\r\n *   - If requesting 8MIT, will spawn exactly 8MIT\r\n *   - If requesting 30MIT, will spawn each a/c 15MIT-45MIT of the previous arrival\r\n *\r\n * @function _assembleSpawnOffsets\r\n * @param entrailDistance {number}\r\n * @param totalDistance {number}\r\n * @return spawnOffsets {array<number>} distances along route, in nm\r\n */\r\nconst _assembleSpawnOffsets = (entrailDistance, totalDistance = 0) => {\r\n    const offsetClosestToAirspace = totalDistance - 3;\r\n    // dont spawn aircraft closer than 6 MIT\r\n    const clampedEntrailDistance = Math.max(6, entrailDistance);\r\n    let smallestIntervalNm = 15;\r\n    // do not allow prespawned aircraft to have a spacing less than `minimumInTrailNm`\r\n    const largestIntervalNm = Math.max(clampedEntrailDistance, clampedEntrailDistance +\r\n        (clampedEntrailDistance - smallestIntervalNm));\r\n\r\n    if (clampedEntrailDistance < 8) {\r\n        console.error(`Too many aircraft requested, calculated MIT is ${entrailDistance}, limiting MIT to ${clampedEntrailDistance}`);\r\n    }\r\n\r\n    // if requesting less than `smallestIntervalNm`, spawn all AT `entrailDistance`\r\n    if (smallestIntervalNm > largestIntervalNm) {\r\n        smallestIntervalNm = largestIntervalNm;\r\n    }\r\n\r\n    const spawnOffsets = [offsetClosestToAirspace];\r\n    let distanceAlongRoute = offsetClosestToAirspace;\r\n\r\n    // distance between successive arrivals in nm\r\n    while (distanceAlongRoute > smallestIntervalNm) {\r\n        const interval = _random(smallestIntervalNm, largestIntervalNm, true);\r\n        distanceAlongRoute -= interval;\r\n\r\n        if (distanceAlongRoute < smallestIntervalNm) {\r\n            break;\r\n        }\r\n\r\n        spawnOffsets.push(distanceAlongRoute);\r\n    }\r\n\r\n    // spawn an aircraft at the first fix of the route\r\n    spawnOffsets.push(0);\r\n\r\n    return spawnOffsets;\r\n};\r\n\r\n/**\r\n * Returns the total distance from beginning to end of the provided route, along the route's course\r\n *\r\n * @function _calculateTotalDistanceAlongRoute\r\n * @param waypointModelList {array<WaypointModel>}\r\n * @param airport {AirportModel}\r\n * @return {number}\r\n */\r\nconst _calculateTotalDistanceAlongRoute = (waypointModelList, airport) => {\r\n    // find last fix along STAR that is outside of airspace, ie: next fix is within airspace\r\n    // distance between closest fix outside airspace and airspace border in nm\r\n    let totalDistance = 0;\r\n\r\n    // Iteration started at index 1 to ensure two elements are available. It is\r\n    // already an expectation that aircraft must have two waypoints, so this\r\n    // should not be a problem here.\r\n    for (let i = 1; i < waypointModelList.length; i++) {\r\n        const waypointModel = waypointModelList[i];\r\n        const previousWaypoint = waypointModelList[i - 1];\r\n\r\n        if (waypointModel.isVectorWaypoint || previousWaypoint.isVectorWaypoint) {\r\n            continue;\r\n        }\r\n\r\n        const distanceBetweenWaypoints = nm(distance2d(previousWaypoint.relativePosition, waypointModel.relativePosition));\r\n        let distanceToBoundary = Infinity;\r\n\r\n        for (let j = 0; j < airport.airspace.length; j++) {\r\n            const airspace = airport.airspace[j];\r\n\r\n            if (airspace.isPointInside2D(waypointModel.relativePosition)) {\r\n                const distanceToAirspace = airspace.distanceToBoundary(previousWaypoint.relativePosition);\r\n                // find shortest distance, since the waypoint might be inside multiple airspace polygons\r\n                distanceToBoundary = Math.min(distanceToBoundary, distanceToAirspace);\r\n            }\r\n        }\r\n\r\n        // if waypointModel is within any of our airspace\r\n        if (distanceToBoundary !== Infinity) {\r\n            totalDistance += distanceToBoundary;\r\n\r\n            break;\r\n        }\r\n\r\n        totalDistance += distanceBetweenWaypoints;\r\n    }\r\n\r\n    return totalDistance;\r\n};\r\n\r\n/**\r\n * Calculate heading, nextFix and position data to be used when creating an\r\n * `AircraftModel` along a route.\r\n *\r\n * @function _preSpawn\r\n * @param spawnPatternJson {object|SpawnPatternModel}\r\n * @param airport {AirportModel}\r\n * @return {array<object>}\r\n */\r\nconst _preSpawn = (spawnPatternJson, airport) => {\r\n    const spawnRate = spawnPatternJson.rate;\r\n\r\n    if (spawnRate <= 0) {\r\n        return [];\r\n    }\r\n\r\n    const airspaceCeiling = airport.maxAssignableAltitude;\r\n    const spawnSpeed = spawnPatternJson.speed;\r\n    const spawnAltitude = spawnPatternJson.altitude;\r\n    const spawnAvgAltitude = Array.isArray(spawnAltitude) ? avg(spawnAltitude) : spawnAltitude;\r\n    // convert IAS to TAS for better estimate\r\n    const trueAirspeedIncreaseFactor = spawnAvgAltitude * ENVIRONMENT.DENSITY_ALT_INCREASE_FACTOR_PER_FT;\r\n    const spawnEstTrueAirspeed = spawnSpeed * (1 + trueAirspeedIncreaseFactor);\r\n    // distance between each arriving aircraft, in nm.\r\n    const entrailDistance = spawnEstTrueAirspeed / spawnRate;\r\n    const routeModel = spawnPatternJson._routeModel ? spawnPatternJson._routeModel : new RouteModel(spawnPatternJson.route);\r\n    const waypointModelList = routeModel.waypoints;\r\n    const totalDistance = _calculateTotalDistanceAlongRoute(waypointModelList, airport);\r\n    // calculate number of offsets\r\n    const spawnOffsets = _assembleSpawnOffsets(entrailDistance, totalDistance);\r\n    // calculate heading, nextFix and position data to be used when creating an `AircraftModel` along a route\r\n    const spawnPositions = _calculateSpawnPositionsAndAltitudes(\r\n        waypointModelList,\r\n        spawnOffsets,\r\n        spawnSpeed,\r\n        spawnAltitude,\r\n        totalDistance,\r\n        airspaceCeiling\r\n    );\r\n\r\n    return spawnPositions;\r\n};\r\n\r\n/**\r\n * Backfill STAR routes with arrivals closer than the spawn point.\r\n *\r\n * Should be run only once on airport load.\r\n *\r\n * Aircraft spawn at the first point defined in the `arrivals` entry of the airport json file.\r\n * When that spawn point is very far from the airspace boundary, it obviously takes quite a\r\n * while for them to reach the airspace. This function spawns arrivals along the route, between\r\n * the spawn point and the airspace boundary, in order to ensure the player is not kept waiting\r\n * for their first arrival aircraft.\r\n *\r\n * @function buildPreSpawnAircraft\r\n * @param spawnPatternJson {object|SpawnPatternModel}\r\n * @param currentAirport {AirportModel}\r\n * @return {array<object>}\r\n */\r\nexport const buildPreSpawnAircraft = (spawnPatternJson, currentAirport) => {\r\n    if (_isNil(spawnPatternJson) || _isNil(currentAirport)) {\r\n        throw new TypeError('Invalid parameter(s) passed to buildPreSpawnAircraft. ' +\r\n            'Expected spawnPatternJson and currentAirport to be defined, ' +\r\n            `but received ${typeof spawnPatternJson} and ${typeof currentAirport}`);\r\n    }\r\n\r\n    if (isEmptyOrNotObject(spawnPatternJson)) {\r\n        throw new TypeError('Invalid spawnPatternJson passed to buildPreSpawnAircraft. ' +\r\n            `Expected a non-empty object, but received ${typeof spawnPatternJson}`);\r\n    }\r\n\r\n    if (!(currentAirport instanceof AirportModel)) {\r\n        throw new TypeError('Invalid currentAirport passed to buildPreSpawnAircraft. ' +\r\n            `Expected instance of AirportModel, but received ${typeof currentAirport}`);\r\n    }\r\n\r\n    return _preSpawn(spawnPatternJson, currentAirport);\r\n};\r\n","// istanbul ignore\r\nimport _difference from 'lodash/difference';\r\nimport _has from 'lodash/has';\r\nimport _keys from 'lodash/keys';\r\n\r\nconst ACCEPTED_KEYS = [\r\n    'destination',\r\n    'origin',\r\n    'category',\r\n    'route',\r\n    'altitude',\r\n    'method',\r\n    'rate',\r\n    'speed',\r\n    'airlines'\r\n];\r\n\r\nconst ACCEPTED_OPTIONAL_KEYS = [\r\n    'commands',\r\n    'offset',\r\n    'period',\r\n    'variation',\r\n    'entrail'\r\n];\r\n\r\nconst ALL_KEYS = [\r\n    ...ACCEPTED_KEYS,\r\n    ...ACCEPTED_OPTIONAL_KEYS\r\n];\r\n\r\n/**\r\n * Validates the presence of correct `SpawnPatternModel` keys.\r\n *\r\n * Expects a shape of one the following:\r\n *\r\n * ```javascript\r\n * // Departures\r\n * {\r\n *      \"origin\": \"KLAS\",\r\n *      \"destination\": \"\",\r\n *      \"category\": \"departure\",\r\n *      \"route\": \"KLAS.BOACH6.HEC\",\r\n *      \"altitude\": \"\",\r\n *      \"speed\": \"\"\r\n *      \"method\": \"random\",\r\n *      \"rate\": 5,\r\n *      \"airlines\": [\r\n *          [\"aal\", 10],\r\n *          [\"ual\", 10],\r\n *          [\"ual/long\", 3]\r\n *      ]\r\n *  }\r\n *\r\n *  // Arrivals\r\n *  {\r\n *      \"origin\": \"\",\r\n *      \"destination\": \"KLAS\",\r\n *      \"category\": \"arrival\",\r\n *      \"route\": \"BETHL.GRNPA1.KLAS\",\r\n *      \"altitude\": [30000, 40000],\r\n *      \"speed\": 320,\r\n *      \"method\": \"cyclic\",\r\n *      \"rate\": 17.5,\r\n *      \"period\": 75,\r\n *      \"offset\": 25,\r\n *      \"airlines\": [\r\n *          [\"aal\", 10],\r\n *          [\"ual\", 10],\r\n *          [\"ual/long\", 3]\r\n *      ]\r\n *  }\r\n *  ```\r\n *\r\n * @function spawnPatternModelJsonValidator\r\n * @param json {object}\r\n * @return isValid {boolean}\r\n */\r\n// istanbul ignore next\r\nexport const spawnPatternModelJsonValidator = (json) => {\r\n    let isValid = true;\r\n\r\n    for (let i = 0; i < ACCEPTED_KEYS.length; i++) {\r\n        const key = ACCEPTED_KEYS[i];\r\n\r\n        if ((key === 'altitude' || key === 'speed') && json.category === 'departure') {\r\n            continue;\r\n        }\r\n\r\n        if (key === 'origin' && json.category === 'arrival') {\r\n            continue;\r\n        }\r\n\r\n        if (!_has(json, key) && !_has(ACCEPTED_OPTIONAL_KEYS, key)) {\r\n            console.warn(`spawnPattern is missing a required key: ${key}`);\r\n\r\n            isValid = false;\r\n        }\r\n    }\r\n\r\n    const jsonKeys = _keys(json);\r\n    const unsupportedKeys = _difference(jsonKeys, ALL_KEYS);\r\n\r\n    if (unsupportedKeys.length > 0) {\r\n        console.warn(`Unsupported key(s) found in spawnPattern: ${unsupportedKeys.join(', ')}`);\r\n    }\r\n\r\n    return isValid;\r\n};\r\n","import $ from 'jquery';\r\nimport _forEach from 'lodash/forEach';\r\nimport _isNaN from 'lodash/isNaN';\r\nimport GameController from '../game/GameController';\r\nimport { SELECTORS } from '../constants/selectors';\r\n\r\n/**\r\n * @property UI_SETTINGS_MODAL_TEMPLATE\r\n * @type {string}\r\n * @final\r\n */\r\nconst UI_SETTINGS_MODAL_TEMPLATE = `\r\n    <div class=\"option-dialog dialog notSelectable\">\r\n        <p class=\"dialog-title\">Settings</p>\r\n        <div class=\"dialog-body nice-scrollbar\"></div>\r\n    </div>`;\r\n\r\n/**\r\n * @property UI_DIALOG_FOOTER_TEMPLATE\r\n * @type {string}\r\n * @final\r\n */\r\nconst UI_DIALOG_FOOTER_TEMPLATE = '<div class=\"dialog-footer\"></div>';\r\n\r\n/**\r\n * @property UI_OPTION_CONTAINER_TEMPLATE\r\n * @type {string}\r\n * @final\r\n */\r\nconst UI_OPTION_CONTAINER_TEMPLATE = '<div class=\"form-element\"></div>';\r\n\r\n/**\r\n * @property UI_OPTION_LABEL_TEMPLATE\r\n * @type {string}\r\n * @final\r\n */\r\nconst UI_OPTION_LABEL_TEMPLATE = '<span class=\"form-label\"></span>';\r\n\r\n/**\r\n * @property UI_OPTION_SELECTOR_TEMPLATE\r\n * @type {string}\r\n * @final\r\n */\r\nconst UI_OPTION_SELECTOR_TEMPLATE = '<span class=\"form-type-select\"></span>';\r\n\r\n// TODO: This class has no corresponding styles\r\n/**\r\n * @property UI_STATIC_TEXT_TEMPLATE\r\n * @type {string}\r\n * @final\r\n */\r\nconst UI_STATIC_TEXT_TEMPLATE = '<span class=\"option-static-text\"></span>';\r\n\r\n/**\r\n * @class SettingsController\r\n */\r\nexport default class SettingsController {\r\n    constructor($element) {\r\n        /**\r\n         * Root DOM element\r\n         *\r\n         * @property $element\r\n         * @type {jquery|HTML Element}\r\n         * @default $element\r\n         */\r\n        this.$element = $element;\r\n\r\n        /**\r\n         * Dialog DOM element\r\n         *\r\n         * @property $dialog\r\n         * @type {jquery|HTML Element}\r\n         * @default null\r\n         */\r\n        this.$dialog = null;\r\n\r\n        /**\r\n         * Dialog's body DOM element\r\n         *\r\n         * @property $dialogBody\r\n         * @type {jquery|HTML Element}\r\n         * @default null\r\n         */\r\n        this.$dialogBody = null;\r\n\r\n        this.init();\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @for SettingsController\r\n     * @method init\r\n     * @chainable\r\n     */\r\n    init() {\r\n        this.$dialog = $(UI_SETTINGS_MODAL_TEMPLATE);\r\n        this.$dialogBody = this.$dialog.find(SELECTORS.DOM_SELECTORS.DIALOG_BODY);\r\n        const descriptions = GameController.game.option.getDescriptions();\r\n\r\n        _forEach(descriptions, (opt) => {\r\n            let $container = this._buildTextInputTemplate(opt);\r\n\r\n            if (opt.type === 'select') {\r\n                $container = this._buildSelectInputTemplate(opt);\r\n            }\r\n\r\n            this.$dialogBody.append($container);\r\n        });\r\n\r\n        const $version = this._buildVersionTemplate();\r\n\r\n        this.$dialog.append($version);\r\n        this.$element.append(this.$dialog);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns whether the airport selection dialog is open\r\n     *\r\n     * @for SettingsController\r\n     * @method isDialogOpen\r\n     * @return {boolean}\r\n     */\r\n    isDialogOpen() {\r\n        return this.$dialog.hasClass(SELECTORS.CLASSNAMES.OPEN);\r\n    }\r\n\r\n    /**\r\n    * @for SettingsController\r\n    * @method toggleDialog\r\n    */\r\n    toggleDialog() {\r\n        this.$dialog.toggleClass(SELECTORS.CLASSNAMES.OPEN);\r\n    }\r\n\r\n    /**\r\n     * Build the html for a game option and its corresponding value elements.\r\n     *\r\n     * @for SettingsController\r\n     * @method _buildSelectInputTemplate\r\n     * @param option {object}\r\n     * @return $container {jquery Element}\r\n     * @private\r\n     */\r\n    _buildSelectInputTemplate(option) {\r\n        const $container = $(UI_OPTION_CONTAINER_TEMPLATE);\r\n        const $label = $(UI_OPTION_LABEL_TEMPLATE);\r\n        const $optionSelector = $(UI_OPTION_SELECTOR_TEMPLATE);\r\n        const $selector = $(`<select name=\"${option.name}\"></select>`);\r\n        const selectedOption = GameController.game.option.getOptionByName(option.name);\r\n\r\n        $label.text(option.description);\r\n        $container.append($label);\r\n\r\n        // this could me done with a _map(), but verbosity here makes the code easier to read\r\n        for (let i = 0; i < option.optionList.length; i++) {\r\n            const $optionSelectTempalate = this._buildSelectOptionTemplate(option.optionList[i], selectedOption);\r\n\r\n            $selector.append($optionSelectTempalate);\r\n        }\r\n\r\n        // TODO: this should be moved to proper event handler method and only assigned here.\r\n        $selector.change((event) => {\r\n            const $currentTarget = $(event.currentTarget);\r\n\r\n            GameController.game.option.setOptionByName($currentTarget.attr('name'), $currentTarget.val());\r\n        });\r\n\r\n        $optionSelector.append($selector);\r\n        $container.append($optionSelector);\r\n\r\n        return $container;\r\n    }\r\n\r\n    /**\r\n     * Build the html for a select option.\r\n     *\r\n     * @for SettingsController\r\n     * @method _buildSelectOptionTemplate\r\n     * @param optionData {array<string>}\r\n     * @param selectedOption {string}\r\n     * @return optionSelectTempalate {HTML Element}\r\n     * @private\r\n     */\r\n    _buildSelectOptionTemplate(optionData, selectedOption) {\r\n        if (optionData.value === selectedOption) {\r\n            return `<option value=\"${optionData.value}\" selected>${optionData.displayLabel}</option>`;\r\n        }\r\n\r\n        return `<option value=\"${optionData.value}\">${optionData.displayLabel}</option>`;\r\n    }\r\n\r\n    /**\r\n     * Build text input form element\r\n     *\r\n     * @for SettingsController\r\n     * @method _buildTextInputTemplate\r\n     * @param option {object}\r\n     * @return $container {jquery Element}\r\n     */\r\n    _buildTextInputTemplate(option) {\r\n        const $container = $(UI_OPTION_CONTAINER_TEMPLATE);\r\n        const $label = $(UI_OPTION_LABEL_TEMPLATE);\r\n        const currentValue = GameController.game.option.getOptionByName(option.name);\r\n        const $selector = $(`<input class=\"form-input\" step=\"any\"\r\n                                    type=\"${option.type}\"\r\n                                    name=\"${option.name}\"\r\n                                    value=\"${currentValue}\">`);\r\n        const $unit = $(`<span class=\"form-value\">${option.unit}</span>`);\r\n\r\n        $label.text(option.description);\r\n        $container.append($label);\r\n\r\n        // TODO: this should be moved to proper event handler method and only assigned here.\r\n        $selector.change((event) => {\r\n            const $currentTarget = $(event.currentTarget);\r\n            const currentValue = $currentTarget.val();\r\n\r\n            if (!option.validationHandler(currentValue)) {\r\n                // User didn't enter a valid value, revert to the old value\r\n                $selector.val(currentValue);\r\n\r\n                return;\r\n            }\r\n\r\n            let nextValue = currentValue;\r\n            if (option.type === 'number') {\r\n                nextValue = parseFloat(nextValue);\r\n            }\r\n\r\n            GameController.game.option.setOptionByName($currentTarget.attr('name'), nextValue);\r\n        });\r\n\r\n        $container.append($selector);\r\n        $container.append($unit);\r\n\r\n        return $container;\r\n    }\r\n\r\n    /**\r\n     * Builds a static text information psuedo-option.\r\n     * Will display as such:\r\n     *\r\n     * `(settings menu)`\r\n     *\r\n     * `Text text text         Value value value`\r\n     *\r\n     * @for SettingsController\r\n     * @method _buildStaticTemplate\r\n     * @param {string} label\r\n     * @param {string} value (optional)\r\n     * @return {JQuery|HTML element}\r\n     */\r\n    _buildStaticTemplate(label, value = '') {\r\n        const $container = $(UI_OPTION_CONTAINER_TEMPLATE);\r\n        const $label = $(UI_OPTION_LABEL_TEMPLATE);\r\n        const $value = $(UI_STATIC_TEXT_TEMPLATE);\r\n\r\n        $container.append($label);\r\n        $container.append($value);\r\n        $label.text(label);\r\n        $value.text(value);\r\n\r\n        return $container;\r\n    }\r\n\r\n    /**\r\n     * Build the html for the simulator version psuedo-option.\r\n     *\r\n     * @for SettingsController\r\n     * @method _buildVersionTemplate\r\n     * @return {JQuery|HTML element}\r\n     */\r\n    _buildVersionTemplate() {\r\n        const simulatorVersion = window.GLOBAL.VERSION;\r\n        const $container = $(UI_DIALOG_FOOTER_TEMPLATE);\r\n\r\n        $container.text(`openScope ATC Simulator v${simulatorVersion}`);\r\n\r\n        return $container;\r\n    }\r\n}\r\n","import $ from 'jquery';\r\nimport _forEach from 'lodash/forEach';\r\nimport EventBus from '../lib/EventBus';\r\nimport EventTracker from '../EventTracker';\r\nimport SpawnPatternCollection from '../trafficGenerator/SpawnPatternCollection';\r\nimport SpawnScheduler from '../trafficGenerator/SpawnScheduler';\r\nimport { SELECTORS, CLASSNAMES } from '../constants/selectors';\r\nimport { FLIGHT_CATEGORY } from '../constants/aircraftConstants';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport { REGEX } from '../constants/globalConstants';\r\nimport { TRACKABLE_EVENT } from '../constants/trackableEvents';\r\nimport AirportController from '../airport/AirportController';\r\nimport { radiansToDegrees } from '../utilities/unitConverters';\r\n\r\n/**\r\n * @property UI_SETTINGS_MODAL_TEMPLATE\r\n * @type {string}\r\n * @final\r\n */\r\nconst UI_TRAFFIC_MODAL_TEMPLATE = `\r\n    <div class=\"traffic-dialog dialog notSelectable\">\r\n        <p class=\"dialog-title\">Traffic rate</p>\r\n        <div class=\"dialog-body nice-scrollbar\"></div>\r\n        <div class=\"dialog-footer form-element\">\r\n            <button id=\"reset-button\" class=\"js-trafficDefaultButton button\">Default</button>\r\n            <button id=\"restart-button\" class=\"js-trafficRestartButton button\">Restart</button>\r\n        </div>\r\n    </div>`;\r\n\r\n/**\r\n * @class TrafficRateController\r\n */\r\nexport default class TrafficRateController {\r\n    constructor($element) {\r\n        /**\r\n         * @property EventBus\r\n         * @type {EventBus}\r\n         * @default EventBus\r\n         * @private\r\n         */\r\n        this._eventBus = EventBus;\r\n\r\n        /**\r\n         * Root DOM element\r\n         *\r\n         * @property $element\r\n         * @type {jquery|HTML Element}\r\n         * @default $element\r\n         */\r\n        this.$element = $element;\r\n\r\n        /**\r\n         * Dialog DOM element\r\n         *\r\n         * @property $dialog\r\n         * @type {jquery|HTML Element}\r\n         * @default null\r\n         */\r\n        this.$dialog = null;\r\n\r\n        /**\r\n         * Spawn rates by category or route\r\n         *\r\n         * @property _rates\r\n         * @type {object}\r\n         * @default null\r\n         */\r\n        this._rates = null;\r\n\r\n        /**\r\n         * Form elements by category\r\n         *\r\n         * @property _elements\r\n         * @type {array}\r\n         * @default null\r\n         */\r\n        this._elements = null;\r\n\r\n        /**\r\n         * Current wind\r\n         *\r\n         * @property _wind\r\n         * @type {object}\r\n         * @default null\r\n         */\r\n        this._wind = null;\r\n\r\n        this._setupHandlers()\r\n            .init()\r\n            .enable();\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @for TrafficRateController\r\n     * @method init\r\n     * @chainable\r\n     */\r\n    init() {\r\n        this.$dialog = $(UI_TRAFFIC_MODAL_TEMPLATE);\r\n        this.$dialogBody = this.$dialog.find(`.${CLASSNAMES.DIALOG_BODY}`);\r\n\r\n        this._buildDialogBody();\r\n        this.$element.append(this.$dialog);\r\n        this.$dialog.find(SELECTORS.DOM_SELECTORS.TRAFFIC_DEFAULT_BUTTON).click(this._onFormResetHandler);\r\n        this.$dialog.find(SELECTORS.DOM_SELECTORS.TRAFFIC_RESTART_BUTTON).click(this._onTrafficResetHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Create event handlers\r\n     *\r\n     * Should be run once only on instantiation\r\n     *\r\n     * @for TrafficRateController\r\n     * @method _setupHandlers\r\n     * @chainable\r\n     */\r\n    _setupHandlers() {\r\n        this._onAirportChangeHandler = this.onAirportChange.bind(this);\r\n        this._onChangeWindDirectionHandler = this.onChangeWindDirection.bind(this);\r\n        this._onChangeWindSpeedHandler = this.onChangeWindSpeed.bind(this);\r\n        this._onFormResetHandler = this.onFormReset.bind(this);\r\n        this._onTrafficResetHandler = this.onTrafficReset.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Enable event handlers\r\n     *\r\n     * should be run only once on instantiation\r\n     *\r\n     * @for TrafficRateController\r\n     * @method enable\r\n     * @chainable\r\n     */\r\n    enable() {\r\n        this._eventBus.on(EVENT.AIRPORT_CHANGE, this._onAirportChangeHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Disable event handlers\r\n     *\r\n     * @for TrafficRateController\r\n     * @method disable\r\n     * @chainable\r\n     */\r\n    disable() {\r\n        this._eventBus.off(EVENT.AIRPORT_CHANGE, this._onAirportChangeHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns whether the airport selection dialog is open\r\n     *\r\n     * @for TrafficRateController\r\n     * @method isDialogOpen\r\n     * @return {boolean}\r\n     */\r\n    isDialogOpen() {\r\n        return this.$dialog.hasClass(SELECTORS.CLASSNAMES.OPEN);\r\n    }\r\n\r\n    /**\r\n    * @for TrafficRateController\r\n    * @method toggleDialog\r\n    */\r\n    toggleDialog() {\r\n        this.$dialog.toggleClass(SELECTORS.CLASSNAMES.OPEN);\r\n    }\r\n\r\n    /**\r\n     * Rebuilds the dialog body when the airport is changed.\r\n     *\r\n     * @for TrafficRateController\r\n     * @method onAirportChange\r\n     */\r\n    onAirportChange() {\r\n        this._buildDialogBody();\r\n    }\r\n\r\n    /**\r\n     * Resets the traffic dialog and spawn rates to default values\r\n     *\r\n     * @for TrafficRateController\r\n     * @method onFormReset\r\n     */\r\n    onFormReset() {\r\n        const airport = AirportController.airport_get();\r\n        this._wind = { speed: airport.defaultWind.speed, angle: Math.round(radiansToDegrees(airport.defaultWind.angle)) };\r\n\r\n        this._eventBus.trigger(EVENT.WIND_CHANGE, this._wind);\r\n        SpawnPatternCollection.resetRates();\r\n        this._buildDialogBody();\r\n    }\r\n\r\n    /**\r\n     * Resets the generated traffic using the current traffic values\r\n     *\r\n     * @for TrafficRateController\r\n     * @method onTrafficReset\r\n     */\r\n    onTrafficReset() {\r\n        this._eventBus.trigger(EVENT.TRAFFIC_RESET);\r\n    }\r\n\r\n    /**\r\n     * Builds the dialog body\r\n     *\r\n     * @for TrafficRateController\r\n     * @method _buildDialogBody\r\n     */\r\n    _buildDialogBody() {\r\n        this.$dialogBody.empty();\r\n        this._rates = {};\r\n        this._elements = {};\r\n\r\n        const airport = AirportController.airport_get();\r\n        this._wind = { speed: airport.wind.speed, angle: Math.round(radiansToDegrees(airport.wind.angle)) };\r\n\r\n        const $windDirSlider = this._buildWindDirectionSlider(this._wind.angle);\r\n        const $windSpdSlider = this._buildWindSpeedSlider(this._wind.speed);\r\n\r\n        this.$dialogBody.append($windDirSlider);\r\n        this.$dialogBody.append($windSpdSlider);\r\n        this.$dialogBody.append('<hr />');\r\n\r\n        for (const category of Object.values(FLIGHT_CATEGORY)) {\r\n            this._rates[category] = 1;\r\n            this._elements[category] = [];\r\n            const $formElement = this._buildSlider(category, category, category, this._onChangeFlightCategoryRate);\r\n\r\n            this.$dialogBody.append($formElement);\r\n        }\r\n\r\n        for (const category of Object.values(FLIGHT_CATEGORY)) {\r\n            const spawnPatterns = SpawnPatternCollection.findSpawnPatternsByCategory(category);\r\n\r\n            if (spawnPatterns.length > 0) {\r\n                this.$dialogBody.append('<hr />');\r\n            }\r\n\r\n            _forEach(spawnPatterns, (spawnPattern) => {\r\n                const label = spawnPattern.routeString.replace(REGEX.SINGLE_DOT, ' ');\r\n                this._rates[spawnPattern.id] = spawnPattern.rate;\r\n                const $formElement = this._buildInputField(spawnPattern.id, label, spawnPattern, this._onChangeSpawnPatternRate);\r\n\r\n                this.$dialogBody.append($formElement);\r\n                this._elements[category].push({ spawnPattern, $formElement });\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Build form element\r\n     *\r\n     * @for TrafficRateController\r\n     * @method _buildSlider\r\n     * @param key {string}\r\n     * @param data {string|object} passed to the change handler\r\n     * @param onChangeMethod {function}\r\n     * @return {jquery|HTML Element}\r\n     */\r\n    _buildSlider(key, label, data, onChangeMethod) {\r\n        const rate = this._rates[key];\r\n        const template = `\r\n            <div class=\"form-element\">\r\n                <div class=\"form-label\">${label}</div>\r\n                <input class=\"form-slider\" type=\"range\" name=\"${key}\" value=\"${rate}\" min=\"0\" max=\"10\" step=\"0.5\" />\r\n                <span class=\"form-value\">${rate}</span>\r\n            </div>`;\r\n        const $element = $(template);\r\n        const onChangeHandler = onChangeMethod.bind(this);\r\n\r\n        $element.on('change', { rateKey: data }, onChangeHandler);\r\n\r\n        return $element;\r\n    }\r\n\r\n    /**\r\n     * Build form element\r\n     *\r\n     * @for TrafficRateController\r\n     * @method _buildWindDirectionSlider\r\n     *\r\n     * @return {jquery|HTML Element}\r\n     */\r\n    _buildWindDirectionSlider(value) {\r\n        const name = 'wind direction';\r\n        const template = `\r\n            <div class=\"form-element\">\r\n                <div class=\"form-label\">${name}</div>\r\n                <input class=\"form-slider\" type=\"range\" name=\"${name}\" value=\"${value}\" min=\"10\" max=\"360\" step=\"10\" />\r\n                <span class=\"form-value\">${value}</span>\r\n            </div>`;\r\n        const $element = $(template);\r\n\r\n        $element.on('change', this._onChangeWindDirectionHandler);\r\n\r\n        return $element;\r\n    }\r\n\r\n    /**\r\n     * Build form element\r\n     *\r\n     * @for TrafficRateController\r\n     * @method _buildWindSpeedSlider\r\n     * @param key {string}\r\n     * @param label {string}\r\n     * @param value {number} passed to the change handler\r\n     * @return {jquery|HTML Element}\r\n     */\r\n    _buildWindSpeedSlider(value) {\r\n        const name = 'wind speed';\r\n        const template = `\r\n            <div class=\"form-element\">\r\n                <div class=\"form-label\">${name}</div>\r\n                <input class=\"form-slider\" type=\"range\" name=\"${name}\" value=\"${value}\" min=\"0\" max=\"25\" step=\"1\" />\r\n                <span class=\"form-value\">${value}</span>\r\n            </div>`;\r\n        const $element = $(template);\r\n\r\n        $element.on('change', this._onChangeWindSpeedHandler);\r\n\r\n        return $element;\r\n    }\r\n\r\n    /**\r\n     * Build form element\r\n     *\r\n     * @for TrafficRateController\r\n     * @method _buildInputField\r\n     * @param key {string}\r\n     * @param data {string|object} passed to the change handler\r\n     * @param onChangeMethod {function}\r\n     * @return {jquery|HTML Element}\r\n     */\r\n    _buildInputField(key, label, data, onChangeMethod) {\r\n        const rate = this._rates[key];\r\n        const template = `\r\n            <div class=\"form-element\">\r\n                <div class=\"form-label\">${label}</div>\r\n                <input class=\"form-input\" type=\"number\" name=\"${key}\" value=\"${rate}\" min=\"0\" max=\"60\">\r\n                <span class=\"form-value\">${rate}</span>\r\n            </div>`;\r\n        const $element = $(template);\r\n        const onChangeHandler = onChangeMethod.bind(this);\r\n\r\n        $element.on('change', { rateKey: data }, onChangeHandler);\r\n\r\n        return $element;\r\n    }\r\n\r\n    /**\r\n     * Called when the wind direction is changed\r\n     *\r\n     * @for TrafficRateController\r\n     * @method onChangeWindDirection\r\n     * @param event\r\n     */\r\n    onChangeWindDirection(event) {\r\n        const $target = $(event.target);\r\n        const $nextDirection = $target.next(`.${CLASSNAMES.FORM_VALUE}`);\r\n        const value = $target.val();\r\n        this._wind.angle = Number(value);\r\n\r\n        $nextDirection.text(value);\r\n        this._eventBus.trigger(EVENT.WIND_CHANGE, this._wind);\r\n    }\r\n\r\n    /**\r\n     * Called when the wind speed is changed\r\n     *\r\n     * @for TrafficRateController\r\n     * @method onChangeWindSpeed\r\n     * @param event\r\n     */\r\n    onChangeWindSpeed(event) {\r\n        const $target = $(event.target);\r\n        const $nextSpeed = $target.next(`.${CLASSNAMES.FORM_VALUE}`);\r\n        const value = $target.val();\r\n        this._wind.speed = Number(value);\r\n\r\n        $nextSpeed.text(value);\r\n        this._eventBus.trigger(EVENT.WIND_CHANGE, this._wind);\r\n    }\r\n\r\n    /**\r\n     * Called when the rate for a flight category was changed\r\n     *\r\n     * @for TrafficRateController\r\n     * @method _onChangeFlightCategoryRate\r\n     * @param event\r\n     */\r\n    _onChangeFlightCategoryRate(event) {\r\n        const $target = $(event.target);\r\n        const $output = $target.next(`.${CLASSNAMES.FORM_VALUE}`);\r\n        const value = $target.val();\r\n        const category = event.data.rateKey;\r\n        const elements = this._elements[category];\r\n        const { airportIcao } = elements[0].spawnPattern;\r\n        this._rates[category] = parseFloat(value);\r\n\r\n        $output.text(value);\r\n        EventTracker.recordEvent(TRACKABLE_EVENT.CHANGE_SPAWN_PATTERN, 'flight-category', `${airportIcao}:${category}:${value}`);\r\n\r\n        for (const { spawnPattern, $formElement } of elements) {\r\n            const $childOutput = $formElement.children(`.${CLASSNAMES.FORM_VALUE}`);\r\n\r\n            this._updateRate(spawnPattern, $childOutput);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called when the rate for a route was changed\r\n     *\r\n     * @for TrafficRateController\r\n     * @method _onChangeSpawnPatternRate\r\n     * @param event\r\n     */\r\n    _onChangeSpawnPatternRate(event) {\r\n        const $target = $(event.target);\r\n        const $output = $target.next(`.${CLASSNAMES.FORM_VALUE}`);\r\n        const value = $target.val();\r\n        const spawnPattern = event.data.rateKey;\r\n        const nextRate = parseFloat(value);\r\n        this._rates[spawnPattern.id] = nextRate;\r\n\r\n        EventTracker.recordEvent(\r\n            TRACKABLE_EVENT.CHANGE_SPAWN_PATTERN,\r\n            'spawn-pattern',\r\n            `${spawnPattern.airportIcao}:${spawnPattern.routeString}:${spawnPattern.rate}:${nextRate}`\r\n        );\r\n        this._updateRate(spawnPattern, $output);\r\n    }\r\n\r\n    /**\r\n     * Recalculate the rate for a spawn pattern\r\n     *\r\n     * @for TrafficRateController\r\n     * @method _updateRate\r\n     * @param spawnPattern {SpawnPatternModel}\r\n     * @param $output {jQuery element} text element to output the actual rate\r\n     */\r\n    _updateRate(spawnPattern, $output) {\r\n        const { category } = spawnPattern;\r\n        spawnPattern.rate = this._rates[category] * this._rates[spawnPattern.id];\r\n\r\n        $output.text(spawnPattern.rate);\r\n        SpawnScheduler.resetTimer(spawnPattern);\r\n    }\r\n}\r\n","import _get from 'lodash/get';\r\n\r\nconst INIT_POSITION_PADDING = [0, 0];\r\n\r\n/**\r\n * Model representing a single tutorial step.\r\n *\r\n * Consumed by tutorial.js\r\n *\r\n * @class TutorialStep\r\n */\r\nexport default class TutorialStep {\r\n    /**\r\n     * @for TutorialStep\r\n     * @constructor\r\n     */\r\n    constructor(options = {}) {\r\n        this.title = _get(options, 'title', '?');\r\n        this.text = _get(options, 'text', '?');\r\n        this.parse = _get(options, 'parse', null);\r\n        this.side = _get(options, 'side', 'none');\r\n        // TODO: Is this an actual `relativePosition`, or something else?\r\n        this.position = _get(options, 'position', INIT_POSITION_PADDING);\r\n        this.padding = _get(options, 'padding', INIT_POSITION_PADDING);\r\n    }\r\n\r\n    /**\r\n     * Replace tokens with values from current sim state\r\n     * or return simple text.\r\n     *\r\n     * @for TutorialStep\r\n     * @method getText\r\n     * @return {string}\r\n     */\r\n    getText() {\r\n        if (this.parse) {\r\n            return this.parse(this.text);\r\n        }\r\n\r\n        return this.text;\r\n    }\r\n}\r\n","/* eslint-disable max-len, indent, no-undef, prefer-destructuring */\r\nimport $ from 'jquery';\r\nimport _has from 'lodash/has';\r\nimport _flow from 'lodash/flow';\r\nimport AirportController from '../airport/AirportController';\r\nimport EventBus from '../lib/EventBus';\r\nimport EventTracker from '../EventTracker';\r\nimport TimeKeeper from '../engine/TimeKeeper';\r\nimport TutorialStep from './TutorialStep';\r\nimport { round, clamp } from '../math/core';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport { STORAGE_KEY } from '../constants/storageKeys';\r\nimport { SELECTORS } from '../constants/selectors';\r\nimport { TRACKABLE_EVENT } from '../constants/trackableEvents';\r\n\r\nconst tutorial = {};\r\n\r\nconst TUTORIAL_TEMPLATE = '' +\r\n    '<div id=\"tutorial\" class=\"notSelectable\">' +\r\n    '   <h1></h1>' +\r\n    '   <main></main>' +\r\n    '   <div class=\"prev\"><img src=\"assets/images/prev.png\" title=\"Previous step\" /></div>' +\r\n    '   <div class=\"next\"><img src=\"assets/images/next.png\" title=\"Next step\" /></div>' +\r\n    '</div>';\r\n\r\n/**\r\n * @class TutorialView\r\n */\r\nexport default class TutorialView {\r\n    /**\r\n     * @constructor\r\n     */\r\n    constructor($element = null) {\r\n        /**\r\n         * @property EventBus\r\n         * @type {EventBus}\r\n         * @default EventBus\r\n         * @private\r\n         */\r\n        this._eventBus = EventBus;\r\n\r\n        /**\r\n         * @property tutorial\r\n         * @type {}\r\n         * @private\r\n         */\r\n        this.tutorial = null;\r\n\r\n        /**\r\n         * Root DOM element\r\n         *\r\n         * @property $element\r\n         * @type {jquery|HTML Element}\r\n         * @default $element\r\n         */\r\n        this.$element = $element;\r\n\r\n        /**\r\n         * Root tutorial DOM element\r\n         *\r\n         * @property $tutorialView\r\n         * @type {jquery|HTML Element}\r\n         * @default `#tutorial`\r\n         */\r\n        this.$tutorialView = null;\r\n\r\n        /**\r\n         * Previous tutorial step button\r\n         *\r\n         * @property $tutorialPrevious\r\n         * @type {jquery|HTML Element}\r\n         * @default `.prev`\r\n         */\r\n        this.$tutorialPrevious = null;\r\n\r\n        /**\r\n         * Next tutorial step button\r\n         *\r\n         * @property $tutorialNext\r\n         * @type {jquery|HTML Element}\r\n         * @default `.next`\r\n         */\r\n        this.$tutorialNext = null;\r\n\r\n\r\n        /**\r\n         * Command bar button to toggle the tutorial on/off\r\n         *\r\n         * @for TutorialView\r\n         * @property $toggleTutorial\r\n         * @type {jquery|HTML Element}\r\n         */\r\n        this.$toggleTutorial = null;\r\n\r\n        this._init()\r\n            ._setupHandlers()\r\n            .layout()\r\n            .enable();\r\n    }\r\n\r\n    /**\r\n     * Lifecycle method should be run once on application init.\r\n     *\r\n     * Caches selectors in variabls so they only need to be looked up one time.\r\n     *\r\n     * @for TutorialView\r\n     * @method _init\r\n     * @chainable\r\n     */\r\n    _init() {\r\n        this.$tutorialView = $(TUTORIAL_TEMPLATE);\r\n        this.$tutorialPrevious = this.$tutorialView.find(SELECTORS.DOM_SELECTORS.PREV);\r\n        this.$tutorialNext = this.$tutorialView.find(SELECTORS.DOM_SELECTORS.NEXT);\r\n        this.$toggleTutorial = $(SELECTORS.DOM_SELECTORS.TOGGLE_TUTORIAL);\r\n\r\n        this.tutorial = tutorial;\r\n        this.tutorial.steps = [];\r\n        this.tutorial.step = 0;\r\n        this.tutorial.liverefs = {};\r\n        this.tutorial.open = false;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Create event handlers\r\n     *\r\n     * Should be run once only on instantiation\r\n     *\r\n     * @for TutorialView\r\n     * @method _setupHandlers\r\n     * @chainable\r\n     */\r\n    _setupHandlers() {\r\n        this._onAirportChangeHandler = this.onAirportChange.bind(this);\r\n        this._onTutorialToggleHandler = this.tutorial_toggle.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Lifecycle method should be run once on application init.\r\n     *\r\n     * Adds the TUTORIAL_TEMPLATE to the view\r\n     *\r\n     * @for TutorialView\r\n     * @method layout\r\n     * @chainable\r\n     */\r\n    layout() {\r\n        if (!this.$element) {\r\n            throw new Error('Expected $element to be defined. `body` tag does not exist in the DOM');\r\n        }\r\n\r\n        this.tutorial.html = this.$tutorialView;\r\n        this.$element.append(this.$tutorialView);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Lifecycle method should be run once on application init.\r\n     *\r\n     * @for TutorialView\r\n     * @method enable\r\n     * @chainable\r\n     */\r\n    enable() {\r\n        this._eventBus.on(EVENT.TOGGLE_TUTORIAL, this._onTutorialToggleHandler);\r\n        this._eventBus.on(EVENT.AIRPORT_CHANGE, this._onAirportChangeHandler);\r\n\r\n        this.$tutorialPrevious.on('click', (event) => this.tutorial_prev(event));\r\n        this.$tutorialNext.on('click', (event) => this.tutorial_next(event));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Disable any click handlers.\r\n     *\r\n     * @for TutorialView\r\n     * @method disable\r\n     * @chainable\r\n     */\r\n    disable() {\r\n        this._eventBus.off(EVENT.TOGGLE_TUTORIAL, this._onTutorialToggleHandler);\r\n        this._eventBus.off(EVENT.AIRPORT_CHANGE, this._onAirportChangeHandler);\r\n\r\n        this.$tutorialPrevious.off('click', (event) => this.tutorial_prev(event));\r\n        this.$tutorialNext.off('click', (event) => this.tutorial_next(event));\r\n\r\n        return this.destroy();\r\n    }\r\n\r\n    /**\r\n     * Tear down the view and unset any properties.\r\n     *\r\n     * @for TutorialView\r\n     * @method destroy\r\n     * @chainable\r\n     */\r\n    destroy() {\r\n        this.$tutorialView = null;\r\n        this.$tutorialPrevious = null;\r\n        this.$tutorialNext = null;\r\n        this.tutorial = {};\r\n        this.tutorial.steps = [];\r\n        this.tutorial.step = 0;\r\n        this.tutorial.liverefs = {};\r\n        this.tutorial.open = false;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Return whether the tutorial dialog is currently open\r\n     *\r\n     * @for TutorialView\r\n     * @method isTutorialDialogOpen\r\n     * @return {boolean}\r\n     */\r\n    isTutorialDialogOpen() {\r\n        return this.$tutorialView.hasClass(SELECTORS.CLASSNAMES.OPEN);\r\n    }\r\n\r\n    /**\r\n     * Refresh the tutorial text contents when the airport is changed.\r\n     *\r\n     * @for TutorialView\r\n     * @method onAirportChange\r\n     */\r\n    onAirportChange() {\r\n        this.tutorial_update_content();\r\n    }\r\n\r\n    /**\r\n     * @for TutorialView\r\n     * @method tutorial_init_pre\r\n     */\r\n    tutorial_init_pre() {\r\n        this.tutorial = {};\r\n        this.tutorial.steps = [];\r\n        this.tutorial.step = 0;\r\n\r\n        // these always get evaluated on-the-fly.\r\n        this.tutorial.liverefs = {\r\n            airport: function() {\r\n                return AirportController.airport_get();\r\n            },\r\n            departureAircraft: function() {\r\n                return prop.aircraft.list.filter((aircraftModel) => aircraftModel.isDeparture())[0];\r\n            }\r\n        };\r\n\r\n        zlsa.atc.loadAsset({ url: 'assets/tutorial/tutorial.json', immediate: true })\r\n            .done((response) => {\r\n                response.forEach((step) => {\r\n                    this._loadTutorialStep(step);\r\n                });\r\n            })\r\n            .fail((jqxhr, textStatus, error) => {\r\n                console.error(`Failed to load tutorial data: ${textStatus}, ${error}`);\r\n                this.tutorial_step({ title: 'Error', text: `The tutorial failed to load: ${textStatus}, ${error}` });\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Load a single step of the tutorial data that was parsed from JSON\r\n     *\r\n     * @for TutorialView\r\n     * @method _loadTutorialStep\r\n     */\r\n    _loadTutorialStep(step) {\r\n        if (Array.isArray(step.replace)) {\r\n            // take each text replacement entry, configure corresponding text.replace() function call, wrapped with checks\r\n            step.replace.forEach((replacement) => {\r\n                const objFetcher = this.tutorial.liverefs[replacement.replaceWith.object];\r\n                if (!objFetcher) {\r\n                    // don't create replace function if 'object' config is not one of valid options in liverefs\r\n                    console.error(`Tutorial: ${step.title}: ${replacement.replaceWith.object} is not valid.`);\r\n                    return;\r\n                }\r\n                const propFetcher = this._getPropFetcher(replacement.replaceWith.propPath);\r\n                const replaceFunc = (t) => {\r\n                    const value = propFetcher(objFetcher());\r\n                    if (value == null) { // null or undefined; likely configured with incorrect property path\r\n                        console.warn(`Tutorial: ${step.title}: ${replacement.replaceWith.object}.${replacement.replaceWith.propPath} has ${value} value.`);\r\n                        return t;\r\n                    }\r\n                    return t.replace(replacement.findWhat, value);\r\n                };\r\n\r\n                if (Array.isArray(step.parse)) {\r\n                    step.parse.push(replaceFunc);\r\n                } else {\r\n                    step.parse = [replaceFunc];\r\n                }\r\n            });\r\n\r\n            // compose possibly multiple text replacement functions together into one\r\n            if (Array.isArray(step.parse)) {\r\n                step.parse = _flow(...step.parse);\r\n            }\r\n            // discard property not used by TutorialStep\r\n            delete step.replace;\r\n        }\r\n        this.tutorial_step(step);\r\n    }\r\n\r\n    /**\r\n     * Fetching descendent property of an object without using eval()\r\n     *\r\n     * Adapted from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval#accessing_member_properties\r\n     *\r\n     * @for TutorialView\r\n     * @method _getPropFetcher\r\n     * @return [{function}] A function that will fetch a given descendent property of an object without using eval()\r\n     */\r\n    _getPropFetcher(desc) {\r\n        return ((obj) => {\r\n            let result = obj;\r\n            const arr = desc.split('.');\r\n            while (arr.length) {\r\n                if (result == null) { // null or undefined, can drill down no further\r\n                    return result;\r\n                }\r\n                result = result[arr.shift()];\r\n            }\r\n            return result;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Open/close the tutorial modal\r\n     *\r\n     * This method may be triggered via `EventBus.trigger()`\r\n     *\r\n     * @for TutorialView\r\n     * @method tutorial_toggle\r\n     */\r\n    tutorial_toggle() {\r\n        if (this.isTutorialDialogOpen()) {\r\n            this.tutorial_close();\r\n\r\n            return;\r\n        }\r\n\r\n        this.tutorial_open();\r\n    }\r\n\r\n    /**\r\n     * @method tutorial_get\r\n     */\r\n    tutorial_get(step = null) {\r\n        if (!step) {\r\n            step = this.tutorial.step;\r\n        }\r\n\r\n        return this.tutorial.steps[step];\r\n    }\r\n\r\n    /**\r\n     * @method tutorial_move\r\n     */\r\n    tutorial_move() {\r\n        const step = this.tutorial_get();\r\n        const padding = [30, 10];\r\n        const left = step.position[0] * ($(window).width() - this.$tutorialView.outerWidth() - padding[0]);\r\n        let top = step.position[1] * ($(window).height());\r\n        top -= (this.$tutorialView.outerHeight() - padding[1]);\r\n\r\n    //  left += step.padding[0];\r\n    //  top  += step.padding[1];\r\n\r\n        this.$tutorialView.offset({\r\n            top: round(top),\r\n            left: round(left)\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @method tutorial_step\r\n     */\r\n    tutorial_step(options) {\r\n        this.tutorial.steps.push(new TutorialStep(options));\r\n    }\r\n\r\n    /**\r\n     * @method tutorial_update_content\r\n     */\r\n    tutorial_update_content() {\r\n        const step = this.tutorial_get();\r\n\r\n        this.$tutorialView.find('h1').html(step.title);\r\n        this.$tutorialView.find('main').html(step.getText());\r\n        this.$tutorialView.removeClass('left right');\r\n\r\n        if (step.side === SELECTORS.CLASSNAMES.LEFT) {\r\n            this.$tutorialView.addClass(SELECTORS.CLASSNAMES.LEFT);\r\n        } else if (step.side === SELECTORS.CLASSNAMES.RIGHT) {\r\n            this.$tutorialView.addClass(SELECTORS.CLASSNAMES.RIGHT);\r\n        }\r\n\r\n        this.tutorial_move();\r\n    }\r\n\r\n    /**\r\n     * @method tutorial_open\r\n     */\r\n    tutorial_open() {\r\n        this.$tutorialView.addClass(SELECTORS.CLASSNAMES.OPEN);\r\n        this.$toggleTutorial.addClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n\r\n        this.tutorial_update_content();\r\n    }\r\n\r\n    /**\r\n     * @method tutorial_close\r\n     */\r\n    tutorial_close() {\r\n        this.$tutorialView.removeClass(SELECTORS.CLASSNAMES.OPEN);\r\n        this.$toggleTutorial.removeClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n\r\n        this.tutorial_move();\r\n    }\r\n\r\n    // TODO: this method never gets called anywhere else, remove\r\n    /**\r\n     * @method tutorial_complete\r\n     */\r\n    tutorial_complete() {\r\n        if (!_has(localStorage, STORAGE_KEY.FIRST_RUN_TIME)) {\r\n            this.tutorial_open();\r\n        }\r\n\r\n        localStorage[STORAGE_KEY.FIRST_RUN_TIME] = TimeKeeper.gameTimeInSeconds;\r\n    }\r\n\r\n    /**\r\n     * @method tutorial_next\r\n     */\r\n    tutorial_next() {\r\n        if (this.tutorial.step === this.tutorial.steps.length - 1) {\r\n            this.tutorial_close();\r\n\r\n            return;\r\n        }\r\n\r\n        this.tutorial.step = clamp(0, this.tutorial.step + 1, this.tutorial.steps.length - 1);\r\n\r\n        EventTracker.recordEvent(TRACKABLE_EVENT.TUTORIAL, 'next', `${this.tutorial.step}`);\r\n        this.tutorial_update_content();\r\n    }\r\n\r\n    /**\r\n     * @method tutorial_prev\r\n     */\r\n    tutorial_prev() {\r\n        this.tutorial.step = clamp(0, this.tutorial.step - 1, this.tutorial.steps.length - 1);\r\n\r\n        EventTracker.recordEvent(TRACKABLE_EVENT.TUTORIAL, 'prev', `${this.tutorial.step}`);\r\n        this.tutorial_update_content();\r\n    }\r\n}\r\n","import $ from 'jquery';\r\nimport _keys from 'lodash/keys';\r\nimport AirportController from '../airport/AirportController';\r\nimport EventBus from '../lib/EventBus';\r\nimport EventTracker from '../EventTracker';\r\nimport GameController from '../game/GameController';\r\nimport SettingsController from './SettingsController';\r\nimport TrafficRateController from './TrafficRateController';\r\nimport VideoMapController from './VideoMapController';\r\nimport TutorialView from './TutorialView';\r\nimport { speech_toggle } from '../speech';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport { SELECTORS } from '../constants/selectors';\r\nimport { TRACKABLE_EVENT } from '../constants/trackableEvents';\r\n\r\n/**\r\n * Listens for events that occur in the UI and delegates work to the correct place\r\n *\r\n * @class UiController\r\n */\r\nclass UiController {\r\n    /**\r\n     * @constructor\r\n     */\r\n    constructor() {\r\n        /**\r\n         * Local reference to `EventBus` singleton\r\n         *\r\n         * @for UiController\r\n         * @property _eventBus\r\n         * @type {EventBus}\r\n         * @default null\r\n         */\r\n        this._eventBus = null;\r\n\r\n        /**\r\n         * @for UiController\r\n         * @property tutorialView\r\n         * @type {TutorialView}\r\n         * @default null\r\n         */\r\n        this.tutorialView = null;\r\n\r\n        /**\r\n         * @for UiController\r\n         * @property settingsController\r\n         * @type {SettingsController}\r\n         * @default null\r\n         */\r\n        this.settingsController = null;\r\n\r\n        /**\r\n         * @for UiController\r\n         * @property trafficRateController\r\n         * @type {TrafficRateController}\r\n         * @default null\r\n         */\r\n        this.trafficRateController = null;\r\n\r\n        /**\r\n         * @for UiController\r\n         * @property videoMapController\r\n         * @type {VideoMapController}\r\n         * @default null\r\n         */\r\n        this.videoMapController = null;\r\n\r\n        /**\r\n         * Root element used to find all other DOM elements needed by this class\r\n         *\r\n         * @for UiController\r\n         * @property $element\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$element = null;\r\n\r\n        /**\r\n         * Element of the airport selection dialog\r\n         *\r\n         * @for UiController\r\n         * @property $airportDialog\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$airportDialog = null;\r\n\r\n        /**\r\n         * Element of the body of the airport selection dialog\r\n         *\r\n         * @for UiController\r\n         * @property $airportDialogBody\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$airportDialogBody = null;\r\n\r\n        /**\r\n         * Element of the airport guide dialog\r\n         *\r\n         * @for UiController\r\n         * @property $airportGuideDialog\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$airportGuideDialog = null;\r\n\r\n\r\n        /**\r\n         * Element of the airport search bar\r\n         *\r\n         * @for UiController\r\n         * @property $airportSearch\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$airportSearch = null;\r\n\r\n        /**\r\n         * Element of the changelog dialog\r\n         *\r\n         * @for UiController\r\n         * @property $changelogDialog\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$changelogDialog = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle fast-forward mode on/off\r\n         *\r\n         * @for UiController\r\n         * @property $fastForwards\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$fastForwards = null;\r\n\r\n        /**\r\n         * Footer button element which opens the openScope github page in a new tab\r\n         *\r\n         * @for UiController\r\n         * @property $githubLinkElement\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$githubLinkElement = null;\r\n\r\n        /**\r\n         * Element displaying log of readbacks and other messages\r\n         *\r\n         * @for UiController\r\n         * @property $log\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$log = null;\r\n\r\n        /**\r\n         * Duration for chat log transmissions to remain visible in seconds\r\n         *\r\n         * @for UiController\r\n         * @property chatLogDuration\r\n         * @type number\r\n         * @default null\r\n         */\r\n        this.chatLogDuration = null;\r\n\r\n        /**\r\n         * Element in center of screen to unpause when paused\r\n         *\r\n         * @for UiController\r\n         * @property $pausedImg\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$pausedImg = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle the airport selection dialog on/off\r\n         *\r\n         * @for UiController\r\n         * @property $switchAirport\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$switchAirport = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle the airport guide on/off\r\n         *\r\n         * @for UiController\r\n         * @property $toggleAirportGuide\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$toggleAirportGuide = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle airspace on/off\r\n         *\r\n         * @for UiController\r\n         * @property $toggleAirspace\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$toggleAirspace = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle the changelog on/off\r\n         *\r\n         * @for UiController\r\n         * @property $toggleChangelog\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$toggleChangelog = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle fix and runway labels on/off\r\n         *\r\n         * @for UiController\r\n         * @property $toggleLabels\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$toggleLabels = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle the options menu on/off\r\n         *\r\n         * @for UiController\r\n         * @property $toggleOptions\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$toggleOptions = null;\r\n\r\n        /**\r\n         * Footer button element used to pause when the sim is running\r\n         *\r\n         * @for UiController\r\n         * @property $togglePause\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$togglePause = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle restricted areas on/off\r\n         *\r\n         * @for UiController\r\n         * @property $toggleRestrictedAreas\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$toggleRestrictedAreas = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle SIDs on/off\r\n         *\r\n         * @for UiController\r\n         * @property $toggleSids\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$toggleSids = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle speech synthesis on/off\r\n         *\r\n         * @for UiController\r\n         * @property $toggleSpeech\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$toggleSpeech = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle STARs on/off\r\n         *\r\n         * @for UiController\r\n         * @property $toggleStars\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$toggleStars = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle terrain on/off\r\n         *\r\n         * @for UiController\r\n         * @property $toggleTerrain\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$toggleTerrain = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle the traffic rate menu on/off\r\n         *\r\n         * @for UiController\r\n         * @property $toggleTraffic\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$toggleTraffic = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle the tutorial on/off\r\n         *\r\n         * @for UiController\r\n         * @property $toggleTutorial\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$toggleTutorial = null;\r\n\r\n        /**\r\n         * Footer button element used to toggle the video map on/off\r\n         *\r\n         * @for UiController\r\n         * @property $toggleVideoMap\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$toggleVideoMap = null;\r\n\r\n        /**\r\n         * Element of the tutorial dialog\r\n         *\r\n         * @for UiController\r\n         * @property $tutorialDialog\r\n         * @type {Jquery|Element}\r\n         * @default null\r\n         */\r\n        this.$tutorialDialog = null;\r\n    }\r\n\r\n    /**\r\n     * Initialization method\r\n     *\r\n     * Called from the `AppController` after instantiation of the `AircraftController`\r\n     *\r\n     * @for UiController\r\n     * @method init\r\n     * @param $element {jQuery Element}\r\n     */\r\n    init($element) {\r\n        this._eventBus = EventBus;\r\n        this.tutorialView = new TutorialView($element);\r\n        this.settingsController = new SettingsController($element);\r\n        this.trafficRateController = new TrafficRateController($element);\r\n        this.videoMapController = new VideoMapController($element);\r\n\r\n        this.$element = $element;\r\n        this.$airportDialog = this.$element.find(SELECTORS.DOM_SELECTORS.AIRPORT_SWITCH);\r\n        this.$airportDialogBody = this.$airportDialog.find(SELECTORS.DOM_SELECTORS.DIALOG_BODY);\r\n        this.$airportGuideDialog = this.$element.find(SELECTORS.DOM_SELECTORS.AIRPORT_GUIDE_CONTAINER);\r\n        this.$airportSearch = this.$element.find(SELECTORS.DOM_SELECTORS.AIRPORT_SEARCH);\r\n        this.$changelogDialog = this.$element.find(SELECTORS.DOM_SELECTORS.CHANGELOG_CONTAINER);\r\n        this.$fastForwards = this.$element.find(SELECTORS.DOM_SELECTORS.FAST_FORWARDS);\r\n        this.$githubLinkElement = this.$element.find(SELECTORS.DOM_SELECTORS.GITHUB_EXTERNAL_LINK);\r\n        this.$log = this.$element.find(SELECTORS.DOM_SELECTORS.LOG);\r\n        this.$pausedImg = this.$element.find(`${SELECTORS.DOM_SELECTORS.PAUSED} img`);\r\n        this.$switchAirport = this.$element.find(SELECTORS.DOM_SELECTORS.SWITCH_AIRPORT);\r\n        this.$toggleAirportGuide = this.$element.find(SELECTORS.DOM_SELECTORS.TOGGLE_AIRPORT_GUIDE);\r\n        this.$toggleAirspace = this.$element.find(SELECTORS.DOM_SELECTORS.TOGGLE_AIRSPACE);\r\n        this.$toggleChangelog = this.$element.find(SELECTORS.DOM_SELECTORS.TOGGLE_CHANGELOG);\r\n        this.$toggleLabels = this.$element.find(SELECTORS.DOM_SELECTORS.TOGGLE_LABELS);\r\n        this.$toggleOptions = this.$element.find(SELECTORS.DOM_SELECTORS.TOGGLE_OPTIONS);\r\n        this.$togglePause = this.$element.find(SELECTORS.DOM_SELECTORS.TOGGLE_PAUSE);\r\n        this.$toggleRestrictedAreas = this.$element.find(SELECTORS.DOM_SELECTORS.TOGGLE_RESTRICTED_AREAS);\r\n        this.$toggleSids = this.$element.find(SELECTORS.DOM_SELECTORS.TOGGLE_SIDS);\r\n        this.$toggleSpeech = this.$element.find(SELECTORS.DOM_SELECTORS.TOGGLE_SPEECH);\r\n        this.$toggleStars = this.$element.find(SELECTORS.DOM_SELECTORS.TOGGLE_STARS);\r\n        this.$toggleTerrain = this.$element.find(SELECTORS.DOM_SELECTORS.TOGGLE_TERRAIN);\r\n        this.$toggleTraffic = this.$element.find(SELECTORS.DOM_SELECTORS.TOGGLE_TRAFFIC);\r\n        this.$toggleTutorial = this.$element.find(SELECTORS.DOM_SELECTORS.TOGGLE_TUTORIAL);\r\n        this.$toggleVideoMap = this.$element.find(SELECTORS.DOM_SELECTORS.TOGGLE_VIDEO_MAP);\r\n        this.$tutorialDialog = this.$element.find(SELECTORS.DOM_SELECTORS.TUTORIAL);\r\n        this.chatLogDuration = GameController.game.option.getOptionByName('chatLogDuration');\r\n\r\n        return this.setupHandlers()\r\n            .enable();\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method setupHandlers\r\n     * @chainable\r\n     */\r\n    setupHandlers() {\r\n        this.onAirportChangeHandler = this.onAirportChange.bind(this);\r\n        this.onChatLogDurationChangeHandler = this.onChatLogDurationChange.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Enable event handlers\r\n     *\r\n     * @for UiController\r\n     * @method enable\r\n     * @chainable\r\n     */\r\n    enable() {\r\n        this._eventBus.on(EVENT.AIRPORT_CHANGE, this.onAirportChangeHandler);\r\n        this._eventBus.on(EVENT.CHAT_LOG_DURATION_CHANGE, this.onChatLogDurationChangeHandler);\r\n\r\n        // TODO: move these to properly bound handler methods\r\n\r\n        // using keyup here because the search is based on the contents of the search bar\r\n        this.$airportSearch.on('keyup', (event) => this._onInitiateAirportSearch(event));\r\n        this.$fastForwards.on('click', (event) => GameController.game_timewarp_toggle(event));\r\n        this.$githubLinkElement.on('click', (event) => this.onClickGithubLink(event));\r\n        this.$pausedImg.on('click', (event) => GameController.game_unpause(event));\r\n        this.$switchAirport.on('click', (event) => this.onToggleAirportList(event));\r\n        this.$toggleAirportGuide.on('click', (event) => this.onToggleAirportGuide(event));\r\n        this.$toggleAirspace.on('click', (event) => this.onToggleAirspace(event));\r\n        this.$toggleChangelog.on('click', (event) => this.onToggleChangelog(event));\r\n        this.$toggleLabels.on('click', (event) => this.onToggleLabels(event));\r\n        this.$toggleOptions.on('click', (event) => this.onToggleOptions(event));\r\n        this.$togglePause.on('click', (event) => GameController.game_pause_toggle(event));\r\n        this.$toggleRestrictedAreas.on('click', (event) => this.onToggleRestrictedAreas(event));\r\n        this.$toggleSids.on('click', (event) => this.onToggleSids(event));\r\n        this.$toggleSpeech.on('click', (event) => speech_toggle(event));\r\n        this.$toggleStars.on('click', (event) => this.onToggleStars(event));\r\n        this.$toggleTerrain.on('click', (event) => this.onToggleTerrain(event));\r\n        this.$toggleTraffic.on('click', (event) => this.onToggleTraffic(event));\r\n        this.$toggleTutorial.on('click', (event) => this.onToggleTutorial(event));\r\n        this.$toggleVideoMap.on('click', (event) => this.onToggleVideoMap(event));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Disable event handlers\r\n     *\r\n     * @for UiController\r\n     * @method disable\r\n     * @chainable\r\n     */\r\n    disable() {\r\n        this._eventBus.off(EVENT.AIRPORT_CHANGE, this.onAirportChangeHandler);\r\n        this._eventBus.off(EVENT.CHAT_LOG_DURATION_CHANGE, this.onChatLogDurationChangeHandler);\r\n        this.$airportSearch.off('keyup', (event) => this._onInitiateAirportSearch(event));\r\n        this.$fastForwards.off('click', (event) => GameController.game_timewarp_toggle(event));\r\n        this.$githubLinkElement.off('click', (event) => this.onClickGithubLink(event));\r\n        this.$pausedImg.off('click', (event) => GameController.game_unpause(event));\r\n        this.$switchAirport.off('click', (event) => this.onToggleAirportList(event));\r\n        this.$toggleAirportGuide.off('click', (event) => this.onToggleAirportGuide(event));\r\n        this.$toggleAirspace.off('click', (event) => this.onToggleAirspace(event));\r\n        this.$toggleChangelog.off('click', (event) => this.onToggleChangelog(event));\r\n        this.$toggleLabels.off('click', (event) => this.onToggleLabels(event));\r\n        this.$toggleOptions.off('click', (event) => this.onToggleOptions(event));\r\n        this.$togglePause.off('click', (event) => GameController.game_pause_toggle(event));\r\n        this.$toggleRestrictedAreas.off('click', (event) => this.onToggleRestrictedAreas(event));\r\n        this.$toggleSids.off('click', (event) => this.onToggleSids(event));\r\n        this.$toggleSpeech.off('click', (event) => speech_toggle(event));\r\n        this.$toggleStars.off('click', (event) => this.onToggleStars(event));\r\n        this.$toggleTerrain.off('click', (event) => this.onToggleTerrain(event));\r\n        this.$toggleTraffic.off('click', (event) => this.onToggleTraffic(event));\r\n        this.$toggleTutorial.off('click', (event) => this.onToggleTutorial(event));\r\n        this.$toggleVideoMap.off('click', (event) => this.onToggleVideoMap(event));\r\n\r\n        return this();\r\n    }\r\n\r\n    /**\r\n     * Reset the instance\r\n     *\r\n     * @for UiController\r\n     * @method reset\r\n     */\r\n    reset() {\r\n        this.disable();\r\n\r\n        this._eventBus = null;\r\n        this.tutorialView = null;\r\n        this.settingsController = null;\r\n        this.trafficRateController = null;\r\n\r\n        this.$element = null;\r\n        this.$airportDialog = null;\r\n        this.$airportDialogBody = null;\r\n        this.$airportGuideDialog = null;\r\n        this.$airportSearch = null;\r\n        this.$changelogDialog = null;\r\n        this.$fastForwards = null;\r\n        this.$githubLinkElement = null;\r\n        this.$log = null;\r\n        this.chatLogDuration = null;\r\n        this.$pausedImg = null;\r\n        this.$switchAirport = null;\r\n        this.$toggleAirportGuide = null;\r\n        this.$toggleAirspace = null;\r\n        this.$toggleChangelog = null;\r\n        this.$toggleLabels = null;\r\n        this.$toggleOptions = null;\r\n        this.$togglePause = null;\r\n        this.$toggleRestrictedAreas = null;\r\n        this.$toggleSids = null;\r\n        this.$toggleSpeech = null;\r\n        this.$toggleStars = null;\r\n        this.$toggleTerrain = null;\r\n        this.$toggleTraffic = null;\r\n        this.$toggleTutorial = null;\r\n        this.$toggleVideoMap = null;\r\n        this.$tutorialDialog = null;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @for uiController\r\n     * @method ui_init\r\n     */\r\n    ui_init() {\r\n        this.tutorialView.tutorial_init_pre();\r\n        this.$fastForwards.prop('title', 'Set time warp to 2');\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method ui_complete\r\n     */\r\n    ui_complete() {\r\n        this._buildAirportList();\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method ui_log\r\n     */\r\n    ui_log(message, warn = false) {\r\n        const html = $(`<span class=\"item\"><span class=\"message\">${message}</span></span>`);\r\n\r\n        if (warn) {\r\n            html.addClass(SELECTORS.CLASSNAMES.WARN);\r\n            EventTracker.recordEvent(TRACKABLE_EVENT.UI_LOG, 'error', message);\r\n        }\r\n\r\n        this.$log.append(html);\r\n        this.$log.scrollTop(this.$log.get(0).scrollHeight);\r\n\r\n        GameController.game_timeout((uiLogView) => {\r\n            uiLogView.addClass(SELECTORS.CLASSNAMES.HIDDEN);\r\n\r\n            setTimeout(() => {\r\n                uiLogView.remove();\r\n            }, 10000);\r\n        }, this.chatLogDuration, window, html);\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method onAirportChange\r\n     */\r\n    onAirportChange() {\r\n        this.$log.empty();\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method onAirportChange\r\n     */\r\n    onChatLogDurationChange() {\r\n        this.chatLogDuration = GameController.game.option.getOptionByName('chatLogDuration');\r\n    }\r\n\r\n    /**\r\n     * Close all open dialogs and return focus to the command bar\r\n     *\r\n     * @for UiController\r\n     * @method closeAllDialogs\r\n     */\r\n    closeAllDialogs() {\r\n        if (this.isAirportGuideDialogOpen()) {\r\n            this.onToggleAirportGuide();\r\n        }\r\n\r\n        if (this.isAirportSelectionDialogOpen()) {\r\n            this.onToggleAirportList();\r\n        }\r\n\r\n        if (this.isChangelogDialogOpen()) {\r\n            this.onToggleChangelog();\r\n        }\r\n\r\n        if (this.settingsController.isDialogOpen()) {\r\n            this.onToggleOptions();\r\n        }\r\n\r\n        if (this.trafficRateController.isDialogOpen()) {\r\n            this.onToggleTraffic();\r\n        }\r\n\r\n        if (this.isTutorialDialogOpen()) {\r\n            this.onToggleTutorial();\r\n        }\r\n\r\n        if (this.videoMapController.isDialogOpen()) {\r\n            this.onToggleVideoMap();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns whether the airport guide dialog is open\r\n     *\r\n     * @for UiController\r\n     * @method isAirportGuideDialogOpen\r\n     * @return {boolean}\r\n     */\r\n    isAirportGuideDialogOpen() {\r\n        return this.$airportGuideDialog.hasClass(SELECTORS.CLASSNAMES.OPEN);\r\n    }\r\n\r\n    /**\r\n     * Returns whether the airport selection dialog is open\r\n     *\r\n     * @for UiController\r\n     * @method isAirportSelectionDialogOpen\r\n     * @return {boolean}\r\n     */\r\n    isAirportSelectionDialogOpen() {\r\n        return this.$airportDialog.hasClass(SELECTORS.CLASSNAMES.OPEN);\r\n    }\r\n\r\n    /**\r\n     * Returns whether the changelog dialog is open\r\n     *\r\n     * @for UiController\r\n     * @method isChangelogDialogOpen\r\n     * @return {boolean}\r\n     */\r\n    isChangelogDialogOpen() {\r\n        return this.$changelogDialog.hasClass(SELECTORS.CLASSNAMES.OPEN);\r\n    }\r\n\r\n    /**\r\n     * Returns whether the tutorial dialog is open\r\n     *\r\n     * @for UiController\r\n     * @method isTutorialDialogOpen\r\n     * @return {boolean}\r\n     */\r\n    isTutorialDialogOpen() {\r\n        return this.$tutorialDialog.hasClass(SELECTORS.CLASSNAMES.OPEN);\r\n    }\r\n\r\n    /**\r\n     * @for uiController\r\n     * @method onClickAirportListItemHandler\r\n     * @paam event {jquery event}\r\n     */\r\n    onClickAirportListItemHandler(event) {\r\n        if (event.data !== AirportController.airport_get().icao) {\r\n            AirportController.airport_set(event.data);\r\n            this._onClickCloseAirportDialog();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Loop through each airport defined in the `AirportController` and build\r\n     * a list item that can be appended to the #airport-list element.\r\n     *\r\n     * @for UiController\r\n     * @method _buildAirportList\r\n     * @private\r\n     */\r\n    _buildAirportList() {\r\n        // clear out the contents of this element\r\n        this.$airportDialogBody.empty();\r\n\r\n        const airports = _keys(AirportController.airports).sort();\r\n        let difficulty = '';\r\n\r\n        for (let i = 0; i < airports.length; i++) {\r\n            const { name, icao, level } = AirportController.airports[airports[i]];\r\n\r\n            difficulty = this._buildAirportListIconForDifficultyLevel(level);\r\n            const $airportListItem = $(this._buildAirportListItemTemplate(icao, difficulty, name));\r\n\r\n            // TODO: replace with an onClick() handler\r\n            $airportListItem.click(icao.toLowerCase(), (event) => {\r\n                if (event.data !== AirportController.airport_get().icao) {\r\n                    AirportController.airport_set(event.data);\r\n\r\n                    this._onClickCloseAirportDialog();\r\n                }\r\n            });\r\n\r\n            this.$airportDialogBody.append($airportListItem);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Given a `difficultyLevel`, create a string with the correct icon char code\r\n     * that can be used in the airport list\r\n     *\r\n     * @for UiController\r\n     * @method _buildAirportListIconForDifficultyLevel\r\n     * @param difficultyLevel {string}\r\n     * @return difficulty {string}\r\n     * @private\r\n     */\r\n    _buildAirportListIconForDifficultyLevel(difficultyLevel) {\r\n        let difficulty;\r\n        const icon = '&#9992;';\r\n\r\n        switch (difficultyLevel) {\r\n            case 'beginner':\r\n                difficulty = icon;\r\n                break;\r\n            case 'easy':\r\n                difficulty = icon.repeat(2);\r\n                break;\r\n            case 'medium':\r\n                difficulty = icon.repeat(3);\r\n                break;\r\n            case 'hard':\r\n                difficulty = icon.repeat(4);\r\n                break;\r\n            case 'expert':\r\n                difficulty = icon.repeat(5);\r\n                break;\r\n            default:\r\n                difficulty = '?';\r\n                break;\r\n        }\r\n\r\n        return difficulty;\r\n    }\r\n\r\n    /**\r\n     * @for uiController\r\n     * @method _buildAirportListItemTemplate\r\n     * @param icao {string}\r\n     * @param difficulty {string}\r\n     * @param name {string}\r\n     * @return {DOM element|string}\r\n     */\r\n    _buildAirportListItemTemplate(icao, difficulty, name) {\r\n        return `\r\n            <li class=\"airport-list-item\" data-icao=\"${icao.toLowerCase()}\">\r\n                <span style=\"font-size: 7pt\" class=\"difficulty\">${difficulty}</span>\r\n                <span class=\"icao\">${icao.toUpperCase()}</span>\r\n                <span class=\"name\">${name}</span>\r\n            </li>\r\n        `;\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method _onClickOpenAirportDialog\r\n     */\r\n\r\n    _onClickOpenAirportDialog() {\r\n        EventTracker.recordEvent(TRACKABLE_EVENT.AIRPORTS, 'airport-switcher', 'open');\r\n        this.$airportDialog.addClass(SELECTORS.CLASSNAMES.OPEN);\r\n\r\n        const $previousActiveAirport = this.$airportDialogBody.find(SELECTORS.DOM_SELECTORS.AIRPORT_LIST_ITEM_IS_ACTIVE);\r\n\r\n        // Remove the active class from a no-longer-selected airport in the list.\r\n        if ($previousActiveAirport.length !== 0) {\r\n            $previousActiveAirport.removeClass(SELECTORS.CLASSNAMES.AIRPORT_LIST_ITEM_IS_ACTIVE);\r\n        }\r\n\r\n        const icao = AirportController.airport_get().icao.toLowerCase();\r\n        this.$airportDialogBody.find(`li[data-icao=\"${icao}\"]`).addClass(SELECTORS.CLASSNAMES.AIRPORT_LIST_ITEM_IS_ACTIVE);\r\n\r\n        this.$switchAirport.addClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n    }\r\n\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method _onInitiateAirportSearch\r\n     */\r\n    _onInitiateAirportSearch() {\r\n        EventTracker.recordEvent(TRACKABLE_EVENT.AIRPORTS, 'airport-search', 'start');\r\n\r\n        const value = this.$airportSearch.val().toLowerCase();\r\n\r\n        $('.dialog-body li').each(\r\n            function() {\r\n                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);\r\n            }\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method _onClickCloseAirportDialog\r\n     * @private\r\n     */\r\n    _onClickCloseAirportDialog() {\r\n        EventTracker.recordEvent(TRACKABLE_EVENT.AIRPORTS, 'airport-switcher', 'close');\r\n        this.$airportDialog.removeClass(SELECTORS.CLASSNAMES.OPEN);\r\n        this.$switchAirport.removeClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n        this.$airportSearch.val(null);\r\n        $('.dialog-body li').each(() => $(this).toggle(true));\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method onToggleAirportList\r\n     */\r\n    onToggleAirportList() {\r\n        if (this.$airportDialog.hasClass(SELECTORS.CLASSNAMES.OPEN)) {\r\n            this._onClickCloseAirportDialog();\r\n\r\n            return;\r\n        }\r\n\r\n        this._onClickOpenAirportDialog();\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method onToggleAirportGuide\r\n     */\r\n    onToggleAirportGuide() {\r\n        this.$toggleAirportGuide.toggleClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n        EventTracker.recordEvent(\r\n            TRACKABLE_EVENT.OPTIONS,\r\n            'airport-guide',\r\n            `airport-guide:${this.$toggleAirportGuide.hasClass(SELECTORS.CLASSNAMES.ACTIVE)}`\r\n        );\r\n        this._eventBus.trigger(EVENT.TOGGLE_AIRPORT_GUIDE);\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method onToggleAirspace\r\n     * @param event {jquery event}\r\n     */\r\n    onToggleAirspace(event) {\r\n        this.$toggleAirspace.toggleClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n        EventTracker.recordEvent(\r\n            TRACKABLE_EVENT.OPTIONS,\r\n            'airspace',\r\n            `${this.$toggleAirspace.hasClass(SELECTORS.CLASSNAMES.ACTIVE)}`\r\n        );\r\n        this._eventBus.trigger(EVENT.TOGGLE_AIRSPACE);\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method onToggleChangelog\r\n     */\r\n    onToggleChangelog() {\r\n        this._eventBus.trigger(EVENT.TOGGLE_CHANGELOG);\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method onToggleLabels\r\n     * @param {jquery event}\r\n     */\r\n    onToggleLabels(event) {\r\n        this.$toggleLabels.toggleClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n        EventTracker.recordEvent(\r\n            TRACKABLE_EVENT.OPTIONS,\r\n            'fix-runway-labels',\r\n            `${this.$toggleLabels.hasClass(SELECTORS.CLASSNAMES.ACTIVE)}`\r\n        );\r\n        this._eventBus.trigger(EVENT.TOGGLE_LABELS);\r\n    }\r\n\r\n    /**\r\n    * @for UiController\r\n    * @method onToggleOptions\r\n    */\r\n    onToggleOptions() {\r\n        this.$toggleOptions.toggleClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n        EventTracker.recordEvent(\r\n            TRACKABLE_EVENT.SETTINGS,\r\n            'toggle-dialog',\r\n            `${this.$toggleOptions.hasClass(SELECTORS.CLASSNAMES.ACTIVE)}`\r\n        );\r\n        this.settingsController.toggleDialog();\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method onToggleRestrictedAreas\r\n     */\r\n    onToggleRestrictedAreas(event) {\r\n        this.$toggleRestrictedAreas.toggleClass(`${SELECTORS.DOM_SELECTORS.WARNING_BUTTON} ${SELECTORS.CLASSNAMES.ACTIVE}`);\r\n        EventTracker.recordEvent(\r\n            TRACKABLE_EVENT.OPTIONS,\r\n            'restricted',\r\n            `${this.$toggleRestrictedAreas.hasClass(SELECTORS.CLASSNAMES.ACTIVE)}`\r\n        );\r\n        this._eventBus.trigger(EVENT.TOGGLE_RESTRICTED_AREAS);\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method onToggleSids\r\n     * @param event {jquery event}\r\n     */\r\n    onToggleSids(event) {\r\n        this.$toggleSids.toggleClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n        EventTracker.recordEvent(\r\n            TRACKABLE_EVENT.OPTIONS,\r\n            'sids',\r\n            `${this.$toggleSids.hasClass(SELECTORS.CLASSNAMES.ACTIVE)}`\r\n        );\r\n        this._eventBus.trigger(EVENT.TOGGLE_SID_MAP);\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method onToggleStars\r\n     * @param event {jquery event}\r\n     */\r\n    onToggleStars(event) {\r\n        this.$toggleStars.toggleClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n        EventTracker.recordEvent(\r\n            TRACKABLE_EVENT.OPTIONS,\r\n            'stars',\r\n            `${this.$toggleStars.hasClass(SELECTORS.CLASSNAMES.ACTIVE)}`\r\n        );\r\n        this._eventBus.trigger(EVENT.TOGGLE_STAR_MAP);\r\n    }\r\n\r\n    /**\r\n     * @for UiController\r\n     * @method onToggleTerrain\r\n     * @param event {jquery event}\r\n     */\r\n    onToggleTerrain(event) {\r\n        this.$toggleTerrain.toggleClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n        EventTracker.recordEvent(\r\n            TRACKABLE_EVENT.OPTIONS,\r\n            'terrain',\r\n            `${this.$toggleTerrain.hasClass(SELECTORS.CLASSNAMES.ACTIVE)}`\r\n        );\r\n        this._eventBus.trigger(EVENT.TOGGLE_TERRAIN);\r\n    }\r\n\r\n    /**\r\n     * Handler for toggling the traffic volume view\r\n     *\r\n     * @for UiController\r\n     * @method onToggleTraffic\r\n     * @param event {jquery event}\r\n     */\r\n    onToggleTraffic(event) {\r\n        this.$toggleTraffic.toggleClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n        EventTracker.recordEvent(\r\n            TRACKABLE_EVENT.OPTIONS,\r\n            'traffic',\r\n            `${this.$toggleTraffic.hasClass(SELECTORS.CLASSNAMES.ACTIVE)}`\r\n        );\r\n        this.trafficRateController.toggleDialog();\r\n    }\r\n\r\n    /**\r\n    * @for UiController\r\n    * @method onToggleTutorial\r\n    * @param event {jquery event}\r\n    */\r\n    onToggleTutorial(event) {\r\n        this._eventBus.trigger(EVENT.TOGGLE_TUTORIAL);\r\n        EventTracker.recordEvent(\r\n            TRACKABLE_EVENT.OPTIONS,\r\n            'tutorial',\r\n            `${this.$toggleTutorial.hasClass(SELECTORS.CLASSNAMES.ACTIVE)}`\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Handler for selecting the current Video Maps\r\n     *\r\n     * @for UiController\r\n     * @method onToggleVideoMap\r\n     * @param event {jquery event}\r\n     */\r\n    onToggleVideoMap(event) {\r\n        this.$toggleVideoMap.toggleClass(SELECTORS.CLASSNAMES.ACTIVE);\r\n        EventTracker.recordEvent(\r\n            TRACKABLE_EVENT.OPTIONS,\r\n            'video-map',\r\n            `${this.$toggleVideoMap.hasClass(SELECTORS.CLASSNAMES.ACTIVE)}`\r\n        );\r\n        this.videoMapController.toggleDialog();\r\n    }\r\n\r\n    /**\r\n     * Provides a hook to track a click event for ga\r\n     *\r\n     * @for UiController\r\n     * @method onClickGithubLink\r\n     * @param event {jquery event}\r\n     */\r\n    onClickGithubLink(event) {\r\n        EventTracker.recordClickOnOutboundLink(event.target.href);\r\n    }\r\n}\r\n\r\nexport default new UiController();\r\n","import $ from 'jquery';\r\nimport EventBus from '../lib/EventBus';\r\nimport { SELECTORS, CLASSNAMES } from '../constants/selectors';\r\nimport { EVENT } from '../constants/eventNames';\r\nimport AirportController from '../airport/AirportController';\r\n\r\n/**\r\n * @property UI_SETTINGS_MODAL_TEMPLATE\r\n * @type {string}\r\n * @final\r\n */\r\nconst UI_MAP_MODAL_TEMPLATE = `\r\n    <div class=\"map-dialog dialog notSelectable\">\r\n        <p class=\"dialog-title\">Video Maps</p>\r\n        <div class=\"dialog-body nice-scrollbar\"></div>\r\n    </div>`;\r\n\r\n/**\r\n * @class VideoMapController\r\n */\r\nexport default class VideoMapController {\r\n    constructor($element) {\r\n        /**\r\n         * @property EventBus\r\n         * @type {EventBus}\r\n         * @default EventBus\r\n         * @private\r\n         */\r\n        this._eventBus = EventBus;\r\n\r\n        /**\r\n         * Root DOM element\r\n         *\r\n         * @property $element\r\n         * @type {jquery|HTML Element}\r\n         * @default $element\r\n         */\r\n        this.$element = $element;\r\n\r\n        /**\r\n         * Dialog DOM element\r\n         *\r\n         * @property $dialog\r\n         * @type {jquery|HTML Element}\r\n         * @default null\r\n         */\r\n        this.$dialog = null;\r\n\r\n        /**\r\n         * Currently selected maps, default to the one in the Airport file\r\n         *\r\n         * @property _selectedMaps\r\n         * @type {object}\r\n         * @default null\r\n         */\r\n        this._selectedMaps = null;\r\n\r\n\r\n        this._setupHandlers()\r\n            .init()\r\n            .enable();\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @for VideoMapController\r\n     * @method init\r\n     * @chainable\r\n     */\r\n    init() {\r\n        this.$dialog = $(UI_MAP_MODAL_TEMPLATE);\r\n        this.$dialogBody = this.$dialog.find(`.${CLASSNAMES.DIALOG_BODY}`);\r\n\r\n        this._buildDialogBody();\r\n        this.$element.append(this.$dialog);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Create event handlers\r\n     *\r\n     * Should be run once only on instantiation\r\n     *\r\n     * @for VideoMapController\r\n     * @method _setupHandlers\r\n     * @chainable\r\n     */\r\n    _setupHandlers() {\r\n        this._onAirportChangeHandler = this.onAirportChange.bind(this);\r\n        this._onChangeSelectedMapsHandler = this.onChangeSelectedMaps.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Enable event handlers\r\n     *\r\n     * should be run only once on instantiation\r\n     *\r\n     * @for VideoMapController\r\n     * @method enable\r\n     * @chainable\r\n     */\r\n    enable() {\r\n        this._eventBus.on(EVENT.AIRPORT_CHANGE, this._onAirportChangeHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Disable event handlers\r\n     *\r\n     * @for VideoMapController\r\n     * @method disable\r\n     * @chainable\r\n     */\r\n    disable() {\r\n        this._eventBus.off(EVENT.AIRPORT_CHANGE, this._onAirportChangeHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns whether the airport selection dialog is open\r\n     *\r\n     * @for VideoMapController\r\n     * @method isDialogOpen\r\n     * @return {boolean}\r\n     */\r\n    isDialogOpen() {\r\n        return this.$dialog.hasClass(SELECTORS.CLASSNAMES.OPEN);\r\n    }\r\n\r\n    /**\r\n    * @for VideoMapController\r\n    * @method toggleDialog\r\n    */\r\n    toggleDialog() {\r\n        this.$dialog.toggleClass(SELECTORS.CLASSNAMES.OPEN);\r\n    }\r\n\r\n    /**\r\n     * Rebuilds the dialog body when the airport is changed.\r\n     *\r\n     * @for VideoMapController\r\n     * @method onAirportChange\r\n     */\r\n    onAirportChange() {\r\n        this._buildDialogBody();\r\n    }\r\n\r\n    /**\r\n     * Builds the dialog body\r\n     *\r\n     * @for VideoMapController\r\n     * @method _buildDialogBody\r\n     */\r\n    _buildDialogBody() {\r\n        this.$dialogBody.empty();\r\n\r\n        const airportModel = AirportController.airport_get();\r\n        const mapNames = airportModel.mapCollection.getMapNames();\r\n        this._selectedMaps = airportModel.mapCollection.getVisibleMapNames();\r\n\r\n        for (const mapName of mapNames) {\r\n            const isChecked = this._selectedMaps.includes(mapName);\r\n            const $formElement = this._buildRow(mapName, mapName, isChecked);\r\n\r\n            this.$dialogBody.append($formElement);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Build form element\r\n     *\r\n     * @for VideoMapController\r\n     * @method _buildRow\r\n     * @param key {string}\r\n     * @param label {string}\r\n     * @param checked {boolean} initial value\r\n     * @param onChangeMethod {function}\r\n     * @return {jquery|HTML Element}\r\n     */\r\n    _buildRow(key, label, checked) {\r\n        const template = `\r\n            <div class=\"form-element\">\r\n                <input class=\"form-checkbox\" type=\"checkbox\" name=\"${key}\"/>\r\n                <label class=\"form-label\"> ${label}</label>\r\n            </div>`;\r\n        const $element = $(template);\r\n\r\n        $element.find('.form-checkbox').prop('checked', checked);\r\n        $element.on('change', { name: label }, this._onChangeSelectedMapsHandler);\r\n\r\n        return $element;\r\n    }\r\n\r\n    /**\r\n     * Called when the video map selection is changed\r\n     *\r\n     * @for VideoMapController\r\n     * @method onChangeSelectedMaps\r\n     * @param event\r\n     */\r\n    onChangeSelectedMaps(event) {\r\n        const $target = $(event.target);\r\n        const isChecked = $target.prop('checked');\r\n        const map = event.data.name;\r\n\r\n        if (!isChecked) {\r\n            this._removeMap(map);\r\n            return;\r\n        }\r\n\r\n        this._addMap(map);\r\n    }\r\n\r\n    /**\r\n     * Helper method to add a map to the list of selected maps\r\n     *\r\n     * @param map\r\n     * @private\r\n     */\r\n    _addMap(map) {\r\n        this._selectedMaps.push(map);\r\n        this._eventBus.trigger(EVENT.TOGGLE_VIDEO_MAP, this._selectedMaps);\r\n    }\r\n\r\n    /**\r\n     *  Helper method to remove a map from the list of selected maps\r\n     *\r\n     * @param map\r\n     * @private\r\n     */\r\n    _removeMap(map) {\r\n        const index = this._selectedMaps.indexOf(map);\r\n\r\n        if (index > -1) {\r\n            this._selectedMaps.splice(index, 1);\r\n        }\r\n\r\n        this._eventBus.trigger(EVENT.TOGGLE_VIDEO_MAP, this._selectedMaps);\r\n    }\r\n}\r\n","export const AUTOCOMPLETE_ARGUMENT_TEMPLATE = `\r\n<table>\r\n{{#each paramsets}}\r\n<tr class=\"{{validity}}\">\r\n    <td class=\"autocomplete-suggestion\">{{../command}} {{{example}}}</td>\r\n    <td class=\"autocomplete-param-explanation\">{{{explain}}}</td>\r\n</tr>\r\n{{else}}\r\n<tr class=\"{{validity}}\">\r\n    <td class=\"autocomplete-param-explanation\">This command does not accept arguments</td>\r\n</tr>\r\n{{/each}}\r\n</table>\r\n`;\r\n","export const AUTOCOMPLETE_COMMAND_TEMPLATE = `\r\n<table>\r\n{{#each this}}\r\n<tr data-command=\"{{command}}\">\r\n    <td class=\"autocomplete-suggestion\">{{command}}</td>\r\n    <td>{{{explanation}}}</td>\r\n</tr>\r\n{{else}}\r\n<tr>\r\n    <td>No matching commands</td>\r\n</tr>\r\n{{/each}}\r\n</table>\r\n`;\r\n","import $ from 'jquery';\r\nimport _isArray from 'lodash/isArray';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport RegexGroup from './RegexGroup';\r\nimport {\r\n    AUTOCOMPLETE_COMMAND_TYPE,\r\n    AUTOCOMPLETE_STATE,\r\n    AUTOCOMPLETE_COMMAND_STATES,\r\n    AUTOCOMPLETE_INPUT_PLACEHOLDER,\r\n    AUTOCOMPLETE_PARAMS_VALIDITY,\r\n    AUTOCOMPLETE_REGEXP\r\n} from '../../constants/autocompleteConstants';\r\nimport {\r\n    KEY_CODES,\r\n    LEGACY_KEY_CODES,\r\n    MOUSE_EVENT_CODE\r\n} from '../../constants/inputConstants';\r\nimport { SELECTORS } from '../../constants/selectors';\r\nimport { AUTOCOMPLETE_COMMAND_TEMPLATE } from './AutocompleteCommandTemplate';\r\nimport { AUTOCOMPLETE_ARGUMENT_TEMPLATE } from './AutocompleteArgumentTemplate';\r\n\r\nconst Handlebars = require('handlebars');\r\n\r\n/**\r\n * @class AutocompleteController\r\n */\r\nexport default class AutocompleteController {\r\n    /**\r\n     * @constructor\r\n     * @param $element {JQuery|HTML Element}\r\n     * @param inputController {InputController}\r\n     * @param aircraftController {AircraftController}\r\n     */\r\n    constructor($element, inputController, aircraftController) {\r\n        this.$element = $element;\r\n        this.$autocomplete = null;\r\n        this.$autocompleteInput = null;\r\n        this.$autocompleteOutput = null;\r\n        this.$autocompleteSpacer = null;\r\n        this.$autocompleteSuggests = null;\r\n\r\n        this._inputController = inputController;\r\n        this._aircraftController = aircraftController;\r\n\r\n        this.commandDefs = {};\r\n        this.lookup = {};\r\n        this.ready = false;\r\n\r\n        this.active = false;\r\n        this.state = AUTOCOMPLETE_STATE.COMMANDS.NO_MATCHES;\r\n        this.commandType = AUTOCOMPLETE_COMMAND_TYPE.TRANSMIT;\r\n        this.initialRange = {};\r\n        this.targetRange = {};\r\n        this.highlighted = null;\r\n        this.inputRevert = null;\r\n        this.params = {};\r\n\r\n        this._init();\r\n    }\r\n\r\n    /**\r\n     * @for AutocompleteController\r\n     * @method _init\r\n     * @private\r\n     */\r\n    _init() {\r\n        this.$autocomplete = this.$element.find(SELECTORS.DOM_SELECTORS.AUTOCOMPLETE);\r\n        this.$autocompleteInput = this.$autocomplete.find(SELECTORS.DOM_SELECTORS.AUTOCOMPLETE_INPUT);\r\n        this.$autocompleteOutput = this.$autocomplete.find(SELECTORS.DOM_SELECTORS.AUTOCOMPLETE_OUTPUT);\r\n        this.$autocompleteSpacer = this.$autocomplete.find(SELECTORS.DOM_SELECTORS.AUTOCOMPLETE_SPACER);\r\n        this.$autocompleteSuggests = this.$autocomplete.find(SELECTORS.DOM_SELECTORS.AUTOCOMPLETE_SUGGESTS);\r\n\r\n        this.commandTemplate = Handlebars.compile(AUTOCOMPLETE_COMMAND_TEMPLATE);\r\n        this.argumentTemplate = Handlebars.compile(AUTOCOMPLETE_ARGUMENT_TEMPLATE);\r\n\r\n        return this._setupHandlers()._fetchConfig();\r\n    }\r\n\r\n    /**\r\n     * @for AutocompleteController\r\n     * @method _setupHandlers\r\n     * @chainable\r\n     * @private\r\n     */\r\n    _setupHandlers() {\r\n        this.onConfigFetchedHandler = this._onConfigFetched.bind(this);\r\n        this.onAutocompleteInputChangeHandler = this._onAutocompleteInputChange.bind(this);\r\n        this.onKeydownHandler = this._onKeydown.bind(this);\r\n        this.onSuggestionClickHandler = this._onSuggestionClick.bind(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Fetch JSON config file\r\n     *\r\n     * @for AutocompleteController\r\n     * @method _fetchConfig\r\n     * @private\r\n     */\r\n    _fetchConfig() {\r\n        $.getJSON('assets/autocomplete/commandAutocompleteConfig.json')\r\n            .done((response) => this.onConfigFetchedHandler(response))\r\n            .fail((jqXHR) => console.error(`Failed to load autocomplete configuration: ${jqXHR.status}: ${jqXHR.statusText}`));\r\n    }\r\n\r\n    /**\r\n     * Ingest data fetched from JSON config\r\n     *\r\n     * @for AutocompleteController\r\n     * @method _onConfigFetched\r\n     * @private\r\n     */\r\n    _onConfigFetched(data) {\r\n        this.commandDefs = data;\r\n\r\n        for (const commandType in data) {\r\n            this.lookup[commandType] = {};\r\n            data[commandType].forEach((commandDef) => {\r\n                // build lookup for fast access by command/alias\r\n                commandDef.variants.forEach((variant) => {\r\n                    variant.aliases.forEach((alias) => {\r\n                        this.lookup[commandType][alias] = commandDef;\r\n                    });\r\n                });\r\n\r\n                // setup regular expressions for parameter validation\r\n                commandDef.paramsets.forEach((paramset) => {\r\n                    paramset.candidate = this._buildRegexOrGroup(paramset.candidate, 'i');\r\n                    paramset.validate = this._buildRegexOrGroup(paramset.validate, 'i');\r\n                });\r\n            });\r\n        }\r\n\r\n        this.enable();\r\n        this.ready = true;\r\n    }\r\n\r\n    /**\r\n     * Build a single regex or group of regexes for parameter validation\r\n     *\r\n     * @for AutocompleteController\r\n     * @method _buildRegexOrGroup\r\n     * @param regexStrs {string|Array<string>}\r\n     * @param flags {string}\r\n     * @private\r\n     */\r\n    _buildRegexOrGroup(regexStrs, flags) {\r\n        if (_isArray(regexStrs)) {\r\n            return new RegexGroup(regexStrs, flags);\r\n        }\r\n\r\n        return new RegExp(regexStrs, flags);\r\n    }\r\n\r\n    /**\r\n     * Enable event handlers\r\n     *\r\n     * @for AutocompleteController\r\n     * @method enable\r\n     * @chainable\r\n     */\r\n    enable() {\r\n        this.$autocompleteInput.on('input', this.onAutocompleteInputChangeHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Disable all event handlers\r\n     *\r\n     * @for AutocompleteController\r\n     * @method disable\r\n     * @chainable\r\n     */\r\n    disable() {\r\n        this.$autocompleteInput.off('input', this.onAutocompleteInputChangeHandler);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Destroy the instance\r\n     *\r\n     * @for AutocompleteController\r\n     * @method destroy\r\n     * @chainable\r\n     */\r\n    destroy() {\r\n        this.$element = null;\r\n        this.$autocomplete = null;\r\n        this.$autocompleteInput = null;\r\n        this.$autocompleteOutput = null;\r\n        this.$autocompleteSpacer = null;\r\n        this.$autocompleteSuggests = null;\r\n\r\n        this.commandDefs = {};\r\n        this.lookup = {};\r\n        this.ready = false;\r\n\r\n        this.initialRange = {};\r\n        this.targetRange = {};\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Update the current state of the autocomplete UI\r\n     * The state is reflected as a class in the $autocomplete element\r\n     * This determines which keyboard control prompts are displayed\r\n     *\r\n     * @for AutocompleteController\r\n     * @method _updateState\r\n     * @param newState {string}\r\n     * @private\r\n     */\r\n    _updateState(newState) {\r\n        if (this.state === newState) {\r\n            return;\r\n        }\r\n\r\n        this.$autocomplete.removeClass(this.state);\r\n        this.state = newState;\r\n        this.$autocomplete.addClass(this.state);\r\n    }\r\n\r\n    /**\r\n     * Grow autocomplete target range to encompass whole token to the left\r\n     *\r\n     * @for AutocompleteController\r\n     * @method _growTargetRangeLeft\r\n     * @param cmdstr {string}\r\n     * @param targetRange {object}\r\n     * @private\r\n     */\r\n    _growTargetRangeLeft(cmdstr, targetRange) {\r\n        const reversePrefix = cmdstr.slice(0, targetRange.start).split('').reverse().join('');\r\n        targetRange.start -= AUTOCOMPLETE_REGEXP.TOKEN_END.exec(reversePrefix).index + 1;\r\n    }\r\n\r\n    /**\r\n     * Grow autocomplete target range to encompass whole token to the right\r\n     *\r\n     * @for AutocompleteController\r\n     * @method _growTargetRangeRight\r\n     * @param cmdstr {string}\r\n     * @param targetRange {object}\r\n     * @private\r\n     */\r\n    _growTargetRangeRight(cmdstr, targetRange) {\r\n        targetRange.end += AUTOCOMPLETE_REGEXP.TOKEN_END.exec(cmdstr.slice(targetRange.end)).index + 1;\r\n    }\r\n\r\n    /**\r\n     * Activate the autocomplete UI\r\n     * Starts in command search and suggest mode\r\n     *\r\n     * @for AutocompleteController\r\n     * @method activate\r\n     */\r\n    activate() {\r\n        if (!this.ready) {\r\n            return;\r\n        }\r\n\r\n        const cmdstr = this._inputController.$commandInput.val();\r\n        // remember initial selection/cursor state, in case of reset\r\n        this.initialRange = {\r\n            start: this._inputController.$commandInput.prop('selectionStart'),\r\n            end: this._inputController.$commandInput.prop('selectionEnd')\r\n        };\r\n        // target range of command input to ingest and replace\r\n        this.targetRange = Object.assign({}, this.initialRange);\r\n\r\n        // cursor/selection left boundary adjustment\r\n        if (this.targetRange.start > 0) { // guarantees index (start - 1) is valid\r\n            if (this.targetRange.start === this.targetRange.end) { // cursor\r\n                if (!AUTOCOMPLETE_REGEXP.WHITESPACE.test(cmdstr.charAt(this.targetRange.start - 1))) {\r\n                    // cursor at mid token or touching right edge of a token\r\n                    this._growTargetRangeLeft(cmdstr, this.targetRange);\r\n                }\r\n            } else { // selection, guarantees index (start + 1) is valid\r\n                const leftBoundary = cmdstr.slice(this.targetRange.start - 1, this.targetRange.start + 1);\r\n                if (AUTOCOMPLETE_REGEXP.TOKEN_MID.test(leftBoundary)) {\r\n                    // selection left boundary at mid token\r\n                    this._growTargetRangeLeft(cmdstr, this.targetRange);\r\n                } else if (AUTOCOMPLETE_REGEXP.TOKEN_END.exec(leftBoundary)?.index === 0) { // using test() gives spurious match\r\n                    // selection left boundary touching right edge of a token\r\n                    // exclude one space for UI aesthetics\r\n                    this.targetRange.start += 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        // cursor/selection right boundary adjustment\r\n        if (this.targetRange.end < cmdstr.length && // guarantees index (end + 1) is valid\r\n            this.targetRange.start < this.targetRange.end && // guarantees index (end - 1) is valid; cursor start already moved\r\n            AUTOCOMPLETE_REGEXP.TOKEN_MID.test(cmdstr.slice(this.targetRange.end - 1, this.targetRange.end + 1))\r\n        ) {\r\n            // cursor/selection right boundary at mid token\r\n            this._growTargetRangeRight(cmdstr, this.targetRange);\r\n        }\r\n\r\n        // find first token in whole command string, if any\r\n        const { index: firstChar, 1: firstToken } = AUTOCOMPLETE_REGEXP.FIRST_TOKEN.exec(cmdstr) ?? {};\r\n\r\n        // is the first token an aircraft callsign?\r\n        const aircraft = this._aircraftController.findAircraftByCallsign(firstToken);\r\n\r\n        // if (aircraft) {\r\n        // TODO: if so, be clever and filter suggestions depending on departure/arrival and flight phase\r\n        // }\r\n\r\n        // may require additional space for correct positioning\r\n        let extraPad = '';\r\n\r\n        // determine command type to autocomplete\r\n        if (firstChar === undefined) {\r\n            // empty/blank command string\r\n            this.commandType = AUTOCOMPLETE_COMMAND_TYPE.SYSTEM;\r\n        } else if (this.targetRange.start <= firstChar) {\r\n            // cursor/selection before or includes first token\r\n            if (aircraft) {\r\n                // first token is callsign, exclude it\r\n                let startWithoutCallsign = firstChar + firstToken.length + 1;\r\n\r\n                // callsign not guaranteed to be followed by whitespace, i.e. cmdstr may match ^\\s*<callsign>$\r\n                if (startWithoutCallsign > cmdstr.length) {\r\n                    startWithoutCallsign = cmdstr.length;\r\n                    extraPad = ' ';\r\n                }\r\n\r\n                this.targetRange.start = startWithoutCallsign;\r\n                this.targetRange.end = Math.max(this.targetRange.start, this.targetRange.end);\r\n                this.commandType = AUTOCOMPLETE_COMMAND_TYPE.TRANSMIT;\r\n            } else {\r\n                // first token is not callsign\r\n                this.commandType = AUTOCOMPLETE_COMMAND_TYPE.SYSTEM;\r\n            }\r\n        } else {\r\n            // cursor/selection outside first token\r\n            this.commandType = AUTOCOMPLETE_COMMAND_TYPE.TRANSMIT;\r\n        }\r\n\r\n        this._updateState(AUTOCOMPLETE_STATE.COMMANDS.NO_MATCHES);\r\n        this.$autocompleteSpacer.text(cmdstr.slice(0, this.targetRange.start).concat(extraPad));\r\n        this.$autocompleteInput.val(cmdstr.slice(this.targetRange.start, this.targetRange.end));\r\n        this.$autocompleteInput.attr('placeholder', AUTOCOMPLETE_INPUT_PLACEHOLDER.COMMAND);\r\n        this.onAutocompleteInputChangeHandler();\r\n        this.$autocomplete.addClass('active');\r\n        this.$autocompleteInput.focus();\r\n        this.active = true;\r\n    }\r\n\r\n    /**\r\n     * Highlight previous suggested command\r\n     *\r\n     * @for AutocompleteController\r\n     * @method highlightPrev\r\n     */\r\n    highlightPrev() {\r\n        const $highlightOld = this.$autocompleteSuggests.find('tr.highlight');\r\n        let $highlightNew = this.$autocompleteSuggests.find('tr').last();\r\n\r\n        if ($highlightOld.length) {\r\n            $highlightOld.removeClass('highlight');\r\n            const $highlightOldPrev = $highlightOld.prev();\r\n\r\n            if ($highlightOldPrev.length) {\r\n                $highlightNew = $highlightOldPrev;\r\n            }\r\n        }\r\n\r\n        $highlightNew.addClass('highlight');\r\n        this.highlighted = $highlightNew.data('command');\r\n        this._updateState(AUTOCOMPLETE_STATE.COMMANDS.HIGHLIGHT);\r\n    }\r\n\r\n    /**\r\n     * Highlight next suggested command\r\n     *\r\n     * @for AutocompleteController\r\n     * @method highlightNext\r\n     */\r\n    highlightNext() {\r\n        const $highlightOld = this.$autocompleteSuggests.find('tr.highlight');\r\n        let $highlightNew = this.$autocompleteSuggests.find('tr').first();\r\n\r\n        if ($highlightOld.length) {\r\n            $highlightOld.removeClass('highlight');\r\n            const $highlightOldNext = $highlightOld.next();\r\n\r\n            if ($highlightOldNext.length) {\r\n                $highlightNew = $highlightOldNext;\r\n            }\r\n        }\r\n\r\n        $highlightNew.addClass('highlight');\r\n        this.highlighted = $highlightNew.data('command');\r\n        this._updateState(AUTOCOMPLETE_STATE.COMMANDS.HIGHLIGHT);\r\n    }\r\n\r\n    /**\r\n     * Quit out of the autocomplete UI while in\r\n     * command search and suggest mode\r\n     *\r\n     * @for AutocompleteController\r\n     * @method cancel\r\n     */\r\n    cancel() {\r\n        this._inputController.$commandInput.prop('selectionStart', this.initialRange.start);\r\n        this._inputController.$commandInput.prop('selectionEnd', this.initialRange.end);\r\n        this._inputController.$commandInput.focus();\r\n\r\n        this.initialRange = {};\r\n        this.targetRange = {};\r\n        this.highlighted = null;\r\n\r\n        this.$autocomplete.removeClass();\r\n        this.active = false;\r\n    }\r\n\r\n    /**\r\n     * Select the specified suggested command\r\n     * Proceed to parameter guidance and validation mode\r\n     *\r\n     * @for AutocompleteController\r\n     * @method selectCommand\r\n     * @param command {string}\r\n     */\r\n    selectCommand(command) {\r\n        // for revert purposes\r\n        this.inputRevert = this.$autocompleteInput.val();\r\n\r\n        const out = `${command} `;\r\n        this.$autocompleteOutput.val(out);\r\n        this.$autocompleteOutput.attr('size', out.length);\r\n\r\n        this.params = { command: command };\r\n        this.params.paramsets = this.lookup[this.commandType][command].paramsets;\r\n\r\n        this._updateState(AUTOCOMPLETE_STATE.PARAMS.INVALID);\r\n        this.$autocompleteInput.val('');\r\n        this.$autocompleteInput.attr('placeholder', AUTOCOMPLETE_INPUT_PLACEHOLDER.PARAM);\r\n        this.onAutocompleteInputChangeHandler();\r\n        this.$autocompleteInput.focus();\r\n    }\r\n\r\n    /**\r\n     * Revert back to command search and suggest mode\r\n     *\r\n     * @for AutocompleteController\r\n     * @method revert\r\n     */\r\n    revert() {\r\n        this.$autocompleteOutput.val('');\r\n        this.$autocompleteOutput.attr('size', 1);\r\n\r\n        this._updateState(AUTOCOMPLETE_STATE.COMMANDS.HIGHLIGHT);\r\n        this.$autocompleteInput.val(this.inputRevert);\r\n        this.$autocompleteInput.attr('placeholder', AUTOCOMPLETE_INPUT_PLACEHOLDER.COMMAND);\r\n        this.onAutocompleteInputChangeHandler();\r\n        this.$autocompleteInput.focus();\r\n\r\n        this.params = {};\r\n        this.inputRevert = null;\r\n    }\r\n\r\n    /**\r\n     * Commit a validated command to the command input\r\n     * This completes the autocomplete process\r\n     *\r\n     * @for AutocompleteController\r\n     * @method commit\r\n     */\r\n    commit() {\r\n        let cmdstr = this._inputController.$commandInput.val();\r\n        // consume whitespace immediately before start of target range\r\n        const before = cmdstr.slice(0, this.targetRange.start).trimRight();\r\n        // consume whitespace immediately after end of target range\r\n        const after = cmdstr.slice(this.targetRange.end).trimLeft();\r\n\r\n        let paramstr = this.$autocompleteInput.val().trim();\r\n\r\n        if (paramstr.length) {\r\n            paramstr = paramstr.replace(AUTOCOMPLETE_REGEXP.WHITESPACE, ' ').concat(' ');\r\n        }\r\n\r\n        cmdstr = before.concat((before.length > 0) ? ' ' : '', this.params.command, ' ', paramstr);\r\n        this._inputController.$commandInput.val(cmdstr + after);\r\n        this._inputController.$commandInput.prop('selectionStart', cmdstr.length);\r\n        this._inputController.$commandInput.prop('selectionEnd', cmdstr.length);\r\n        this._inputController.$commandInput.focus();\r\n\r\n        this.initialRange = {};\r\n        this.targetRange = {};\r\n        this.highlighted = null;\r\n        this.inputRevert = null;\r\n        this.params = {};\r\n\r\n        this.$autocomplete.removeClass();\r\n        this.active = false;\r\n    }\r\n\r\n    /**\r\n     * @for AutocompleteController\r\n     * @method _onKeydown\r\n     * @param event {jquery Event}\r\n     * @private\r\n     */\r\n    _onKeydown(event) {\r\n        let { code } = event.originalEvent;\r\n\r\n        if (code == null) {\r\n            // fallback for legacy browsers like IE/Edge\r\n            code = event.originalEvent.keyCode;\r\n        }\r\n\r\n        switch (code) {\r\n            // navigate through command suggestions\r\n            case KEY_CODES.UP_ARROW:\r\n            case LEGACY_KEY_CODES.UP_ARROW:\r\n                event.preventDefault();\r\n\r\n                if (this.state === AUTOCOMPLETE_STATE.COMMANDS.HIGHLIGHT || this.state === AUTOCOMPLETE_STATE.COMMANDS.MATCHES) {\r\n                    this.highlightPrev();\r\n                }\r\n\r\n                break;\r\n            case KEY_CODES.DOWN_ARROW:\r\n            case LEGACY_KEY_CODES.DOWN_ARROW:\r\n                event.preventDefault();\r\n\r\n                if (this.state === AUTOCOMPLETE_STATE.COMMANDS.HIGHLIGHT || this.state === AUTOCOMPLETE_STATE.COMMANDS.MATCHES) {\r\n                    this.highlightNext();\r\n                }\r\n\r\n                break;\r\n            case KEY_CODES.TAB:\r\n            case LEGACY_KEY_CODES.TAB:\r\n                event.preventDefault();\r\n\r\n                if (this.state === AUTOCOMPLETE_STATE.COMMANDS.HIGHLIGHT) {\r\n                    // replace with selected suggestion (command or alias)\r\n                    this.selectCommand(this.highlighted);\r\n                } else if (this.state === AUTOCOMPLETE_STATE.PARAMS.VALID) {\r\n                    // commit if valid command or alias + arguments\r\n                    this.commit();\r\n                }\r\n\r\n                break;\r\n            case KEY_CODES.ENTER:\r\n            case KEY_CODES.NUM_ENTER:\r\n            case LEGACY_KEY_CODES.ENTER:\r\n                if (this.state === AUTOCOMPLETE_STATE.PARAMS.VALID) {\r\n                    // shortcut to commit + submit immediately\r\n                    this.commit();\r\n                    this._inputController.processCommand();\r\n                }\r\n\r\n                break;\r\n            // cancel / revert\r\n            case KEY_CODES.ESCAPE:\r\n            case LEGACY_KEY_CODES.ESCAPE:\r\n                if (AUTOCOMPLETE_COMMAND_STATES.includes(this.state)) {\r\n                    this.cancel();\r\n                } else {\r\n                    this.revert();\r\n                }\r\n\r\n                break;\r\n            default:\r\n                this.$autocompleteInput.focus();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @for AutocompleteController\r\n     * @method _onSuggestionClick\r\n     * @param event {jquery Event}\r\n     */\r\n    _onSuggestionClick(event) {\r\n        if (event.which === MOUSE_EVENT_CODE.LEFT_PRESS) {\r\n            const command = $(event.currentTarget).data('command');\r\n\r\n            if (command) {\r\n                this.highlighted = command; // for revert purposes\r\n                this.selectCommand(command);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @for AutocompleteController\r\n     * @method _onAutocompleteInputChange\r\n     * @private\r\n     */\r\n    _onAutocompleteInputChange() {\r\n        const currentAutocompleteInputValue = this.$autocompleteInput.val();\r\n        const inputLength = currentAutocompleteInputValue.length;\r\n        this.$autocompleteInput.attr('size',\r\n            (inputLength === 0 ? this.$autocompleteInput.attr('placeholder').length : inputLength));\r\n\r\n        if (AUTOCOMPLETE_COMMAND_STATES.includes(this.state)) {\r\n            this._matchCommands(currentAutocompleteInputValue.trim().toLowerCase());\r\n        } else {\r\n            this._validateArgs(currentAutocompleteInputValue.trim());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @for AutocompleteController\r\n     * @method _matchCommands\r\n     * @param prefix {string} Partial command typed by user into autocomplete input\r\n     * @private\r\n     */\r\n    _matchCommands(prefix) {\r\n        let matches = {};\r\n\r\n        // empty / blank input:\r\n        // transmit: force no results, otherwise _findCandidateCommands will return *everything*!\r\n        //     TODO: provide smart suggestions based on aircraft category/flight phase?\r\n        // system: go ahead and show all commands, there aren't that many\r\n        if (prefix.length > 0 || this.commandType === AUTOCOMPLETE_COMMAND_TYPE.SYSTEM) {\r\n            matches = this._findCandidateCommands(prefix);\r\n        }\r\n\r\n        this.$autocompleteSuggests.html(this.commandTemplate(matches));\r\n        this.$autocompleteSuggests.find('tr').on('click', this.onSuggestionClickHandler);\r\n\r\n        if (_isEmpty(matches)) {\r\n            this._updateState(AUTOCOMPLETE_STATE.COMMANDS.NO_MATCHES);\r\n        } else {\r\n            // seek to retain highlight on previously highlighted entry if it still exists\r\n            let findAndHighlight = this.state === AUTOCOMPLETE_STATE.COMMANDS.HIGHLIGHT;\r\n\r\n            // pre-emptively highlight corresponding entry when input is exact match for a command or alias\r\n            if (Object.keys(this.lookup[this.commandType]).includes(prefix)) {\r\n                this.highlighted = prefix;\r\n                findAndHighlight = true;\r\n            }\r\n\r\n            if (findAndHighlight) {\r\n                const $highlight = this.$autocompleteSuggests.find(`tr[data-command=\"${this.highlighted}\"]`);\r\n\r\n                if ($highlight.length) {\r\n                    $highlight.addClass('highlight');\r\n                    this._updateState(AUTOCOMPLETE_STATE.COMMANDS.HIGHLIGHT);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            this._updateState(AUTOCOMPLETE_STATE.COMMANDS.MATCHES);\r\n        }\r\n\r\n        this.highlighted = null;\r\n    }\r\n\r\n    /**\r\n     * Take user input from autocomplete input (distinct from simulator command input) and\r\n     * use it as a prefix to search for all potentially matching commands\r\n     *\r\n     * @for AutocompleteController\r\n     * @method _findCandidateCommands\r\n     * @param prefix {string} Partial command typed by user into autocomplete input\r\n     * @private\r\n     */\r\n    _findCandidateCommands(prefix) {\r\n        const matches = {};\r\n        for (const command of this.commandDefs[this.commandType]) {\r\n            for (const variant of command.variants) {\r\n                /* eslint-disable max-len, no-multi-spaces */\r\n                for (const alias of variant.aliases) {\r\n                    if (alias.startsWith(prefix) &&\r\n                        (typeof matches[command.id] === 'undefined' ||        // has not been matched yet\r\n                        matches[command.id].direct === false ||               // has only been matched indirectly (altkey match)\r\n                        alias.length < matches[command.id].command.length)) { // was matched directly for a longer variant of the command\r\n                        matches[command.id] = { direct: true, command: alias, explanation: variant.explain };\r\n                    }\r\n                }\r\n\r\n                // skip checking altkeys if there is already a direct hit for this commandDef\r\n                // includes direct hit on previously seen variants, even if the current one isn't one\r\n                if (typeof matches[command.id] !== 'undefined' && matches[command.id].direct === true) {\r\n                    continue;\r\n                }\r\n\r\n                if (variant.altkeys.some((alt) => alt.startsWith(prefix))) {\r\n                    const c = variant.aliases[0];\r\n\r\n                    if (typeof matches[command.id] === 'undefined' ||    // has not been matched yet\r\n                        c.length < matches[command.id].command.length) { // was matched indirectly for a longer variant of the command\r\n                        matches[command.id] = { direct: false, command: c, explanation: variant.explain };\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return matches;\r\n    }\r\n\r\n\r\n    /**\r\n     * @for AutocompleteController\r\n     * @method _validateArgs\r\n     * @param paramstr {string} Partial argument string typed by user into autocomplete input\r\n     * @private\r\n     */\r\n    _validateArgs(paramstr) {\r\n        if (this.params.paramsets.length === 0) {\r\n            if (paramstr.length === 0) {\r\n                this.params.validity = AUTOCOMPLETE_PARAMS_VALIDITY.VALID;\r\n                this._updateState(AUTOCOMPLETE_STATE.PARAMS.VALID);\r\n            } else {\r\n                this.params.validity = AUTOCOMPLETE_PARAMS_VALIDITY.INVALID;\r\n                this._updateState(AUTOCOMPLETE_STATE.PARAMS.INVALID);\r\n            }\r\n        } else {\r\n            this.params.paramsets.forEach((paramset) => {\r\n                if (paramset.validate.test(paramstr)) {\r\n                    paramset.validity = AUTOCOMPLETE_PARAMS_VALIDITY.VALID;\r\n                } else if (paramset.candidate.test(paramstr)) {\r\n                    paramset.validity = AUTOCOMPLETE_PARAMS_VALIDITY.CANDIDATE;\r\n                } else {\r\n                    paramset.validity = AUTOCOMPLETE_PARAMS_VALIDITY.INVALID;\r\n                }\r\n            });\r\n            if (this.params.paramsets.some((paramset) => paramset.validity === AUTOCOMPLETE_PARAMS_VALIDITY.VALID)) {\r\n                this._updateState(AUTOCOMPLETE_STATE.PARAMS.VALID);\r\n            } else {\r\n                this._updateState(AUTOCOMPLETE_STATE.PARAMS.INVALID);\r\n            }\r\n        }\r\n        this.$autocompleteSuggests.html(this.argumentTemplate(this.params));\r\n    }\r\n}\r\n","/**\r\n * @class RegexGroup\r\n */\r\nexport default class RegexGroup {\r\n    /**\r\n     * @constructor\r\n     * @param regexStrs {Array<string>}\r\n     * @param flags {string}\r\n     */\r\n    constructor(regexStrs, flags) {\r\n        this.regexes = [];\r\n        regexStrs.forEach((regexStr) => {\r\n            this.regexes.push(new RegExp(regexStr, flags));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Test if satisfies any regex in the group\r\n     *\r\n     * @for RegexGroup\r\n     * @method test\r\n     * @param str {string}\r\n     */\r\n    test(str) {\r\n        return this.regexes.some((regex) => regex.test(str));\r\n    }\r\n}\r\n","import { LOG } from './constants/logLevel';\r\n\r\n/**\r\n *\r\n * The functions contained in this file should be migrated over to the `math/`\r\n * files as soon as possible.\r\n *\r\n * These functions are all attached to the `window` and are global to the\r\n * entire app. This is a problem because it polutes the global namespace,\r\n * and files that don't need it have access to it. These functions should be imported\r\n * only as needed.\r\n *\r\n * These functions should also have corresponding tests.\r\n *\r\n */\r\n\r\nwindow.AudioContext = window.AudioContext || window.webkitAudioContext;\r\n\r\n/*eslint-disable*/\r\n\r\n// String repetition copied from http://stackoverflow.com/a/5450113\r\nif (!String.prototype.hasOwnProperty('repeat')) {\r\n    String.prototype.repeat = function(count) {\r\n        if (count < 1) {\r\n            return '';\r\n        }\r\n\r\n        let result = '';\r\n        let pattern = this.valueOf();\r\n\r\n        while (count > 1) {\r\n            if (count & 1) result += pattern;\r\n            count >>= 1, pattern += pattern;\r\n        }\r\n\r\n        return result + pattern;\r\n    };\r\n}\r\n\r\n/**\r\n * Necessary for Internet Explorer 11 (IE11) to not die while using String.fromCodePoint()\r\n * This function is not natively available in IE11, as noted on this MSDN page:\r\n * https://msdn.microsoft.com/en-us/library/dn890630(v=vs.94).aspx\r\n *\r\n * Apparently, it is fine with pre-Win8.1 MS Edge 11, but never okay in IE.\r\n * Here, the function is added to the String prototype to make later code usable.\r\n *\r\n * Solution from: http://xahlee.info/js/js_unicode_code_point.html\r\n*/\r\nif (!String.fromCodePoint) {\r\n    // ES6 Unicode Shims 0.1 , © 2012 Steven Levithan , MIT License\r\n    String.fromCodePoint = function fromCodePoint() {\r\n        const chars = [];\r\n        let point;\r\n        let offset;\r\n        let units;\r\n\r\n        for (let i = 0; i < arguments.length; i++) {\r\n            point = arguments[i];\r\n            offset = point - 0x10000;\r\n            units = point > 0xFFFF ? [0xD800 + (offset >> 10), 0xDC00 + (offset & 0x3FF)] : [point];\r\n            chars.push(String.fromCharCode.apply(null, units));\r\n        }\r\n\r\n        return chars.join('');\r\n    };\r\n}\r\n\r\nconst log = (message, level = LOG.INFO) => {\r\n    const logStrings = {\r\n        0: 'DEBUG',\r\n        1: 'INFO',\r\n        2: 'WARN',\r\n        3: 'ERROR',\r\n        4: 'FATAL'\r\n    };\r\n\r\n    if (prop.log <= level) {\r\n        const text = `[ ${logStrings[level]} ]`;\r\n\r\n        if (level >= LOG.WARNING) {\r\n            console.warn(text, message);\r\n        } else {\r\n            console.log(text, message);\r\n        }\r\n    }\r\n};\r\nwindow.log = log;\r\n","import _isArray from 'lodash/isArray';\r\n\r\n/**\r\n * Helper method to translate a unicode character into a readable string value\r\n *\r\n * @method unicodeToString\r\n * @param char {characterCode}\r\n * @return {string}\r\n */\r\nexport const unicodeToString = (char) => `\\\\u${char.charCodeAt(0).toString(16).toUpperCase()}`;\r\n\r\n/**\r\n *\r\n *\r\n * @function choose\r\n * @param list\r\n * @return\r\n */\r\nexport const choose = (list) => {\r\n    const randomIndexFromLength = Math.floor(Math.random() * list.length);\r\n\r\n    return list[randomIndexFromLength];\r\n};\r\n\r\n/**\r\n *\r\n *\r\n * @function choose_weight\r\n */\r\nexport const choose_weight = (l) => {\r\n    if (l.length === 0) {\r\n        return;\r\n    }\r\n\r\n    if (!_isArray(l[0])) {\r\n        return choose(l);\r\n    }\r\n\r\n    // l = [[item, weight], [item, weight] ... ];\r\n    let weight = 0;\r\n    for (let i = 0; i < l.length; i++) {\r\n        weight += l[i][1];\r\n    }\r\n\r\n    const randomWeight = Math.random() * weight;\r\n    weight = 0;\r\n\r\n    for (let i = 0; i < l.length; i++) {\r\n        weight += l[i][1];\r\n\r\n        if (weight > randomWeight) {\r\n            return l[i][0];\r\n        }\r\n    }\r\n\r\n\r\n    return null;\r\n};\r\n\r\n/**\r\n * Prepends zeros to front of str/num to make it the desired length\r\n *\r\n * @function leftPad\r\n * @param value {number|string}  original value\r\n * @param length {number}        total character length of return string\r\n * @return {string}              a string of the desired length prepended with zeros when `value` is < `length`\r\n */\r\nexport const leftPad = (value, length) => {\r\n    if (value.toString().length >= length) {\r\n        return value.toString();\r\n    }\r\n\r\n    const x = `0000000000000${value}`;\r\n\r\n    return x.substr(x.length - length, length);\r\n};\r\n","import { REGEX } from '../constants/globalConstants';\r\nimport { PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER } from '../constants/routeConstants';\r\n\r\n/**\r\n * Combine entry, procedure/airway name, and exit to form a correctly formatted procedural route string\r\n *\r\n * @function assembleProceduralRouteString\r\n * @param entryFix {string} ICAO identifier of fix where we enter the airway/procedure\r\n * @param procedureOrAirway {string} ICAO identifier of the airway/procedure\r\n * @param exitFix {string} ICAO identifier of fix where we exit the airway/procedure\r\n * @return {string} correctly formatted procedural route string\r\n */\r\nexport function assembleProceduralRouteString(entryFix, procedureOrAirway, exitFix) {\r\n    return `${entryFix}${PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER}${procedureOrAirway}` +\r\n        `${PROCEDURE_OR_AIRWAY_SEGMENT_DIVIDER}${exitFix}`;\r\n}\r\n\r\n/**\r\n * Parses the restriction string using the specfied regular expression\r\n *\r\n * @param restrictionText {string}\r\n * @param regex {RegExp}\r\n * @param multiplier {number}\r\n * @returns {array}\r\n */\r\nfunction _parseRestriction(restrictionText, regex, multiplier = 1) {\r\n    if (restrictionText == null) {\r\n        return [];\r\n    }\r\n\r\n    const match = restrictionText.match(regex);\r\n\r\n    if (match === null) {\r\n        return [];\r\n    }\r\n\r\n    const [, value, limit] = match;\r\n\r\n    return [parseInt(value, 10) * multiplier, limit];\r\n}\r\n\r\n/**\r\n * Parses an altitude restriction string in the form A80+ or A140- or A160\r\n * into a array containing the altitude and the optional limit symbol\r\n * eg. A80+  => [8000, '+']\r\n *     A140- => [14000, '-']\r\n *     A160  => [16000, '']\r\n *\r\n * @param restrictionText {string}\r\n * @returns {array} or an empty array if not valid\r\n */\r\nexport const parseAltitudeRestriction = (restrictionText) => {\r\n    return _parseRestriction(restrictionText, REGEX.ALTITUDE_RESTRICTION, 100);\r\n};\r\n\r\n/**\r\n * Parses a speed restriction string in the form S250+ or S220-\r\n * into a array containing the speed and the optional limit symbol\r\n * eg. S250+ => [250, '+']\r\n *     S220- => [220, '-']\r\n *     S230  => [230, '']\r\n *\r\n * @param restrictionText {string}\r\n * @returns {array} or an empty array if not valid\r\n */\r\nexport const parseSpeedRestriction = (restrictionText) => {\r\n    return _parseRestriction(restrictionText, REGEX.SPEED_RESTRICTION);\r\n};\r\n","import _clone from 'lodash/clone';\r\nimport _compact from 'lodash/compact';\r\nimport _map from 'lodash/map';\r\nimport { round } from '../math/core';\r\nimport { tau, radians_normalize } from '../math/circle';\r\n\r\n/**\r\n * @property CARDINAL_DIRECTION\r\n * @type {Array}\r\n * @final\r\n */\r\nconst CARDINAL_DIRECTION = [\r\n    'N',\r\n    'NE',\r\n    'E',\r\n    'SE',\r\n    'S',\r\n    'SW',\r\n    'W',\r\n    'NW',\r\n    'N'\r\n];\r\n\r\n/**\r\n * @property radio_names\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const radio_names = {\r\n    0: 'zero',\r\n    1: 'one',\r\n    2: 'two',\r\n    3: 'three',\r\n    4: 'four',\r\n    5: 'five',\r\n    6: 'six',\r\n    7: 'seven',\r\n    8: 'eight',\r\n    9: 'niner',\r\n    10: 'ten',\r\n    11: 'eleven',\r\n    12: 'twelve',\r\n    13: 'thirteen',\r\n    14: 'fourteen',\r\n    15: 'fifteen',\r\n    16: 'sixteen',\r\n    17: 'seventeen',\r\n    18: 'eighteen',\r\n    19: 'nineteen',\r\n    20: 'twenty',\r\n    30: 'thirty',\r\n    40: 'fourty',\r\n    50: 'fifty',\r\n    60: 'sixty',\r\n    70: 'seventy',\r\n    80: 'eighty',\r\n    90: 'ninety',\r\n    a: 'alpha',\r\n    b: 'bravo',\r\n    c: 'charlie',\r\n    d: 'delta',\r\n    e: 'echo',\r\n    f: 'foxtrot',\r\n    g: 'golf',\r\n    h: 'hotel',\r\n    i: 'india',\r\n    j: 'juliet',\r\n    k: 'kilo',\r\n    l: 'lima',\r\n    m: 'mike',\r\n    n: 'november',\r\n    o: 'oscar',\r\n    p: 'papa',\r\n    q: 'quebec',\r\n    r: 'romeo',\r\n    s: 'sierra',\r\n    t: 'tango',\r\n    u: 'uniform',\r\n    v: 'victor',\r\n    w: 'whiskey',\r\n    x: 'x-ray',\r\n    y: 'yankee',\r\n    z: 'zulu',\r\n    '-': 'dash',\r\n    '.': 'point'\r\n};\r\n\r\n// TODO: this and CARDINAL_DIRECTION seem to be duplicating logic. look into smoothing that out by using\r\n// just this enum and `toUpperCase()` where necessary.\r\n/**\r\n * @property radio_cardinalDir_names\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const radio_cardinalDir_names = {\r\n    n: 'north',\r\n    nw: 'northwest',\r\n    w: 'west',\r\n    sw: 'southwest',\r\n    s: 'south',\r\n    se: 'southeast',\r\n    e: 'east',\r\n    ne: 'northeast'\r\n};\r\n\r\n// TODO: probably do this with Object.assign\r\nexport const radio_runway_names = _clone(radio_names);\r\nradio_runway_names.l = 'left';\r\nradio_runway_names.c = 'center';\r\nradio_runway_names.r = 'right';\r\n\r\n// TODO: how is this different from lpad?\r\n// NOT IN USE\r\n/**\r\n * Force a number to a string with a specific # of digits\r\n *\r\n * If the rounded integer has more digits than requested, it will be returned\r\n * anyway, as chopping them off the end would change the value by orders of\r\n * magnitude, which is almost definitely going to be undesirable.\r\n *\r\n * @param number\r\n * @param digits\r\n * @truncate {boolean}\r\n * @return {string} with leading zeros to reach 'digits' places\r\n */\r\nexport const digits_integer = (number, digits, truncate = false) => {\r\n    if (truncate) {\r\n        number = Math.floor(number).toString();\r\n    } else {\r\n        number = Math.round(number).toString();\r\n    }\r\n\r\n    if (number.length > digits) {\r\n        return number;\r\n    }\r\n\r\n    // add leading zeros\r\n    while (number.length < digits) {\r\n        number = `0${number}`;\r\n    }\r\n\r\n    return number;\r\n};\r\n\r\n/**\r\n * Round a number to a specific # of digits after the decimal\r\n *\r\n * Also supports negative digits. Ex: '-2' would do 541.246 --> 500\r\n *\r\n * @param {boolean} force - (optional) Forces presence of trailing zeros.\r\n *                          Must be set to true if you want '3' to be able to go to '3.0', or\r\n *                          for '32.168420' to not be squished to '32.16842'. If true, fxn will\r\n *                          return a string, because otherwise, js removes all trailing zeros.\r\n * @param {boolean} truncate - (optional) Selects shortening method.\r\n *                          to truncate: 'true', to round: 'false' (default)\r\n * @return {number}         if !force\r\n * @return {string}         if force\r\n */\r\nexport const digits_decimal = (number, digits, force, truncate) => {\r\n    const shorten = (truncate) ? Math.floor : Math.round;\r\n\r\n    if (!force) {\r\n        return shorten(number * Math.pow(10, digits)) / Math.pow(10, digits);\r\n    }\r\n\r\n    // check if needs extra trailing zeros\r\n    if (digits <= 0) {\r\n        return (shorten(number * Math.pow(10, digits)) / Math.pow(10, digits)).toString();\r\n    }\r\n\r\n    number = number.toString();\r\n\r\n    for (let i = 0; i < number.length; i++) {\r\n        if (number[i] === '.') {\r\n            const trailingDigits = number.length - (i + 1);\r\n\r\n            if (trailingDigits === digits) {\r\n                return number.toString();\r\n            } else if (trailingDigits < digits) {\r\n                // add trailing zeros\r\n                return number + Array(digits - trailingDigits + 1).join('0');\r\n            } else if (trailingDigits > digits) {\r\n                if (truncate) {\r\n                    return number.substr(0, number.length - (trailingDigits - digits));\r\n                }\r\n\r\n                const len = number.length - (trailingDigits - digits + 1);\r\n                const part1 = number.substr(0, len);\r\n                const part2 = (digits === 0)\r\n                    ? ''\r\n                    : shorten(parseInt(number.substr(len, 2), 10) / 10).toString();\r\n\r\n                return part1 + part2;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n *\r\n * @function getGrouping\r\n * @param groupable {array}\r\n * @return {string}\r\n */\r\nexport const getGrouping = (groupable) => {\r\n    const digit1 = groupable[0];\r\n    const digit2 = groupable[1];\r\n\r\n    if (digit1 === '0') {\r\n        if (digit2 === '0') {\r\n            return 'hundred';\r\n        }\r\n        // just digits (eg 'zero seven')\r\n        return `${radio_names[digit1]} ${radio_names[digit2]}`;\r\n    } else if (digit1 === '1') {\r\n        // exact number (eg 'seventeen')\r\n        return radio_names[groupable];\r\n    } else if (digit1 >= 2) {\r\n        const firstDigit = `${digit1}0`;\r\n\r\n        if (digit2 === '0') {\r\n            // to avoid 'five twenty zero'\r\n            return radio_names[firstDigit];\r\n        }\r\n        // combo number (eg 'fifty one')\r\n        return `${radio_names[firstDigit]} ${radio_names[digit2]}`;\r\n    }\r\n\r\n    return `${radio_names[digit1]} ${radio_names[digit2]}`;\r\n};\r\n\r\n// TODO: this needs to be simplified\r\n/**\r\n *\r\n * @function groupNumbers\r\n * @param callsign {string}\r\n * @param airline {string} (optional)\r\n * @return\r\n */\r\nexport const groupNumbers = (callsign, airline) => {\r\n    if (!/^\\d+$/.test(callsign)) {\r\n        // GA, eg '117KS' = 'one-one-seven-kilo-sierra')\r\n        if (airline === 'November') {\r\n            // callsign \"November\"\r\n            const s = [];\r\n\r\n            for (const k in callsign) {\r\n                // one after another (eg 'one one seven kilo sierra')\r\n                s.push(radio_names[callsign[k]]);\r\n            }\r\n\r\n            return s.join(' ');\r\n        }\r\n\r\n        // airline grouped, eg '3110A' = 'thirty-one-ten-alpha'\r\n        // divide callsign into alpha/numeric sections\r\n        const sections = [];\r\n        let cs = callsign;\r\n        let thisIsDigit;\r\n        let index = cs.length - 1;\r\n        let lastWasDigit = !isNaN(parseInt(cs[index], 10));\r\n        index--;\r\n\r\n        while (index >= 0) {\r\n            thisIsDigit = !isNaN(parseInt(cs[index], 10));\r\n\r\n            while (thisIsDigit === lastWasDigit) {\r\n                index--;\r\n                thisIsDigit = !isNaN(parseInt(cs[index], 10));\r\n\r\n                if (index < 0) {\r\n                    break;\r\n                }\r\n            }\r\n            sections.unshift(cs.substr(index + 1));\r\n            cs = cs.substr(0, index + 1);\r\n            lastWasDigit = thisIsDigit;\r\n        }\r\n\r\n        // build words, section by section\r\n        const s = [];\r\n\r\n        for (const i in sections) {\r\n            if (isNaN(parseInt(sections[i], 10))) {\r\n                // alpha section\r\n                s.push(radio_spellOut(sections[i]));\r\n            } else {\r\n                // numeric section\r\n                switch (sections[i].length) {\r\n                    case 0:\r\n                        s.push(sections[i]);\r\n                        break;\r\n                    case 1:\r\n                        s.push(radio_names[sections[i]]);\r\n                        break;\r\n                    case 2:\r\n                        s.push(getGrouping(sections[i]));\r\n                        break;\r\n                    case 3:\r\n                        s.push(`${radio_names[sections[i][0]]} ${getGrouping(sections[i].substr(1))}`);\r\n                        break;\r\n                    case 4:\r\n                        s.push(`${getGrouping(sections[i].substr(0, 2))} ${getGrouping(sections[i].substr(2))}`);\r\n                        break;\r\n                    default:\r\n                        s.push(radio_spellOut(sections[i]));\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return s.join(' ');\r\n    } else {\r\n        // TODO: this block is unreachable\r\n        switch (callsign.length) {\r\n            case 0:\r\n                return callsign; break;\r\n            case 1:\r\n                return radio_names[callsign]; break;\r\n            case 2:\r\n                return getGrouping(callsign); break;\r\n            case 3:\r\n                return `${radio_names[callsign[0]]} ${getGrouping(callsign.substr(1))}`;\r\n                break;\r\n            case 4:\r\n                if (callsign[1] === '0' && callsign[2] === '0' && callsign[3] === '0') {\r\n                    return `${radio_names[callsign[0]]} thousand`;\r\n                }\r\n\r\n                return `${getGrouping(callsign.substr(0, 2))} ${getGrouping(callsign.substr(2))}`;\r\n                break;\r\n            default:\r\n                return callsign;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n *\r\n * @funtion radio_runway\r\n * @param input {string}\r\n * @return\r\n */\r\nexport const radio_runway = (input) => {\r\n    input = `${input} `;\r\n    input = input.toLowerCase();\r\n\r\n    return _compact(_map(input, (letterOrNumber, i) => radio_runway_names[input[i]])).join(' ');\r\n};\r\n\r\n/**\r\n *\r\n * @function radio_heading\r\n * @param heading {string}\r\n * @return {string}\r\n */\r\nexport const radio_heading = (heading) => {\r\n    const str = heading.toString();\r\n\r\n    switch (str.length) {\r\n        case 1:\r\n            return `zero zero ${radio_names[str]}`;\r\n        case 2:\r\n            return `zero ${radio_names[str[0]]} ${radio_names[str[1]]}`;\r\n        default:\r\n            return `${radio_names[str[0]]} ${radio_names[str[1]]} ${radio_names[str[2]]}`;\r\n    }\r\n\r\n    return heading;\r\n};\r\n\r\n/**\r\n *\r\n * @function radio_spellOut\r\n * @param alphanumeric\r\n * @return\r\n */\r\nexport const radio_spellOut = (alphanumeric) => {\r\n    const str = alphanumeric.toString();\r\n    const arr = [];\r\n\r\n    if (!str) {\r\n        return;\r\n    }\r\n\r\n    // TODO: change to _map()\r\n    for (let i = 0; i < str.length; i++) {\r\n        arr.push(radio_names[str[i]]);\r\n    }\r\n\r\n    return arr.join(' ');\r\n};\r\n\r\n/**\r\n *\r\n * @function radio_altitude\r\n * @param altitude\r\n * @return\r\n */\r\nexport const radio_altitude = (altitude) => {\r\n    const alt_s = altitude.toString();\r\n    const s = [];\r\n\r\n    // TODO can this block be simplified?\r\n    if (altitude >= 18000) {\r\n        s.push('flight level', radio_names[alt_s[0]], radio_names[alt_s[1]], radio_names[alt_s[2]]);\r\n    } else if (altitude >= 10000) {\r\n        s.push(radio_names[alt_s[0]], radio_names[alt_s[1]], 'thousand');\r\n\r\n        if (!(altitude % (Math.floor(altitude / 1000) * 1000) === 0)) {\r\n            s.push(radio_names[alt_s[2]], 'hundred');\r\n        }\r\n    } else if (altitude >= 1000) {\r\n        s.push(radio_names[alt_s[0]], 'thousand');\r\n\r\n        if (!(altitude % (Math.floor(altitude / 1000) * 1000) === 0)) {\r\n            s.push(radio_names[alt_s[1]], 'hundred');\r\n        }\r\n    } else if (altitude >= 100) {\r\n        s.push(radio_names[alt_s[0]], 'hundred');\r\n    } else {\r\n        return altitude;\r\n    }\r\n\r\n    return s.join(' ');\r\n};\r\n\r\n/**\r\n * Return a portion of a control instruction (as a string) indicating the correct\r\n * direction of a change in assigned altitude or speed.\r\n *\r\n * @function radio_trend\r\n * @param category {string} either 'altitude' or 'speed'\r\n * @param currentValue {number} current altitude/speed of the aircraft\r\n * @param nextValue {number} the altitude/speed being assigned to the aircraft\r\n * @return {string}\r\n */\r\nexport const radio_trend = (category, currentValue, nextValue) => {\r\n    const CATEGORIES = {\r\n        altitude: ['descend and maintain', 'climb and maintain', 'maintain'],\r\n        speed: ['reduce speed to', 'increase speed to', 'maintain present speed of']\r\n    };\r\n\r\n    if (currentValue > nextValue) {\r\n        return CATEGORIES[category][0];\r\n    }\r\n\r\n    if (currentValue < nextValue) {\r\n        return CATEGORIES[category][1];\r\n    }\r\n\r\n    return CATEGORIES[category][2];\r\n};\r\n\r\n/**\r\n *\r\n * @function getCardinalDirection\r\n * @param angle\r\n * @return {string}\r\n */\r\nexport const getCardinalDirection = (angle) => {\r\n    return CARDINAL_DIRECTION[round(angle / tau() * 8)];\r\n};\r\n\r\n/**\r\n * Return a cardinalDirection when provided a heading\r\n *\r\n * @function getRadioCardinalDirectionNameForHeading\r\n * @param  heading {number}\r\n * @return {string}\r\n */\r\nexport const getRadioCardinalDirectionNameForHeading = (heading) => {\r\n    const cardinalDirection = getCardinalDirection(radians_normalize(heading + Math.PI)).toLowerCase();\r\n\r\n    return radio_cardinalDir_names[cardinalDirection];\r\n};\r\n","import { leftPad } from './generalUtilities';\r\nimport { randint } from '../math/core';\r\nimport { REGEX } from '../constants/globalConstants';\r\n\r\n/**\r\n * The highest decimal value allowed for a 4-digit\r\n * octal transponder code\r\n *\r\n * @property MAX_TRANSPONDER_CODE\r\n * @type {number}\r\n * @final\r\n */\r\nconst MAX_TRANSPONDER_CODE = 4095;\r\n\r\n/**\r\n * List of transponder codes that are reserved\r\n *\r\n * This enum should be used only during the generation of\r\n * `AircraftModel` objects.\r\n *\r\n * The codes listed should still be assignable at the\r\n * controler's discretion\r\n *\r\n * Source: https://en.wikipedia.org/wiki/List_of_transponder_codes\r\n *\r\n * @property TRANSPONDER_CODES\r\n * @type {array<object>}\r\n * @final\r\n */\r\nconst TRANSPONDER_CODES = [\r\n    {\r\n        // ICAO\r\n        prefix: null,\r\n        reserved: [\r\n        ]\r\n    },\r\n    {\r\n        // Europe\r\n        prefix: /^([elb])/,\r\n        reserved: [\r\n        ]\r\n    },\r\n    {\r\n        // Canda\r\n        prefix: /^c/,\r\n        reserved: [\r\n        ]\r\n    },\r\n    {\r\n        // Belgium\r\n        prefix: /^eb/,\r\n        reserved: [\r\n            // Assigned for VFR traffic under Flight Information Services (BXL FIC)\r\n            // 0041–0057\r\n            /^00(4[1-7]|5[0-7])$/,\r\n            // For testing stations\r\n            '7777'\r\n        ]\r\n    },\r\n    {\r\n        // Germany\r\n        prefix: /^e[dt]/,\r\n        reserved: [\r\n            // Parachute dropping\r\n            '0025',\r\n            // For testing stations\r\n            '7777'\r\n        ]\r\n    },\r\n    {\r\n        // Netherlands\r\n        prefix: /^eh/,\r\n        reserved: [\r\n            // For testing stations\r\n            '7777'\r\n        ]\r\n    },\r\n    {\r\n        // UK\r\n        prefix: /^eg/,\r\n        reserved: [\r\n            // Parachute drop\r\n            '0033',\r\n            // Sudden military climb out from low-level operations\r\n            '7001',\r\n            // Aerobatic & displays\r\n            '7004'\r\n        ]\r\n    },\r\n    {\r\n        // USA\r\n        prefix: /^k/,\r\n        reserved: [\r\n            // VFR - 12xx\r\n            /^12[0-7][0-7]$/,\r\n            // Reserved for use by SR-71, YF-12, U-2 and B-57, pressure suit flights,\r\n            // and aircraft operations above FL600. And many others\r\n            // 4400–4477\r\n            /^44[0-7]{2}$/,\r\n            // Reserved for use by Continental NORAD Region (CONR)\r\n            // 7501–7577\r\n            /^75(0[1-7]|[1-7][0-7])$/,\r\n            // Reserved for special use by FAA\r\n            // 7601–7607, 7701–7707\r\n            /^7[67]0[1-7]$/,\r\n            // External ARTCC subsets (Discrete codes of blocks only except for first primary\r\n            // block, which is used as the ARTCC's non-discrete code if all discrete codes are assigned)\r\n            // Not reserved as it implies they are useable\r\n            // 7610–7676, 7710–7776\r\n            // /^7[67]([1-6][0-7]|7[1-6])$/,\r\n            // Military & for testing stations\r\n            '7777'\r\n        ]\r\n    },\r\n    // {\r\n    //     // Washington DC\r\n    //     prefix: /^k/,\r\n    //     reserved: [\r\n    //         // Reserved for special use by Potomac TRACON\r\n    //         // 5061–5062\r\n    //         /^506[12]$/\r\n    //     ]\r\n    // },\r\n    {\r\n        // France\r\n        prefix: /^lf/,\r\n        reserved: [\r\n            // VFR\r\n            '7001'\r\n        ]\r\n    },\r\n    {\r\n        // Australia\r\n        prefix: /^y/,\r\n        reserved: [\r\n            // Civil flights engaged in littoral surveillance\r\n            '7615'\r\n        ]\r\n    }\r\n];\r\n\r\n/**\r\n * Gets the array of squawk code objects that match the specifed ICAO airport code\r\n *\r\n * @method _getCodes\r\n * @param icao {string}\r\n * @returns {array}\r\n * @private\r\n */\r\nfunction _getCodes(icao) {\r\n    return TRANSPONDER_CODES.filter((item) => {\r\n        return (item.prefix === null || item.prefix.test(icao)) &&\r\n            item.reserved.length !== 0;\r\n    });\r\n}\r\n\r\n/**\r\n * Helper used to test if the `transponderCode` matches the\r\n * String or RegExp in `against`\r\n *\r\n * @param transponderCode {string}\r\n * @param testAgainst {string|RegExp}\r\n * @private\r\n */\r\nfunction _isMatch(transponderCode, testAgainst) {\r\n    if (testAgainst instanceof RegExp) {\r\n        return testAgainst.test(transponderCode);\r\n    } else if (typeof testAgainst === 'string') {\r\n        return transponderCode === testAgainst;\r\n    }\r\n\r\n    throw new TypeError(\r\n        `Invalid parameter for testAgainst, expected string or RegExp, but got ${typeof testAgainst}`\r\n    );\r\n}\r\n\r\n/**\r\n * Helper used to determine if a given `transponderCode` is reserved\r\n * in the country or region of the specified `icao` airport code\r\n *\r\n * @method _isReserved\r\n * @param icao {string}\r\n * @param transponderCode {string}\r\n * @returns {boolean}\r\n * @private\r\n */\r\nfunction _isReserved(icao, transponderCode) {\r\n    return _getCodes(icao).some((item) => {\r\n        return item.reserved.some((test) => _isMatch(transponderCode, test));\r\n    });\r\n}\r\n\r\n/**\r\n * Helper used to generate a new 4 digit octal transponder code\r\n *\r\n * @returns {string}\r\n */\r\nexport const generateTransponderCode = () => {\r\n    const code = randint(0, MAX_TRANSPONDER_CODE).toString(8);\r\n    return leftPad(code, 4);\r\n};\r\n\r\n/**\r\n * Boolean helper used to determine if a given `transponderCode` is both\r\n * the correct length and an octal number.\r\n *\r\n * @method isValidTransponderCode\r\n * @param transponderCode {string}\r\n * @return {boolean}\r\n */\r\nexport const isValidTransponderCode = (transponderCode) => {\r\n    return REGEX.TRANSPONDER_CODE.test(transponderCode);\r\n};\r\n\r\n/**\r\n * Helper used to determine if a given `transponderCode` is both\r\n * valid and not reserved in the country or region of the\r\n * specified `icao` airport code\r\n *\r\n * @method isDiscreteTransponderCode\r\n * @param icao {string}\r\n * @param transponderCode {string}\r\n * @return {boolean}\r\n */\r\nexport const isDiscreteTransponderCode = (icao, transponderCode) => {\r\n    if (!isValidTransponderCode(transponderCode)) {\r\n        return false;\r\n    }\r\n\r\n    if (transponderCode.endsWith('00')) {\r\n        return false;\r\n    }\r\n\r\n    return !_isReserved(icao, transponderCode);\r\n};\r\n","import _includes from 'lodash/includes';\r\nimport _isNumber from 'lodash/isNumber';\r\nimport _startsWith from 'lodash/startsWith';\r\nimport { tau } from '../math/circle';\r\nimport { round, mod } from '../math/core';\r\nimport { TIME, REGEX } from '../constants/globalConstants';\r\n\r\n/**\r\n * @property DECIMAL_RADIX\r\n * @type {number}\r\n * @final\r\n */\r\nexport const DECIMAL_RADIX = 10;\r\n\r\n// TODO: This should be moved to its own file once it has been filled in a little more\r\n/**\r\n * @property UNIT_CONVERSION_CONSTANTS\r\n * @type {Object}\r\n */\r\nexport const UNIT_CONVERSION_CONSTANTS = {\r\n    /**\r\n    * nautical miles to feet\r\n    *\r\n    * @property NM_FT\r\n    * @type {Number}\r\n    * @final\r\n    */\r\n    NM_FT: 6076.115485564,\r\n    /**\r\n     * nautical mile per kilometer ratio\r\n     *\r\n     * @property NM_KM\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    NM_KM: 1.852,\r\n    /**\r\n     * Meters to feet ratio\r\n     *\r\n     * @property M_FT\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    M_FT: 0.3048,\r\n    /**\r\n     * kilometer per foot ratio\r\n     *\r\n     * @property KM_FT\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    KM_FT: 0.0003048,\r\n    /**\r\n     * knots per m/s ratio\r\n     *\r\n     * @property KN_MS\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    KN_MS: 0.51444444,\r\n    /**\r\n     * Number used to obtain altitude in feet from flight level\r\n     *\r\n     * @property FL_FT\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    FL_FT: 100,\r\n    /**\r\n     * Number used to obtain flight level from altitude in feet\r\n     *\r\n     * @property FT_FL\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    FT_FL: 0.01\r\n};\r\n\r\n// TODO: This should be moved to its own file once it has been filled in a little more\r\n/**\r\n * @property NUMBER_CONSTANTS\r\n * @type {Object}\r\n * @final\r\n */\r\nexport const NUMBER_CONSTANTS = {\r\n    /**\r\n     * Degrees in a circle\r\n     *\r\n     * @property FULL_CIRCLE_DEGREES\r\n     * @type {number}\r\n     * @final\r\n     */\r\n    FULL_CIRCLE_DEGREES: 360\r\n};\r\n\r\n/**\r\n * nautical miles --> kilometers\r\n *\r\n * @function km\r\n * @param nm {number}\r\n * @return {number}\r\n */\r\nexport const km = (nm = 0) => {\r\n    return nm * UNIT_CONVERSION_CONSTANTS.NM_KM;\r\n};\r\n\r\n/**\r\n * kilometers --> nautical miles\r\n *\r\n * @function nm\r\n * @param kilometers {number}\r\n * @return {number}\r\n */\r\nexport const nm = (kilometers = 0) => {\r\n    return kilometers / UNIT_CONVERSION_CONSTANTS.NM_KM;\r\n};\r\n\r\n/**\r\n * meters -> feet\r\n *\r\n * @function m_ft\r\n * @param {number} [meters=0]\r\n * @return {number}\r\n */\r\nexport const m_ft = (meters = 0) => {\r\n    return meters / UNIT_CONVERSION_CONSTANTS.M_FT;\r\n};\r\n\r\n/**\r\n * kilometers --> feet\r\n *\r\n * @function km_ft\r\n * @param kilometers {number}\r\n * @return {number}\r\n */\r\nexport const km_ft = (kilometers = 0) => {\r\n    return kilometers / UNIT_CONVERSION_CONSTANTS.KM_FT;\r\n};\r\n\r\n/**\r\n * feet --> kilometers\r\n *\r\n * @function ft_km\r\n * @param nm {number}\r\n * @return {number}\r\n */\r\nexport const ft_km = (ft = 0) => {\r\n    return ft * UNIT_CONVERSION_CONSTANTS.KM_FT;\r\n};\r\n\r\n/**\r\n * knots to m/s\r\n *\r\n * @function kn_ms\r\n * @param kn {number}\r\n * @return {number}\r\n */\r\nexport const kn_ms = (kn = 0) => {\r\n    return kn * UNIT_CONVERSION_CONSTANTS.KN_MS;\r\n};\r\n\r\n/**\r\n * nautical miles to feet\r\n *\r\n * @function nm_ft\r\n * @param nm {number}\r\n * @return {number}\r\n */\r\nexport const nm_ft = (nm) => {\r\n    return nm * UNIT_CONVERSION_CONSTANTS.NM_FT;\r\n};\r\n\r\n/**\r\n * convert radians to degrees\r\n *\r\n * @function radiansToDegrees\r\n * @param radians {number}\r\n * @return {number}\r\n */\r\nexport const radiansToDegrees = (radians) => {\r\n    return (radians / (tau())) * NUMBER_CONSTANTS.FULL_CIRCLE_DEGREES;\r\n};\r\n\r\n/**\r\n * convert degrees to radians\r\n *\r\n * @function degreesToRadians\r\n * @param degrees {number}\r\n * @return {number}\r\n */\r\nexport const degreesToRadians = (degrees) => {\r\n    return (degrees / NUMBER_CONSTANTS.FULL_CIRCLE_DEGREES) * (tau());\r\n};\r\n\r\n/**\r\n * @function convertMinutesToSeconds\r\n * @param minutes {number}\r\n * @return {number}\r\n */\r\nexport const convertMinutesToSeconds = (minutes) => minutes * 60;\r\n\r\n/**\r\n * Utility function to convert a number to thousands.\r\n *\r\n * Given a flightlevel FL180, this function outputs 18,000\r\n *\r\n * @function covertToThousands\r\n * @param  {number} value\r\n * @return {number}\r\n */\r\nexport const convertToThousands = (value) => parseInt(value, DECIMAL_RADIX) * UNIT_CONVERSION_CONSTANTS.FL_FT;\r\n\r\n/**\r\n * Attempt to convert a string to a number\r\n *\r\n * The implementor will have to handle the case where `parseInt` returns `NaN`\r\n *\r\n * @function convertStringToNumber\r\n * @param  value {string|*}\r\n * @return {number|NaN}\r\n */\r\nexport const convertStringToNumber = (value) => parseInt(value, DECIMAL_RADIX);\r\n\r\n/**\r\n * Convert a heading in radians to a 360 degree string\r\n *\r\n * @function heading_to_string\r\n * @param heading {string}  heading in radians\r\n * @return {string}\r\n */\r\nexport const heading_to_string = (heading) => {\r\n    heading = round(mod(radiansToDegrees(heading), 360)).toString();\r\n\r\n    if (heading === '0') {\r\n        heading = '360';\r\n    }\r\n\r\n    if (heading.length === 1) {\r\n        heading = `00${heading}`;\r\n    }\r\n\r\n    if (heading.length === 2) {\r\n        heading = `0${heading}`;\r\n    }\r\n\r\n    return heading;\r\n};\r\n\r\n/**\r\n * Accept a lat/long coordinate and return a value in decimal notation\r\n *\r\n * Latitude and Longitude numbers may be one of the following forms:\r\n *   Decimal degrees - 'N47.112388112'\r\n *   Decimal minutes - 'N38d38.109808'\r\n *   Decimal seconds - 'N58d27m12.138'\r\n *\r\n * @function parseCoordinate\r\n * @param coordinate {string}\r\n * @return transformedCoordinate {number}\r\n */\r\nexport const parseCoordinate = (coordinate) => {\r\n    const match = REGEX.LAT_LONG.exec(coordinate);\r\n\r\n    // If coordinate already in WGS84 ESPG:4326 form ('39.427618, -75.296011'), just return it as-is\r\n    if (match == null) {\r\n        return coordinate;\r\n    }\r\n\r\n    const degrees = parseFloat(match[2]);\r\n    let minutes = 0;\r\n    let seconds = 0;\r\n\r\n    // Gather minutes/seconds as decimal of a degree, if available\r\n    if (match[5] != null) {\r\n        minutes = (parseFloat(match[5]) * TIME.ONE_MINUTE_IN_HOURS);\r\n\r\n        if (match[8] != null) {\r\n            seconds = (parseFloat(match[8]) * TIME.ONE_SECOND_IN_HOURS);\r\n        }\r\n    }\r\n\r\n    let decimalDegrees = degrees + minutes + seconds;\r\n\r\n    // Apply negative to value if coordinate is \"South\" or \"West\"\r\n    if (REGEX.SW.test(match[1])) {\r\n        decimalDegrees *= -1;\r\n    }\r\n\r\n    return decimalDegrees;\r\n};\r\n\r\n/**\r\n * Accept a string elevation and return a number representing elevation in ft.\r\n *\r\n * @function parseElevation\r\n * @param elevation {string}    ex: 13.4ft, 3m, 5ft\r\n * @return {number}             elevation in feet\r\n */\r\nexport const parseElevation = (elevation) => {\r\n    // TODO: move to master REGEX constant\r\n    // this regex will catch the following: `-`, `m`, `ft`, `Infinity`, and is used to extract a number\r\n    // from a string containing these symbols.\r\n    const REGEX = /(-)|(m|ft|Infinity)/gi;\r\n\r\n    // if its a number, we're done here.\r\n    // This will catch whole numbers, floats, Infinity and -Infinity.\r\n    // This checks if strings are given will skip the regex and exit early\r\n    // Also stops the function from returning NaN\r\n    if (_isNumber(elevation) || elevation === 'Infinity' || elevation === '-Infinity') {\r\n        return parseFloat(elevation);\r\n    }\r\n\r\n    let parsedElevation = elevation.replace(REGEX, '');\r\n    const elevationUnit = elevation.match(REGEX);\r\n\r\n    // if its in meters, convert it to feet\r\n    if (_includes(elevationUnit, 'm')) {\r\n        parsedElevation = m_ft(parsedElevation);\r\n    }\r\n\r\n    // if it came in as a negative number,return it as a negative number\r\n    if (_startsWith(elevation, '-')) {\r\n        parsedElevation *= -1;\r\n    }\r\n\r\n    return parseFloat(parsedElevation);\r\n};\r\n","import _isArray from 'lodash/isArray';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport _isObject from 'lodash/isObject';\r\n\r\n/**\r\n * This will return true if it is not an object or it is empty\r\n *\r\n * @funtion isEmptyOrNotObject\r\n * @param value {*}\r\n * @return {boolean}\r\n */\r\nexport const isEmptyOrNotObject = (value) => {\r\n    return !_isObject(value) || _isEmpty(value);\r\n};\r\n\r\n/**\r\n * This will return true if it is not an array or it is empty\r\n *\r\n * @funtion isEmptyOrNotArray\r\n * @param value {*}\r\n * @return {boolean}\r\n */\r\nexport const isEmptyOrNotArray = (value) => {\r\n    return !_isArray(value) || _isEmpty(value);\r\n};\r\n"]}